{"hapi":{"name":"hapi","versions":[{"name":"18.4.0","branch":"master","license":"BSD","node":" 12, 10"},{"name":"18.4.0","branch":"v18-commercial","license":"Commercial","node":"12, 10, 8"},{"name":"17.9.1","branch":"v17-commercial","license":"Commercial","node":"12, 10, 8"},{"name":"16.8.1","branch":"v16-commercial","license":"Commercial","node":"10, 8, 6"}],"versionsArray":["18.4.0","16.8.1","17.9.1","18.4.0"],"18.4.0":{"menu":"- [encode()](#encodebuffer)\n- [decode()](#decodebuffer)\n- [Encoder](#encoder)\n- [Decoder](#decoder)","api":"<h3>\n<a id=\"encodebuffer\" class=\"anchor\" href=\"#encodebuffer\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>encode(buffer)</h3>\n<p>Base64 encode the buffer and return it as a new Buffer.</p>\n<h3>\n<a id=\"decodebuffer\" class=\"anchor\" href=\"#decodebuffer\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>decode(buffer)</h3>\n<p>Base64 decode the buffer and return the result as a new buffer.</p>\n<h3>\n<a id=\"encoder\" class=\"anchor\" href=\"#encoder\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Encoder</h3>\n<p>Transform stream that base64 encodes each chunk of the stream.</p>\n<p>Example:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">'</span>use strict<span class=\"pl-pds\">'</span></span>;\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Fs</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>fs<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">B64</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b64<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">stream</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Fs</span>.<span class=\"pl-en\">createReadStream</span>(<span class=\"pl-s\"><span class=\"pl-pds\">`</span><span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-c1\">__dirname</span><span class=\"pl-pse\">}</span></span>/package.json<span class=\"pl-pds\">`</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">encoder</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">B64.Encoder</span>();\n\n<span class=\"pl-smi\">stream</span>.<span class=\"pl-en\">pipe</span>(encoder).<span class=\"pl-en\">pipe</span>(<span class=\"pl-c1\">process</span>.<span class=\"pl-smi\">stdout</span>);</pre></div>\n<h3>\n<a id=\"decoder\" class=\"anchor\" href=\"#decoder\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Decoder</h3>\n<p>Transform stream that base64 decodes each chunk of the stream.</p>\n<p>Example:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">'</span>use strict<span class=\"pl-pds\">'</span></span>;\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Fs</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>fs<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">B64</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b64<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">stream</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Fs</span>.<span class=\"pl-en\">createReadStream</span>(<span class=\"pl-s\"><span class=\"pl-pds\">`</span><span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-c1\">__dirname</span><span class=\"pl-pse\">}</span></span>/encodedfile.b64<span class=\"pl-pds\">`</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">decoder</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">B64.Decoder</span>();\n\n<span class=\"pl-smi\">stream</span>.<span class=\"pl-en\">pipe</span>(decoder).<span class=\"pl-en\">pipe</span>(<span class=\"pl-c1\">process</span>.<span class=\"pl-smi\">stdout</span>);</pre></div>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"},"16.8.1":{"menu":"- [encode()](#encodebuffer)\n- [decode()](#decodebuffer)\n- [Encoder](#encoder)\n- [Decoder](#decoder)","api":"<h3>\n<a id=\"encodebuffer\" class=\"anchor\" href=\"#encodebuffer\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>encode(buffer)</h3>\n<p>Base64 encode the buffer and return it as a new Buffer.</p>\n<h3>\n<a id=\"decodebuffer\" class=\"anchor\" href=\"#decodebuffer\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>decode(buffer)</h3>\n<p>Base64 decode the buffer and return the result as a new buffer.</p>\n<h3>\n<a id=\"encoder\" class=\"anchor\" href=\"#encoder\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Encoder</h3>\n<p>Transform stream that base64 encodes each chunk of the stream.</p>\n<p>Example:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">'</span>use strict<span class=\"pl-pds\">'</span></span>;\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Fs</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>fs<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">B64</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b64<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">stream</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Fs</span>.<span class=\"pl-en\">createReadStream</span>(<span class=\"pl-s\"><span class=\"pl-pds\">`</span><span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-c1\">__dirname</span><span class=\"pl-pse\">}</span></span>/package.json<span class=\"pl-pds\">`</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">encoder</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">B64.Encoder</span>();\n\n<span class=\"pl-smi\">stream</span>.<span class=\"pl-en\">pipe</span>(encoder).<span class=\"pl-en\">pipe</span>(<span class=\"pl-c1\">process</span>.<span class=\"pl-smi\">stdout</span>);</pre></div>\n<h3>\n<a id=\"decoder\" class=\"anchor\" href=\"#decoder\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Decoder</h3>\n<p>Transform stream that base64 decodes each chunk of the stream.</p>\n<p>Example:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">'</span>use strict<span class=\"pl-pds\">'</span></span>;\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Fs</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>fs<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">B64</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b64<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">stream</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Fs</span>.<span class=\"pl-en\">createReadStream</span>(<span class=\"pl-s\"><span class=\"pl-pds\">`</span><span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-c1\">__dirname</span><span class=\"pl-pse\">}</span></span>/encodedfile.b64<span class=\"pl-pds\">`</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">decoder</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">B64.Decoder</span>();\n\n<span class=\"pl-smi\">stream</span>.<span class=\"pl-en\">pipe</span>(decoder).<span class=\"pl-en\">pipe</span>(<span class=\"pl-c1\">process</span>.<span class=\"pl-smi\">stdout</span>);</pre></div>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"},"17.9.1":{"menu":"- [encode()](#encodebuffer)\n- [decode()](#decodebuffer)\n- [Encoder](#encoder)\n- [Decoder](#decoder)","api":"<h3>\n<a id=\"encodebuffer\" class=\"anchor\" href=\"#encodebuffer\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>encode(buffer)</h3>\n<p>Base64 encode the buffer and return it as a new Buffer.</p>\n<h3>\n<a id=\"decodebuffer\" class=\"anchor\" href=\"#decodebuffer\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>decode(buffer)</h3>\n<p>Base64 decode the buffer and return the result as a new buffer.</p>\n<h3>\n<a id=\"encoder\" class=\"anchor\" href=\"#encoder\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Encoder</h3>\n<p>Transform stream that base64 encodes each chunk of the stream.</p>\n<p>Example:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">'</span>use strict<span class=\"pl-pds\">'</span></span>;\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Fs</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>fs<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">B64</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b64<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">stream</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Fs</span>.<span class=\"pl-en\">createReadStream</span>(<span class=\"pl-s\"><span class=\"pl-pds\">`</span><span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-c1\">__dirname</span><span class=\"pl-pse\">}</span></span>/package.json<span class=\"pl-pds\">`</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">encoder</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">B64.Encoder</span>();\n\n<span class=\"pl-smi\">stream</span>.<span class=\"pl-en\">pipe</span>(encoder).<span class=\"pl-en\">pipe</span>(<span class=\"pl-c1\">process</span>.<span class=\"pl-smi\">stdout</span>);</pre></div>\n<h3>\n<a id=\"decoder\" class=\"anchor\" href=\"#decoder\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Decoder</h3>\n<p>Transform stream that base64 decodes each chunk of the stream.</p>\n<p>Example:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">'</span>use strict<span class=\"pl-pds\">'</span></span>;\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Fs</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>fs<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">B64</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b64<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">stream</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Fs</span>.<span class=\"pl-en\">createReadStream</span>(<span class=\"pl-s\"><span class=\"pl-pds\">`</span><span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-c1\">__dirname</span><span class=\"pl-pse\">}</span></span>/encodedfile.b64<span class=\"pl-pds\">`</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">decoder</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">B64.Decoder</span>();\n\n<span class=\"pl-smi\">stream</span>.<span class=\"pl-en\">pipe</span>(decoder).<span class=\"pl-en\">pipe</span>(<span class=\"pl-c1\">process</span>.<span class=\"pl-smi\">stdout</span>);</pre></div>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"}},"accept":{"name":"accept","versions":[{"name":"4.0.0","branch":"master","license":"BSD","node":" 12, 10"},{"name":"3.2.3","branch":"v3","license":"BSD","node":" 12, 10, 8"},{"name":"2.2.2","branch":"v2-commercial","license":"Commercial","node":" 10, 8, 6"}],"versionsArray":["4.0.0","2.2.2","3.2.3"],"4.0.0":{"menu":"- [Methods](#methods)\n  - [`charset()`](#charsetcharsetheader-preferences)\n  - [`charsets()`](#charsetscharsetheader)\n  - [`encoding()`](#encodingencodingheader-preferences)\n  - [`encodings()`](#encodingsencodingheader)\n  - [`language()`](#languagelanguageheader-preferences)\n  - [`languages()`](#languageslanguageheader)\n  - [`mediaType()`](#mediatypemediatypeheader-preferences)\n  - [`mediaTypes()`](#mediatypesmediatypeheader)\n  - [`parseAll()`](#parseallheaders)\n- [Q Weightings](#q-weightings)\n- [Encodings](#encodings)\n  - [Preferences](#preferences)\n  - [Identity](#identity)","api":"<h2>\n<a id=\"methods\" class=\"anchor\" href=\"#methods\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Methods</h2>\n<h3>\n<a id=\"charsetcharsetheader-preferences\" class=\"anchor\" href=\"#charsetcharsetheader-preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>charset(charsetHeader, [preferences])</code>\n</h3>\n<p>Given a string of acceptable charsets from a HTTP request Accept-Charset header, and an optional array of charset preferences, it will return a string indicating the best charset option that can be used in the HTTP response.  This takes into account any weighting parameters given in the header for ordering and exclusion.</p>\n<pre><code>const charset = Accept.charsets(\"iso-8859-5, unicode-1-1;q=0.8\"); // charset === \"iso-8859-5\"\nconst charset = Accept.charsets(\"iso-8859-5, unicode-1-1;q=0.8\", [\"unicode-1-1\"]); // charset === \"unicode-1-1\"\n</code></pre>\n<h3>\n<a id=\"charsetscharsetheader\" class=\"anchor\" href=\"#charsetscharsetheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>charsets(charsetHeader)</code>\n</h3>\n<p>Given a string of acceptable charsets from a HTTP request Accept-Charset header it will return an array of strings indicating the possible charset options that can be used in the HTTP response, in order from most preferred to least as determined by the <a href=\"#weightings\">q weightings</a></p>\n<pre><code>const charsets = Accept.charsets(\"iso-8859-5, unicode-1-1;q=0.8\"); // charsets === [\"iso-8859-5\", \"unicode-1-1\"]\nconst charsets = Accept.charsets(\"iso-8859-5;q=0.5, unicode-1-1;q=0.8\"); // charsets === [\"unicode-1-1\", \"iso-8859-5\"]\n</code></pre>\n<h3>\n<a id=\"encodingencodingheader-preferences\" class=\"anchor\" href=\"#encodingencodingheader-preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>encoding(encodingHeader, [preferences])</code>\n</h3>\n<p>Given a string of acceptable encodings from a HTTP request Accept-Encoding header, and optionally an array of preferences, it will return a string with the best fit encoding that should be used in the HTTP response.  If no preferences array parameter is given the highest weighted or first ordered encoding is returned.  If weightings are given in the header (using the q parameter) they are taken into account and the highest weighted match is returned.  If a preferences array is given the best match from the array is returned.  For more information about how the preferences array works see the section below on <a href=\"#preferences\">Preferences</a>.</p>\n<pre><code>const encoding = Accept.encoding(\"gzip, deflate, sdch\"); // encoding === \"gzip\"\nconst encoding = Accept.encoding(\"gzip, deflate, sdch\", [\"deflate\", \"identity\"]); // encoding === \"delate\"\n</code></pre>\n<h3>\n<a id=\"encodingsencodingheader\" class=\"anchor\" href=\"#encodingsencodingheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>encodings(encodingHeader)</code>\n</h3>\n<p>Given a string of acceptable encodings from a HTTP request Accept-Encoding header it will return an array of strings indicating the possible encoding options that can be used in the HTTP response, in order from most preferred to least as determined by the <a href=\"#weightings\">q weightings</a></p>\n<pre><code>const encodings = Accept.encodings(\"compress;q=0.5, gzip;q=1.0\"); // encodings === [\"gzip\", \"compress\", \"identity\"]\n</code></pre>\n<h3>\n<a id=\"languagelanguageheader-preferences\" class=\"anchor\" href=\"#languagelanguageheader-preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>language(languageHeader, [preferences])</code>\n</h3>\n<p>Given a string of acceptable languages from a HTTP request Accept-Language header, and an optional array of language preferences, it will return a string indicating the best language that can be used in the HTTP response.  It respects the <a href=\"#weightings\">q weightings</a> of the languages in the header, returning the matched preference with the highest weighting.  The case of the preference does not have to match the case of the option in the header.</p>\n<pre><code>const language = Accept.language(\"en;q=0.7, en-GB;q=0.8\"); // language === \"en-GB\"\n\n// the case of the preference \"en-gb\" does not match the case of the header option \"en-GB\"\nconst language = Accept.language(\"en;q=0.7, en-GB;q=0.8\", [\"en-gb\"]); // language === \"en-GB\"\n</code></pre>\n<h3>\n<a id=\"languageslanguageheader\" class=\"anchor\" href=\"#languageslanguageheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>languages(languageHeader)</code>\n</h3>\n<p>Given a string of acceptable languages from a HTTP request Accept-Language header it will return an array of strings indicating the possible languages that can be used in the HTTP response, in order from most preferred to least as determined by the <a href=\"#weightings\">q weightings</a>.</p>\n<pre><code>const languages = Accept.languages(\"da, en;q=0.7, en-GB;q=0.8\"); // languages === [\"da\", \"en-GB\", \"en\"]\n</code></pre>\n<h3>\n<a id=\"mediatypemediatypeheader-preferences\" class=\"anchor\" href=\"#mediatypemediatypeheader-preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>mediaType(mediaTypeHeader, [preferences])</code>\n</h3>\n<p>Given a string of acceptable media types from a HTTP request Accept header, and optionally an array of preferences, it will return a string with the best fit media type that should be used in the HTTP response.  If no preferences array parameter is given the highest weighted or first ordered media type is returned.  If weightings are given in the header (using the q parameter) they are taken into account and the highest weighted match is returned.  If a preferences array is given the best match from the array is returned.  For more information about how the preferences array works see the section below on <a href=\"#preferences\">Preferences</a>.</p>\n<pre><code>const mediaType = Accept.mediaType(\"text/plain, application/json;q=0.5, text/html, */*;q=0.1\");\n// mediaType === \"text/plain\"\n\nconst mediaType = Accept.mediaType(\"text/plain, application/json;q=0.5, text/html, */*;q=0.1\", [\"text/html\", \"application/json\"]);\n// mediaType === \"text/html\"\n</code></pre>\n<h3>\n<a id=\"mediatypesmediatypeheader\" class=\"anchor\" href=\"#mediatypesmediatypeheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>mediaTypes(mediaTypeHeader)</code>\n</h3>\n<p>Given a string of acceptable media types from a HTTP request Accept header it will return an array of strings indicating the possible media types that can be used in the HTTP response, in order from most preferred to least as determined by the <a href=\"#weightings\">q weightings</a>.</p>\n<pre><code>const mediaTypes = Accept.mediaTypes(\"text/plain, application/json;q=0.5, text/html, */*;q=0.1\");\n// mediaTypes === [\"text/plain\", \"text/html\", \"application/json\", \"*/*\"]\n</code></pre>\n<h3>\n<a id=\"parseallheaders\" class=\"anchor\" href=\"#parseallheaders\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>parseAll(headers)</code>\n</h3>\n<p>Given the headers from a Hapi request object, <code>parseAll()</code> will parse all of the Accepts-* headers it currently understands into an object.</p>\n<pre><code>const all = Accept.parseAll(request.headers);\n// all === {\n//    \"charsets\": [\"iso-8859-5\", \"unicode-1-1\"],\n//    \"encodings\": [\"gzip\", \"compress\", \"identity\"],\n//    \"languages\": [\"da\", \"en-gb\", \"en\"],\n//    \"mediaTypes\": [\"text/plain\", \"text/html\", \"application/json\", \"*/*\"]\n// }\n</code></pre>\n<h2>\n<a id=\"q-weightings\" class=\"anchor\" href=\"#q-weightings\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Q Weightings</h2>\n<p>The Accept-* headers may optionally include preferential weighting to indicate which options are best for the requester.  It does this with <code>q</code> parameters in the headers (which stands for quality).  These q weightings must be in the range of 0 to 1, with a max of three decimal places.  The weightings are used to order the data given in the header, with the highest number being most preferential.  Anything with a q rating of 0 is not allowed at all.</p>\n<p>If a particular Accept method allows a <code>preferences</code> array parameter, such as <code>encoding()</code>, the weightings in the header affect which preference will be returned.  Your preferences are matched with the weighting in mind, and the highest weighted option will be returned, no matter what order you list your preferences.  The header weighting is most important.</p>\n<pre><code>const encoding = Accept.encoding(\"gzip;q=1.0, identity;q=0.5\", [\"identity\", \"gzip\"]);\n// encoding === \"gzip\"\n// despite identity getting listed first in the preferences array, gzip has a higher q weighting, so it is returned.\n</code></pre>\n<h2>\n<a id=\"encodings\" class=\"anchor\" href=\"#encodings\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Encodings</h2>\n<h3>\n<a id=\"preferences\" class=\"anchor\" href=\"#preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Preferences</h3>\n<p>If you are looking for a set of specific encodings you can pass that in as an array to the <code>preferences</code> parameter.  Your preferences <strong>must</strong> be an array.  In the preferences array you specify a list of possible encodings you want to look for, in order of preference.  Accept will return back the most preferential option it can find, if any match.</p>\n<pre><code>const encoding = Accept.encoding(\"gzip, deflate, sdch\", [\"deflate\", \"identity\"]); // encoding === \"delate\"\n</code></pre>\n<p>Your preferences are evaluated without any case sensitivity, to better match what the browser sends.  This means that \"gZip\" will match a preference of [\"gzip\"].</p>\n<pre><code>const encoding = Accept.encoding(\"gZip, deflate, sdch\", [\"gzip\"]); // encoding === \"gzip\"\n</code></pre>\n<p>If you supply a preferences array, and no match is found, <code>encoding()</code> will return an empty string, rather than an encoding from the header.</p>\n<pre><code>const encoding = Accept.encoding(\"gZip\", [\"deflate\"]); // encoding === \"\"\n</code></pre>\n<p>If the encoding header is the special \"*\" that indicates the browser will accept any encoding.  In that case the top preference from your supplied options will be returned.</p>\n<pre><code>const encoding = Accept.encoding(\"*\", [\"gzip\"]); // encoding === \"gzip\"\n</code></pre>\n<h3>\n<a id=\"identity\" class=\"anchor\" href=\"#identity\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Identity</h3>\n<p>When you ask Accept for a list of all the supported encodings from the request, using the <code>encodings()</code> function (plural, not singular), you will be returned an array of strings in order from most preferred to least as determined by the encoding weight.</p>\n<pre><code>const encodings = Accept.encodings(\"compress;q=0.5, gzip;q=1.0\"); // encodings === [\"gzip\", \"compress\", \"identity\"]\n</code></pre>\n<p>You'll notice that <code>identity</code> was returned in the array, even though it's not in the encoding header.  Identity is always an option for encoding, unless specifically excluded in the header using a weighting of zero.  Identity just means respond with no special encoding.</p>\n","intro":"## Introduction\n\nAccept helps to answer the question of how best to respond to a HTTP request, based on the requesting browser's capabilities.  Accept will parse the headers of a HTTP request and tell you what the preferred encoding is, what language should be used, and what charsets and media types are accepted.\n\nAdditional details about Accept headers and content negotiation can be found in [IETF RFC 7231, Section 5.3](https://tools.ietf.org/html/rfc7231#section-5.3).\n","example":"","usage":"","faq":"","license":"BSD"},"2.2.2":{"menu":"  - [`charset()`](#charsetcharsetheader-preferences)\n  - [`charsets()`](#charsetscharsetheader)\n  - [`encoding()`](#encodingencodingheader-preferences)\n  - [`encodings()`](#encodingsencodingheader)\n  - [`language()`](#languagelanguageheader-preferences)\n  - [`languages()`](#languageslanguageheader)\n  - [`mediaTypes()`](#mediatypesmediatypeheader)\n  - [`parseAll()`](#parseallheaders)\n- [Q Weightings](#q-weightings)\n- [Encodings](#encodings)\n  - [Preferences](#preferences)\n  - [Identity](#identity)","api":"<h3>\n<a id=\"charsetcharsetheader-preferences\" class=\"anchor\" href=\"#charsetcharsetheader-preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>charset(charsetHeader, [preferences])</code>\n</h3>\n<p>Given a string of acceptable charsets from a HTTP request Accept-Charset header, and an optional array of charset preferences, it will return a string indicating the best charset option that can be used in the HTTP response.  This takes into account any weighting parameters given in the header for ordering and exclusion.</p>\n<pre><code>const charset = Accept.charsets(\"iso-8859-5, unicode-1-1;q=0.8\"); // charset === \"iso-8859-5\"\nconst charset = Accept.charsets(\"iso-8859-5, unicode-1-1;q=0.8\", [\"unicode-1-1\"]); // charset === \"unicode-1-1\"\n</code></pre>\n<h3>\n<a id=\"charsetscharsetheader\" class=\"anchor\" href=\"#charsetscharsetheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>charsets(charsetHeader)</code>\n</h3>\n<p>Given a string of acceptable charsets from a HTTP request Accept-Charset header it will return an array of strings indicating the possible charset options that can be used in the HTTP response, in order from most preferred to least as determined by the <a href=\"#weightings\">q weightings</a></p>\n<pre><code>const charsets = Accept.charsets(\"iso-8859-5, unicode-1-1;q=0.8\"); // charsets === [\"iso-8859-5\", \"unicode-1-1\"]\nconst charsets = Accept.charsets(\"iso-8859-5;q=0.5, unicode-1-1;q=0.8\"); // charsets === [\"unicode-1-1\", \"iso-8859-5\"]\n</code></pre>\n<h3>\n<a id=\"encodingencodingheader-preferences\" class=\"anchor\" href=\"#encodingencodingheader-preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>encoding(encodingHeader, [preferences])</code>\n</h3>\n<p>Given a string of acceptable encodings from a HTTP request Accept-Encoding header, and optionally an array of preferences, it will return a string with the best fit encoding that should be used in the HTTP response.  If no preferences array parameter is given the highest weighted or first ordered encoding is returned.  If weightings are given in the header (using the q parameter) they are taken into account and the highest weighted match is returned.  If a preferences array is given the best match from the array is returned.  For more information about how the preferences array works see the section below on <a href=\"#preferences\">Preferences</a>.</p>\n<pre><code>const encoding = Accept.encoding(\"gzip, deflate, sdch\"); // encoding === \"gzip\"\nconst encoding = Accept.encoding(\"gzip, deflate, sdch\", [\"deflate\", \"identity\"]); // encoding === \"delate\"\n</code></pre>\n<h3>\n<a id=\"encodingsencodingheader\" class=\"anchor\" href=\"#encodingsencodingheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>encodings(encodingHeader)</code>\n</h3>\n<p>Given a string of acceptable encodings from a HTTP request Accept-Encoding header it will return an array of strings indicating the possible encoding options that can be used in the HTTP response, in order from most preferred to least as determined by the <a href=\"#weightings\">q weightings</a></p>\n<pre><code>const encodings = Accept.encodings(\"compress;q=0.5, gzip;q=1.0\"); // encodings === [\"gzip\", \"compress\", \"identity\"]\n</code></pre>\n<h3>\n<a id=\"languagelanguageheader-preferences\" class=\"anchor\" href=\"#languagelanguageheader-preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>language(languageHeader, [preferences])</code>\n</h3>\n<p>Given a string of acceptable languages from a HTTP request Accept-Language header, and an optional array of language preferences, it will return a string indicating the best language that can be used in the HTTP response.  It respects the <a href=\"#weightings\">q weightings</a> of the languages in the header, returning the matched preference with the highest weighting.  The case of the preference does not have to match the case of the option in the header.</p>\n<pre><code>const language = Accept.language(\"en;q=0.7, en-GB;q=0.8\"); // language === \"en-GB\"\n\n// the case of the preference \"en-gb\" does not match the case of the header option \"en-GB\"\nconst language = Accept.language(\"en;q=0.7, en-GB;q=0.8\", [\"en-gb\"]); // language === \"en-GB\"\n</code></pre>\n<h3>\n<a id=\"languageslanguageheader\" class=\"anchor\" href=\"#languageslanguageheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>languages(languageHeader)</code>\n</h3>\n<p>Given a string of acceptable languages from a HTTP request Accept-Language header it will return an array of strings indicating the possible languages that can be used in the HTTP response, in order from most preferred to least as determined by the <a href=\"#weightings\">q weightings</a>.</p>\n<pre><code>const languages = Accept.languages(\"da, en;q=0.7, en-GB;q=0.8\"); // languages === [\"da\", \"en-GB\", \"en\"]\n</code></pre>\n<h3>\n<a id=\"mediatypesmediatypeheader\" class=\"anchor\" href=\"#mediatypesmediatypeheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>mediaTypes(mediaTypeHeader)</code>\n</h3>\n<p>Given a string of acceptable media types from a HTTP request Accept header it will return an array of strings indicating the possible media types that can be used in the HTTP response, in order from most preferred to least as determined by the <a href=\"#weightings\">q weightings</a>.</p>\n<pre><code>const mediaTypes = Accept.mediaTypes(\"text/plain, application/json;q=0.5, text/html, */*;q=0.1\");\n// mediaTypes === [\"text/plain\", \"text/html\", \"application/json\", \"*/*\"]\n</code></pre>\n<h3>\n<a id=\"parseallheaders\" class=\"anchor\" href=\"#parseallheaders\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>parseAll(headers)</code>\n</h3>\n<p>Given the headers from a Hapi request object, <code>parseAll()</code> will parse all of the Accepts-* headers it currently understands into an object.</p>\n<pre><code>const all = Accept.parseAll(request.headers);\n// all === {\n//    \"charsets\": [\"iso-8859-5\", \"unicode-1-1\"],\n//    \"encodings\": [\"gzip\", \"compress\", \"identity\"],\n//    \"languages\": [\"da\", \"en-gb\", \"en\"],\n//    \"mediaTypes\": [\"text/plain\", \"text/html\", \"application/json\", \"*/*\"]\n// }\n</code></pre>\n<h2>\n<a id=\"q-weightings\" class=\"anchor\" href=\"#q-weightings\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Q Weightings</h2>\n<p>The Accept-* headers may optionally include preferential weighting to indicate which options are best for the requester.  It does this with <code>q</code> parameters in the headers (which stands for quality).  These q weightings must be in the range of 0 to 1, with a max of three decimal places.  The weightings are used to order the data given in the header, with the highest number being most preferential.  Anything with a q rating of 0 is not allowed at all.</p>\n<p>If a particular Accept method allows a <code>preferences</code> array parameter, such as <code>encoding()</code>, the weightings in the header affect which preference will be returned.  Your preferences are matched with the weighting in mind, and the highest weighted option will be returned, no matter what order you list your preferences.  The header weighting is most important.</p>\n<pre><code>const encoding = Accept.encoding(\"gzip;q=1.0, identity;q=0.5\", [\"identity\", \"gzip\"]);\n// encoding === \"gzip\"\n// despite identity getting listed first in the preferences array, gzip has a higher q weighting, so it is returned.\n</code></pre>\n<h2>\n<a id=\"encodings\" class=\"anchor\" href=\"#encodings\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Encodings</h2>\n<h3>\n<a id=\"preferences\" class=\"anchor\" href=\"#preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Preferences</h3>\n<p>If you are looking for a set of specific encodings you can pass that in as an array to the <code>preferences</code> parameter.  Your preferences <strong>must</strong> be an array.  In the preferences array you specify a list of possible encodings you want to look for, in order of preference.  Accept will return back the most preferential option it can find, if any match.</p>\n<pre><code>const encoding = Accept.encoding(\"gzip, deflate, sdch\", [\"deflate\", \"identity\"]); // encoding === \"delate\"\n</code></pre>\n<p>Your preferences are evaluated without any case sensitivity, to better match what the browser sends.  This means that \"gZip\" will match a preference of [\"gzip\"].</p>\n<pre><code>const encoding = Accept.encoding(\"gZip, deflate, sdch\", [\"gzip\"]); // encoding === \"gzip\"\n</code></pre>\n<p>If you supply a preferences array, and no match is found, <code>encoding()</code> will return an empty string, rather than an encoding from the header.</p>\n<pre><code>const encoding = Accept.encoding(\"gZip\", [\"deflate\"]); // encoding === \"\"\n</code></pre>\n<p>If the encoding header is the special \"*\" that indicates the browser will accept any encoding.  In that case the top preference from your supplied options will be returned.</p>\n<pre><code>const encoding = Accept.encoding(\"*\", [\"gzip\"]); // encoding === \"gzip\"\n</code></pre>\n<h3>\n<a id=\"identity\" class=\"anchor\" href=\"#identity\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Identity</h3>\n<p>When you ask Accept for a list of all the supported encodings from the request, using the <code>encodings()</code> function (plural, not singular), you will be returned an array of strings in order from most preferred to least as determined by the encoding weight.</p>\n<pre><code>const encodings = Accept.encodings(\"compress;q=0.5, gzip;q=1.0\"); // encodings === [\"gzip\", \"compress\", \"identity\"]\n</code></pre>\n<p>You'll notice that <code>identity</code> was returned in the array, even though it's not in the encoding header.  Identity is always an option for encoding, unless specifically excluded in the header using a weighting of zero.  Identity just means respond with no special encoding.</p>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"},"3.2.3":{"menu":"  - [`charset()`](#charsetcharsetheader-preferences)\n  - [`charsets()`](#charsetscharsetheader)\n  - [`encoding()`](#encodingencodingheader-preferences)\n  - [`encodings()`](#encodingsencodingheader)\n  - [`language()`](#languagelanguageheader-preferences)\n  - [`languages()`](#languageslanguageheader)\n  - [`mediaType()`](#mediatypemediatypeheader-preferences)\n  - [`mediaTypes()`](#mediatypesmediatypeheader)\n  - [`parseAll()`](#parseallheaders)\n- [Q Weightings](#q-weightings)\n- [Encodings](#encodings)\n  - [Preferences](#preferences)\n  - [Identity](#identity)","api":"<h3>\n<a id=\"charsetcharsetheader-preferences\" class=\"anchor\" href=\"#charsetcharsetheader-preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>charset(charsetHeader, [preferences])</code>\n</h3>\n<p>Given a string of acceptable charsets from a HTTP request Accept-Charset header, and an optional array of charset preferences, it will return a string indicating the best charset option that can be used in the HTTP response.  This takes into account any weighting parameters given in the header for ordering and exclusion.</p>\n<pre><code>const charset = Accept.charsets(\"iso-8859-5, unicode-1-1;q=0.8\"); // charset === \"iso-8859-5\"\nconst charset = Accept.charsets(\"iso-8859-5, unicode-1-1;q=0.8\", [\"unicode-1-1\"]); // charset === \"unicode-1-1\"\n</code></pre>\n<h3>\n<a id=\"charsetscharsetheader\" class=\"anchor\" href=\"#charsetscharsetheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>charsets(charsetHeader)</code>\n</h3>\n<p>Given a string of acceptable charsets from a HTTP request Accept-Charset header it will return an array of strings indicating the possible charset options that can be used in the HTTP response, in order from most preferred to least as determined by the <a href=\"#weightings\">q weightings</a></p>\n<pre><code>const charsets = Accept.charsets(\"iso-8859-5, unicode-1-1;q=0.8\"); // charsets === [\"iso-8859-5\", \"unicode-1-1\"]\nconst charsets = Accept.charsets(\"iso-8859-5;q=0.5, unicode-1-1;q=0.8\"); // charsets === [\"unicode-1-1\", \"iso-8859-5\"]\n</code></pre>\n<h3>\n<a id=\"encodingencodingheader-preferences\" class=\"anchor\" href=\"#encodingencodingheader-preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>encoding(encodingHeader, [preferences])</code>\n</h3>\n<p>Given a string of acceptable encodings from a HTTP request Accept-Encoding header, and optionally an array of preferences, it will return a string with the best fit encoding that should be used in the HTTP response.  If no preferences array parameter is given the highest weighted or first ordered encoding is returned.  If weightings are given in the header (using the q parameter) they are taken into account and the highest weighted match is returned.  If a preferences array is given the best match from the array is returned.  For more information about how the preferences array works see the section below on <a href=\"#preferences\">Preferences</a>.</p>\n<pre><code>const encoding = Accept.encoding(\"gzip, deflate, sdch\"); // encoding === \"gzip\"\nconst encoding = Accept.encoding(\"gzip, deflate, sdch\", [\"deflate\", \"identity\"]); // encoding === \"delate\"\n</code></pre>\n<h3>\n<a id=\"encodingsencodingheader\" class=\"anchor\" href=\"#encodingsencodingheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>encodings(encodingHeader)</code>\n</h3>\n<p>Given a string of acceptable encodings from a HTTP request Accept-Encoding header it will return an array of strings indicating the possible encoding options that can be used in the HTTP response, in order from most preferred to least as determined by the <a href=\"#weightings\">q weightings</a></p>\n<pre><code>const encodings = Accept.encodings(\"compress;q=0.5, gzip;q=1.0\"); // encodings === [\"gzip\", \"compress\", \"identity\"]\n</code></pre>\n<h3>\n<a id=\"languagelanguageheader-preferences\" class=\"anchor\" href=\"#languagelanguageheader-preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>language(languageHeader, [preferences])</code>\n</h3>\n<p>Given a string of acceptable languages from a HTTP request Accept-Language header, and an optional array of language preferences, it will return a string indicating the best language that can be used in the HTTP response.  It respects the <a href=\"#weightings\">q weightings</a> of the languages in the header, returning the matched preference with the highest weighting.  The case of the preference does not have to match the case of the option in the header.</p>\n<pre><code>const language = Accept.language(\"en;q=0.7, en-GB;q=0.8\"); // language === \"en-GB\"\n\n// the case of the preference \"en-gb\" does not match the case of the header option \"en-GB\"\nconst language = Accept.language(\"en;q=0.7, en-GB;q=0.8\", [\"en-gb\"]); // language === \"en-GB\"\n</code></pre>\n<h3>\n<a id=\"languageslanguageheader\" class=\"anchor\" href=\"#languageslanguageheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>languages(languageHeader)</code>\n</h3>\n<p>Given a string of acceptable languages from a HTTP request Accept-Language header it will return an array of strings indicating the possible languages that can be used in the HTTP response, in order from most preferred to least as determined by the <a href=\"#weightings\">q weightings</a>.</p>\n<pre><code>const languages = Accept.languages(\"da, en;q=0.7, en-GB;q=0.8\"); // languages === [\"da\", \"en-GB\", \"en\"]\n</code></pre>\n<h3>\n<a id=\"mediatypemediatypeheader-preferences\" class=\"anchor\" href=\"#mediatypemediatypeheader-preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>mediaType(mediaTypeHeader, [preferences])</code>\n</h3>\n<p>Given a string of acceptable media types from a HTTP request Accept header, and optionally an array of preferences, it will return a string with the best fit media type that should be used in the HTTP response.  If no preferences array parameter is given the highest weighted or first ordered media type is returned.  If weightings are given in the header (using the q parameter) they are taken into account and the highest weighted match is returned.  If a preferences array is given the best match from the array is returned.  For more information about how the preferences array works see the section below on <a href=\"#preferences\">Preferences</a>.</p>\n<pre><code>const mediaType = Accept.mediaType(\"text/plain, application/json;q=0.5, text/html, */*;q=0.1\");\n// mediaType === \"text/plain\"\n\nconst mediaType = Accept.mediaType(\"text/plain, application/json;q=0.5, text/html, */*;q=0.1\", [\"text/html\", \"application/json\"]);\n// mediaType === \"text/html\"\n</code></pre>\n<h3>\n<a id=\"mediatypesmediatypeheader\" class=\"anchor\" href=\"#mediatypesmediatypeheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>mediaTypes(mediaTypeHeader)</code>\n</h3>\n<p>Given a string of acceptable media types from a HTTP request Accept header it will return an array of strings indicating the possible media types that can be used in the HTTP response, in order from most preferred to least as determined by the <a href=\"#weightings\">q weightings</a>.</p>\n<pre><code>const mediaTypes = Accept.mediaTypes(\"text/plain, application/json;q=0.5, text/html, */*;q=0.1\");\n// mediaTypes === [\"text/plain\", \"text/html\", \"application/json\", \"*/*\"]\n</code></pre>\n<h3>\n<a id=\"parseallheaders\" class=\"anchor\" href=\"#parseallheaders\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>parseAll(headers)</code>\n</h3>\n<p>Given the headers from a Hapi request object, <code>parseAll()</code> will parse all of the Accepts-* headers it currently understands into an object.</p>\n<pre><code>const all = Accept.parseAll(request.headers);\n// all === {\n//    \"charsets\": [\"iso-8859-5\", \"unicode-1-1\"],\n//    \"encodings\": [\"gzip\", \"compress\", \"identity\"],\n//    \"languages\": [\"da\", \"en-gb\", \"en\"],\n//    \"mediaTypes\": [\"text/plain\", \"text/html\", \"application/json\", \"*/*\"]\n// }\n</code></pre>\n<h2>\n<a id=\"q-weightings\" class=\"anchor\" href=\"#q-weightings\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Q Weightings</h2>\n<p>The Accept-* headers may optionally include preferential weighting to indicate which options are best for the requester.  It does this with <code>q</code> parameters in the headers (which stands for quality).  These q weightings must be in the range of 0 to 1, with a max of three decimal places.  The weightings are used to order the data given in the header, with the highest number being most preferential.  Anything with a q rating of 0 is not allowed at all.</p>\n<p>If a particular Accept method allows a <code>preferences</code> array parameter, such as <code>encoding()</code>, the weightings in the header affect which preference will be returned.  Your preferences are matched with the weighting in mind, and the highest weighted option will be returned, no matter what order you list your preferences.  The header weighting is most important.</p>\n<pre><code>const encoding = Accept.encoding(\"gzip;q=1.0, identity;q=0.5\", [\"identity\", \"gzip\"]);\n// encoding === \"gzip\"\n// despite identity getting listed first in the preferences array, gzip has a higher q weighting, so it is returned.\n</code></pre>\n<h2>\n<a id=\"encodings\" class=\"anchor\" href=\"#encodings\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Encodings</h2>\n<h3>\n<a id=\"preferences\" class=\"anchor\" href=\"#preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Preferences</h3>\n<p>If you are looking for a set of specific encodings you can pass that in as an array to the <code>preferences</code> parameter.  Your preferences <strong>must</strong> be an array.  In the preferences array you specify a list of possible encodings you want to look for, in order of preference.  Accept will return back the most preferential option it can find, if any match.</p>\n<pre><code>const encoding = Accept.encoding(\"gzip, deflate, sdch\", [\"deflate\", \"identity\"]); // encoding === \"delate\"\n</code></pre>\n<p>Your preferences are evaluated without any case sensitivity, to better match what the browser sends.  This means that \"gZip\" will match a preference of [\"gzip\"].</p>\n<pre><code>const encoding = Accept.encoding(\"gZip, deflate, sdch\", [\"gzip\"]); // encoding === \"gzip\"\n</code></pre>\n<p>If you supply a preferences array, and no match is found, <code>encoding()</code> will return an empty string, rather than an encoding from the header.</p>\n<pre><code>const encoding = Accept.encoding(\"gZip\", [\"deflate\"]); // encoding === \"\"\n</code></pre>\n<p>If the encoding header is the special \"*\" that indicates the browser will accept any encoding.  In that case the top preference from your supplied options will be returned.</p>\n<pre><code>const encoding = Accept.encoding(\"*\", [\"gzip\"]); // encoding === \"gzip\"\n</code></pre>\n<h3>\n<a id=\"identity\" class=\"anchor\" href=\"#identity\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Identity</h3>\n<p>When you ask Accept for a list of all the supported encodings from the request, using the <code>encodings()</code> function (plural, not singular), you will be returned an array of strings in order from most preferred to least as determined by the encoding weight.</p>\n<pre><code>const encodings = Accept.encodings(\"compress;q=0.5, gzip;q=1.0\"); // encodings === [\"gzip\", \"compress\", \"identity\"]\n</code></pre>\n<p>You'll notice that <code>identity</code> was returned in the array, even though it's not in the encoding header.  Identity is always an option for encoding, unless specifically excluded in the header using a weighting of zero.  Identity just means respond with no special encoding.</p>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"slogan":"HTTP Accept-* headers parsing.","forks":16,"stars":38,"date":"2019-12-12T16:05:44Z","updated":"Thu Dec 12 2019","link":"https://github.com/hapijs/accept"},"address":{"name":"address","versions":[{"name":"3.2.2","branch":"master","license":"BSD","node":" 12, 10"},{"name":"2.1.4","branch":"v2","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["3.2.2","2.1.4"],"3.2.2":{"menu":"- [`domain.analyze()`](#domainanalyzedomain-options)\n- [`domain.isValid()`](#domainisvaliddomain-options)\n- [`email.analyze()`](#emailanalyzeemail-options)\n- [`email.isValid()`](#emailisvalidemail-options)\n- [`errors`](#errors)","api":"<h2>\n<a id=\"methods\" class=\"anchor\" href=\"#methods\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Methods</h2>\n<h3>\n<a id=\"domainanalyzedomain-options\" class=\"anchor\" href=\"#domainanalyzedomain-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>domain.analyze(domain, [options])</code>\n</h3>\n<p>Analyzes a string to verify it is a valid domain name where:</p>\n<ul>\n<li>\n<code>domain</code> - the domain name string being verified.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>allowUnicode</code> - if <code>false</code>, Unicode characters are not allowed in domain names. Defaults to <code>true</code>.</li>\n<li>\n<code>minDomainSegments</code> - the minimum number of domain segments (e.g. <code>x.y.z</code> has 3 segments) required. Defaults to <code>2</code>.</li>\n<li>\n<code>tlds</code> - options to validate the top-level-domain segment (e.g. <code>com</code> in <code>example.com</code>). Can be set to one of:\n<ul>\n<li>\n<code>false</code> - disable TLD validation.</li>\n<li>\n<code>true</code> - validate the TLD using the official list of <a href=\"http://data.iana.org/TLD/tlds-alpha-by-domain.txt\" rel=\"nofollow\">registered names</a>. This is the default setting.</li>\n<li>an object with one (and only one) of:\n<ul>\n<li>\n<code>deny</code> - a <code>Set</code> with strings matching forbidden TLD values (all non-matching values are allowed).</li>\n<li>\n<code>allow</code> - a <code>Set</code> with strings matching the only allowed TLD values. Can also be set to <code>true</code> which defaults to the official list of <a href=\"http://data.iana.org/TLD/tlds-alpha-by-domain.txt\" rel=\"nofollow\">registered names</a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>If the <code>domain</code> is valid, no return value. If the <code>domain</code> is invalid, an object is returned with:</p>\n<ul>\n<li>\n<code>error</code> - a string containing the reason the domain is invalid.</li>\n</ul>\n<h3>\n<a id=\"domainisvaliddomain-options\" class=\"anchor\" href=\"#domainisvaliddomain-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>domain.isValid(domain, [options])</code>\n</h3>\n<p>Validates a string to verify it is a valid domain name where:</p>\n<ul>\n<li>\n<code>domain</code> - the domain name string being verified.</li>\n<li>\n<code>options</code> - same options as <a href=\"#domainanalyzedomain-options\"><code>domain.analyze()</code></a>.</li>\n</ul>\n<h3>\n<a id=\"emailanalyzeemail-options\" class=\"anchor\" href=\"#emailanalyzeemail-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>email.analyze(email, [options])</code>\n</h3>\n<p>Analyzes a string to verify it is a valid email address where:</p>\n<ul>\n<li>\n<code>email</code> - the email address string being verified.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>allowUnicode</code> - if <code>false</code>, Unicode characters are not allowed in the email address local and domain parts. Defaults to <code>true</code>.</li>\n<li>\n<code>ignoreLength</code> - if <code>true</code>, the standards email maximum length limit is ignored. Defaults to <code>true</code>.</li>\n<li>\n<code>minDomainSegments</code> - the minimum number of domain segments (e.g. <code>x.y.z</code> has 3 segments) required in the domain part. Defaults to <code>2</code>.</li>\n<li>\n<code>tlds</code> - options to validate the top-level-domain segment (e.g. <code>com</code> in <code>example.com</code>) of the domain part. Can be set to one of:\n<ul>\n<li>\n<code>false</code> - disable TLD validation.</li>\n<li>\n<code>true</code> - validate the TLD using the official list of <a href=\"http://data.iana.org/TLD/tlds-alpha-by-domain.txt\" rel=\"nofollow\">registered names</a>. This is the default setting.</li>\n<li>an object with one (and only one) of:\n<ul>\n<li>\n<code>deny</code> - a <code>Set</code> with strings matching forbidden TLD values (all non-matching values are allowed).</li>\n<li>\n<code>allow</code> - a <code>Set</code> with strings matching the only allowed TLD values. Can also be set to <code>true</code> which defaults to the official list of <a href=\"http://data.iana.org/TLD/tlds-alpha-by-domain.txt\" rel=\"nofollow\">registered names</a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>If the <code>email</code> is valid, no return value. If the <code>email</code> is invalid, an object is returned with:</p>\n<ul>\n<li>\n<code>error</code> - a string containing the reason the email is invalid.</li>\n</ul>\n<h3>\n<a id=\"emailisvalidemail-options\" class=\"anchor\" href=\"#emailisvalidemail-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>email.isValid(email, [options])</code>\n</h3>\n<p>Validates a string to verify it is a valid email address where:</p>\n<ul>\n<li>\n<code>email</code> - the email address string being verified.</li>\n<li>\n<code>options</code> - same options as <a href=\"#emailanalyzeemail-options\"><code>email.analyze()</code></a>.</li>\n</ul>\n<h3>\n<a id=\"errors\" class=\"anchor\" href=\"#errors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>errors</code>\n</h3>\n<p>An object containing a key per error code with a matching string value description.</p>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"2.1.4":{"menu":"- [`domain.analyze()`](#domainanalyzedomain-options)\n- [`domain.isValid()`](#domainisvaliddomain-options)\n- [`email.analyze()`](#emailanalyzeemail-options)\n- [`email.isValid()`](#emailisvalidemail-options)","api":"<h2>\n<a id=\"methods\" class=\"anchor\" href=\"#methods\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Methods</h2>\n<h3>\n<a id=\"domainanalyzedomain-options\" class=\"anchor\" href=\"#domainanalyzedomain-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>domain.analyze(domain, [options])</code>\n</h3>\n<p>Analyzes a string to verify it is a valid domain name where:</p>\n<ul>\n<li>\n<code>domain</code> - the domain name string being verified.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>allowUnicode</code> - if <code>false</code>, Unicode characters are not allowd in domain names. Defaults to <code>true</code>.</li>\n<li>\n<code>minDomainSegments</code> - the minimum number of domain segments (e.g. <code>x.y.z</code> has 3 segments) required. Defaults to <code>2</code>.</li>\n<li>\n<code>tlds</code> - options to validate the top-level-domain segment (e.g. <code>com</code> in <code>example.com</code>). Can be set to one of:\n<ul>\n<li>\n<code>false</code> - disable TLD validation.</li>\n<li>\n<code>true</code> - validate the TLD using the official list of <a href=\"http://data.iana.org/TLD/tlds-alpha-by-domain.txt\" rel=\"nofollow\">registered names</a>. This is the default setting.</li>\n<li>an object with one (and only one) of:\n<ul>\n<li>\n<code>deny</code> - a <code>Set</code> with strings matching forbidden TLD values (all non-matching values are allowed).</li>\n<li>\n<code>allow</code> - a <code>Set</code> with strings matching the only allowed TLD values. Can also be set to <code>true</code> which defaults to the official list of <a href=\"http://data.iana.org/TLD/tlds-alpha-by-domain.txt\" rel=\"nofollow\">registered names</a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>If the <code>domain</code> is valid, no return value. If the <code>domain</code> is invalid, an object is returned with:</p>\n<ul>\n<li>\n<code>error</code> - a string containing the reason the domain is invalid.</li>\n</ul>\n<h3>\n<a id=\"domainisvaliddomain-options\" class=\"anchor\" href=\"#domainisvaliddomain-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>domain.isValid(domain, [options])</code>\n</h3>\n<p>Validates a string to verify it is a valid domain name where:</p>\n<ul>\n<li>\n<code>domain</code> - the domain name string being verified.</li>\n<li>\n<code>options</code> - same options as <a href=\"#domainanalyzedomain-options\"><code>domain.analyze()</code></a>.</li>\n</ul>\n<h3>\n<a id=\"emailanalyzeemail-options\" class=\"anchor\" href=\"#emailanalyzeemail-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>email.analyze(email, [options])</code>\n</h3>\n<p>Analyzes a string to verify it is a valid email address where:</p>\n<ul>\n<li>\n<code>email</code> - the email address string being verified.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>allowUnicode</code> - if <code>false</code>, Unicode characters are not allowd in the email address local and domain parts. Defaults to <code>true</code>.</li>\n<li>\n<code>ignoreLength</code> - if <code>true</code>, the standards email maximum length limit is ignored. Defaults to <code>true</code>.</li>\n<li>\n<code>minDomainSegments</code> - the minimum number of domain segments (e.g. <code>x.y.z</code> has 3 segments) required in the domain part. Defaults to <code>2</code>.</li>\n<li>\n<code>tlds</code> - options to validate the top-level-domain segment (e.g. <code>com</code> in <code>example.com</code>) of the domain part. Can be set to one of:\n<ul>\n<li>\n<code>false</code> - disable TLD validation.</li>\n<li>\n<code>true</code> - validate the TLD using the official list of <a href=\"http://data.iana.org/TLD/tlds-alpha-by-domain.txt\" rel=\"nofollow\">registered names</a>. This is the default setting.</li>\n<li>an object with one (and only one) of:\n<ul>\n<li>\n<code>deny</code> - a <code>Set</code> with strings matching forbidden TLD values (all non-matching values are allowed).</li>\n<li>\n<code>allow</code> - a <code>Set</code> with strings matching the only allowed TLD values. Can also be set to <code>true</code> which defaults to the official list of <a href=\"http://data.iana.org/TLD/tlds-alpha-by-domain.txt\" rel=\"nofollow\">registered names</a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>If the <code>email</code> is valid, no return value. If the <code>email</code> is invalid, an object is returned with:</p>\n<ul>\n<li>\n<code>error</code> - a string containing the reason the email is invalid.</li>\n</ul>\n<h3>\n<a id=\"emailisvalidemail-options\" class=\"anchor\" href=\"#emailisvalidemail-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>email.isValid(email, [options])</code>\n</h3>\n<p>Validates a string to verify it is a valid email address where:</p>\n<ul>\n<li>\n<code>email</code> - the email address string being verified.</li>\n<li>\n<code>options</code> - same options as <a href=\"#emailanalyzeemail-options\"><code>email.analyze()</code></a>.</li>\n</ul>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"slogan":"Validate email address and domain.","forks":5,"stars":8,"date":"2019-11-17T07:46:32Z","updated":"Sun Nov 17 2019","link":"https://github.com/hapijs/address"},"ammo":{"name":"ammo","versions":[{"name":"2.1.0","branch":"v2-commercial","license":"Commercial","node":" 10, 8, 6"}],"versionsArray":["2.1.0"],"2.1.0":{"menu":"- [Usage](#usage)\n  - [`header()`](#headerheader-length)\n  - [`new Ammo.Stream()`](#new-ammostreamrange)","api":"<h2>\n<a id=\"usage\" class=\"anchor\" href=\"#usage\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Usage</h2>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> basic usage</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">range</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Ammo</span>.<span class=\"pl-en\">header</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>bytes=1-5<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">10</span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> range --&gt; [{ from: 1, to: 5 }]</span>\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> multiple ranges</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">range</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Ammo</span>.<span class=\"pl-en\">header</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>bytes=1-5,7-10<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">10</span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> range --&gt; [{ from: 1, to: 5 }, { from: 7, to: 9 }]</span>\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> streams (get range within a `source`)</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">range</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Ammo</span>.<span class=\"pl-en\">header</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>bytes=1000-4000<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">5000</span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">stream</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Ammo.Stream</span>(range[<span class=\"pl-c1\">0</span>]);\n<span class=\"pl-smi\">Wreck</span>.<span class=\"pl-en\">read</span>(<span class=\"pl-smi\">source</span>.<span class=\"pl-en\">pipe</span>(stream), {}, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">buffer</span>) <span class=\"pl-k\">=&gt;</span> {\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> buffer is the portion of source within range</span>\n\n});</pre></div>\n<h3>\n<a id=\"headerheader-length\" class=\"anchor\" href=\"#headerheader-length\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>header(header, length)</code>\n</h3>\n<p>Parses the range from a HTTP header.</p>\n<ul>\n<li>\n<code>header</code> - A string in the form of <code>bytes=from-to</code>, where <code>from</code> and <code>to</code> are\nintegers specifying the range. Both are optional. Multiple ranges can be passed\nas a comma delimited list.</li>\n<li>\n<code>length</code> - A positive integer specifying the maximum length the range can\ncover. If a <code>to</code> value passed in the <code>header</code> string is greater than <code>length</code>,\nthe <code>to</code> value is set as <code>length - 1</code>.</li>\n</ul>\n<p>Returns an array of objects with the properties <code>from</code> and <code>to</code>, which specify\nthe beginning and ending of the range. Overlapping ranges are combined into one\nobject. Returns <code>null</code> for invalid input.</p>\n<h3>\n<a id=\"new-ammostreamrange\" class=\"anchor\" href=\"#new-ammostreamrange\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Ammo.Stream(range)</code>\n</h3>\n<p>Creates a <a href=\"https://nodejs.org/api/stream.html\" rel=\"nofollow\"><code>Transform Stream</code></a> that extracts\nthe portion of a piped in stream within <code>range</code>.</p>\n<ul>\n<li>\n<code>range</code> - an object with the properties <code>from</code> and <code>to</code> that specify the range\nof the piped in stream to read. Objects returned by <code>Ammo.header</code> can be passed\ninto <code>range</code>.</li>\n</ul>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"},"slogan":"HTTP Range processing utilities.","forks":7,"stars":15,"date":"2019-10-15T00:23:43Z","updated":"Tue Oct 15 2019","link":"https://github.com/hapijs/ammo"},"b64":{"name":"b64","versions":[{"name":"4.2.1","branch":"master","license":"BSD","node":" 12, 10, 8"},{"name":"3.1.0","branch":"v3-commercial","license":"Commercial","node":" 10, 8, 6"}],"versionsArray":["4.2.1","3.1.0"],"4.2.1":{"menu":"- [encode()](#encodebuffer)\n- [decode()](#decodebuffer)\n- [Encoder](#encoder)\n- [Decoder](#decoder)\n- [base64urlEncode()](#base64urlencodevalue)\n- [base64urlDecode()](#base64urldecodevalue)","api":"<h3>\n<a id=\"encodebuffer\" class=\"anchor\" href=\"#encodebuffer\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>encode(buffer)</h3>\n<p>Base64 encode the buffer and return it as a new Buffer.</p>\n<h3>\n<a id=\"decodebuffer\" class=\"anchor\" href=\"#decodebuffer\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>decode(buffer)</h3>\n<p>Base64 decode the buffer and return the result as a new buffer.</p>\n<h3>\n<a id=\"encoder\" class=\"anchor\" href=\"#encoder\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Encoder</h3>\n<p>Transform stream that base64 encodes each chunk of the stream.</p>\n<p>Example:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">'</span>use strict<span class=\"pl-pds\">'</span></span>;\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Fs</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>fs<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">B64</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/b64<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">stream</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Fs</span>.<span class=\"pl-en\">createReadStream</span>(<span class=\"pl-s\"><span class=\"pl-pds\">`</span><span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-c1\">__dirname</span><span class=\"pl-pse\">}</span></span>/package.json<span class=\"pl-pds\">`</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">encoder</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">B64.Encoder</span>();\n\n<span class=\"pl-smi\">stream</span>.<span class=\"pl-en\">pipe</span>(encoder).<span class=\"pl-en\">pipe</span>(<span class=\"pl-c1\">process</span>.<span class=\"pl-smi\">stdout</span>);</pre></div>\n<h3>\n<a id=\"decoder\" class=\"anchor\" href=\"#decoder\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Decoder</h3>\n<p>Transform stream that base64 decodes each chunk of the stream.</p>\n<p>Example:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">'</span>use strict<span class=\"pl-pds\">'</span></span>;\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Fs</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>fs<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">B64</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/b64<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">stream</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Fs</span>.<span class=\"pl-en\">createReadStream</span>(<span class=\"pl-s\"><span class=\"pl-pds\">`</span><span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-c1\">__dirname</span><span class=\"pl-pse\">}</span></span>/encodedfile.b64<span class=\"pl-pds\">`</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">decoder</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">B64.Decoder</span>();\n\n<span class=\"pl-smi\">stream</span>.<span class=\"pl-en\">pipe</span>(decoder).<span class=\"pl-en\">pipe</span>(<span class=\"pl-c1\">process</span>.<span class=\"pl-smi\">stdout</span>);</pre></div>\n<h3>\n<a id=\"base64urlencodevalue\" class=\"anchor\" href=\"#base64urlencodevalue\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>base64urlEncode(value)</h3>\n<p>Encodes value of string or buffer type in Base64 or URL encoding, function will assert input value is correct.</p>\n<h3>\n<a id=\"base64urldecodevalue\" class=\"anchor\" href=\"#base64urldecodevalue\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>base64urlDecode(value)</h3>\n<p>Decodes string into Base64 or URL encoding, function throws an error on invalid input and returns a string or buffer depending on encoding provided.  Default encoding is binary.</p>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"3.1.0":{"menu":"- [encode()](#encodebuffer)\n- [decode()](#decodebuffer)\n- [Encoder](#encoder)\n- [Decoder](#decoder)","api":"<h3>\n<a id=\"encodebuffer\" class=\"anchor\" href=\"#encodebuffer\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>encode(buffer)</h3>\n<p>Base64 encode the buffer and return it as a new Buffer.</p>\n<h3>\n<a id=\"decodebuffer\" class=\"anchor\" href=\"#decodebuffer\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>decode(buffer)</h3>\n<p>Base64 decode the buffer and return the result as a new buffer.</p>\n<h3>\n<a id=\"encoder\" class=\"anchor\" href=\"#encoder\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Encoder</h3>\n<p>Transform stream that base64 encodes each chunk of the stream.</p>\n<p>Example:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">'</span>use strict<span class=\"pl-pds\">'</span></span>;\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Fs</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>fs<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">B64</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b64<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">stream</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Fs</span>.<span class=\"pl-en\">createReadStream</span>(<span class=\"pl-s\"><span class=\"pl-pds\">`</span><span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-c1\">__dirname</span><span class=\"pl-pse\">}</span></span>/package.json<span class=\"pl-pds\">`</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">encoder</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">B64.Encoder</span>();\n\n<span class=\"pl-smi\">stream</span>.<span class=\"pl-en\">pipe</span>(encoder).<span class=\"pl-en\">pipe</span>(<span class=\"pl-c1\">process</span>.<span class=\"pl-smi\">stdout</span>);</pre></div>\n<h3>\n<a id=\"decoder\" class=\"anchor\" href=\"#decoder\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Decoder</h3>\n<p>Transform stream that base64 decodes each chunk of the stream.</p>\n<p>Example:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">'</span>use strict<span class=\"pl-pds\">'</span></span>;\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Fs</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>fs<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">B64</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b64<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">stream</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Fs</span>.<span class=\"pl-en\">createReadStream</span>(<span class=\"pl-s\"><span class=\"pl-pds\">`</span><span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-c1\">__dirname</span><span class=\"pl-pse\">}</span></span>/encodedfile.b64<span class=\"pl-pds\">`</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">decoder</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">B64.Decoder</span>();\n\n<span class=\"pl-smi\">stream</span>.<span class=\"pl-en\">pipe</span>(decoder).<span class=\"pl-en\">pipe</span>(<span class=\"pl-c1\">process</span>.<span class=\"pl-smi\">stdout</span>);</pre></div>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"},"slogan":"Base64 streaming encoder and decoder.","forks":8,"stars":38,"date":"2019-10-09T01:17:19Z","updated":"Wed Oct 09 2019","link":"https://github.com/hapijs/b64"},"basic":{"name":"basic","versions":[{"name":"5.1.1","branch":"master","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["5.1.1"],"5.1.1":{"menu":"- [Usage](#usage)","api":"<h2>\n<a id=\"usage\" class=\"anchor\" href=\"#usage\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Usage</h2>\n<p>Basic authentication requires validating a username and password combination. The <code>'basic'</code> scheme takes the following options:</p>\n<ul>\n<li>\n<code>validate</code> - (required) a user lookup and password validation function with the signature <code>[async] function(request, username, password, h)</code> where:\n<ul>\n<li>\n<code>request</code> - is the hapi request object of the request which is being authenticated.</li>\n<li>\n<code>username</code> - the username received from the client.</li>\n<li>\n<code>password</code> - the password received from the client.</li>\n<li>\n<code>h</code> - the response toolkit.</li>\n<li>Returns an object <code>{ isValid, credentials, response }</code> where:\n<ul>\n<li>\n<code>isValid</code> - <code>true</code> if both the username was found and the password matched, otherwise <code>false</code>.</li>\n<li>\n<code>credentials</code> - a credentials object passed back to the application in <code>request.auth.credentials</code>.</li>\n<li>\n<code>response</code> - Optional. If provided will be used immediately as a takeover response. Can be used to redirect the client, for example. Don't need to provide <code>isValid</code> or <code>credentials</code> if <code>response</code> is provided</li>\n</ul>\n</li>\n<li>Throwing an error from this function will replace default <code>Boom.unauthorized</code> error</li>\n<li>Typically, <code>credentials</code> are only included when <code>isValid</code> is <code>true</code>, but there are cases when the application needs to know who tried to authenticate even when it fails (e.g. with authentication mode <code>'try'</code>).</li>\n</ul>\n</li>\n<li>\n<code>allowEmptyUsername</code> - (optional) if <code>true</code>, allows making requests with an empty username. Defaults to <code>false</code>.</li>\n<li>\n<code>unauthorizedAttributes</code> - (optional) if set, passed directly to <a href=\"https://github.com/hapijs/boom#boomunauthorizedmessage-scheme-attributes\">Boom.unauthorized</a> if no custom <code>err</code> is thrown. Useful for setting realm attribute in WWW-Authenticate header. Defaults to <code>undefined</code>.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Bcrypt</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>bcrypt<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">users</span> <span class=\"pl-k\">=</span> {\n    john<span class=\"pl-k\">:</span> {\n        username<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>john<span class=\"pl-pds\">'</span></span>,\n        password<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>$2a$10$iqJSHD.BGr0E2IxQwYgJmeP3NvhPrXAeLSaGCj6IR/XU5QtjVu5Tm<span class=\"pl-pds\">'</span></span>,   <span class=\"pl-c\"><span class=\"pl-c\">//</span> 'secret'</span>\n        name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>John Doe<span class=\"pl-pds\">'</span></span>,\n        id<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>2133d32a<span class=\"pl-pds\">'</span></span>\n    }\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">validate</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">username</span>, <span class=\"pl-smi\">password</span>, <span class=\"pl-smi\">h</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">if</span> (username <span class=\"pl-k\">===</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>help<span class=\"pl-pds\">'</span></span>) {\n        <span class=\"pl-k\">return</span> { response<span class=\"pl-k\">:</span> <span class=\"pl-smi\">h</span>.<span class=\"pl-en\">redirect</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>https://hapijs.com/help<span class=\"pl-pds\">'</span></span>) };     <span class=\"pl-c\"><span class=\"pl-c\">//</span> custom response</span>\n    }\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">user</span> <span class=\"pl-k\">=</span> users[username];\n    <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span>user) {\n        <span class=\"pl-k\">return</span> { credentials<span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>, isValid<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> };\n    }\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">isValid</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-smi\">Bcrypt</span>.<span class=\"pl-en\">compare</span>(password, <span class=\"pl-smi\">user</span>.<span class=\"pl-smi\">password</span>);\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">credentials</span> <span class=\"pl-k\">=</span> { id<span class=\"pl-k\">:</span> <span class=\"pl-smi\">user</span>.<span class=\"pl-c1\">id</span>, name<span class=\"pl-k\">:</span> <span class=\"pl-smi\">user</span>.<span class=\"pl-c1\">name</span> };\n\n    <span class=\"pl-k\">return</span> { isValid, credentials };\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">main</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hapi</span>.<span class=\"pl-en\">server</span>({ port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">4000</span> });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(<span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/basic<span class=\"pl-pds\">'</span></span>));\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">auth</span>.<span class=\"pl-en\">strategy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>simple<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>basic<span class=\"pl-pds\">'</span></span>, { validate });\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">auth</span>.<span class=\"pl-en\">default</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>simple<span class=\"pl-pds\">'</span></span>);\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({\n        method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>,\n        path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span>,\n        <span class=\"pl-en\">handler</span><span class=\"pl-k\">:</span> <span class=\"pl-k\">function</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">h</span>) {\n\n            <span class=\"pl-k\">return</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>welcome<span class=\"pl-pds\">'</span></span>;\n        }\n    });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n\n    <span class=\"pl-k\">return</span> server;\n};\n\n<span class=\"pl-en\">main</span>()\n.<span class=\"pl-c1\">then</span>((<span class=\"pl-smi\">server</span>) <span class=\"pl-k\">=&gt;</span> <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">`</span>Server listening on <span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">info</span>.<span class=\"pl-smi\">uri</span><span class=\"pl-pse\">}</span></span><span class=\"pl-pds\">`</span></span>))\n.<span class=\"pl-c1\">catch</span>((<span class=\"pl-smi\">err</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">error</span>(err);\n    <span class=\"pl-c1\">process</span>.<span class=\"pl-en\">exit</span>(<span class=\"pl-c1\">1</span>);\n});</pre></div>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"slogan":"Basic authentication plugin.","forks":64,"stars":147,"date":"2019-10-09T00:36:31Z","updated":"Wed Oct 09 2019","link":"https://github.com/hapijs/basic"},"beam":{"name":"beam","versions":[{"name":"1.0.0","branch":"master","license":"Commercial","node":" 12, 10"}],"versionsArray":["1.0.0"],"1.0.0":{"menu":"- [`location()`](#locationdepth)","api":"<h3>\n<a id=\"locationdepth\" class=\"anchor\" href=\"#locationdepth\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>location(depth)</code>\n</h3>\n<p>Returns the filename and line number of the caller in the call stack where:</p>\n<ul>\n<li>\n<code>depth</code> - the distance from the <code>location()</code> function in the call stack. Defaults to <code>1</code> (caller).</li>\n</ul>\n<p>Returns an object with the <code>filename</code> and <code>line</code> number.</p>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"}},"bell":{"name":"bell","versions":[{"name":"11.1.0","branch":"master","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["11.1.0"],"11.1.0":{"menu":"- [Tutorials](#tutorials)\n- [Notes](#notes)\n- [Options](#options)\n  - [Configuration via Environment Variables](#configuration-via-environment-variables)\n  - [Handling Errors](#handling-errors)\n  - [Token Refresh](#token-refresh)\n  - [Simulated authentication](#simulated-authentication)\n- [Customized Scope and Params](#customized-scope-and-params)","api":"<h3>\n<a id=\"tutorials\" class=\"anchor\" href=\"#tutorials\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Tutorials</h3>\n<p><a href=\"http://mph-web.de/social-signup-with-twitter-using-hapi-js/\" rel=\"nofollow\"><strong>Social Login with Twitter using hapi.js</strong></a></p>\n<h3>\n<a id=\"notes\" class=\"anchor\" href=\"#notes\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Notes</h3>\n<p>Testing third-party authorization is often a painful process. They are hard to test, tidious to configure, and tend to break when running on local servers. If you are having issues running <strong>bell</strong> locally, you might want to look at the <code>isSecure</code> and <code>isSameSite</code> options. Since most people don't run TLS on their local test server, <code>isSecure</code> must be set to <code>false</code> to remove the TLS requirement. <code>isSameSite</code> might need to be set to <code>'Lax'</code> in some cases.</p>\n<p>You should also review the default scope set for each provider early in your implementation. The default scope is meant to get the minimal permissions needed to perform simple user login. In most cases, you would want to ask for more permissions as the default often does not provide access to most API calls provided by the third-party services.</p>\n<h3>\n<a id=\"options\" class=\"anchor\" href=\"#options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Options</h3>\n<p>The <code>server.auth.strategy()</code> method requires the following strategy options:</p>\n<ul>\n<li>\n<p><code>provider</code> - the name of the third-party provider (<code>'auth0'</code>, <code>'azure'</code>, <code>'bitbucket'</code>,\n<code>'dropbox'</code>, <code>'facebook'</code>, <code>'fitbit'</code>, <code>'foursquare'</code>, <code>'github'</code>, <code>'google'</code>, <code>'googleplus'</code>,\n<code>'instagram'</code>, <code>'linkedin'</code>, <code>'live'</code>, <code>'twitter'</code>, <code>'vk'</code>, <code>'arcgisonline'</code>, <code>'yahoo'</code>,\n<code>'nest'</code>, <code>'phabricator'</code>, <code>'pinterest'</code>) or an object containing a custom\nprovider with the following:</p>\n<ul>\n<li>\n<code>protocol</code> - the authorization protocol used. Must be one of:\n<ul>\n<li>\n<code>'oauth'</code> - OAuth 1.0a</li>\n<li>\n<code>'oauth2'</code> - OAuth 2.0</li>\n</ul>\n</li>\n<li>\n<code>signatureMethod</code> - the OAuth signature method (OAuth 1.0a only). Must be one of:\n<ul>\n<li>\n<code>'HMAC-SHA1'</code> - default</li>\n<li>\n<code>'RSA-SHA1'</code> - in that case, the <code>clientSecret</code> is your RSA private key</li>\n</ul>\n</li>\n<li>\n<code>temporary</code> - the temporary credentials (request token) endpoint (OAuth 1.0a only).</li>\n<li>\n<code>useParamsAuth</code> - boolean that determines if OAuth client id and client secret will be sent\nas parameters as opposed to an Authorization header (OAuth 2.0 only). Defaults to <code>false</code>.</li>\n<li>\n<code>auth</code> - the authorization endpoint URI.</li>\n<li>\n<code>token</code> - the access token endpoint URI.</li>\n<li>\n<code>scope</code> - an array of scope strings (OAuth 2.0 only).</li>\n<li>\n<code>scopeSeparator</code> - the scope separator character (OAuth 2.0 only). Only required when a\nprovider has a broken OAuth 2.0 implementation. Defaults to space (Facebook and GitHub\ndefault to comma).</li>\n<li>\n<code>headers</code> - a headers object with additional headers required by the provider (e.g. GitHub\nrequired the 'User-Agent' header which is set by default).</li>\n<li>\n<code>profileMethod</code> - <code>get</code> or <code>post</code> for obtaining user profile by <code>profile</code> function. Default\nis <code>get</code>.</li>\n<li>\n<code>profile</code> - a function used to obtain user profile information and normalize it. The function\nsignature is <code>async function(credentials, params, get)</code> where:\n<ul>\n<li>\n<code>credentials</code> - the credentials object. Change the object directly within the function\n(profile information is typically stored under <code>credentials.profile</code>).</li>\n<li>\n<code>params</code> - the parsed information received from the provider (e.g. token, secret, and\nother custom fields).</li>\n<li>\n<code>get</code> - an OAuth helper function to make authenticated requests using the credentials\nreceived. The <code>get</code> function signature is <code>async function(uri, params)</code> where:\n<ul>\n<li>\n<code>uri</code> - the requested resource URI (<strong>bell</strong> will add the token or authentication\nheader as needed).</li>\n<li>\n<code>params</code> - any URI query parameters (cannot include them in the URI due to signature\nrequirements).</li>\n<li>returns the parsed profile response object.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><code>password</code> - the cookie encryption password. Used to encrypt the temporary state cookie used by\nthe module in between the authorization protocol steps.</p>\n</li>\n<li>\n<p><code>clientId</code> - the OAuth client identifier (consumer key).</p>\n</li>\n<li>\n<p><code>clientSecret</code> - the OAuth client secret (consumer secret). This is usually a client password\nformatted as a <em>string</em>, but to allow <a href=\"https://tools.ietf.org/html/rfc6749#section-2.3\" rel=\"nofollow\">OAuth2 custom client authentication</a>\n(e.g. client certificate-based authentication), this option can be passed as an <em>object</em>. This\nobject will be merged with the Wreck request object used to call the token endpoint. Such an\nobject can contain custom HTTP headers or TLS options (e.g.\n<code>{ agent: new Https.Agent({ cert: myClientCert, key: myClientKey}) }</code>).</p>\n</li>\n<li>\n<p><code>forceHttps</code> - A boolean indicating whether or not you want the redirect_uri to be forced to\nhttps. Useful if your hapi application runs as http, but is accessed through https.</p>\n</li>\n<li>\n<p><code>location</code> - Set the base redirect_uri manually if it cannot be inferred properly from server\nsettings. Useful to override port, protocol, and host if proxied or forwarded. It may be passed\neither as a string (in which case request.path is appended for you), or a function which takes\nthe client's <code>request</code> and returns a non-empty string, which is used as provided. In both cases,\nan empty string will result in default processing just as if the <code>location</code> option had not been\nspecified.</p>\n</li>\n</ul>\n<p>Each strategy accepts the following optional settings:</p>\n<ul>\n<li>\n<code>cookie</code> - the name of the cookie used to manage the temporary state. Defaults to\n<code>'bell-provider'</code> where 'provider' is the provider name (or <code>'custom'</code> for custom providers). For\nexample, the Twitter cookie name defaults to <code>'bell-twitter'</code>.</li>\n<li>\n<code>isSameSite</code> - sets the cookie same site option. Defaults to <code>Strict</code>.</li>\n<li>\n<code>isSecure</code> - sets the cookie secure flag. Defaults to <code>true</code>.</li>\n<li>\n<code>isHttpOnly</code> - sets the cookie HTTP only flag. Defaults to <code>true</code>.</li>\n<li>\n<code>ttl</code> - cookie time-to-live in milliseconds. Defaults to <code>null</code> (session time-life - cookies are\ndeleted when the browser is closed).</li>\n<li>\n<code>domain</code> - the domain scope. Defaults to <code>null</code> (no domain).</li>\n<li>\n<code>providerParams</code> - provider-specific query parameters for the authentication endpoint. It may be\npassed either as an object to merge into the query string, or a function which takes the client's\n<code>request</code> and returns an object. Each provider supports its own set of parameters which customize\nthe user's login experience. For example:\n<ul>\n<li>Facebook supports <code>display</code> ('page', 'popup', or 'touch'), <code>auth_type</code>, <code>auth_nonce</code>.</li>\n<li>Google supports <code>access_type</code>, <code>approval_prompt</code>, <code>prompt</code>, <code>login_hint</code>, <code>user_id</code>, <code>hd</code>.</li>\n<li>Twitter supports <code>force_login</code>, <code>screen_name</code>.</li>\n<li>Linkedin supports <code>fields</code>.</li>\n</ul>\n</li>\n<li>\n<code>allowRuntimeProviderParams</code> - allows passing query parameters from a <strong>bell</strong> protected endpoint\nto the auth request. It will merge the query params you pass along with the providerParams and\nany other predefined ones. Be aware that this will override predefined query parameters! Default\nto <code>false</code>.</li>\n<li>\n<code>scope</code> - Each built-in vendor comes with the required scope for basic profile information. Use\n<code>scope</code> to specify a different scope as required by your application. It may be passed either as\nan object to merge into the query string, or a function which takes the client's <code>request</code> and\nreturns an object. Consult the provider for their specific supported scopes.</li>\n<li>\n<code>skipProfile</code> - skips obtaining a user profile from the provider. Useful if you need specific\n<code>scope</code>s, but not the user profile. Defaults to <code>false</code>.</li>\n<li>\n<code>config</code> - a configuration object used to customize the provider settings:\n<ul>\n<li>Twitter:\n<ul>\n<li><code>extendedProfile</code></li>\n<li><code>getMethod</code></li>\n</ul>\n</li>\n<li>GitHub and Phabricator:\n<ul>\n<li>\n<code>uri</code> - allows pointing to a private enterprise installation (e.g.\n<code>'https://vpn.example.com'</code>). See <a href=\"https://github.com/hapijs/bell/blob/master/Providers.md\">Providers documentation</a> for more\ninformation.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>profileParams</code> - an object of key-value pairs that specify additional URL query parameters to\nsend with the profile request to the provider. The built-in <code>facebook</code> provider, for example,\ncould have <code>fields</code> specified to determine the fields returned from the user's graph, which would\nthen be available to you in the <code>auth.credentials.profile.raw</code> object.</li>\n<li>\n<code>runtimeStateCallback</code> - allows passing additional OAuth state from initial request. This must be\na function returning a string, which will be appended to the <strong>bell</strong> internal <code>state</code> parameter\nfor OAuth code flow.</li>\n</ul>\n<h4>\n<a id=\"configuration-via-environment-variables\" class=\"anchor\" href=\"#configuration-via-environment-variables\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Configuration via Environment Variables</h4>\n<p>The <code>server.auth.strategy()</code> method supports string representations of its boolean and number typed\noptions. For example, <code>forceHttps</code> can be set to 'true', 'false', 'yes', or 'no'. In effect, this\nallows you to configure any strategy option using environment variables.</p>\n<h4>\n<a id=\"handling-errors\" class=\"anchor\" href=\"#handling-errors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Handling Errors</h4>\n<p>By default, <strong>bell</strong> will reply back with an internal error (500) on most authentication errors due\nto the nature of the OAuth protocol. There is little that can be done to recover from errors as\nalmost all of them are caused by implementation or deployment issues.</p>\n<p>If you would like to display a useful error page instead of the default JSON response, use the\n<strong>hapi</strong> <a href=\"https://hapi.dev/api#error-transformation\" rel=\"nofollow\"><code>onPreResponse</code></a> extension point to transform\nthe error into a useful page or to redirect the user to another destination.</p>\n<p>Another way to handle authentication errors is within the route handler. By default, an\nauthentication error will cause the handler to be skipped. However, if the authentication mode is\nset to <code>'try'</code> instead of <code>'required'</code>, the handler will still be called. In this case, the\n<code>request.auth.isAuthenticated</code> must be checked to test if authentication failed. In that case,\n<code>request.auth.error</code> will contain the error.</p>\n<h4>\n<a id=\"token-refresh\" class=\"anchor\" href=\"#token-refresh\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Token Refresh</h4>\n<p>To keep track of the token expiry time, <code>request.auth.credentials.expiresIn</code> provides you the\nduration (in seconds) after which you could send a refresh token request using the\n<code>request.auth.credentials.refreshToken</code> to get a new token.</p>\n<h4>\n<a id=\"simulated-authentication\" class=\"anchor\" href=\"#simulated-authentication\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Simulated authentication</h4>\n<p>Testing applications using third-party login can be challenging given the lack of user interaction\nto perform the third-party login flow as well as the multiple steps required. To assist in testing\nsuch application without having to modify the application with custom code, <strong>Bell</strong> provides an\noverride method <code>Bell.simulate()</code> which puts the module into simulation mode and any strategies\ncreated while it is in this mode will return the simulated credentials.</p>\n<p>The <code>Bell.simulate(credentialsFunc)</code> takes a single argument:</p>\n<ul>\n<li>\n<p><code>credentialsFunc</code> - a function called for each incoming request to the protected resource that\nshould return the credentials object to be set in <code>request.auth.credentials</code>. Note that <strong>bell</strong>\nwill set the default keys automatically if not present except for the provider-specific values.</p>\n<p>has the signature <code>function(request)</code> where:</p>\n<ul>\n<li>\n<code>request</code> - the <strong>hapi</strong> request object.</li>\n</ul>\n</li>\n</ul>\n<p>Note that you must call <code>Bell.simulate()</code> before the module is registered by your application and\nneed to call <code>Bell.simulate(false)</code> to stop it from simulating authentication.</p>\n<h3>\n<a id=\"customized-scope-and-params\" class=\"anchor\" href=\"#customized-scope-and-params\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Customized Scope and Params</h3>\n<p>You can pass a function, rather than an object, into the <code>providerParams</code> and <code>scope</code> config\noptions to allow you to customize the scope or parameters based on the user's request. For example,\nthis may be used you want people to be able to log in with a provider (and only need some basic\nuser information) but also want to let users authorize your application to post messages or status\nupdates on their behalf.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">auth</span>.<span class=\"pl-en\">strategy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>twitter<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>bell<span class=\"pl-pds\">'</span></span>, {\n    provider<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>twitter<span class=\"pl-pds\">'</span></span>,\n    password<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>some cookie password<span class=\"pl-pds\">'</span></span>,\n    location<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>http://example.com/oauth<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-en\">scope</span>(<span class=\"pl-smi\">request</span>) {\n\n        <span class=\"pl-k\">const</span> <span class=\"pl-c1\">scopes</span> <span class=\"pl-k\">=</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>public_profile<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>email<span class=\"pl-pds\">'</span></span>];\n        <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">request</span>.<span class=\"pl-smi\">query</span>.<span class=\"pl-smi\">wantsSharePermission</span>) {\n          <span class=\"pl-smi\">scopes</span>.<span class=\"pl-c1\">push</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>publish_actions<span class=\"pl-pds\">'</span></span>);\n        }\n        <span class=\"pl-k\">return</span> scopes;\n    }\n});</pre></div>\n","intro":"### Introduction\n\n**bell** ships with built-in support for authentication using `ArcGIS Online`, `Auth0`, `AzureAD`,\n`BitBucket`, `Cognito`, `DigitalOcean`, `Discord`, `Dropbox`, `Facebook`, `Fitbit`, `Foursquare`,\n`GitHub`, `GitLab`, `Google Plus`, `Google`, `Instagram`, `LinkedIn`, `Medium`, `Meetup`, `Mixer`,\n`Nest`, `Office365`, `Okta`, `Phabricator`, `Pingfed`, `Pinterest`, `Reddit`, `Salesforce`, `Slack`,\n`Spotify`, `Stripe`, `trakt.tv`, `Tumblr`, `Twitch`, `Twitter`, `VK`, `Wordpress`, `Windows Live`,\nand `Yahoo`.\n\nIt also supports any compliant `OAuth 1.0a` and `OAuth 2.0` based login services with a simple\nconfiguration object.\n\n[**Providers Documentation**](https://github.com/hapijs/bell/blob/master/Providers.md)\n","example":"### Examples\n\n[**All Examples**](https://github.com/hapijs/bell/tree/master/examples)\n\nTwitter:\n\n```js\n// Load modules\n\nconst Bell = require('@hapi/bell');\nconst Hapi = require('@hapi/hapi');\n\n\n// Declare internals\n\nconst internals = {};\n\n\ninternals.start = async function () {\n\n    const server = Hapi.server({ port: 8000 });\n\n    // Register bell with the server\n\n    await server.register(Bell);\n\n    // Declare an authentication strategy using the bell scheme\n    // with the name of the provider, cookie encryption password,\n    // and the OAuth client credentials.\n\n    server.auth.strategy('twitter', 'bell', {\n        provider: 'twitter',\n        password: 'cookie_encryption_password_secure',\n        clientId: 'my_twitter_client_id',\n        clientSecret: 'my_twitter_client_secret',\n        isSecure: false     // Terrible idea but required if not using HTTPS especially if developing locally\n    });\n\n    // Use the 'twitter' authentication strategy to protect the\n    // endpoint handling the incoming authentication credentials.\n    // This endpoint usually looks up the third party account in\n    // the database and sets some application state (cookie) with\n    // the local application account information.\n\n    server.route({\n        method: ['GET', 'POST'],    // Must handle both GET and POST\n        path: '/login',             // The callback endpoint registered with the provider\n        options: {\n            auth: 'twitter',\n            handler: function (request, h) {\n\n                if (!request.auth.isAuthenticated) {\n                    return `Authentication failed due to: ${request.auth.error.message}`;\n                }\n\n                // Perform any account lookup or registration, setup local session,\n                // and redirect to the application. The third-party credentials are\n                // stored in request.auth.credentials. Any query parameters from\n                // the initial request are passed back via request.auth.credentials.query.\n\n                return h.redirect('/home');\n            }\n        }\n    });\n\n    await server.start();\n};\n\ninternals.start();\n```\n","usage":"### Usage\n\n**bell** works by adding a login endpoint and setting it to use a **bell**-based authentication strategy. **bell** will manage the third-party authentication flow and will only call the handler if the user successfully authenticated. The handler function is then used to examine the third-party credentials (e.g. lookup an existing account or offer a registration page), setup an active session, and redirect to the actual application.\n\n**bell** does not maintain a session beyond a temporary state between the authorization flow. If a user authenticated once when accessing the endpoint, they will have to authenticate again. This means **bell** cannot be used alone as a login system except for single-page applications that require loading a single resource. Once the handler is called, the application must set its own\nsession management. A common solution is to combine **bell** with the [**@hapi/cookie**](https://hapi.dev/family/cookie) authentication scheme plugin.\n\n```js\n// Load modules\n\nconst Bell = require('@hapi/bell');\nconst Hapi = require('@hapi/hapi');\n\n\n// Declare internals\n\nconst internals = {};\n\n\ninternals.start = async function () {\n\n    const server = Hapi.server({ port: 8000 });\n\n    // Register bell with the server\n\n    await server.register(Bell);\n\n    // Declare an authentication strategy using the bell scheme\n    // with the name of the provider, cookie encryption password,\n    // and the OAuth client credentials.\n\n    server.auth.strategy('twitter', 'bell', {\n        provider: 'twitter',\n        password: 'cookie_encryption_password_secure',\n        clientId: 'my_twitter_client_id',\n        clientSecret: 'my_twitter_client_secret',\n        isSecure: false     // Terrible idea but required if not using HTTPS especially if developing locally\n    });\n\n    // Use the 'twitter' authentication strategy to protect the\n    // endpoint handling the incoming authentication credentials.\n    // This endpoints usually looks up the third party account in\n    // the database and sets some application state (cookie) with\n    // the local application account information.\n\n    server.route({\n        method: ['GET', 'POST'],    // Must handle both GET and POST\n        path: '/login',             // The callback endpoint registered with the provider\n        options: {\n            auth: 'twitter',\n            handler: function (request, h) {\n\n                if (!request.auth.isAuthenticated) {\n                    return `Authentication failed due to: ${request.auth.error.message}`;\n                }\n\n                // Perform any account lookup or registration, setup local session,\n                // and redirect to the application. The third-party credentials are\n                // stored in request.auth.credentials. Any query parameters from\n                // the initial request are passed back via request.auth.credentials.query.\n\n                return h.redirect('/home');\n            }\n        }\n    });\n\n    await server.start();\n};\n\ninternals.start();\n```\n\n","faq":"","license":"BSD"},"slogan":"Third-party login plugin for hapi.js.","forks":201,"stars":616,"date":"2019-12-11T22:42:02Z","updated":"Wed Dec 11 2019","link":"https://github.com/hapijs/bell"},"boom":{"name":"boom","versions":[{"name":"8.0.1","branch":"master","license":"BSD","node":" 12, 10"},{"name":"7.4.11","branch":"v7","license":"BSD","node":"12, 10, 8"},{"name":"5.3.1","branch":"v5-commercial","license":"Commercial","node":" 10, 8, 6"}],"versionsArray":["8.0.1","5.3.1","7.4.11"],"8.0.1":{"menu":"- [`reformat()`](#reformatdebug)\n- [Helper Methods](#helper-methods)\n  - [`new Boom()`](#new-boommessage-options)\n  - [`boomify()`](#boomifyerr-options)\n  - [`isBoom()`](#isboomerr)\n- [HTTP 4xx Errors](#http-4xx-errors)\n  - [`badRequest()`](#boombadrequestmessage-data)\n  - [`unauthorized()`](#boomunauthorizedmessage-scheme-attributes)\n  - [`paymentRequired()`](#boompaymentrequiredmessage-data)\n  - [`forbidden()`](#boomforbiddenmessage-data)\n  - [`notFound()`](#boomnotfoundmessage-data)\n  - [`methodNotAllowed()`](#boommethodnotallowedmessage-data-allow)\n  - [`notAcceptable()`](#boomnotacceptablemessage-data)\n  - [`proxyAuthRequired()`](#boomproxyauthrequiredmessage-data)\n  - [`clientTimeout()`](#boomclienttimeoutmessage-data)\n  - [`conflict()`](#boomconflictmessage-data)\n  - [`resourceGone()`](#boomresourcegonemessage-data)\n  - [`lengthRequired()`](#boomlengthrequiredmessage-data)\n  - [`preconditionFailed()`](#boompreconditionfailedmessage-data)\n  - [`entityTooLarge()`](#boomentitytoolargemessage-data)\n  - [`uriTooLong()`](#boomuritoolongmessage-data)\n  - [`unsupportedMediaType()`](#boomunsupportedmediatypemessage-data)\n  - [`rangeNotSatisfiable()`](#boomrangenotsatisfiablemessage-data)\n  - [`expectationFailed()`](#boomexpectationfailedmessage-data)\n  - [`teapot()`](#boomteapotmessage-data)\n  - [`badData()`](#boombaddatamessage-data)\n  - [`locked()`](#boomlockedmessage-data)\n  - [`failedDependency()`](#boomfaileddependencymessage-data)\n  - [`preconditionRequired()`](#boompreconditionrequiredmessage-data)\n  - [`tooManyRequests()`](#boomtoomanyrequestsmessage-data)\n  - [`illegal()`](#boomillegalmessage-data)\n- [HTTP 5xx Errors](#http-5xx-errors)\n  - [`badImplementation()` - (*alias: `internal`*)](#boombadimplementationmessage-data---alias-internal)\n  - [`notImplemented()`](#boomnotimplementedmessage-data)\n  - [`badGateway()`](#boombadgatewaymessage-data)\n  - [`serverUnavailable()`](#boomserverunavailablemessage-data)\n  - [`gatewayTimeout()`](#boomgatewaytimeoutmessage-data)","api":"<p><strong>boom</strong> provides a set of utilities for returning HTTP errors. Each utility returns a <code>Boom</code>\nerror response object which includes the following properties:</p>\n<ul>\n<li>\n<code>isBoom</code> - if <code>true</code>, indicates this is a <code>Boom</code> object instance. Note that this boolean should\nonly be used if the error is an instance of <code>Error</code>. If it is not certain, use <code>Boom.isBoom()</code>\ninstead.</li>\n<li>\n<code>isServer</code> - convenience bool indicating status code &gt;= 500.</li>\n<li>\n<code>message</code> - the error message.</li>\n<li>\n<code>typeof</code> - the constructor used to create the error (e.g. <code>Boom.badRequest</code>).</li>\n<li>\n<code>output</code> - the formatted response. Can be directly manipulated after object construction to return a custom\nerror response. Allowed root keys:\n<ul>\n<li>\n<code>statusCode</code> - the HTTP status code (typically 4xx or 5xx).</li>\n<li>\n<code>headers</code> - an object containing any HTTP headers where each key is a header name and value is the header content.</li>\n<li>\n<code>payload</code> - the formatted object used as the response payload (stringified). Can be directly manipulated but any\nchanges will be lost\nif <code>reformat()</code> is called. Any content allowed and by default includes the following content:\n<ul>\n<li>\n<code>statusCode</code> - the HTTP status code, derived from <code>error.output.statusCode</code>.</li>\n<li>\n<code>error</code> - the HTTP status message (e.g. 'Bad Request', 'Internal Server Error') derived from <code>statusCode</code>.</li>\n<li>\n<code>message</code> - the error message derived from <code>error.message</code>.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>inherited <code>Error</code> properties.</li>\n</ul>\n<p>The <code>Boom</code> object also supports the following method:</p>\n<h4>\n<a id=\"reformatdebug\" class=\"anchor\" href=\"#reformatdebug\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>reformat(debug)</code>\n</h4>\n<p>Rebuilds <code>error.output</code> using the other object properties where:</p>\n<ul>\n<li>\n<code>debug</code> - a Boolean that, when <code>true</code>, causes Internal Server Error messages to be left in tact. Defaults to <code>false</code>, meaning that Internal Server Error messages are redacted.</li>\n</ul>\n<p>Note that <code>Boom</code> object will return <code>true</code> when used with <code>instanceof Boom</code>, but do not use the\n<code>Boom</code> prototype (they are either plain <code>Error</code> or the error prototype passed in). This means\n<code>Boom</code> objects should only be tested using <code>instanceof Boom</code> or <code>Boom.isBoom()</code> but not by looking\nat the prototype or contructor information. This limitation is to avoid manipulating the prototype\nchain which is very slow.</p>\n<h4>\n<a id=\"helper-methods\" class=\"anchor\" href=\"#helper-methods\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Helper Methods</h4>\n<h5>\n<a id=\"new-boommessage-options\" class=\"anchor\" href=\"#new-boommessage-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Boom(message, [options])</code>\n</h5>\n<p>Creates a new <code>Boom</code> object using the provided <code>message</code> and then calling\n<a href=\"#boomifyerr-options\"><code>boomify()</code></a> to decorate the error with the <code>Boom</code> properties, where:</p>\n<ul>\n<li>\n<code>message</code> - the error message. If <code>message</code> is an error, it is the same as calling\n<a href=\"#boomifyerr-options\"><code>boomify()</code></a> directly.</li>\n<li>\n<code>options</code> - and optional object where:\n<ul>\n<li>\n<code>statusCode</code> - the HTTP status code. Defaults to <code>500</code> if no status code is already set.</li>\n<li>\n<code>data</code> - additional error information (assigned to <code>error.data</code>).</li>\n<li>\n<code>decorate</code> - an option with extra properties to set on the error object.</li>\n<li>\n<code>ctor</code> - constructor reference used to crop the exception call stack output.</li>\n<li>if <code>message</code> is an error object, also supports the other <a href=\"#boomifyerr-options\"><code>boomify()</code></a>\noptions.</li>\n</ul>\n</li>\n</ul>\n<h5>\n<a id=\"boomifyerr-options\" class=\"anchor\" href=\"#boomifyerr-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>boomify(err, [options])</code>\n</h5>\n<p>Decorates an error with the <code>Boom</code> properties where:</p>\n<ul>\n<li>\n<code>err</code> - the <code>Error</code> object to decorate.</li>\n<li>\n<code>options</code> - optional object with the following optional settings:\n<ul>\n<li>\n<code>statusCode</code> - the HTTP status code. Defaults to <code>500</code> if no status code is already set and <code>err</code> is not a <code>Boom</code> object.</li>\n<li>\n<code>message</code> - error message string. If the error already has a message, the provided <code>message</code> is added as a prefix.\nDefaults to no message.</li>\n<li>\n<code>decorate</code> - an option with extra properties to set on the error object.</li>\n<li>\n<code>override</code> - if <code>false</code>, the <code>err</code> provided is a <code>Boom</code> object, and a <code>statusCode</code> or <code>message</code> are provided,\nthe values are ignored. Defaults to <code>true</code> (apply the provided <code>statusCode</code> and <code>message</code> options to the error\nregardless of its type, <code>Error</code> or <code>Boom</code> object).</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> error <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Unexpected input<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">boomify</span>(error, { statusCode<span class=\"pl-k\">:</span> <span class=\"pl-c1\">400</span> });</pre></div>\n<h5>\n<a id=\"isboomerr\" class=\"anchor\" href=\"#isboomerr\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>isBoom(err)</code>\n</h5>\n<p>Identifies whether an error is a <code>Boom</code> object. Same as calling <code>instanceof Boom</code>.</p>\n<h4>\n<a id=\"http-4xx-errors\" class=\"anchor\" href=\"#http-4xx-errors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>HTTP 4xx Errors</h4>\n<h5>\n<a id=\"boombadrequestmessage-data\" class=\"anchor\" href=\"#boombadrequestmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.badRequest([message], [data])</code>\n</h5>\n<p>Returns a 400 Bad Request error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">badRequest</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>invalid query<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">400</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Bad Request<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>invalid query<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomunauthorizedmessage-scheme-attributes\" class=\"anchor\" href=\"#boomunauthorizedmessage-scheme-attributes\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.unauthorized([message], [scheme], [attributes])</code>\n</h5>\n<p>Returns a 401 Unauthorized error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>scheme</code> can be one of the following:\n<ul>\n<li>an authentication scheme name</li>\n<li>an array of string values. These values will be separated by ', ' and set to the 'WWW-Authenticate' header.</li>\n</ul>\n</li>\n<li>\n<code>attributes</code> - an object of values to use while setting the 'WWW-Authenticate' header. This value is only used\nwhen <code>scheme</code> is a string, otherwise it is ignored. Every key/value pair will be included in the\n'WWW-Authenticate' in the format of 'key=\"value\"' as well as in the response payload under the <code>attributes</code> key.  Alternatively value can be a string which is use to set the value of the scheme, for example setting the token value for negotiate header.  If string is used message parameter must be null.\n<code>null</code> and <code>undefined</code> will be replaced with an empty string. If <code>attributes</code> is set, <code>message</code> will be used as\nthe 'error' segment of the 'WWW-Authenticate' header. If <code>message</code> is unset, the 'error' segment of the header\nwill not be present and <code>isMissing</code> will be true on the error object.</li>\n</ul>\n<p>If either <code>scheme</code> or <code>attributes</code> are set, the resultant <code>Boom</code> object will have the\n'WWW-Authenticate' header set for the response.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">unauthorized</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>invalid password<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response:</p>\n<div class=\"highlight highlight-source-json\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>payload<span class=\"pl-pds\">\"</span></span>: {\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">401</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Unauthorized<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>invalid password<span class=\"pl-pds\">\"</span></span>\n},\n<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>headers<span class=\"pl-pds\">\"</span></span> {}</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">unauthorized</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>invalid password<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>sample<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response:</p>\n<div class=\"highlight highlight-source-json\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>payload<span class=\"pl-pds\">\"</span></span>: {\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">401</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Unauthorized<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>invalid password<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>attributes<span class=\"pl-pds\">\"</span></span>: {\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>invalid password<span class=\"pl-pds\">\"</span></span>\n    }\n},\n<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>headers<span class=\"pl-pds\">\"</span></span> {\n  <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>WWW-Authenticate<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sample error=<span class=\"pl-cce\">\\\"</span>invalid password<span class=\"pl-cce\">\\\"</span><span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">unauthorized</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Negotiate<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>VGhpcyBpcyBhIHRlc3QgdG9rZW4=<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response:</p>\n<div class=\"highlight highlight-source-json\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>payload<span class=\"pl-pds\">\"</span></span>: {\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">401</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Unauthorized<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>attributes<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>VGhpcyBpcyBhIHRlc3QgdG9rZW4=<span class=\"pl-pds\">\"</span></span>\n},\n<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>headers<span class=\"pl-pds\">\"</span></span> {\n  <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>WWW-Authenticate<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Negotiate VGhpcyBpcyBhIHRlc3QgdG9rZW4=<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">unauthorized</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>invalid password<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>sample<span class=\"pl-pds\">'</span></span>, { ttl<span class=\"pl-k\">:</span> <span class=\"pl-c1\">0</span>, cache<span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>, foo<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>bar<span class=\"pl-pds\">'</span></span> });</pre></div>\n<p>Generates the following response:</p>\n<div class=\"highlight highlight-source-json\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>payload<span class=\"pl-pds\">\"</span></span>: {\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">401</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Unauthorized<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>invalid password<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>attributes<span class=\"pl-pds\">\"</span></span>: {\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>invalid password<span class=\"pl-pds\">\"</span></span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ttl<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">0</span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>cache<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>foo<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>bar<span class=\"pl-pds\">\"</span></span>\n    }\n},\n<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>headers<span class=\"pl-pds\">\"</span></span> {\n  <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>WWW-Authenticate<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sample ttl=<span class=\"pl-cce\">\\\"</span>0<span class=\"pl-cce\">\\\"</span>, cache=<span class=\"pl-cce\">\\\"\\\"</span>, foo=<span class=\"pl-cce\">\\\"</span>bar<span class=\"pl-cce\">\\\"</span>, error=<span class=\"pl-cce\">\\\"</span>invalid password<span class=\"pl-cce\">\\\"</span><span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boompaymentrequiredmessage-data\" class=\"anchor\" href=\"#boompaymentrequiredmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.paymentRequired([message], [data])</code>\n</h5>\n<p>Returns a 402 Payment Required error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">paymentRequired</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>bandwidth used<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">402</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Payment Required<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>bandwidth used<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomforbiddenmessage-data\" class=\"anchor\" href=\"#boomforbiddenmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.forbidden([message], [data])</code>\n</h5>\n<p>Returns a 403 Forbidden error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">forbidden</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>try again some time<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">403</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Forbidden<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>try again some time<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomnotfoundmessage-data\" class=\"anchor\" href=\"#boomnotfoundmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.notFound([message], [data])</code>\n</h5>\n<p>Returns a 404 Not Found error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">notFound</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>missing<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">404</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Not Found<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>missing<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boommethodnotallowedmessage-data-allow\" class=\"anchor\" href=\"#boommethodnotallowedmessage-data-allow\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.methodNotAllowed([message], [data], [allow])</code>\n</h5>\n<p>Returns a 405 Method Not Allowed error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n<li>\n<code>allow</code> - optional string or array of strings (to be combined and separated by ', ') which is set to the 'Allow' header.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">methodNotAllowed</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>that method is not allowed<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">405</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Method Not Allowed<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>that method is not allowed<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomnotacceptablemessage-data\" class=\"anchor\" href=\"#boomnotacceptablemessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.notAcceptable([message], [data])</code>\n</h5>\n<p>Returns a 406 Not Acceptable error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">notAcceptable</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>unacceptable<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">406</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Not Acceptable<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>unacceptable<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomproxyauthrequiredmessage-data\" class=\"anchor\" href=\"#boomproxyauthrequiredmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.proxyAuthRequired([message], [data])</code>\n</h5>\n<p>Returns a 407 Proxy Authentication Required error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">proxyAuthRequired</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>auth missing<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">407</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Proxy Authentication Required<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>auth missing<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomclienttimeoutmessage-data\" class=\"anchor\" href=\"#boomclienttimeoutmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.clientTimeout([message], [data])</code>\n</h5>\n<p>Returns a 408 Request Time-out error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">clientTimeout</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>timed out<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">408</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Request Time-out<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>timed out<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomconflictmessage-data\" class=\"anchor\" href=\"#boomconflictmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.conflict([message], [data])</code>\n</h5>\n<p>Returns a 409 Conflict error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">conflict</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>there was a conflict<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">409</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Conflict<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>there was a conflict<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomresourcegonemessage-data\" class=\"anchor\" href=\"#boomresourcegonemessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.resourceGone([message], [data])</code>\n</h5>\n<p>Returns a 410 Gone error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">resourceGone</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>it is gone<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">410</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Gone<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>it is gone<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomlengthrequiredmessage-data\" class=\"anchor\" href=\"#boomlengthrequiredmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.lengthRequired([message], [data])</code>\n</h5>\n<p>Returns a 411 Length Required error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">lengthRequired</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>length needed<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">411</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Length Required<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>length needed<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boompreconditionfailedmessage-data\" class=\"anchor\" href=\"#boompreconditionfailedmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.preconditionFailed([message], [data])</code>\n</h5>\n<p>Returns a 412 Precondition Failed error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">preconditionFailed</span>();</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">412</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Precondition Failed<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomentitytoolargemessage-data\" class=\"anchor\" href=\"#boomentitytoolargemessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.entityTooLarge([message], [data])</code>\n</h5>\n<p>Returns a 413 Request Entity Too Large error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">entityTooLarge</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>too big<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">413</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Request Entity Too Large<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>too big<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomuritoolongmessage-data\" class=\"anchor\" href=\"#boomuritoolongmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.uriTooLong([message], [data])</code>\n</h5>\n<p>Returns a 414 Request-URI Too Large error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">uriTooLong</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>uri is too long<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">414</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Request-URI Too Large<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>uri is too long<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomunsupportedmediatypemessage-data\" class=\"anchor\" href=\"#boomunsupportedmediatypemessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.unsupportedMediaType([message], [data])</code>\n</h5>\n<p>Returns a 415 Unsupported Media Type error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">unsupportedMediaType</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>that media is not supported<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">415</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Unsupported Media Type<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>that media is not supported<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomrangenotsatisfiablemessage-data\" class=\"anchor\" href=\"#boomrangenotsatisfiablemessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.rangeNotSatisfiable([message], [data])</code>\n</h5>\n<p>Returns a 416 Requested Range Not Satisfiable error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">rangeNotSatisfiable</span>();</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">416</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Requested Range Not Satisfiable<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomexpectationfailedmessage-data\" class=\"anchor\" href=\"#boomexpectationfailedmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.expectationFailed([message], [data])</code>\n</h5>\n<p>Returns a 417 Expectation Failed error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">expectationFailed</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>expected this to work<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">417</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Expectation Failed<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>expected this to work<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomteapotmessage-data\" class=\"anchor\" href=\"#boomteapotmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.teapot([message], [data])</code>\n</h5>\n<p>Returns a 418 I'm a Teapot error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">teapot</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>sorry, no coffee...<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">418</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>I'm a Teapot<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Sorry, no coffee...<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boombaddatamessage-data\" class=\"anchor\" href=\"#boombaddatamessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.badData([message], [data])</code>\n</h5>\n<p>Returns a 422 Unprocessable Entity error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">badData</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>your data is bad and you should feel bad<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">422</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Unprocessable Entity<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>your data is bad and you should feel bad<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomlockedmessage-data\" class=\"anchor\" href=\"#boomlockedmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.locked([message], [data])</code>\n</h5>\n<p>Returns a 423 Locked error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">locked</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>this resource has been locked<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">423</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Locked<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>this resource has been locked<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomfaileddependencymessage-data\" class=\"anchor\" href=\"#boomfaileddependencymessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.failedDependency([message], [data])</code>\n</h5>\n<p>Returns a 424 Failed Dependency error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">failedDependency</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>an external resource failed<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">424</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Failed Dependency<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>an external resource failed<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boompreconditionrequiredmessage-data\" class=\"anchor\" href=\"#boompreconditionrequiredmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.preconditionRequired([message], [data])</code>\n</h5>\n<p>Returns a 428 Precondition Required error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">preconditionRequired</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>you must supply an If-Match header<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">428</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Precondition Required<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>you must supply an If-Match header<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomtoomanyrequestsmessage-data\" class=\"anchor\" href=\"#boomtoomanyrequestsmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.tooManyRequests([message], [data])</code>\n</h5>\n<p>Returns a 429 Too Many Requests error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">tooManyRequests</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>you have exceeded your request limit<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">429</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Too Many Requests<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>you have exceeded your request limit<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomillegalmessage-data\" class=\"anchor\" href=\"#boomillegalmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.illegal([message], [data])</code>\n</h5>\n<p>Returns a 451 Unavailable For Legal Reasons error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">illegal</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>you are not permitted to view this resource for legal reasons<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">451</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Unavailable For Legal Reasons<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>you are not permitted to view this resource for legal reasons<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h4>\n<a id=\"http-5xx-errors\" class=\"anchor\" href=\"#http-5xx-errors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>HTTP 5xx Errors</h4>\n<p>All 500 errors hide your message from the end user. Your message is recorded in the server log.</p>\n<h5>\n<a id=\"boombadimplementationmessage-data---alias-internal\" class=\"anchor\" href=\"#boombadimplementationmessage-data---alias-internal\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.badImplementation([message], [data])</code> - (<em>alias: <code>internal</code></em>)</h5>\n<p>Returns a 500 Internal Server Error error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">badImplementation</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>terrible implementation<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">500</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Internal Server Error<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>An internal server error occurred<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomnotimplementedmessage-data\" class=\"anchor\" href=\"#boomnotimplementedmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.notImplemented([message], [data])</code>\n</h5>\n<p>Returns a 501 Not Implemented error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">notImplemented</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>method not implemented<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">501</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Not Implemented<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>method not implemented<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boombadgatewaymessage-data\" class=\"anchor\" href=\"#boombadgatewaymessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.badGateway([message], [data])</code>\n</h5>\n<p>Returns a 502 Bad Gateway error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">badGateway</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>that is a bad gateway<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">502</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Bad Gateway<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>that is a bad gateway<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomserverunavailablemessage-data\" class=\"anchor\" href=\"#boomserverunavailablemessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.serverUnavailable([message], [data])</code>\n</h5>\n<p>Returns a 503 Service Unavailable error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">serverUnavailable</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>unavailable<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">503</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Service Unavailable<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>unavailable<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomgatewaytimeoutmessage-data\" class=\"anchor\" href=\"#boomgatewaytimeoutmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.gatewayTimeout([message], [data])</code>\n</h5>\n<p>Returns a 504 Gateway Time-out error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">gatewayTimeout</span>();</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">504</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Gateway Time-out<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n","intro":"","example":"","usage":"","faq":"#### F.A.Q.\n\n**Q** How do I include extra information in my responses? `output.payload` is missing `data`, what gives?\n\n**A** There is a reason the values passed back in the response payloads are pretty locked down. It's mostly for security and to not leak any important information back to the client. This means you will need to put in a little more effort to include extra information about your custom error. Check out the [\"Error transformation\"](https://github.com/hapijs/hapi/blob/master/API.md#error-transformation) section in the hapi documentation.","license":"BSD"},"5.3.1":{"menu":"- [Helper Methods](#helper-methods)\n  - [`boomify()`](#boomifyerror-options)\n  - [`wrap()`](#wraperror-statuscode-message)\n  - [`create()`](#createstatuscode-message-data)\n- [HTTP 4xx Errors](#http-4xx-errors)\n  - [`badRequest()`](#boombadrequestmessage-data)\n  - [`unauthorized()`](#boomunauthorizedmessage-scheme-attributes)\n  - [`paymentRequired()`](#boompaymentrequiredmessage-data)\n  - [`forbidden()`](#boomforbiddenmessage-data)\n  - [`notFound()`](#boomnotfoundmessage-data)\n  - [`methodNotAllowed()`](#boommethodnotallowedmessage-data-allow)\n  - [`notAcceptable()`](#boomnotacceptablemessage-data)\n  - [`proxyAuthRequired()`](#boomproxyauthrequiredmessage-data)\n  - [`clientTimeout()`](#boomclienttimeoutmessage-data)\n  - [`conflict()`](#boomconflictmessage-data)\n  - [`resourceGone()`](#boomresourcegonemessage-data)\n  - [`lengthRequired()`](#boomlengthrequiredmessage-data)\n  - [`preconditionFailed()`](#boompreconditionfailedmessage-data)\n  - [`entityTooLarge()`](#boomentitytoolargemessage-data)\n  - [`uriTooLong()`](#boomuritoolongmessage-data)\n  - [`unsupportedMediaType()`](#boomunsupportedmediatypemessage-data)\n  - [`rangeNotSatisfiable()`](#boomrangenotsatisfiablemessage-data)\n  - [`expectationFailed()`](#boomexpectationfailedmessage-data)\n  - [`teapot()`](#boomteapotmessage-data)\n  - [`badData()`](#boombaddatamessage-data)\n  - [`locked()`](#boomlockedmessage-data)\n  - [`preconditionRequired()`](#boompreconditionrequiredmessage-data)\n  - [`tooManyRequests()`](#boomtoomanyrequestsmessage-data)\n  - [`illegal()`](#boomillegalmessage-data)\n- [HTTP 5xx Errors](#http-5xx-errors)\n  - [`badImplementation()` - (*alias: `internal`*)](#boombadimplementationmessage-data---alias-internal)\n  - [`notImplemented()`](#boomnotimplementedmessage-data)\n  - [`badGateway()`](#boombadgatewaymessage-data)\n  - [`serverUnavailable()`](#boomserverunavailablemessage-data)\n  - [`gatewayTimeout()`](#boomgatewaytimeoutmessage-data)\n- [F.A.Q.](#faq)","api":"<p><strong>boom</strong> provides a set of utilities for returning HTTP errors. Each utility returns a <code>Boom</code> error response\nobject (instance of <code>Error</code>) which includes the following properties:</p>\n<ul>\n<li>\n<code>isBoom</code> - if <code>true</code>, indicates this is a <code>Boom</code> object instance.</li>\n<li>\n<code>isServer</code> - convenience bool indicating status code &gt;= 500.</li>\n<li>\n<code>message</code> - the error message.</li>\n<li>\n<code>typeof</code> - the contructor used to create the error (e.g. <code>Boom.badRequest</code>).</li>\n<li>\n<code>output</code> - the formatted response. Can be directly manipulated after object construction to return a custom\nerror response. Allowed root keys:\n<ul>\n<li>\n<code>statusCode</code> - the HTTP status code (typically 4xx or 5xx).</li>\n<li>\n<code>headers</code> - an object containing any HTTP headers where each key is a header name and value is the header content.</li>\n<li>\n<code>payload</code> - the formatted object used as the response payload (stringified). Can be directly manipulated but any\nchanges will be lost\nif <code>reformat()</code> is called. Any content allowed and by default includes the following content:\n<ul>\n<li>\n<code>statusCode</code> - the HTTP status code, derived from <code>error.output.statusCode</code>.</li>\n<li>\n<code>error</code> - the HTTP status message (e.g. 'Bad Request', 'Internal Server Error') derived from <code>statusCode</code>.</li>\n<li>\n<code>message</code> - the error message derived from <code>error.message</code>.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>inherited <code>Error</code> properties.</li>\n</ul>\n<p>The <code>Boom</code> object also supports the following method:</p>\n<ul>\n<li>\n<code>reformat()</code> - rebuilds <code>error.output</code> using the other object properties.</li>\n</ul>\n<h2>\n<a id=\"helper-methods\" class=\"anchor\" href=\"#helper-methods\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Helper Methods</h2>\n<h3>\n<a id=\"boomifyerror-options\" class=\"anchor\" href=\"#boomifyerror-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>boomify(error, [options])</code>\n</h3>\n<p>Decorates an error with the <strong>boom</strong> properties where:</p>\n<ul>\n<li>\n<code>error</code> - the <code>Error</code> object to decorate.</li>\n<li>\n<code>options</code> - optional object with the following optional settings:\n<ul>\n<li>\n<code>statusCode</code> - the HTTP status code. Defaults to <code>500</code> if no status code is already set.</li>\n<li>\n<code>message</code> - error message string. If the error already has a message, the provided <code>message</code> is added as a prefix.\nDefaults to no message.</li>\n<li>\n<code>override</code> - if <code>false</code>, the <code>error</code> provided is a <strong>boom</strong> object, and a <code>statusCode</code> or <code>message</code> are provided,\nthe values are ignored. Defaults to <code>true</code> (apply the provided <code>statusCode</code> and <code>message</code> options to the error\nregardless of its type, <code>Error</code> or <strong>boom</strong> object).</li>\n</ul>\n</li>\n</ul>\n<p>Note: This method replaces the <a href=\"#wraperror-statuscode-message\"><code>wrap()</code></a> and changes the default behavior to override\nexisting <strong>boom</strong> objects with the provided status code and message.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> error <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Unexpected input<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">boomify</span>(error, { statusCode<span class=\"pl-k\">:</span> <span class=\"pl-c1\">400</span> });</pre></div>\n<h3>\n<a id=\"wraperror-statuscode-message\" class=\"anchor\" href=\"#wraperror-statuscode-message\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>wrap(error, [statusCode], [message])</code>\n</h3>\n<p>Note: This method is deprecated.</p>\n<p>Decorates an error with the <strong>boom</strong> properties where:</p>\n<ul>\n<li>\n<code>error</code> - the error object to wrap. If <code>error</code> is already a <strong>boom</strong> object, returns back the same object.</li>\n<li>\n<code>statusCode</code> - optional HTTP status code. Defaults to <code>500</code>.</li>\n<li>\n<code>message</code> - optional message string. If the error already has a message, it adds the message as a prefix.\nDefaults to no message.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> error <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Unexpected input<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">wrap</span>(error, <span class=\"pl-c1\">400</span>);</pre></div>\n<h3>\n<a id=\"createstatuscode-message-data\" class=\"anchor\" href=\"#createstatuscode-message-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>create(statusCode, [message], [data])</code>\n</h3>\n<p>Generates an <code>Error</code> object with the <strong>boom</strong> decorations where:</p>\n<ul>\n<li>\n<code>statusCode</code> - an HTTP error code number. Must be greater or equal 400.</li>\n<li>\n<code>message</code> - optional message string.</li>\n<li>\n<code>data</code> - additional error data set to <code>error.data</code> property.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> error <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">create</span>(<span class=\"pl-c1\">400</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Bad request<span class=\"pl-pds\">'</span></span>, { timestamp<span class=\"pl-k\">:</span> <span class=\"pl-c1\">Date</span>.<span class=\"pl-en\">now</span>() });</pre></div>\n<h2>\n<a id=\"http-4xx-errors\" class=\"anchor\" href=\"#http-4xx-errors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>HTTP 4xx Errors</h2>\n<h3>\n<a id=\"boombadrequestmessage-data\" class=\"anchor\" href=\"#boombadrequestmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.badRequest([message], [data])</code>\n</h3>\n<p>Returns a 400 Bad Request error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">badRequest</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>invalid query<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">400</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Bad Request<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>invalid query<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boomunauthorizedmessage-scheme-attributes\" class=\"anchor\" href=\"#boomunauthorizedmessage-scheme-attributes\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.unauthorized([message], [scheme], [attributes])</code>\n</h3>\n<p>Returns a 401 Unauthorized error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>scheme</code> can be one of the following:\n<ul>\n<li>an authentication scheme name</li>\n<li>an array of string values. These values will be separated by ', ' and set to the 'WWW-Authenticate' header.</li>\n</ul>\n</li>\n<li>\n<code>attributes</code> - an object of values to use while setting the 'WWW-Authenticate' header. This value is only used\nwhen <code>scheme</code> is a string, otherwise it is ignored. Every key/value pair will be included in the\n'WWW-Authenticate' in the format of 'key=\"value\"' as well as in the response payload under the <code>attributes</code> key.  Alternatively value can be a string which is use to set the value of the scheme, for example setting the token value for negotiate header.  If string is used message parameter must be null.\n<code>null</code> and <code>undefined</code> will be replaced with an empty string. If <code>attributes</code> is set, <code>message</code> will be used as\nthe 'error' segment of the 'WWW-Authenticate' header. If <code>message</code> is unset, the 'error' segment of the header\nwill not be present and <code>isMissing</code> will be true on the error object.</li>\n</ul>\n<p>If either <code>scheme</code> or <code>attributes</code> are set, the resultant <code>Boom</code> object will have the 'WWW-Authenticate' header set for the response.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">unauthorized</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>invalid password<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response:</p>\n<div class=\"highlight highlight-source-json\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>payload<span class=\"pl-pds\">\"</span></span>: {\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">401</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Unauthorized<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>invalid password<span class=\"pl-pds\">\"</span></span>\n},\n<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>headers<span class=\"pl-pds\">\"</span></span> {}</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">unauthorized</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>invalid password<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>sample<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response:</p>\n<div class=\"highlight highlight-source-json\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>payload<span class=\"pl-pds\">\"</span></span>: {\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">401</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Unauthorized<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>invalid password<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>attributes<span class=\"pl-pds\">\"</span></span>: {\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>invalid password<span class=\"pl-pds\">\"</span></span>\n    }\n},\n<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>headers<span class=\"pl-pds\">\"</span></span> {\n  <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>WWW-Authenticate<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sample error=<span class=\"pl-cce\">\\\"</span>invalid password<span class=\"pl-cce\">\\\"</span><span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">unauthorized</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Negotiate<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>VGhpcyBpcyBhIHRlc3QgdG9rZW4=<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response:</p>\n<div class=\"highlight highlight-source-json\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>payload<span class=\"pl-pds\">\"</span></span>: {\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">401</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Unauthorized<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>attributes<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>VGhpcyBpcyBhIHRlc3QgdG9rZW4=<span class=\"pl-pds\">\"</span></span>\n},\n<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>headers<span class=\"pl-pds\">\"</span></span> {\n  <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>WWW-Authenticate<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Negotiate VGhpcyBpcyBhIHRlc3QgdG9rZW4=<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">unauthorized</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>invalid password<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>sample<span class=\"pl-pds\">'</span></span>, { ttl<span class=\"pl-k\">:</span> <span class=\"pl-c1\">0</span>, cache<span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>, foo<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>bar<span class=\"pl-pds\">'</span></span> });</pre></div>\n<p>Generates the following response:</p>\n<div class=\"highlight highlight-source-json\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>payload<span class=\"pl-pds\">\"</span></span>: {\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">401</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Unauthorized<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>invalid password<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>attributes<span class=\"pl-pds\">\"</span></span>: {\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>invalid password<span class=\"pl-pds\">\"</span></span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ttl<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">0</span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>cache<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>foo<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>bar<span class=\"pl-pds\">\"</span></span>\n    }\n},\n<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>headers<span class=\"pl-pds\">\"</span></span> {\n  <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>WWW-Authenticate<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sample ttl=<span class=\"pl-cce\">\\\"</span>0<span class=\"pl-cce\">\\\"</span>, cache=<span class=\"pl-cce\">\\\"\\\"</span>, foo=<span class=\"pl-cce\">\\\"</span>bar<span class=\"pl-cce\">\\\"</span>, error=<span class=\"pl-cce\">\\\"</span>invalid password<span class=\"pl-cce\">\\\"</span><span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boompaymentrequiredmessage-data\" class=\"anchor\" href=\"#boompaymentrequiredmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.paymentRequired([message], [data])</code>\n</h3>\n<p>Returns a 402 Payment Required error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">paymentRequired</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>bandwidth used<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">402</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Payment Required<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>bandwidth used<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boomforbiddenmessage-data\" class=\"anchor\" href=\"#boomforbiddenmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.forbidden([message], [data])</code>\n</h3>\n<p>Returns a 403 Forbidden error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">forbidden</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>try again some time<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">403</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Forbidden<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>try again some time<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boomnotfoundmessage-data\" class=\"anchor\" href=\"#boomnotfoundmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.notFound([message], [data])</code>\n</h3>\n<p>Returns a 404 Not Found error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">notFound</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>missing<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">404</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Not Found<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>missing<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boommethodnotallowedmessage-data-allow\" class=\"anchor\" href=\"#boommethodnotallowedmessage-data-allow\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.methodNotAllowed([message], [data], [allow])</code>\n</h3>\n<p>Returns a 405 Method Not Allowed error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n<li>\n<code>allow</code> - optional string or array of strings (to be combined and separated by ', ') which is set to the 'Allow' header.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">methodNotAllowed</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>that method is not allowed<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">405</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Method Not Allowed<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>that method is not allowed<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boomnotacceptablemessage-data\" class=\"anchor\" href=\"#boomnotacceptablemessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.notAcceptable([message], [data])</code>\n</h3>\n<p>Returns a 406 Not Acceptable error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">notAcceptable</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>unacceptable<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">406</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Not Acceptable<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>unacceptable<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boomproxyauthrequiredmessage-data\" class=\"anchor\" href=\"#boomproxyauthrequiredmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.proxyAuthRequired([message], [data])</code>\n</h3>\n<p>Returns a 407 Proxy Authentication Required error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">proxyAuthRequired</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>auth missing<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">407</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Proxy Authentication Required<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>auth missing<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boomclienttimeoutmessage-data\" class=\"anchor\" href=\"#boomclienttimeoutmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.clientTimeout([message], [data])</code>\n</h3>\n<p>Returns a 408 Request Time-out error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">clientTimeout</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>timed out<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">408</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Request Time-out<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>timed out<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boomconflictmessage-data\" class=\"anchor\" href=\"#boomconflictmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.conflict([message], [data])</code>\n</h3>\n<p>Returns a 409 Conflict error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">conflict</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>there was a conflict<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">409</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Conflict<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>there was a conflict<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boomresourcegonemessage-data\" class=\"anchor\" href=\"#boomresourcegonemessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.resourceGone([message], [data])</code>\n</h3>\n<p>Returns a 410 Gone error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">resourceGone</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>it is gone<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">410</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Gone<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>it is gone<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boomlengthrequiredmessage-data\" class=\"anchor\" href=\"#boomlengthrequiredmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.lengthRequired([message], [data])</code>\n</h3>\n<p>Returns a 411 Length Required error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">lengthRequired</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>length needed<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">411</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Length Required<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>length needed<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boompreconditionfailedmessage-data\" class=\"anchor\" href=\"#boompreconditionfailedmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.preconditionFailed([message], [data])</code>\n</h3>\n<p>Returns a 412 Precondition Failed error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">preconditionFailed</span>();</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">412</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Precondition Failed<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boomentitytoolargemessage-data\" class=\"anchor\" href=\"#boomentitytoolargemessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.entityTooLarge([message], [data])</code>\n</h3>\n<p>Returns a 413 Request Entity Too Large error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">entityTooLarge</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>too big<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">413</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Request Entity Too Large<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>too big<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boomuritoolongmessage-data\" class=\"anchor\" href=\"#boomuritoolongmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.uriTooLong([message], [data])</code>\n</h3>\n<p>Returns a 414 Request-URI Too Large error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">uriTooLong</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>uri is too long<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">414</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Request-URI Too Large<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>uri is too long<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boomunsupportedmediatypemessage-data\" class=\"anchor\" href=\"#boomunsupportedmediatypemessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.unsupportedMediaType([message], [data])</code>\n</h3>\n<p>Returns a 415 Unsupported Media Type error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">unsupportedMediaType</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>that media is not supported<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">415</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Unsupported Media Type<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>that media is not supported<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boomrangenotsatisfiablemessage-data\" class=\"anchor\" href=\"#boomrangenotsatisfiablemessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.rangeNotSatisfiable([message], [data])</code>\n</h3>\n<p>Returns a 416 Requested Range Not Satisfiable error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">rangeNotSatisfiable</span>();</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">416</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Requested Range Not Satisfiable<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boomexpectationfailedmessage-data\" class=\"anchor\" href=\"#boomexpectationfailedmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.expectationFailed([message], [data])</code>\n</h3>\n<p>Returns a 417 Expectation Failed error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">expectationFailed</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>expected this to work<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">417</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Expectation Failed<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>expected this to work<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boomteapotmessage-data\" class=\"anchor\" href=\"#boomteapotmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.teapot([message], [data])</code>\n</h3>\n<p>Returns a 418 I'm a Teapot error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">teapot</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>sorry, no coffee...<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">418</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>I'm a Teapot<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Sorry, no coffee...<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boombaddatamessage-data\" class=\"anchor\" href=\"#boombaddatamessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.badData([message], [data])</code>\n</h3>\n<p>Returns a 422 Unprocessable Entity error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">badData</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>your data is bad and you should feel bad<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">422</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Unprocessable Entity<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>your data is bad and you should feel bad<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boomlockedmessage-data\" class=\"anchor\" href=\"#boomlockedmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.locked([message], [data])</code>\n</h3>\n<p>Returns a 423 Locked error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">locked</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>this resource has been locked<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">423</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Locked<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>this resource has been locked<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boompreconditionrequiredmessage-data\" class=\"anchor\" href=\"#boompreconditionrequiredmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.preconditionRequired([message], [data])</code>\n</h3>\n<p>Returns a 428 Precondition Required error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">preconditionRequired</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>you must supply an If-Match header<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">428</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Precondition Required<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>you must supply an If-Match header<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boomtoomanyrequestsmessage-data\" class=\"anchor\" href=\"#boomtoomanyrequestsmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.tooManyRequests([message], [data])</code>\n</h3>\n<p>Returns a 429 Too Many Requests error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">tooManyRequests</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>you have exceeded your request limit<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">429</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Too Many Requests<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>you have exceeded your request limit<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boomillegalmessage-data\" class=\"anchor\" href=\"#boomillegalmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.illegal([message], [data])</code>\n</h3>\n<p>Returns a 451 Unavailable For Legal Reasons error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">illegal</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>you are not permitted to view this resource for legal reasons<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">451</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Unavailable For Legal Reasons<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>you are not permitted to view this resource for legal reasons<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h2>\n<a id=\"http-5xx-errors\" class=\"anchor\" href=\"#http-5xx-errors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>HTTP 5xx Errors</h2>\n<p>All 500 errors hide your message from the end user. Your message is recorded in the server log.</p>\n<h3>\n<a id=\"boombadimplementationmessage-data---alias-internal\" class=\"anchor\" href=\"#boombadimplementationmessage-data---alias-internal\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.badImplementation([message], [data])</code> - (<em>alias: <code>internal</code></em>)</h3>\n<p>Returns a 500 Internal Server Error error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">badImplementation</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>terrible implementation<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">500</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Internal Server Error<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>An internal server error occurred<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boomnotimplementedmessage-data\" class=\"anchor\" href=\"#boomnotimplementedmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.notImplemented([message], [data])</code>\n</h3>\n<p>Returns a 501 Not Implemented error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">notImplemented</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>method not implemented<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">501</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Not Implemented<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>method not implemented<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boombadgatewaymessage-data\" class=\"anchor\" href=\"#boombadgatewaymessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.badGateway([message], [data])</code>\n</h3>\n<p>Returns a 502 Bad Gateway error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">badGateway</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>that is a bad gateway<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">502</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Bad Gateway<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>that is a bad gateway<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boomserverunavailablemessage-data\" class=\"anchor\" href=\"#boomserverunavailablemessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.serverUnavailable([message], [data])</code>\n</h3>\n<p>Returns a 503 Service Unavailable error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">serverUnavailable</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>unavailable<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">503</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Service Unavailable<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>unavailable<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h3>\n<a id=\"boomgatewaytimeoutmessage-data\" class=\"anchor\" href=\"#boomgatewaytimeoutmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.gatewayTimeout([message], [data])</code>\n</h3>\n<p>Returns a 504 Gateway Time-out error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">gatewayTimeout</span>();</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">504</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Gateway Time-out<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h2>\n<a id=\"faq\" class=\"anchor\" href=\"#faq\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>F.A.Q.</h2>\n<p><strong>Q</strong> How do I include extra information in my responses? <code>output.payload</code> is missing <code>data</code>, what gives?</p>\n<p><strong>A</strong> There is a reason the values passed back in the response payloads are pretty locked down. It's mostly for security and to not leak any important information back to the client. This means you will need to put in a little more effort to include extra information about your custom error. Check out the <a href=\"https://github.com/hapijs/hapi/blob/master/API.md#error-transformation\">\"Error transformation\"</a> section in the hapi documentation.</p>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"},"7.4.11":{"menu":"- [`reformat()`](#reformatdebug)\n- [Helper Methods](#helper-methods)\n  - [`new Boom()`](#new-boommessage-options)\n  - [`boomify()`](#boomifyerr-options)\n  - [`isBoom()`](#isboomerr)\n- [HTTP 4xx Errors](#http-4xx-errors)\n  - [`badRequest()`](#boombadrequestmessage-data)\n  - [`unauthorized()`](#boomunauthorizedmessage-scheme-attributes)\n  - [`paymentRequired()`](#boompaymentrequiredmessage-data)\n  - [`forbidden()`](#boomforbiddenmessage-data)\n  - [`notFound()`](#boomnotfoundmessage-data)\n  - [`methodNotAllowed()`](#boommethodnotallowedmessage-data-allow)\n  - [`notAcceptable()`](#boomnotacceptablemessage-data)\n  - [`proxyAuthRequired()`](#boomproxyauthrequiredmessage-data)\n  - [`clientTimeout()`](#boomclienttimeoutmessage-data)\n  - [`conflict()`](#boomconflictmessage-data)\n  - [`resourceGone()`](#boomresourcegonemessage-data)\n  - [`lengthRequired()`](#boomlengthrequiredmessage-data)\n  - [`preconditionFailed()`](#boompreconditionfailedmessage-data)\n  - [`entityTooLarge()`](#boomentitytoolargemessage-data)\n  - [`uriTooLong()`](#boomuritoolongmessage-data)\n  - [`unsupportedMediaType()`](#boomunsupportedmediatypemessage-data)\n  - [`rangeNotSatisfiable()`](#boomrangenotsatisfiablemessage-data)\n  - [`expectationFailed()`](#boomexpectationfailedmessage-data)\n  - [`teapot()`](#boomteapotmessage-data)\n  - [`badData()`](#boombaddatamessage-data)\n  - [`locked()`](#boomlockedmessage-data)\n  - [`failedDependency()`](#boomfaileddependencymessage-data)\n  - [`preconditionRequired()`](#boompreconditionrequiredmessage-data)\n  - [`tooManyRequests()`](#boomtoomanyrequestsmessage-data)\n  - [`illegal()`](#boomillegalmessage-data)\n- [HTTP 5xx Errors](#http-5xx-errors)\n  - [`badImplementation()` - (*alias: `internal`*)](#boombadimplementationmessage-data---alias-internal)\n  - [`notImplemented()`](#boomnotimplementedmessage-data)\n  - [`badGateway()`](#boombadgatewaymessage-data)\n  - [`serverUnavailable()`](#boomserverunavailablemessage-data)\n  - [`gatewayTimeout()`](#boomgatewaytimeoutmessage-data)\n- [F.A.Q.](#faq)","api":"<p><strong>boom</strong> provides a set of utilities for returning HTTP errors. Each utility returns a <code>Boom</code>\nerror response object which includes the following properties:</p>\n<ul>\n<li>\n<code>isBoom</code> - if <code>true</code>, indicates this is a <code>Boom</code> object instance. Note that this boolean should\nonly be used if the error is an instance of <code>Error</code>. If it is not certain, use <code>Boom.isBoom()</code>\ninstead.</li>\n<li>\n<code>isServer</code> - convenience bool indicating status code &gt;= 500.</li>\n<li>\n<code>message</code> - the error message.</li>\n<li>\n<code>typeof</code> - the constructor used to create the error (e.g. <code>Boom.badRequest</code>).</li>\n<li>\n<code>output</code> - the formatted response. Can be directly manipulated after object construction to return a custom\nerror response. Allowed root keys:\n<ul>\n<li>\n<code>statusCode</code> - the HTTP status code (typically 4xx or 5xx).</li>\n<li>\n<code>headers</code> - an object containing any HTTP headers where each key is a header name and value is the header content.</li>\n<li>\n<code>payload</code> - the formatted object used as the response payload (stringified). Can be directly manipulated but any\nchanges will be lost\nif <code>reformat()</code> is called. Any content allowed and by default includes the following content:\n<ul>\n<li>\n<code>statusCode</code> - the HTTP status code, derived from <code>error.output.statusCode</code>.</li>\n<li>\n<code>error</code> - the HTTP status message (e.g. 'Bad Request', 'Internal Server Error') derived from <code>statusCode</code>.</li>\n<li>\n<code>message</code> - the error message derived from <code>error.message</code>.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>inherited <code>Error</code> properties.</li>\n</ul>\n<p>The <code>Boom</code> object also supports the following method:</p>\n<h4>\n<a id=\"reformatdebug\" class=\"anchor\" href=\"#reformatdebug\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>reformat(debug)</code>\n</h4>\n<p>Rebuilds <code>error.output</code> using the other object properties where:</p>\n<ul>\n<li>\n<code>debug</code> - a Boolean that, when <code>true</code>, causes Internal Server Error messages to be left in tact. Defaults to <code>false</code>, meaning that Internal Server Error messages are redacted.</li>\n</ul>\n<p>Note that <code>Boom</code> object will return <code>true</code> when used with <code>instanceof Boom</code>, but do not use the\n<code>Boom</code> prototype (they are either plain <code>Error</code> or the error prototype passed in). This means\n<code>Boom</code> objects should only be tested using <code>instanceof Boom</code> or <code>Boom.isBoom()</code> but not by looking\nat the prototype or contructor information. This limitation is to avoid manipulating the prototype\nchain which is very slow.</p>\n<h4>\n<a id=\"helper-methods\" class=\"anchor\" href=\"#helper-methods\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Helper Methods</h4>\n<h5>\n<a id=\"new-boommessage-options\" class=\"anchor\" href=\"#new-boommessage-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Boom(message, [options])</code>\n</h5>\n<p>Creates a new <code>Boom</code> object using the provided <code>message</code> and then calling\n<a href=\"#boomifyerr-options\"><code>boomify()</code></a> to decorate the error with the <code>Boom</code> properties, where:</p>\n<ul>\n<li>\n<code>message</code> - the error message. If <code>message</code> is an error, it is the same as calling\n<a href=\"#boomifyerr-options\"><code>boomify()</code></a> directly.</li>\n<li>\n<code>options</code> - and optional object where:\n<ul>\n<li>\n<code>statusCode</code> - the HTTP status code. Defaults to <code>500</code> if no status code is already set.</li>\n<li>\n<code>data</code> - additional error information (assigned to <code>error.data</code>).</li>\n<li>\n<code>decorate</code> - an option with extra properties to set on the error object.</li>\n<li>\n<code>ctor</code> - constructor reference used to crop the exception call stack output.</li>\n<li>if <code>message</code> is an error object, also supports the other <a href=\"#boomifyerr-options\"><code>boomify()</code></a>\noptions.</li>\n</ul>\n</li>\n</ul>\n<h5>\n<a id=\"boomifyerr-options\" class=\"anchor\" href=\"#boomifyerr-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>boomify(err, [options])</code>\n</h5>\n<p>Decorates an error with the <code>Boom</code> properties where:</p>\n<ul>\n<li>\n<code>err</code> - the <code>Error</code> object to decorate.</li>\n<li>\n<code>options</code> - optional object with the following optional settings:\n<ul>\n<li>\n<code>statusCode</code> - the HTTP status code. Defaults to <code>500</code> if no status code is already set and <code>err</code> is not a <code>Boom</code> object.</li>\n<li>\n<code>message</code> - error message string. If the error already has a message, the provided <code>message</code> is added as a prefix.\nDefaults to no message.</li>\n<li>\n<code>decorate</code> - an option with extra properties to set on the error object.</li>\n<li>\n<code>override</code> - if <code>false</code>, the <code>err</code> provided is a <code>Boom</code> object, and a <code>statusCode</code> or <code>message</code> are provided,\nthe values are ignored. Defaults to <code>true</code> (apply the provided <code>statusCode</code> and <code>message</code> options to the error\nregardless of its type, <code>Error</code> or <code>Boom</code> object).</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> error <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Unexpected input<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">boomify</span>(error, { statusCode<span class=\"pl-k\">:</span> <span class=\"pl-c1\">400</span> });</pre></div>\n<h5>\n<a id=\"isboomerr\" class=\"anchor\" href=\"#isboomerr\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>isBoom(err)</code>\n</h5>\n<p>Identifies whether an error is a <code>Boom</code> object. Same as calling <code>instanceof Boom</code>.</p>\n<h4>\n<a id=\"http-4xx-errors\" class=\"anchor\" href=\"#http-4xx-errors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>HTTP 4xx Errors</h4>\n<h5>\n<a id=\"boombadrequestmessage-data\" class=\"anchor\" href=\"#boombadrequestmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.badRequest([message], [data])</code>\n</h5>\n<p>Returns a 400 Bad Request error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">badRequest</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>invalid query<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">400</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Bad Request<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>invalid query<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomunauthorizedmessage-scheme-attributes\" class=\"anchor\" href=\"#boomunauthorizedmessage-scheme-attributes\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.unauthorized([message], [scheme], [attributes])</code>\n</h5>\n<p>Returns a 401 Unauthorized error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>scheme</code> can be one of the following:\n<ul>\n<li>an authentication scheme name</li>\n<li>an array of string values. These values will be separated by ', ' and set to the 'WWW-Authenticate' header.</li>\n</ul>\n</li>\n<li>\n<code>attributes</code> - an object of values to use while setting the 'WWW-Authenticate' header. This value is only used\nwhen <code>scheme</code> is a string, otherwise it is ignored. Every key/value pair will be included in the\n'WWW-Authenticate' in the format of 'key=\"value\"' as well as in the response payload under the <code>attributes</code> key.  Alternatively value can be a string which is use to set the value of the scheme, for example setting the token value for negotiate header.  If string is used message parameter must be null.\n<code>null</code> and <code>undefined</code> will be replaced with an empty string. If <code>attributes</code> is set, <code>message</code> will be used as\nthe 'error' segment of the 'WWW-Authenticate' header. If <code>message</code> is unset, the 'error' segment of the header\nwill not be present and <code>isMissing</code> will be true on the error object.</li>\n</ul>\n<p>If either <code>scheme</code> or <code>attributes</code> are set, the resultant <code>Boom</code> object will have the\n'WWW-Authenticate' header set for the response.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">unauthorized</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>invalid password<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response:</p>\n<div class=\"highlight highlight-source-json\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>payload<span class=\"pl-pds\">\"</span></span>: {\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">401</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Unauthorized<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>invalid password<span class=\"pl-pds\">\"</span></span>\n},\n<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>headers<span class=\"pl-pds\">\"</span></span> {}</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">unauthorized</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>invalid password<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>sample<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response:</p>\n<div class=\"highlight highlight-source-json\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>payload<span class=\"pl-pds\">\"</span></span>: {\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">401</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Unauthorized<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>invalid password<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>attributes<span class=\"pl-pds\">\"</span></span>: {\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>invalid password<span class=\"pl-pds\">\"</span></span>\n    }\n},\n<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>headers<span class=\"pl-pds\">\"</span></span> {\n  <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>WWW-Authenticate<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sample error=<span class=\"pl-cce\">\\\"</span>invalid password<span class=\"pl-cce\">\\\"</span><span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">unauthorized</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Negotiate<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>VGhpcyBpcyBhIHRlc3QgdG9rZW4=<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response:</p>\n<div class=\"highlight highlight-source-json\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>payload<span class=\"pl-pds\">\"</span></span>: {\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">401</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Unauthorized<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>attributes<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>VGhpcyBpcyBhIHRlc3QgdG9rZW4=<span class=\"pl-pds\">\"</span></span>\n},\n<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>headers<span class=\"pl-pds\">\"</span></span> {\n  <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>WWW-Authenticate<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Negotiate VGhpcyBpcyBhIHRlc3QgdG9rZW4=<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">unauthorized</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>invalid password<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>sample<span class=\"pl-pds\">'</span></span>, { ttl<span class=\"pl-k\">:</span> <span class=\"pl-c1\">0</span>, cache<span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>, foo<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>bar<span class=\"pl-pds\">'</span></span> });</pre></div>\n<p>Generates the following response:</p>\n<div class=\"highlight highlight-source-json\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>payload<span class=\"pl-pds\">\"</span></span>: {\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">401</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Unauthorized<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>invalid password<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>attributes<span class=\"pl-pds\">\"</span></span>: {\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>invalid password<span class=\"pl-pds\">\"</span></span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ttl<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">0</span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>cache<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>foo<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>bar<span class=\"pl-pds\">\"</span></span>\n    }\n},\n<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>headers<span class=\"pl-pds\">\"</span></span> {\n  <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>WWW-Authenticate<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sample ttl=<span class=\"pl-cce\">\\\"</span>0<span class=\"pl-cce\">\\\"</span>, cache=<span class=\"pl-cce\">\\\"\\\"</span>, foo=<span class=\"pl-cce\">\\\"</span>bar<span class=\"pl-cce\">\\\"</span>, error=<span class=\"pl-cce\">\\\"</span>invalid password<span class=\"pl-cce\">\\\"</span><span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boompaymentrequiredmessage-data\" class=\"anchor\" href=\"#boompaymentrequiredmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.paymentRequired([message], [data])</code>\n</h5>\n<p>Returns a 402 Payment Required error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">paymentRequired</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>bandwidth used<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">402</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Payment Required<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>bandwidth used<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomforbiddenmessage-data\" class=\"anchor\" href=\"#boomforbiddenmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.forbidden([message], [data])</code>\n</h5>\n<p>Returns a 403 Forbidden error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">forbidden</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>try again some time<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">403</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Forbidden<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>try again some time<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomnotfoundmessage-data\" class=\"anchor\" href=\"#boomnotfoundmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.notFound([message], [data])</code>\n</h5>\n<p>Returns a 404 Not Found error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">notFound</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>missing<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">404</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Not Found<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>missing<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boommethodnotallowedmessage-data-allow\" class=\"anchor\" href=\"#boommethodnotallowedmessage-data-allow\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.methodNotAllowed([message], [data], [allow])</code>\n</h5>\n<p>Returns a 405 Method Not Allowed error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n<li>\n<code>allow</code> - optional string or array of strings (to be combined and separated by ', ') which is set to the 'Allow' header.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">methodNotAllowed</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>that method is not allowed<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">405</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Method Not Allowed<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>that method is not allowed<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomnotacceptablemessage-data\" class=\"anchor\" href=\"#boomnotacceptablemessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.notAcceptable([message], [data])</code>\n</h5>\n<p>Returns a 406 Not Acceptable error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">notAcceptable</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>unacceptable<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">406</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Not Acceptable<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>unacceptable<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomproxyauthrequiredmessage-data\" class=\"anchor\" href=\"#boomproxyauthrequiredmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.proxyAuthRequired([message], [data])</code>\n</h5>\n<p>Returns a 407 Proxy Authentication Required error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">proxyAuthRequired</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>auth missing<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">407</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Proxy Authentication Required<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>auth missing<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomclienttimeoutmessage-data\" class=\"anchor\" href=\"#boomclienttimeoutmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.clientTimeout([message], [data])</code>\n</h5>\n<p>Returns a 408 Request Time-out error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">clientTimeout</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>timed out<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">408</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Request Time-out<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>timed out<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomconflictmessage-data\" class=\"anchor\" href=\"#boomconflictmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.conflict([message], [data])</code>\n</h5>\n<p>Returns a 409 Conflict error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">conflict</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>there was a conflict<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">409</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Conflict<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>there was a conflict<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomresourcegonemessage-data\" class=\"anchor\" href=\"#boomresourcegonemessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.resourceGone([message], [data])</code>\n</h5>\n<p>Returns a 410 Gone error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">resourceGone</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>it is gone<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">410</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Gone<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>it is gone<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomlengthrequiredmessage-data\" class=\"anchor\" href=\"#boomlengthrequiredmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.lengthRequired([message], [data])</code>\n</h5>\n<p>Returns a 411 Length Required error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">lengthRequired</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>length needed<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">411</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Length Required<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>length needed<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boompreconditionfailedmessage-data\" class=\"anchor\" href=\"#boompreconditionfailedmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.preconditionFailed([message], [data])</code>\n</h5>\n<p>Returns a 412 Precondition Failed error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">preconditionFailed</span>();</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">412</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Precondition Failed<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomentitytoolargemessage-data\" class=\"anchor\" href=\"#boomentitytoolargemessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.entityTooLarge([message], [data])</code>\n</h5>\n<p>Returns a 413 Request Entity Too Large error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">entityTooLarge</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>too big<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">413</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Request Entity Too Large<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>too big<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomuritoolongmessage-data\" class=\"anchor\" href=\"#boomuritoolongmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.uriTooLong([message], [data])</code>\n</h5>\n<p>Returns a 414 Request-URI Too Large error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">uriTooLong</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>uri is too long<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">414</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Request-URI Too Large<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>uri is too long<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomunsupportedmediatypemessage-data\" class=\"anchor\" href=\"#boomunsupportedmediatypemessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.unsupportedMediaType([message], [data])</code>\n</h5>\n<p>Returns a 415 Unsupported Media Type error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">unsupportedMediaType</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>that media is not supported<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">415</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Unsupported Media Type<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>that media is not supported<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomrangenotsatisfiablemessage-data\" class=\"anchor\" href=\"#boomrangenotsatisfiablemessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.rangeNotSatisfiable([message], [data])</code>\n</h5>\n<p>Returns a 416 Requested Range Not Satisfiable error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">rangeNotSatisfiable</span>();</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">416</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Requested Range Not Satisfiable<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomexpectationfailedmessage-data\" class=\"anchor\" href=\"#boomexpectationfailedmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.expectationFailed([message], [data])</code>\n</h5>\n<p>Returns a 417 Expectation Failed error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">expectationFailed</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>expected this to work<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">417</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Expectation Failed<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>expected this to work<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomteapotmessage-data\" class=\"anchor\" href=\"#boomteapotmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.teapot([message], [data])</code>\n</h5>\n<p>Returns a 418 I'm a Teapot error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">teapot</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>sorry, no coffee...<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">418</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>I'm a Teapot<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Sorry, no coffee...<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boombaddatamessage-data\" class=\"anchor\" href=\"#boombaddatamessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.badData([message], [data])</code>\n</h5>\n<p>Returns a 422 Unprocessable Entity error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">badData</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>your data is bad and you should feel bad<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">422</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Unprocessable Entity<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>your data is bad and you should feel bad<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomlockedmessage-data\" class=\"anchor\" href=\"#boomlockedmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.locked([message], [data])</code>\n</h5>\n<p>Returns a 423 Locked error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">locked</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>this resource has been locked<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">423</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Locked<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>this resource has been locked<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomfaileddependencymessage-data\" class=\"anchor\" href=\"#boomfaileddependencymessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.failedDependency([message], [data])</code>\n</h5>\n<p>Returns a 424 Failed Dependency error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">failedDependency</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>an external resource failed<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">424</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Failed Dependency<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>an external resource failed<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boompreconditionrequiredmessage-data\" class=\"anchor\" href=\"#boompreconditionrequiredmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.preconditionRequired([message], [data])</code>\n</h5>\n<p>Returns a 428 Precondition Required error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">preconditionRequired</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>you must supply an If-Match header<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">428</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Precondition Required<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>you must supply an If-Match header<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomtoomanyrequestsmessage-data\" class=\"anchor\" href=\"#boomtoomanyrequestsmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.tooManyRequests([message], [data])</code>\n</h5>\n<p>Returns a 429 Too Many Requests error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">tooManyRequests</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>you have exceeded your request limit<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">429</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Too Many Requests<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>you have exceeded your request limit<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomillegalmessage-data\" class=\"anchor\" href=\"#boomillegalmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.illegal([message], [data])</code>\n</h5>\n<p>Returns a 451 Unavailable For Legal Reasons error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">illegal</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>you are not permitted to view this resource for legal reasons<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">451</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Unavailable For Legal Reasons<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>you are not permitted to view this resource for legal reasons<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h4>\n<a id=\"http-5xx-errors\" class=\"anchor\" href=\"#http-5xx-errors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>HTTP 5xx Errors</h4>\n<p>All 500 errors hide your message from the end user. Your message is recorded in the server log.</p>\n<h5>\n<a id=\"boombadimplementationmessage-data---alias-internal\" class=\"anchor\" href=\"#boombadimplementationmessage-data---alias-internal\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.badImplementation([message], [data])</code> - (<em>alias: <code>internal</code></em>)</h5>\n<p>Returns a 500 Internal Server Error error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">badImplementation</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>terrible implementation<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">500</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Internal Server Error<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>An internal server error occurred<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomnotimplementedmessage-data\" class=\"anchor\" href=\"#boomnotimplementedmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.notImplemented([message], [data])</code>\n</h5>\n<p>Returns a 501 Not Implemented error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">notImplemented</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>method not implemented<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">501</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Not Implemented<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>method not implemented<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boombadgatewaymessage-data\" class=\"anchor\" href=\"#boombadgatewaymessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.badGateway([message], [data])</code>\n</h5>\n<p>Returns a 502 Bad Gateway error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">badGateway</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>that is a bad gateway<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">502</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Bad Gateway<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>that is a bad gateway<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomserverunavailablemessage-data\" class=\"anchor\" href=\"#boomserverunavailablemessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.serverUnavailable([message], [data])</code>\n</h5>\n<p>Returns a 503 Service Unavailable error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">serverUnavailable</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>unavailable<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">503</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Service Unavailable<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>unavailable<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h5>\n<a id=\"boomgatewaytimeoutmessage-data\" class=\"anchor\" href=\"#boomgatewaytimeoutmessage-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Boom.gatewayTimeout([message], [data])</code>\n</h5>\n<p>Returns a 504 Gateway Time-out error where:</p>\n<ul>\n<li>\n<code>message</code> - optional message.</li>\n<li>\n<code>data</code> - optional additional error data.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Boom</span>.<span class=\"pl-en\">gatewayTimeout</span>();</pre></div>\n<p>Generates the following response payload:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">504</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Gateway Time-out<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<h4>\n<a id=\"faq\" class=\"anchor\" href=\"#faq\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>F.A.Q.</h4>\n<p><strong>Q</strong> How do I include extra information in my responses? <code>output.payload</code> is missing <code>data</code>, what gives?</p>\n<p><strong>A</strong> There is a reason the values passed back in the response payloads are pretty locked down. It's mostly for security and to not leak any important information back to the client. This means you will need to put in a little more effort to include extra information about your custom error. Check out the <a href=\"https://github.com/hapijs/hapi/blob/master/API.md#error-transformation\">\"Error transformation\"</a> section in the hapi documentation.</p>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"slogan":"HTTP-friendly error objects.","forks":183,"stars":2674,"date":"2019-11-08T13:31:09Z","updated":"Fri Nov 08 2019","link":"https://github.com/hapijs/boom"},"bossy":{"name":"bossy","versions":[],"versionsArray":[],"slogan":"Command line options parser.","forks":25,"stars":44,"date":"2019-10-09T01:48:10Z","updated":"Wed Oct 09 2019","link":"https://github.com/hapijs/bossy"},"bounce":{"name":"bounce","versions":[],"versionsArray":[],"slogan":"Selective error catching and rewrite rules.","forks":17,"stars":173,"date":"2019-10-15T06:44:49Z","updated":"Tue Oct 15 2019","link":"https://github.com/hapijs/bounce"},"bourne":{"name":"bourne","versions":[{"name":"1.3.2","branch":"master","license":"BSD","node":" 12, 10, 8"},{"name":"1.3.2","branch":"v1-commercial","license":"Commercial","node":" 12, 10, 8, 6"}],"versionsArray":["1.3.2","1.3.2"],"1.3.2":{"menu":"- [Introduction](#introduction)\n- [API](#api)\n  - [`Bourne.parse()`](#bourneparsetext-reviver-options)\n  - [`Bourne.scan()`](#bournescanobj-options)","api":"<h2>\n<a id=\"introduction\" class=\"anchor\" href=\"#introduction\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Introduction</h2>\n<p>Consider this:</p>\n<pre><code>&gt; const a = '{\"__proto__\":{ \"b\":5}}';\n'{\"__proto__\":{ \"b\":5}}'\n\n&gt; const b = JSON.parse(a);\n{ __proto__: { b: 5 } }\n\n&gt; b.b;\nundefined\n\n&gt; const c = Object.assign({}, b);\n{}\n\n&gt; c.b\n5\n</code></pre>\n<p>The problem is that <code>JSON.parse()</code> retains the <code>__proto__</code> property as a plain object key. By\nitself, this is not a security issue. However, as soon as that object is assigned to another or\niterated on and values copied, the <code>__proto__</code> property leaks and becomes the object's prototype.</p>\n<h2>\n<a id=\"api\" class=\"anchor\" href=\"#api\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>API</h2>\n<h3>\n<a id=\"bourneparsetext-reviver-options\" class=\"anchor\" href=\"#bourneparsetext-reviver-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Bourne.parse(text, [reviver], [options])</code>\n</h3>\n<p>Parses a given JSON-formatted text into an object where:</p>\n<ul>\n<li>\n<code>text</code> - the JSON text string.</li>\n<li>\n<code>reviver</code> - the <code>JSON.parse()</code> optional <code>reviver</code> argument.</li>\n<li>\n<code>options</code> - optional configuration object where:\n<ul>\n<li>\n<code>protoAction</code> - optional string with one of:\n<ul>\n<li>\n<code>'error'</code> - throw a <code>SyntaxError</code> when a <code>__proto__</code> key is found. This is the default value.</li>\n<li>\n<code>'remove'</code> - deletes any <code>__proto__</code> keys from the result object.</li>\n<li>\n<code>'ignore'</code> - skips all validation (same as calling <code>JSON.parse()</code> directly).</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"bournescanobj-options\" class=\"anchor\" href=\"#bournescanobj-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Bourne.scan(obj, [options])</code>\n</h3>\n<p>Scans a given object for prototype properties where:</p>\n<ul>\n<li>\n<code>obj</code> - the object being scanned.</li>\n<li>\n<code>options</code> - optional configuration object where:\n<ul>\n<li>\n<code>protoAction</code> - optional string with one of:\n<ul>\n<li>\n<code>'error'</code> - throw a <code>SyntaxError</code> when a <code>__proto__</code> key is found. This is the default value.</li>\n<li>\n<code>'remove'</code> - deletes any <code>__proto__</code> keys from the input <code>obj</code>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"},"slogan":"JSON.parse() drop-in replacement with prototype poisoning protection.","forks":9,"stars":106,"date":"2019-10-09T01:49:10Z","updated":"Wed Oct 09 2019","link":"https://github.com/hapijs/bourne"},"call":{"name":"call","versions":[{"name":"6.0.1","branch":"master","license":"BSD","node":" 12, 10"},{"name":"5.1.2","branch":"v5","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["6.0.1","5.1.2"],"6.0.1":{"menu":"- [Paths matching](#paths-matching)\n  - [Exact match](#exact-match)\n  - [Optional parameters](#optional-parameters)\n  - [Multi-segment parameters](#multi-segment-parameters)\n  - [Catch all](#catch-all)\n- [Routing order](#routing-order)\n- [Method](#method)\n  - [`new Router()`](#new-routeroptions)\n  - [`add()`](#addoptions-data)\n  - [`route()`](#routemethod-path)","api":"<h2>\n<a id=\"paths-matching\" class=\"anchor\" href=\"#paths-matching\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Paths matching</h2>\n<h3>\n<a id=\"exact-match\" class=\"anchor\" href=\"#exact-match\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Exact match</h3>\n<p><code>{param}</code>: If path contains <code>/users/{user}</code> then it matches <code>/users/john</code> or <code>/users/1234</code> but not <code>/users</code>.</p>\n<h3>\n<a id=\"optional-parameters\" class=\"anchor\" href=\"#optional-parameters\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Optional parameters</h3>\n<p><code>{param?}</code>: ? means parameter is optional . If path contains <code>/users/{user?}</code> It matches <code>/users/john</code> as well as <code>/users</code>.</p>\n<p>It is important to be aware that only the last named parameter in a path can be optional. That means that <code>/{one?}/{two}/</code> is an invalid path, since in this case there is another parameter after the optional one. You may also have a named parameter covering only part of a segment of the path, but you may only have one named parameter per segment. That means that /<code>{filename}.jpg</code> is valid while <code>/{filename}.{ext}</code> is not.</p>\n<h3>\n<a id=\"multi-segment-parameters\" class=\"anchor\" href=\"#multi-segment-parameters\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Multi-segment parameters</h3>\n<p><code>{params*n}</code>: With path configuration <code>/users/{user*2}</code>, it matches <code>/users/john/doe</code> or <code>/users/harshal/patil</code> but not <code>/users/john</code>. Number <strong>n</strong> after asterisk sign specifies the multiplier.</p>\n<p>Like the optional parameters, a wildcard parameter (for example <code>/{users*}</code>) may only appear as the last parameter in your path.</p>\n<h3>\n<a id=\"catch-all\" class=\"anchor\" href=\"#catch-all\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Catch all</h3>\n<p><code>{params*}</code>: Using this option, it matches anything. So <code>/users/{user*}</code> with match <code>/users/</code>, <code>/users/john</code>, <code>/users/john/doe</code>, <code>/users/john/doe/smith</code></p>\n<p>For more details about path parameters, <a href=\"https://github.com/hapijs/hapi/blob/master/API.md#path-parameters\">read hapi.js docs</a>.</p>\n<h2>\n<a id=\"routing-order\" class=\"anchor\" href=\"#routing-order\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Routing order</h2>\n<p>When determining what handler to use for a particular request, router searches paths in order from most specific to least specific. That means if you have two routes, one with the path <code>/filename.jpg</code> and a second route <code>/filename.{ext}</code> a request to /filename.jpg will match the first route, and not the second. This also means that a route with the path <code>/{files*}</code> will be the last route tested, and will only match if all other routes fail.</p>\n<p><strong>Call</strong> router has deterministic order than other routers and because of this deterministic order, <code>call</code> is able to detect conflicting routes and throw exception accordingly. In comparison, Express.js has different routing mechanism based on simple RegEx pattern matching making it faster (probably it only matters in theory) but unable to catch route conflicts. Read more about this at <a href=\"https://gist.github.com/hueniverse/a3109f716bf25718ba0e\">Eran Hammer's comments</a>.</p>\n<h2>\n<a id=\"method\" class=\"anchor\" href=\"#method\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Method</h2>\n<h3>\n<a id=\"new-routeroptions\" class=\"anchor\" href=\"#new-routeroptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Router([options])</code>\n</h3>\n<p>Constructor to create a new router instance where:</p>\n<ul>\n<li>\n<code>options</code> - an optional configuration object with the following fields:\n<ul>\n<li>\n<code>isCaseSensitive</code> - specifies if the paths should case sensitive. If set to <code>true</code>,\n<code>/users</code> and <code>/USERS</code> are considered as two different paths. Defaults to <code>true</code>.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">router</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Call.Router</span>();</pre></div>\n<h3>\n<a id=\"addoptions-data\" class=\"anchor\" href=\"#addoptions-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>add(options, [data])</code>\n</h3>\n<p>Adds a new route to the router where:</p>\n<ul>\n<li>\n<code>options</code> - a configuration object with the following fields:\n<ul>\n<li>\n<code>method</code> - the HTTP method (<code>'get'</code>, <code>'put'</code>, <code>'post'</code>, <code>'delete'</code>, etc.) or the wildcard\ncharacter (<code>'*'</code>) to match any methods. The method must be lowercase.</li>\n<li>\n<code>path</code> - the URL path to be used for route matching. The path segment can be static like\n<code>'/users/1234'</code> or it can be a <a href=\"#path-matching\">dynamic path</a>.</li>\n</ul>\n</li>\n<li>\n<code>data</code> - the application data to retrieve when a route match is found during lookup. This is\ntypically the route handler or other metadata about what to do when a route is matched.</li>\n</ul>\n<p>Throws on invalid route configuration or on a conflict with existing routes.</p>\n<h3>\n<a id=\"routemethod-path\" class=\"anchor\" href=\"#routemethod-path\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>route(method, path)</code>\n</h3>\n<p>Finds a matching route where:</p>\n<ul>\n<li>\n<code>method</code> - the requested route method.</li>\n<li>\n<code>path</code> - the requested route path.</li>\n</ul>\n<p>Returns an object with the following when a match is found:</p>\n<ul>\n<li>\n<code>params</code> - an object containing all path parameters where each <strong>key</strong> is path name and\n<strong>value</strong> is the corresponding parameter value in the requested <code>path</code>.</li>\n<li>\n<code>paramsArray</code> - an array of the parameter values in order.</li>\n<li>\n<code>route</code> - the <code>data</code> value provided when the route was added.</li>\n</ul>\n<p>If no match is found, returns (not throws) an error.</p>\n","intro":"## Introduction\n\n`call` is a simple node.js HTTP Router. It is used by popular [hapi.js](https://github.com/hapijs/hapi) web framework. It implements predictable and easy to use routing. Even if it is designed to work with Hapi.js, you can still use it as an independent router in your app.\n","example":"## Example\n\n```js\nconst Call = require('@hapi/call');\n\n// Create new router\nconst router = new Call.Router();\n\n// Add route\nrouter.add({ method: 'get', path: '/' }, { label: 'root-path' });\n\n// Add another route\nrouter.add({ method: 'post', path: '/users' }, 'route specific data');\n\n// Add another route with dynamic path\nrouter.add({ method: 'put', path: '/users/{userId}' }, () => { /* ...handler... */ });\n\n// Match route\nrouter.route('post', '/users');\n/* If matching route is found, it returns an object containing\n    {\n        params: {},                     // All dynamic path parameters as key/value\n        paramsArray: [],                // All dynamic path parameter values in order\n        route: 'route specific data';   // routeData\n    }\n*/\n\n\n// Match route\nrouter.route('put', '/users/1234');\n/* returns\n    {\n        params: { userId: '1234' },\n        paramsArray: [ '1234' ],\n        route: [Function]\n    }\n*/\n```\n","usage":"","faq":"","license":"BSD"},"5.1.2":{"menu":"- [Example](#example)\n- [Paths matching](#paths-matching)\n  - [Exact match](#exact-match)\n  - [Optional parameters](#optional-parameters)\n  - [Multi-segment parameters](#multi-segment-parameters)\n  - [Catch all](#catch-all)\n- [Routing order](#routing-order)\n- [Method](#method)\n  - [`new Router()`](#new-routeroptions)\n  - [`add()`](#addoptions-data)\n  - [`route()`](#routemethod-path)","api":"<h2>\n<a id=\"introduction\" class=\"anchor\" href=\"#introduction\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Introduction</h2>\n<p><code>call</code> is a simple node.js HTTP Router. It is used by popular <a href=\"https://github.com/hapijs/hapi\">hapi.js</a> web framework. It implements predictable and easy to use routing. Even if it is designed to work with Hapi.js, you can still use it as an independent router in your app.</p>\n<h2>\n<a id=\"example\" class=\"anchor\" href=\"#example\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Example</h2>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Call</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/call<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Create new router</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">router</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Call.Router</span>();\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Add route</span>\n<span class=\"pl-smi\">router</span>.<span class=\"pl-c1\">add</span>({ method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>get<span class=\"pl-pds\">'</span></span>, path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span> }, { label<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>root-path<span class=\"pl-pds\">'</span></span> });\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Add another route</span>\n<span class=\"pl-smi\">router</span>.<span class=\"pl-c1\">add</span>({ method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>post<span class=\"pl-pds\">'</span></span>, path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/users<span class=\"pl-pds\">'</span></span> }, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>route specific data<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Add another route with dynamic path</span>\n<span class=\"pl-smi\">router</span>.<span class=\"pl-c1\">add</span>({ method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>put<span class=\"pl-pds\">'</span></span>, path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/users/{userId}<span class=\"pl-pds\">'</span></span> }, () <span class=\"pl-k\">=&gt;</span> { <span class=\"pl-c\"><span class=\"pl-c\">/*</span> ...handler... <span class=\"pl-c\">*/</span></span> });\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Match route</span>\n<span class=\"pl-smi\">router</span>.<span class=\"pl-en\">route</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>post<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/users<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span> If matching route is found, it returns an object containing</span>\n<span class=\"pl-c\">    {</span>\n<span class=\"pl-c\">        params: {},                     // All dynamic path parameters as key/value</span>\n<span class=\"pl-c\">        paramsArray: [],                // All dynamic path parameter values in order</span>\n<span class=\"pl-c\">        route: 'route specific data';   // routeData</span>\n<span class=\"pl-c\">    }</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span>\n\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Match route</span>\n<span class=\"pl-smi\">router</span>.<span class=\"pl-en\">route</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>put<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/users/1234<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span> returns</span>\n<span class=\"pl-c\">    {</span>\n<span class=\"pl-c\">        params: { userId: '1234' },</span>\n<span class=\"pl-c\">        paramsArray: [ '1234' ],</span>\n<span class=\"pl-c\">        route: [Function]</span>\n<span class=\"pl-c\">    }</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span></pre></div>\n<h2>\n<a id=\"paths-matching\" class=\"anchor\" href=\"#paths-matching\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Paths matching</h2>\n<h3>\n<a id=\"exact-match\" class=\"anchor\" href=\"#exact-match\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Exact match</h3>\n<p><code>{param}</code>: If path contains <code>/users/{user}</code> then it matches <code>/users/john</code> or <code>/users/1234</code> but not <code>/users</code>.</p>\n<h3>\n<a id=\"optional-parameters\" class=\"anchor\" href=\"#optional-parameters\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Optional parameters</h3>\n<p><code>{param?}</code>: ? means parameter is optional . If path contains <code>/users/{user?}</code> It matches <code>/users/john</code> as well as <code>/users</code>.</p>\n<p>It is important to be aware that only the last named parameter in a path can be optional. That means that <code>/{one?}/{two}/</code> is an invalid path, since in this case there is another parameter after the optional one. You may also have a named parameter covering only part of a segment of the path, but you may only have one named parameter per segment. That means that /<code>{filename}.jpg</code> is valid while <code>/{filename}.{ext}</code> is not.</p>\n<h3>\n<a id=\"multi-segment-parameters\" class=\"anchor\" href=\"#multi-segment-parameters\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Multi-segment parameters</h3>\n<p><code>{params*n}</code>: With path configuration <code>/users/{user*2}</code>, it matches <code>/users/john/doe</code> or <code>/users/harshal/patil</code> but not <code>/users/john</code>. Number <strong>n</strong> after asterisk sign specifies the multiplier.</p>\n<p>Like the optional parameters, a wildcard parameter (for example <code>/{users*}</code>) may only appear as the last parameter in your path.</p>\n<h3>\n<a id=\"catch-all\" class=\"anchor\" href=\"#catch-all\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Catch all</h3>\n<p><code>{params*}</code>: Using this option, it matches anything. So <code>/users/{user*}</code> with match <code>/users/</code>, <code>/users/john</code>, <code>/users/john/doe</code>, <code>/users/john/doe/smith</code></p>\n<p>For more details about path parameters, <a href=\"https://github.com/hapijs/hapi/blob/master/API.md#path-parameters\">read hapi.js docs</a>.</p>\n<h2>\n<a id=\"routing-order\" class=\"anchor\" href=\"#routing-order\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Routing order</h2>\n<p>When determining what handler to use for a particular request, router searches paths in order from most specific to least specific. That means if you have two routes, one with the path <code>/filename.jpg</code> and a second route <code>/filename.{ext}</code> a request to /filename.jpg will match the first route, and not the second. This also means that a route with the path <code>/{files*}</code> will be the last route tested, and will only match if all other routes fail.</p>\n<p><strong>Call</strong> router has deterministic order than other routers and because of this deterministic order, <code>call</code> is able to detect conflicting routes and throw exception accordingly. In comparison, Express.js has different routing mechanism based on simple RegEx pattern matching making it faster (probably it only matters in theory) but unable to catch route conflicts. Read more about this at <a href=\"https://gist.github.com/hueniverse/a3109f716bf25718ba0e\">Eran Hammer's comments</a>.</p>\n<h2>\n<a id=\"method\" class=\"anchor\" href=\"#method\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Method</h2>\n<h3>\n<a id=\"new-routeroptions\" class=\"anchor\" href=\"#new-routeroptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Router([options])</code>\n</h3>\n<p>Constructor to create a new router instance where:</p>\n<ul>\n<li>\n<code>options</code> - an optional configuration object with the following fields:\n<ul>\n<li>\n<code>isCaseSensitive</code> - specifies if the paths should case sensitive. If set to <code>true</code>,\n<code>/users</code> and <code>/USERS</code> are considered as two different paths. Defaults to <code>true</code>.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">router</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Call.Router</span>();</pre></div>\n<h3>\n<a id=\"addoptions-data\" class=\"anchor\" href=\"#addoptions-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>add(options, [data])</code>\n</h3>\n<p>Adds a new route to the router where:</p>\n<ul>\n<li>\n<code>options</code> - a configuration object with the following fields:\n<ul>\n<li>\n<code>method</code> - the HTTP method (<code>'get'</code>, <code>'put'</code>, <code>'post'</code>, <code>'delete'</code>, etc.) or the wildcard\ncharacter (<code>'*'</code>) to match any methods. The method must be lowercase.</li>\n<li>\n<code>path</code> - the URL path to be used for route matching. The path segment can be static like\n<code>'/users/1234'</code> or it can be a <a href=\"#path-matching\">dynamic path</a>.</li>\n</ul>\n</li>\n<li>\n<code>data</code> - the application data to retrieve when a route match is found during lookup. This is\ntypically the route handler or other metadata about what to do when a route is matched.</li>\n</ul>\n<p>Throws on invalid route configuration or on a conflict with existing routes.</p>\n<h3>\n<a id=\"routemethod-path\" class=\"anchor\" href=\"#routemethod-path\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>route(method, path)</code>\n</h3>\n<p>Finds a matching route where:</p>\n<ul>\n<li>\n<code>method</code> - the requested route method.</li>\n<li>\n<code>path</code> - the requested route path.</li>\n</ul>\n<p>Returns an object with the following when a match is found:</p>\n<ul>\n<li>\n<code>params</code> - an object containing all path parameters where each <strong>key</strong> is path name and\n<strong>value</strong> is the corresponding parameter value in the requested <code>path</code>.</li>\n<li>\n<code>paramsArray</code> - an array of the parameter values in order.</li>\n<li>\n<code>route</code> - the <code>data</code> value provided when the route was added.</li>\n</ul>\n<p>If no match is found, returns (not throws) an error.</p>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"slogan":"Simple HTTP Router.","forks":18,"stars":30,"date":"2019-11-01T22:12:05Z","updated":"Fri Nov 01 2019","link":"https://github.com/hapijs/call"},"catbox":{"name":"catbox","versions":[{"name":"10.2.3","branch":"master","license":"BSD","node":" 12, 10, 8"},{"name":"7.2.0","branch":"v7-commercial","license":"Commercial","node":" 10, 8, 6"}],"versionsArray":["10.2.3","7.2.0"],"10.2.3":{"menu":"- [Installation](#installation)\n- [`Client`](#client)\n  - [API](#api)\n- [`Policy`](#policy)\n  - [API](#api-1)","api":"<p><strong>catbox</strong> is a multi-strategy key-value object store. It comes with extensions supporting a memory\ncache, <a href=\"http://redis.io/\" rel=\"nofollow\">Redis</a>, and <a href=\"http://memcached.org/\" rel=\"nofollow\">Memcached</a>. Additional providers from the\ncommunity can be found on the <a href=\"https://www.npmjs.com/search?q=keywords:catbox\" rel=\"nofollow\">npm Registry</a>.</p>\n<p><strong>catbox</strong> provides two interfaces: a low-level <code>Client</code> and a high-level <code>Policy</code>.</p>\n<h3>\n<a id=\"installation\" class=\"anchor\" href=\"#installation\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Installation</h3>\n<p>In order to reduce module dependencies, <strong>catbox</strong> does not include the external caching\nstrategies. To use other strategies, each service must be manually installed via npm or package\ndependencies manually. The available strategies are:</p>\n<ul>\n<li><a href=\"https://github.com/hapijs/catbox-memory\">Memory</a></li>\n<li><a href=\"https://github.com/hapijs/catbox-redis\">Redis</a></li>\n<li><a href=\"https://github.com/hapijs/catbox-memcached\">Memcached</a></li>\n</ul>\n<h3>\n<a id=\"client\" class=\"anchor\" href=\"#client\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Client</code>\n</h3>\n<p>The <code>Client</code> object provides a low-level cache abstraction. The object is constructed using\n<code>new Client(engine, options)</code> where:</p>\n<ul>\n<li>\n<code>engine</code> - is an object or a prototype function implementing the cache strategy:\n<ul>\n<li>function - a prototype function with the signature <code>function(options)</code>. <strong>catbox</strong> will call\n<code>new func(options)</code>.</li>\n<li>object - a pre instantiated client implementation object. Does not support passing <code>options</code>.</li>\n</ul>\n</li>\n<li>\n<code>options</code> - the strategy configuration object. Each strategy defines its own configuration\noptions with the following common options:\n<ul>\n<li>\n<code>partition</code> - the partition name used to isolate the cached results across multiple clients.\nThe partition name is used as the MongoDB database name, the Riak bucket, or as a key prefix\nin Redis and Memcached. To share the cache across multiple clients, use the same partition\nname.</li>\n</ul>\n</li>\n</ul>\n<p>Note that any implementation of client strategies must return deep copies of the stored data as the\nAPI assumes that the object returned from a <code>get()</code> is owned by the called and can be safely\nmodified without affecting the cache copy.</p>\n<h4>\n<a id=\"api\" class=\"anchor\" href=\"#api\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>API</h4>\n<p>The <code>Client</code> object provides the following methods:</p>\n<ul>\n<li>\n<code>await start()</code> - creates a connection to the cache server. Must be called before any other\nmethod is available. Any errors are thrown.</li>\n<li>\n<code>await stop()</code> - terminates the connection to the cache server.</li>\n<li>\n<code>await get(key)</code> - retrieve an item from the cache engine if found where:\n<ul>\n<li>\n<code>key</code> - a cache key object (see below).</li>\n<li>return value:\n<ul>\n<li>\n<code>null</code> is the item is not found.</li>\n<li>throws an error if the request failed.</li>\n<li>otherwise, an object with the following properties:\n<ul>\n<li>\n<code>item</code> - the value stored in the cache using <code>set()</code>.</li>\n<li>\n<code>stored</code> - the timestamp when the item was stored in the cache (in milliseconds).</li>\n<li>\n<code>ttl</code> - the remaining time-to-live (not the original value used when storing the\nobject).</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>await set(key, value, ttl)</code> - store an item in the cache for a specified length of time, where:\n<ul>\n<li>\n<code>key</code> - a cache key object (see below).</li>\n<li>\n<code>value</code> - the string or object value to be stored.</li>\n<li>\n<code>ttl</code> - a time-to-live value in milliseconds after which the item is automatically removed\nfrom the cache (or is marked invalid).</li>\n<li>any errors are thrown.</li>\n</ul>\n</li>\n<li>\n<code>await drop(key)</code> - remove an item from cache where:\n<ul>\n<li>\n<code>key</code> - a cache key object (see below).</li>\n<li>any errors are thrown.</li>\n</ul>\n</li>\n<li>\n<code>isReady()</code> - returns <code>true</code> if cache engine determines itself as ready, <code>false</code> if it is not\nready.</li>\n<li>\n<code>validateSegmentName(segment)</code> - returns <code>null</code> if the segment name is valid (see below),\notherwise should return an instance of <code>Error</code> with an appropriate message.</li>\n</ul>\n<p>Any method with a <code>key</code> argument takes an object with the following required properties:</p>\n<ul>\n<li>\n<code>segment</code> - a caching segment name string. Enables using a single cache server for storing\ndifferent sets of items with overlapping ids.</li>\n<li>\n<code>id</code> - a unique item identifier string (per segment). Can be an empty string.</li>\n</ul>\n<h3>\n<a id=\"policy\" class=\"anchor\" href=\"#policy\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Policy</code>\n</h3>\n<p>The <code>Policy</code> object provides a convenient cache interface by setting a global policy which is\nautomatically applied to every storage action. The object is constructed using\n<code>new Policy(options, [cache, segment])</code> where:</p>\n<ul>\n<li>\n<code>options</code> - is an object with the following optional keys (unless noted otherwise):\n<ul>\n<li>\n<code>expiresIn</code> - relative expiration expressed in the number of milliseconds since the item was\nsaved in the cache. Cannot be used together with <code>expiresAt</code>.</li>\n<li>\n<code>expiresAt</code> - time of day expressed in 24h notation using the 'HH:MM' format, at which point\nall cache records for the route expire. Uses local time. Cannot be used together with\n<code>expiresIn</code>.</li>\n<li>\n<code>generateFunc</code> - a function used to generate a new cache item if one is not found in the\ncache when calling <code>get()</code>. The method's signature is <code>async function(id, flags)</code> where:\n<ul>\n<li>\n<code>id</code> - the <code>id</code> string or object provided to the <code>get()</code> method.</li>\n<li>\n<code>flags</code> - an object used to pass back additional flags:\n<ul>\n<li>\n<code>ttl</code> - the cache ttl value in milliseconds. Set to <code>0</code> to skip storing in the cache.\nDefaults to the cache global policy.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>staleIn</code> - number of milliseconds to mark an item stored in cache as stale and attempt to\nregenerate it when <code>generateFunc</code> is provided. Must be less than <code>expiresIn</code>. Alternatively\nfunction that returns staleIn value in milliseconds. The function signature is\n<code>function(stored, ttl)</code> where:\n<ul>\n<li>\n<code>stored</code> - the timestamp when the item was stored in the cache (in milliseconds).</li>\n<li>\n<code>ttl</code> - the remaining time-to-live (not the original value used when storing the object).</li>\n</ul>\n</li>\n<li>\n<code>staleTimeout</code> - number of milliseconds to wait before returning a stale value while\ngenerateFunc is generating a fresh value.</li>\n<li>\n<code>generateTimeout</code> - number of milliseconds to wait before returning a timeout error when the\n<code>generateFunc</code> function takes too long to return a value. When the value is eventually\nreturned, it is stored in the cache for future requests. Required if <code>generateFunc</code> is\npresent. Set to <code>false</code> to disable timeouts which may cause all <code>get()</code> requests to get stuck\nforever.</li>\n<li>\n<code>dropOnError</code> - if <code>true</code>, an error or timeout in the <code>generateFunc</code> causes the stale value\nto be evicted from the cache. Defaults  to <code>true</code>.</li>\n<li>\n<code>generateOnReadError</code> - if <code>false</code>, an upstream cache read error will stop the <code>get()</code> method\nfrom calling the generate function and will instead pass back the cache error. Defaults to\n<code>true</code>.</li>\n<li>\n<code>generateIgnoreWriteError</code> - if <code>false</code>, an upstream cache write error will be passed back\nwith the generated value when calling the <code>get()</code> method. Defaults to <code>true</code>.</li>\n<li>\n<code>pendingGenerateTimeout</code> - number of milliseconds while generateFunc call is in progress for\na given id, before a subsequent generateFunc call is allowed. Defaults to 0, no blocking of\nconcurrent generateFunc calls beyond staleTimeout.</li>\n<li>\n<code>getDecoratedValue</code> - if <code>true</code>, the return value of <code>policy.get()</code> calls is an object with\n<code>{ value, cached, report }</code>. Defaults to <code>false</code> which returns a plain value.</li>\n</ul>\n</li>\n<li>\n<code>cache</code> - a <code>Client</code> instance (which has already been started).</li>\n<li>\n<code>segment</code> - required when <code>cache</code> is provided. The segment name used to isolate cached items\nwithin the cache partition.</li>\n</ul>\n<h4>\n<a id=\"api-1\" class=\"anchor\" href=\"#api-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>API</h4>\n<p>The <code>Policy</code> object provides the following methods:</p>\n<ul>\n<li>\n<code>await get(id)</code> - retrieve an item from the cache. If the item is not found and the\n<code>generateFunc</code> method was provided, a new value is generated, stored in the cache, and returned.\nMultiple concurrent requests are queued and processed once. The method arguments are:\n<ul>\n<li>\n<code>id</code> - the unique item identifier (within the policy segment). Can be a string or an object\nwith the required 'id' key.</li>\n<li>return value:\n<ul>\n<li>the requested item if found, otherwise <code>null</code>.</li>\n<li>any errors are thrown.</li>\n<li>if <code>getDecoratedValue</code> is <code>true</code>, returns an object with the following properties:\n<ul>\n<li>\n<code>value</code> - the fetched or generated value.</li>\n<li>\n<code>cached</code> - <code>null</code> if a valid item was not found in the cache, or an object with the\nfollowing keys:\n<ul>\n<li>\n<code>item</code> - the cached <code>value</code>.</li>\n<li>\n<code>stored</code> - the timestamp when the item was stored in the cache.</li>\n<li>\n<code>ttl</code> - the cache ttl value for the record.</li>\n<li>\n<code>isStale</code> - <code>true</code> if the item is stale.</li>\n</ul>\n</li>\n<li>\n<code>report</code> - an object with logging information about the generation operation\ncontaining the following keys (as relevant):\n<ul>\n<li>\n<code>msec</code> - the cache lookup time in milliseconds.</li>\n<li>\n<code>stored</code> - the timestamp when the item was stored in the cache.</li>\n<li>\n<code>isStale</code> - <code>true</code> if the item is stale.</li>\n<li>\n<code>ttl</code> - the cache ttl value for the record.</li>\n<li>\n<code>error</code> - lookup error.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>await set(id, value, ttl)</code> - store an item in the cache where:\n<ul>\n<li>\n<code>id</code> - the unique item identifier (within the policy segment).</li>\n<li>\n<code>value</code> - the string or object value to be stored.</li>\n<li>\n<code>ttl</code> - a time-to-live <strong>override</strong> value in milliseconds after which the item is\nautomatically removed from the cache (or is marked invalid). This should be set to <code>0</code> in\norder to use the caching rules configured when creating the <code>Policy</code> object.</li>\n<li>any errors are thrown.</li>\n</ul>\n</li>\n<li>\n<code>await drop(id)</code> - remove the item from cache where:\n<ul>\n<li>\n<code>id</code> - the unique item identifier (within the policy segment).</li>\n<li>any errors are thrown.</li>\n</ul>\n</li>\n<li>\n<code>ttl(created)</code> - given a <code>created</code> timestamp in milliseconds, returns the time-to-live left based\non the configured rules.</li>\n<li>\n<code>rules(options)</code> - changes the policy rules after construction (note that items already stored\nwill not be affected) where:\n<ul>\n<li>\n<code>options</code> - the same <code>options</code> as the <code>Policy</code> constructor.</li>\n</ul>\n</li>\n<li>\n<code>isReady()</code> - returns <code>true</code> if cache engine determines itself as ready, <code>false</code> if it is not\nready or if there is no cache engine set.</li>\n<li>\n<code>stats</code> - an object with cache statistics where:\n<ul>\n<li>\n<code>sets</code> - number of cache writes.</li>\n<li>\n<code>gets</code> - number of cache <code>get()</code> requests.</li>\n<li>\n<code>hits</code> - number of cache <code>get()</code> requests in which the requested id was found in the cache\n(can be stale).</li>\n<li>\n<code>stales</code> - number of cache reads with stale requests (only counts the first request in a\nqueued <code>get()</code> operation).</li>\n<li>\n<code>generates</code> - number of calls to the generate function.</li>\n<li>\n<code>errors</code> - cache operations errors.</li>\n</ul>\n</li>\n<li>\n<code>events</code> - a <a href=\"https://github.com/hapijs/podium\"><strong>podium</strong></a> event emitter, emitting <code>'error'</code>\nevents under the following channels:\n<ul>\n<li>\n<code>'persist'</code> - emits any cache errors thrown during the generation of new values as a result\nof a <code>get()</code> request.</li>\n<li>\n<code>'generate'</code> - emits any new value generation errors thrown as a result of a <code>get()</code> request.</li>\n</ul>\n</li>\n</ul>\n<p>Note that errors generated by <code>set()</code> and <code>drop()</code> are reported directly by the functions calls and\nare not included in the reported events.</p>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"7.2.0":{"menu":"- [Installation](#installation)\n- [`Client`](#client)\n  - [API](#api)\n- [`Policy`](#policy)\n  - [API](#api-1)","api":"<p><strong>catbox</strong> is a multi-strategy key-value object store. It comes with extensions supporting a memory cache,\n<a href=\"http://redis.io/\" rel=\"nofollow\">Redis</a>,\n<a href=\"http://www.mongodb.org/\" rel=\"nofollow\">MongoDB</a>,\n<a href=\"http://memcached.org/\" rel=\"nofollow\">Memcached</a>,\n<a href=\"http://basho.com/riak/\" rel=\"nofollow\">Riak</a>,\n<a href=\"http://aws.amazon.com/s3/\" rel=\"nofollow\">Amazon S3</a>,\n<a href=\"http://rethinkdb.com\" rel=\"nofollow\">RethinkDB</a>,\n<a href=\"http://www.couchbase.com/\" rel=\"nofollow\">Couchbase</a>,\n<a href=\"http://www.aerospike.com/\" rel=\"nofollow\">Aerospike</a> and\n<a href=\"http://leveldb.org/\" rel=\"nofollow\">LevelDB</a>.\n<strong>catbox</strong> provides two interfaces: a low-level <code>Client</code> and a high-level <code>Policy</code>.</p>\n<h3>\n<a id=\"installation\" class=\"anchor\" href=\"#installation\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Installation</h3>\n<p>In order to reduce module dependencies, <strong>catbox</strong> does not include the external caching strategies. To use other strategies,\neach service must be manually installed via npm or package dependencies manually. The available strategies are:</p>\n<ul>\n<li><a href=\"https://github.com/hapijs/catbox-memory\">Memory</a></li>\n<li><a href=\"https://github.com/hapijs/catbox-redis\">Redis</a></li>\n<li><a href=\"https://github.com/hapijs/catbox-mongodb\">MongoDB</a></li>\n<li><a href=\"https://github.com/hapijs/catbox-memcached\">Memcached</a></li>\n<li><a href=\"https://github.com/DanielBarnes/catbox-riak\">Riak</a></li>\n<li><a href=\"https://github.com/fhemberger/catbox-s3\">Amazon S3</a></li>\n<li><a href=\"https://github.com/codedmart/catbox-rethinkdb\">RethinkDB</a></li>\n<li><a href=\"https://github.com/cmfatih/catbox-couchbase\">Couchbase</a></li>\n<li><a href=\"https://github.com/ooogway/catbox-aerospike\">Aerospike</a></li>\n<li><a href=\"https://github.com/mshick/catbox-multilevel\">LevelDB</a></li>\n<li><a href=\"https://github.com/mirusresearch/catbox-disk\">Local Disk</a></li>\n</ul>\n<h3>\n<a id=\"client\" class=\"anchor\" href=\"#client\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Client</code>\n</h3>\n<p>The <code>Client</code> object provides a low-level cache abstraction. The object is constructed using <code>new Client(engine, options)</code> where:</p>\n<ul>\n<li>\n<code>engine</code> - is an object or a prototype function implementing the cache strategy:\n<ul>\n<li>function - a prototype function with the signature <code>function(options)</code>. <strong>catbox</strong> will call <code>new func(options)</code>.</li>\n<li>object - a pre instantiated client implementation object. Does not support passing <code>options</code>.</li>\n</ul>\n</li>\n<li>\n<code>options</code> - the strategy configuration object. Each strategy defines its own configuration options with the following common options:\n<ul>\n<li>\n<code>partition</code> - the partition name used to isolate the cached results across multiple clients. The partition name is used\nas the MongoDB database name, the Riak bucket, or as a key prefix in Redis and Memcached. To share the cache across multiple clients,\nuse the same partition name.</li>\n</ul>\n</li>\n</ul>\n<p>Note that any implementation of client strategies must return deep copies of the stored data as the API assumes that the object returned\nfrom a <code>get()</code> is owned by the called and can be safely modified without affecting the cache copy.</p>\n<h4>\n<a id=\"api\" class=\"anchor\" href=\"#api\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>API</h4>\n<p>The <code>Client</code> object provides the following methods:</p>\n<ul>\n<li>\n<code>start(callback)</code> - creates a connection to the cache server. Must be called before any other method is available.\nThe <code>callback</code> signature is <code>function(err)</code>.</li>\n<li>\n<code>stop()</code> - terminates the connection to the cache server.</li>\n<li>\n<code>get(key, callback)</code> - retrieve an item from the cache engine if found where:\n<ul>\n<li>\n<code>key</code> - a cache key object (see below).</li>\n<li>\n<code>callback</code> - a function with the signature <code>function(err, cached)</code>. If the item is not found, both <code>err</code> and <code>cached</code> are <code>null</code>.\nIf found, the <code>cached</code> object contains the following:\n<ul>\n<li>\n<code>item</code> - the value stored in the cache using <code>set()</code>.</li>\n<li>\n<code>stored</code> - the timestamp when the item was stored in the cache (in milliseconds).</li>\n<li>\n<code>ttl</code> - the remaining time-to-live (not the original value used when storing the object).</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>set(key, value, ttl, callback)</code> - store an item in the cache for a specified length of time, where:\n<ul>\n<li>\n<code>key</code> - a cache key object (see below).</li>\n<li>\n<code>value</code> - the string or object value to be stored.</li>\n<li>\n<code>ttl</code> - a time-to-live value in milliseconds after which the item is automatically removed from the cache (or is marked invalid).</li>\n<li>\n<code>callback</code> - a function with the signature <code>function(err)</code>.</li>\n</ul>\n</li>\n<li>\n<code>drop(key, callback)</code> - remove an item from cache where:\n<ul>\n<li>\n<code>key</code> - a cache key object (see below).</li>\n<li>\n<code>callback</code> - a function with the signature <code>function(err)</code>.</li>\n</ul>\n</li>\n<li>\n<code>isReady()</code> - returns <code>true</code> if cache engine determines itself as ready, <code>false</code> if it is not ready.</li>\n<li>\n<code>validateSegmentName(segment)</code> - returns <code>null</code> if the segment name is valid (see below), otherwise should return an instance of <code>Error</code> with an appropriate message.</li>\n</ul>\n<p>Any method with a <code>key</code> argument takes an object with the following required properties:</p>\n<ul>\n<li>\n<code>segment</code> - a caching segment name string. Enables using a single cache server for storing different sets of items with overlapping ids.</li>\n<li>\n<code>id</code> - a unique item identifier string (per segment). Can be an empty string.</li>\n</ul>\n<h3>\n<a id=\"policy\" class=\"anchor\" href=\"#policy\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Policy</code>\n</h3>\n<p>The <code>Policy</code> object provides a convenient cache interface by setting a global policy which is automatically applied to every storage action.\nThe object is constructed using <code>new Policy(options, [cache, segment])</code> where:</p>\n<ul>\n<li>\n<code>options</code> - is an object with the following optional keys (unless noted otherwise):\n<ul>\n<li>\n<code>expiresIn</code> - relative expiration expressed in the number of milliseconds since the item was saved in the cache. Cannot be used\ntogether with <code>expiresAt</code>.</li>\n<li>\n<code>expiresAt</code> - time of day expressed in 24h notation using the 'HH:MM' format, at which point all cache records for the route\nexpire. Uses local time. Cannot be used together with <code>expiresIn</code>.</li>\n<li>\n<code>generateFunc</code> - a function used to generate a new cache item if one is not found in the cache when calling <code>get()</code>. The method's\nsignature is <code>function(id, next)</code> where:\n<ul>\n<li>\n<code>id</code> - the <code>id</code> string or object provided to the <code>get()</code> method.</li>\n<li>\n<code>next</code> - the method called when the new item is returned with the signature <code>function(err, value, ttl)</code> where:\n<ul>\n<li>\n<code>err</code> - an error condition.</li>\n<li>\n<code>value</code> - the new value generated.</li>\n<li>\n<code>ttl</code> - the cache ttl value in milliseconds. Set to <code>0</code> to skip storing in the cache. Defaults to the cache global policy.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>staleIn</code> - number of milliseconds to mark an item stored in cache as stale and attempt to regenerate it when <code>generateFunc</code> is\nprovided. Must be less than <code>expiresIn</code>. Alternatively function that returns staleIn value in milliseconds. The function signature is\n<code>function(stored, ttl)</code> where:\n<ul>\n<li>\n<code>stored</code> - the timestamp when the item was stored in the cache (in milliseconds).</li>\n<li>\n<code>ttl</code> - the remaining time-to-live (not the original value used when storing the object).</li>\n</ul>\n</li>\n<li>\n<code>staleTimeout</code> - number of milliseconds to wait before returning a stale value while generateFunc is generating a fresh value.</li>\n<li>\n<code>generateTimeout</code> - number of milliseconds to wait before returning a timeout error when the <code>generateFunc</code> function\ntakes too long to return a value. When the value is eventually returned, it is stored in the cache for future requests.\nRequired if <code>generateFunc</code> is present. Set to <code>false</code> to disable timeouts which may cause all <code>get()</code> requests to get stuck\nforever.</li>\n<li>\n<code>dropOnError</code> - if <code>true</code>, an error or timeout in the <code>generateFunc</code> causes the stale value to be evicted from the cache.\nDefaults  to <code>true</code>.</li>\n<li>\n<code>generateOnReadError</code> - if <code>false</code>, an upstream cache read error will stop the <code>get()</code> method from calling the generate function\nand will instead pass back the cache error. Defaults to <code>true</code>.</li>\n<li>\n<code>generateIgnoreWriteError</code> - if <code>false</code>, an upstream cache write error will be passed back with the generated value when calling\nthe <code>get()</code> method. Defaults to <code>true</code>.</li>\n<li>\n<code>pendingGenerateTimeout</code> - number of milliseconds while generateFunc call is in progress for a given id, before a subsequent generateFunc call is allowed. Defaults to 0, no blocking of concurrent generateFunc calls beyond staleTimeout.</li>\n</ul>\n</li>\n<li>\n<code>cache</code> - a <code>Client</code> instance (which has already been started).</li>\n<li>\n<code>segment</code> - required when <code>cache</code> is provided. The segment name used to isolate cached items within the cache partition.</li>\n</ul>\n<h4>\n<a id=\"api-1\" class=\"anchor\" href=\"#api-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>API</h4>\n<p>The <code>Policy</code> object provides the following methods:</p>\n<ul>\n<li>\n<code>get(id, callback)</code> - retrieve an item from the cache. If the item is not found and the <code>generateFunc</code> method was provided, a new value\nis generated, stored in the cache, and returned. Multiple concurrent requests are queued and processed once. The method arguments are:\n<ul>\n<li>\n<code>id</code> - the unique item identifier (within the policy segment). Can be a string or an object with the required 'id' key.</li>\n<li>\n<code>callback</code> - the return function. The function signature is <code>function(err, value, cached, report)</code> where:\n<ul>\n<li>\n<code>err</code> - any errors encountered.</li>\n<li>\n<code>value</code> - the fetched or generated value.</li>\n<li>\n<code>cached</code> - <code>null</code> if a valid item was not found in the cache, or an object with the following keys:\n<ul>\n<li>\n<code>item</code> - the cached <code>value</code>.</li>\n<li>\n<code>stored</code> - the timestamp when the item was stored in the cache.</li>\n<li>\n<code>ttl</code> - the cache ttl value for the record.</li>\n<li>\n<code>isStale</code> - <code>true</code> if the item is stale.</li>\n</ul>\n</li>\n<li>\n<code>report</code> - an object with logging information about the generation operation containing the following keys (as relevant):\n<ul>\n<li>\n<code>msec</code> - the cache lookup time in milliseconds.</li>\n<li>\n<code>stored</code> - the timestamp when the item was stored in the cache.</li>\n<li>\n<code>isStale</code> - <code>true</code> if the item is stale.</li>\n<li>\n<code>ttl</code> - the cache ttl value for the record.</li>\n<li>\n<code>error</code> - lookup error.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>set(id, value, ttl, callback)</code> - store an item in the cache where:\n<ul>\n<li>\n<code>id</code> - the unique item identifier (within the policy segment).</li>\n<li>\n<code>value</code> - the string or object value to be stored.</li>\n<li>\n<code>ttl</code> - a time-to-live <strong>override</strong> value in milliseconds after which the item is automatically removed from the cache (or is marked invalid).\nThis should be set to <code>0</code> in order to use the caching rules configured when creating the <code>Policy</code> object.</li>\n<li>\n<code>callback</code> - a function with the signature <code>function(err)</code>.</li>\n</ul>\n</li>\n<li>\n<code>drop(id, callback)</code> - remove the item from cache where:\n<ul>\n<li>\n<code>id</code> - the unique item identifier (within the policy segment).</li>\n<li>\n<code>callback</code> - a function with the signature <code>function(err)</code>.</li>\n</ul>\n</li>\n<li>\n<code>ttl(created)</code> - given a <code>created</code> timestamp in milliseconds, returns the time-to-live left based on the configured rules.</li>\n<li>\n<code>rules(options)</code> - changes the policy rules after construction (note that items already stored will not be affected) where:\n<ul>\n<li>\n<code>options</code> - the same <code>options</code> as the <code>Policy</code> constructor.</li>\n</ul>\n</li>\n<li>\n<code>isReady()</code> - returns <code>true</code> if cache engine determines itself as ready, <code>false</code> if it is not ready or if there is no cache engine set.</li>\n<li>\n<code>stats</code> - an object with cache statistics where:\n<ul>\n<li>\n<code>sets</code> - number of cache writes.</li>\n<li>\n<code>gets</code> - number of cache <code>get()</code> requests.</li>\n<li>\n<code>hits</code> - number of cache <code>get()</code> requests in which the requested id was found in the cache (can be stale).</li>\n<li>\n<code>stales</code> - number of cache reads with stale requests (only counts the first request in a queued <code>get()</code> operation).</li>\n<li>\n<code>generates</code> - number of calls to the generate function.</li>\n<li>\n<code>errors</code> - cache operations errors.</li>\n</ul>\n</li>\n</ul>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"},"slogan":"Multi-strategy object caching service.","forks":64,"stars":488,"date":"2019-10-09T00:34:57Z","updated":"Wed Oct 09 2019","link":"https://github.com/hapijs/catbox"},"catbox-memcached":{"name":"catbox-memcached","versions":[{"name":"2.1.1","branch":"master","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["2.1.1"],"2.1.1":{"menu":"- [Options](#options)","api":"<h3>\n<a id=\"options\" class=\"anchor\" href=\"#options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Options</h3>\n<ul>\n<li>\n<code>host</code> - the Memcache server hostname. Defaults to <code>127.0.0.1</code>. <strong>Cannot be used with <code>location</code>.</strong>\n</li>\n<li>\n<code>port</code> - the Memcache server port. Defaults to <code>11211</code>. <strong>Cannot be used with <code>location</code>.</strong>\n</li>\n<li>\n<code>location</code> - the Memcache server hostname and port. Defaults to <code>127.0.0.1:11211</code>. Can be a String,\nArray, or an Object as per <a href=\"https://github.com/3rd-Eden/node-memcached#server-locations\">node-memcached location specification</a>.</li>\n</ul>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"slogan":"Memcached adaptor for [catbox](https://github.com/hapijs/catbox).","forks":14,"stars":12,"date":"2019-10-09T00:34:27Z","updated":"Wed Oct 09 2019","link":"https://github.com/hapijs/catbox-memcached"},"catbox-memory":{"name":"catbox-memory","versions":[{"name":"4.1.1","branch":"master","license":"BSD","node":" 12, 10, 8"},{"name":"3.2.1","branch":"v3-commercial","license":"Commercial","node":" 12, 10, 8"},{"name":"2.1.0","branch":"v2-commercial","license":"Commercial","node":" 10, 8, 6"}],"versionsArray":["4.1.1","2.1.0","3.2.1"],"4.1.1":{"menu":"- [Options](#options)","api":"<h3>\n<a id=\"options\" class=\"anchor\" href=\"#options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Options</h3>\n<ul>\n<li>\n<code>maxByteSize</code> - sets an upper limit on the number of bytes that can be stored in the\ncache. Once this limit is reached no additional items will be added to the cache\nuntil some expire. The utilized memory calculation is a rough approximation and must\nnot be relied on. Defaults to <code>104857600</code> (100MB).</li>\n<li>\n<code>minCleanupIntervalMsec</code> - the minimum number of milliseconds in between each cache cleanup.\nDefaults to 1 second (<code>1000</code>).</li>\n<li>\n<code>cloneBuffersOnGet</code> - by default, buffers stored in the cache are copied when they are set but\nnot when they are retrieved. This means a change to the buffer returned by a <code>get()</code> will change\nthe value in the cache. To prevent this, set <code>cloneBuffersOnGet</code> to  <code>true</code> to always return a\ncopy of the cached buffer. Defaults to <code>false</code>.</li>\n</ul>\n","intro":"### Introduction\n\nMemory adapter for [catbox](https://github.com/hapijs/catbox).\nThis adapter is not designed to share a common cache between multiple processes (e.g. in a cluster\nmode). It uses a single interval timeout to look for expired records and clean them from memory.\n","example":"","usage":"","faq":"","license":"BSD"},"2.1.0":{"menu":"- [Options](#options)","api":"<h3>\n<a id=\"options\" class=\"anchor\" href=\"#options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Options</h3>\n<ul>\n<li>\n<code>maxByteSize</code> - sets an upper limit on the number of bytes that can be stored in the\ncache. Once this limit is reached no additional items will be added to the cache\nuntil some expire. The utilized memory calculation is a rough approximation and must\nnot be relied on. Defaults to <code>104857600</code> (100MB).</li>\n<li>\n<code>allowMixedContent</code> - by default, all data is cached as JSON strings, and converted\nto an object using <code>JSON.parse()</code> on retrieval. By setting this option to <code>true</code>,\n<code>Buffer</code> data can be stored alongside the stringified data. <code>Buffer</code>s are not\nstringified, and are copied before storage to prevent the value from changing while\nin the cache. Defaults to <code>false</code>.</li>\n</ul>\n<p>Note: the maximum allowed value for <code>ttl</code> is <code>2^31-1</code>, which is around 24.8 days.</p>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"},"3.2.1":{"menu":"- [Options](#options)","api":"<h3>\n<a id=\"options\" class=\"anchor\" href=\"#options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Options</h3>\n<ul>\n<li>\n<code>maxByteSize</code> - sets an upper limit on the number of bytes that can be stored in the\ncache. Once this limit is reached no additional items will be added to the cache\nuntil some expire. The utilized memory calculation is a rough approximation and must\nnot be relied on. Defaults to <code>104857600</code> (100MB).</li>\n<li>\n<code>allowMixedContent</code> - by default, all data is cached as JSON strings, and converted\nto an object using <code>JSON.parse()</code> on retrieval. By setting this option to <code>true</code>,\n<code>Buffer</code> data can be stored alongside the stringified data. <code>Buffer</code>s are not\nstringified, and are copied before storage to prevent the value from changing while\nin the cache. Defaults to <code>false</code>.</li>\n</ul>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"},"slogan":"Memory adaptor for [catbox](https://github.com/hapijs/catbox).","forks":22,"stars":26,"date":"2019-10-08T07:30:07Z","updated":"Tue Oct 08 2019","link":"https://github.com/hapijs/catbox-memory"},"catbox-object":{"name":"catbox-object","versions":[{"name":"1.0.1","branch":"master","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["1.0.1"],"1.0.1":{"menu":"- [Options](#options)","api":"<h3>\n<a id=\"options\" class=\"anchor\" href=\"#options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Options</h3>\n<ul>\n<li>\n<code>maxSize</code> - sets an upper limit on the number of items that can be stored in the\ncache. Once this limit is reached no additional items will be added to the cache\nuntil some expire. Defaults to <code>1000</code>.</li>\n<li>\n<code>minCleanupIntervalMsec</code> - the minimum number of milliseconds in between each cache cleanup.\nDefaults to 1 second (<code>1000</code>).</li>\n</ul>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"slogan":"Description coming soon...","forks":2,"stars":1,"date":"2019-10-07T19:07:25Z","updated":"Mon Oct 07 2019","link":"https://github.com/hapijs/catbox-object"},"catbox-redis":{"name":"catbox-redis","versions":[],"versionsArray":[],"slogan":"Redis adapter for [catbox](https://github.com/hapijs/catbox).","forks":52,"stars":65,"date":"2019-10-05T16:35:53Z","updated":"Sat Oct 05 2019","link":"https://github.com/hapijs/catbox-redis"},"code":{"name":"code","versions":[{"name":"7.0.0","branch":"master","license":"BSD","node":" 12, 10"}],"versionsArray":["7.0.0"],"7.0.0":{"menu":"- [Grammar](#grammar)\n- [Flags](#flags)\n- [`expect()`](#expectvalue-prefix)\n  - [Types](#types)\n    - [`arguments()`](#arguments)\n    - [`array()`](#array)\n    - [`boolean()`](#boolean)\n    - [`buffer()`](#buffer)\n    - [`date()`](#date)\n    - [`error()`](#errortype-message)\n    - [`function()`](#function)\n    - [`number()`](#number)\n    - [`regexp()`](#regexp)\n    - [`string()`](#string)\n    - [`object()`](#object)\n  - [Values](#values)\n    - [`true()`](#true)\n    - [`false()`](#false)\n    - [`null()`](#null)\n    - [`undefined()`](#undefined)\n    - [`NaN()`](#nan)\n  - [`include()`](#includevalues)\n  - [`startWith()`](#startwithvalue)\n  - [`endWith()`](#endwithvalue)\n  - [`exist()`](#exist)\n  - [`empty()`](#empty)\n  - [`length()`](#lengthsize)\n  - [`equal()`](#equalvalue-options)\n  - [`above()`](#abovevalue)\n  - [`least()`](#leastvalue)\n  - [`below()`](#belowvalue)\n  - [`most()`](#mostvalue)\n  - [`within()`](#withinfrom-to)\n  - [`between()`](#betweenfrom-to)\n  - [`about()`](#aboutvalue-delta)\n  - [`instanceof()`](#instanceoftype)\n  - [`match()`](#matchregex)\n  - [`satisfy()`](#satisfyvalidator)\n  - [`throw()`](#throwtype-message)\n  - [`await reject()`](#await-rejecttype-message)\n- [`fail()`](#failmessage)\n- [`count()`](#count)\n- [`incomplete()`](#incomplete)\n- [`thrownAt()`](#thrownaterror)\n- [Settings](#settings)\n  - [`truncateMessages`](#truncatemessages)\n  - [`comparePrototypes`](#compareprototypes)","api":"<h3>\n<a id=\"grammar\" class=\"anchor\" href=\"#grammar\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Grammar</h3>\n<p><strong>code</strong> supports usage of connecting words to make assertions more readable. The inclusion of these\ngrammar elements has no impact over the assertion outcome and are used for human readability only.\nEvery method or property of the assertion object returned by <code>expect()</code> returns <code>this</code> which allows\nchaining addition assertions or grammar words.</p>\n<p>The supported words are:</p>\n<ul>\n<li><code>a</code></li>\n<li><code>an</code></li>\n<li><code>and</code></li>\n<li><code>at</code></li>\n<li><code>be</code></li>\n<li><code>have</code></li>\n<li><code>in</code></li>\n<li><code>to</code></li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">10</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-c1\">above</span>(<span class=\"pl-c1\">5</span>);\n<span class=\"pl-en\">expect</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>abc<span class=\"pl-pds\">'</span></span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-smi\">a</span>.<span class=\"pl-en\">string</span>();\n<span class=\"pl-en\">expect</span>([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>]).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-smi\">an</span>.<span class=\"pl-en\">array</span>();\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">20</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-smi\">at</span>.<span class=\"pl-en\">least</span>(<span class=\"pl-c1\">20</span>);\n<span class=\"pl-en\">expect</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>abc<span class=\"pl-pds\">'</span></span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">have</span>.<span class=\"pl-c1\">length</span>(<span class=\"pl-c1\">3</span>);\n<span class=\"pl-en\">expect</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>abc<span class=\"pl-pds\">'</span></span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-smi\">a</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-smi\">and</span>.<span class=\"pl-en\">contain</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>]);\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">6</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-smi\">in</span>.<span class=\"pl-en\">range</span>(<span class=\"pl-c1\">5</span>, <span class=\"pl-c1\">6</span>);</pre></div>\n<h3>\n<a id=\"flags\" class=\"anchor\" href=\"#flags\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Flags</h3>\n<p>The following words toggle a status flag for the current assertion:</p>\n<ul>\n<li>\n<code>not</code> - inverses the expected result of any assertion.</li>\n<li>\n<code>once</code> - requires that inclusion matches appear only once in the provided value. Used by <code>include()</code>.</li>\n<li>\n<code>only</code> - requires that only the provided elements appear in the provided value. Used by <code>include()</code>.</li>\n<li>\n<code>part</code> - allows a partial match when asserting inclusion. Used by <code>include()</code>. Defaults to <code>false</code>.</li>\n<li>\n<code>shallow</code> - performs a comparison using strict equality (<code>===</code>). Code defaults to deep comparison. Used by <code>equal()</code> and <code>include()</code>.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">10</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">not</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-c1\">above</span>(<span class=\"pl-c1\">20</span>);\n<span class=\"pl-en\">expect</span>([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>]).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">shallow</span>.<span class=\"pl-en\">include</span>(<span class=\"pl-c1\">3</span>);\n<span class=\"pl-en\">expect</span>([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>]).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">only</span>.<span class=\"pl-en\">include</span>([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>]);\n<span class=\"pl-en\">expect</span>([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>]).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">once</span>.<span class=\"pl-en\">include</span>([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>]);\n<span class=\"pl-en\">expect</span>([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>]).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">part</span>.<span class=\"pl-en\">include</span>([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">4</span>]);</pre></div>\n<p>Note that including the same flag twice toggles the last value set. This is especially important when\nchaining multiple assertions in a single statement (e.g. when using the <code>and</code> grammar word).</p>\n<h3>\n<a id=\"expectvalue-prefix\" class=\"anchor\" href=\"#expectvalue-prefix\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>expect(value, [prefix])</code>\n</h3>\n<p>Generates an assertion object where:</p>\n<ul>\n<li>\n<code>value</code> - the reference value on which to apply the assertion rules.</li>\n<li>\n<code>prefix</code> - an optional string used as an error message prefix.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">10</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Age<span class=\"pl-pds\">'</span></span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-c1\">above</span>(<span class=\"pl-c1\">5</span>);</pre></div>\n<h4>\n<a id=\"types\" class=\"anchor\" href=\"#types\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Types</h4>\n<p>Asserts that the reference value is of a certain type.</p>\n<h5>\n<a id=\"arguments\" class=\"anchor\" href=\"#arguments\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>arguments()</code>\n</h5>\n<p>Asserts that the reference value is an <code>arguments</code> object.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">func</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">function</span> () { <span class=\"pl-k\">return</span> <span class=\"pl-c1\">arguments</span>; };\n<span class=\"pl-en\">expect</span>(<span class=\"pl-en\">func</span>()).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-c1\">arguments</span>();</pre></div>\n<h5>\n<a id=\"array\" class=\"anchor\" href=\"#array\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array()</code>\n</h5>\n<p>Asserts that the reference value is an <code>Array</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>]).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-smi\">an</span>.<span class=\"pl-en\">array</span>();</pre></div>\n<h5>\n<a id=\"boolean\" class=\"anchor\" href=\"#boolean\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>boolean()</code>\n</h5>\n<p>Asserts that the reference value is a boolean.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">true</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-smi\">a</span>.<span class=\"pl-en\">boolean</span>();</pre></div>\n<h5>\n<a id=\"buffer\" class=\"anchor\" href=\"#buffer\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>buffer()</code>\n</h5>\n<p>Asserts that the reference value is a <code>Buffer</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-k\">new</span> <span class=\"pl-en\">Buffer</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span>)).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-smi\">a</span>.<span class=\"pl-en\">buffer</span>();</pre></div>\n<h5>\n<a id=\"date\" class=\"anchor\" href=\"#date\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date()</code>\n</h5>\n<p>Asserts that the reference value is a <code>Date</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-k\">new</span> <span class=\"pl-en\">Date</span>()).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-smi\">a</span>.<span class=\"pl-en\">date</span>();</pre></div>\n<h5>\n<a id=\"errortype-message\" class=\"anchor\" href=\"#errortype-message\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>error([type], [message])</code>\n</h5>\n<p>Asserts that the reference value is an error. You can provide optional requirements where:</p>\n<ul>\n<li>\n<code>type</code> - the <code>instanceof</code> value of the error.</li>\n<li>\n<code>message</code> a string or regular expression matching the error <code>message</code> property. Note that a string\nmust provide a full match.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">err</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Oops an error occured.<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-en\">expect</span>(err).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-smi\">an</span>.<span class=\"pl-en\">error</span>();\n<span class=\"pl-en\">expect</span>(err).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-smi\">an</span>.<span class=\"pl-en\">error</span>(<span class=\"pl-c1\">Error</span>);\n<span class=\"pl-en\">expect</span>(err).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-smi\">an</span>.<span class=\"pl-en\">error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Oops an error occured.<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-en\">expect</span>(err).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-smi\">an</span>.<span class=\"pl-en\">error</span>(<span class=\"pl-c1\">Error</span>,<span class=\"pl-sr\"> <span class=\"pl-pds\">/</span>occured<span class=\"pl-pds\">/</span></span>);</pre></div>\n<h5>\n<a id=\"function\" class=\"anchor\" href=\"#function\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>function()</code>\n</h5>\n<p>Asserts that the reference value is a <code>function</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-k\">function</span> () {}).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-smi\">a</span>.<span class=\"pl-en\">function</span>();</pre></div>\n<h5>\n<a id=\"number\" class=\"anchor\" href=\"#number\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number()</code>\n</h5>\n<p>Asserts that the reference value is a <code>number</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">123</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-smi\">a</span>.<span class=\"pl-en\">number</span>();</pre></div>\n<h5>\n<a id=\"regexp\" class=\"anchor\" href=\"#regexp\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>regexp()</code>\n</h5>\n<p>Asserts that the reference value is an <code>RegExp</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span>abc<span class=\"pl-pds\">/</span></span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-smi\">a</span>.<span class=\"pl-en\">regexp</span>();</pre></div>\n<h5>\n<a id=\"string\" class=\"anchor\" href=\"#string\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string()</code>\n</h5>\n<p>Asserts that the reference value is a string.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>abc<span class=\"pl-pds\">'</span></span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-smi\">a</span>.<span class=\"pl-en\">string</span>();</pre></div>\n<h5>\n<a id=\"object\" class=\"anchor\" href=\"#object\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object()</code>\n</h5>\n<p>Asserts that the reference value is an object (excluding array, buffer, or other native objects).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>1<span class=\"pl-pds\">'</span></span> }).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-smi\">an</span>.<span class=\"pl-c1\">object</span>();</pre></div>\n<h4>\n<a id=\"values\" class=\"anchor\" href=\"#values\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Values</h4>\n<p>Asserts that the reference value is equal to a predefined value.</p>\n<h5>\n<a id=\"true\" class=\"anchor\" href=\"#true\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>true()</code>\n</h5>\n<p>Asserts that the reference value is true.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">true</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-en\">true</span>();</pre></div>\n<h5>\n<a id=\"false\" class=\"anchor\" href=\"#false\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>false()</code>\n</h5>\n<p>Asserts that the reference value is false.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">false</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-en\">false</span>();</pre></div>\n<h5>\n<a id=\"null\" class=\"anchor\" href=\"#null\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>null()</code>\n</h5>\n<p>Asserts that the reference value is null.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">null</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-en\">null</span>();</pre></div>\n<h5>\n<a id=\"undefined\" class=\"anchor\" href=\"#undefined\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>undefined()</code>\n</h5>\n<p>Asserts that the reference value is undefined.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">undefined</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-c1\">undefined</span>();</pre></div>\n<h5>\n<a id=\"nan\" class=\"anchor\" href=\"#nan\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>NaN()</code>\n</h5>\n<p>Asserts that the reference value is <code>NaN</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">NaN</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-en\">NaN</span>();</pre></div>\n<h4>\n<a id=\"includevalues\" class=\"anchor\" href=\"#includevalues\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>include(values)</code>\n</h4>\n<p>Aliases: <code>includes()</code>, <code>contain()</code>, <code>contains()</code></p>\n<p>See also: <a href=\"https://github.com/hapijs/hoek/blob/master/API.md#containref-values-options\"><code>Hoek.contain()</code></a></p>\n<p>Asserts that the reference value (a string, array, or object) includes the provided values where:</p>\n<ul>\n<li>\n<code>values</code> - a single or array of values. If the reference value is a string, the values must be strings.\nIf the reference value is an array, the values can be any array member. If the reference value is an object, the values can be key names, or a single object\nwith key-value pairs to match.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>abc<span class=\"pl-pds\">'</span></span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">include</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ab<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-en\">expect</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>abc<span class=\"pl-pds\">'</span></span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">only</span>.<span class=\"pl-en\">include</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>abc<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-en\">expect</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>aaa<span class=\"pl-pds\">'</span></span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">only</span>.<span class=\"pl-en\">include</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-en\">expect</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>abc<span class=\"pl-pds\">'</span></span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">once</span>.<span class=\"pl-en\">include</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-en\">expect</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>abc<span class=\"pl-pds\">'</span></span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">include</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>c<span class=\"pl-pds\">'</span></span>]);\n<span class=\"pl-en\">expect</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>abc<span class=\"pl-pds\">'</span></span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">part</span>.<span class=\"pl-en\">include</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>d<span class=\"pl-pds\">'</span></span>]);\n\n<span class=\"pl-en\">expect</span>([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>]).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">include</span>(<span class=\"pl-c1\">1</span>);\n<span class=\"pl-en\">expect</span>([{ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span> }]).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">include</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span> });\n<span class=\"pl-en\">expect</span>([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>]).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">include</span>([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>]);\n<span class=\"pl-en\">expect</span>([{ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span> }]).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">include</span>([{ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span> }]);\n<span class=\"pl-en\">expect</span>([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>]).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">only</span>.<span class=\"pl-en\">include</span>([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>]);\n<span class=\"pl-en\">expect</span>([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>]).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">once</span>.<span class=\"pl-en\">include</span>([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>]);\n<span class=\"pl-en\">expect</span>([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>]).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">part</span>.<span class=\"pl-en\">include</span>([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">4</span>]);\n<span class=\"pl-en\">expect</span>([[<span class=\"pl-c1\">1</span>], [<span class=\"pl-c1\">2</span>]]).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">include</span>([[<span class=\"pl-c1\">1</span>]]);\n\n<span class=\"pl-en\">expect</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span>, c<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3</span> }).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">include</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-en\">expect</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span>, c<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3</span> }).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">include</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>c<span class=\"pl-pds\">'</span></span>]);\n<span class=\"pl-en\">expect</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span>, c<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3</span> }).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">only</span>.<span class=\"pl-en\">include</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>c<span class=\"pl-pds\">'</span></span>]);\n<span class=\"pl-en\">expect</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span>, c<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3</span> }).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">include</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span> });\n<span class=\"pl-en\">expect</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span>, c<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3</span> }).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">include</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, c<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3</span> });\n<span class=\"pl-en\">expect</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span>, c<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3</span> }).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">part</span>.<span class=\"pl-en\">include</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, d<span class=\"pl-k\">:</span> <span class=\"pl-c1\">4</span> });\n<span class=\"pl-en\">expect</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span>, c<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3</span> }).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">only</span>.<span class=\"pl-en\">include</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span>, c<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3</span> });\n<span class=\"pl-en\">expect</span>({ a<span class=\"pl-k\">:</span> [<span class=\"pl-c1\">1</span>], b<span class=\"pl-k\">:</span> [<span class=\"pl-c1\">2</span>], c<span class=\"pl-k\">:</span> [<span class=\"pl-c1\">3</span>] }).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">include</span>({ a<span class=\"pl-k\">:</span> [<span class=\"pl-c1\">1</span>], c<span class=\"pl-k\">:</span> [<span class=\"pl-c1\">3</span>] });</pre></div>\n<h4>\n<a id=\"startwithvalue\" class=\"anchor\" href=\"#startwithvalue\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>startWith(value)</code>\n</h4>\n<p>Aliases: <code>startsWith()</code>,</p>\n<p>Asserts that the reference value (a string) starts with the provided value where:</p>\n<ul>\n<li>\n<code>value</code> - a string.</li>\n</ul>\n<p>Note that this assertion is case sensitive.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>https://example.org/secure<span class=\"pl-pds\">'</span></span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">startWith</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>https://<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"endwithvalue\" class=\"anchor\" href=\"#endwithvalue\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>endWith(value)</code>\n</h4>\n<p>Aliases: <code>endsWith()</code>,</p>\n<p>Asserts that the reference value (a string) ends with the provided value where:</p>\n<ul>\n<li>\n<code>value</code> - a string.</li>\n</ul>\n<p>Note that this assertion is case sensitive.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>http://example.org/relative<span class=\"pl-pds\">'</span></span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">endWith</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/relative<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"exist\" class=\"anchor\" href=\"#exist\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>exist()</code>\n</h4>\n<p>Aliases: <code>exists</code></p>\n<p>Asserts that the reference value exists (not <code>null</code> or <code>undefined</code>).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">4</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">exist</span>();\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">null</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">not</span>.<span class=\"pl-en\">exist</span>();</pre></div>\n<h4>\n<a id=\"empty\" class=\"anchor\" href=\"#empty\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>empty()</code>\n</h4>\n<p>Asserts that the reference value has a <code>length</code> property equal to zero or an object with no keys.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>abc<span class=\"pl-pds\">'</span></span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-en\">empty</span>();</pre></div>\n<h4>\n<a id=\"lengthsize\" class=\"anchor\" href=\"#lengthsize\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>length(size)</code>\n</h4>\n<p>Asserts that the reference value has a <code>length</code> property matching the provided size or an object with the\nspecified number of keys where:</p>\n<ul>\n<li>\n<code>size</code> - the required size.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>abcd<span class=\"pl-pds\">'</span></span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">have</span>.<span class=\"pl-c1\">length</span>(<span class=\"pl-c1\">4</span>);</pre></div>\n<h4>\n<a id=\"equalvalue-options\" class=\"anchor\" href=\"#equalvalue-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>equal(value[, options])</code>\n</h4>\n<p>Aliases: <code>equals()</code></p>\n<p>Asserts that the reference value equals the provided value where:</p>\n<ul>\n<li>\n<code>value</code> - the value to compare to.</li>\n<li>\n<code>options</code> - optional object specifying comparison options. This is ignored on <code>shallow</code> comparisons.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">5</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">equal</span>(<span class=\"pl-c1\">5</span>);\n<span class=\"pl-en\">expect</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span> }).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">equal</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span> });</pre></div>\n<p>Deep comparisons (the default) are performed using\n<a href=\"https://github.com/hapijs/hoek/blob/master/API.md#deepequalb-a-options\"><code>Hoek.deepEqual()</code></a>. The\noptional <code>options</code> argument is passed directly to <code>Hoek.deepEqual()</code>. An example\ndeep comparison which ignores object prototypes is shown below.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">Object</span>.<span class=\"pl-en\">create</span>(<span class=\"pl-c1\">null</span>)).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">equal</span>({}, { prototype<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> });</pre></div>\n<p>Strict equality can be checked using the <code>shallow</code> modifier. This yields the same output as a <code>===</code> check.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">5</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">shallow</span>.<span class=\"pl-en\">equal</span>(<span class=\"pl-c1\">5</span>);\n<span class=\"pl-en\">expect</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span> }).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">shallow</span>.<span class=\"pl-en\">equal</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span> }); <span class=\"pl-c\"><span class=\"pl-c\">//</span> fails as they are not the same reference</span></pre></div>\n<h4>\n<a id=\"abovevalue\" class=\"anchor\" href=\"#abovevalue\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>above(value)</code>\n</h4>\n<p>Aliases: <code>greaterThan()</code></p>\n<p>Asserts that the reference value is greater than (<code>&gt;</code>) the provided value where:</p>\n<ul>\n<li>\n<code>value</code> - the value to compare to.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">10</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-c1\">above</span>(<span class=\"pl-c1\">5</span>);</pre></div>\n<h4>\n<a id=\"leastvalue\" class=\"anchor\" href=\"#leastvalue\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>least(value)</code>\n</h4>\n<p>Aliases: <code>min()</code></p>\n<p>Asserts that the reference value is at least (<code>&gt;=</code>) the provided value where:</p>\n<ul>\n<li>\n<code>value</code> - the value to compare to.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">10</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-smi\">at</span>.<span class=\"pl-en\">least</span>(<span class=\"pl-c1\">10</span>);</pre></div>\n<h4>\n<a id=\"belowvalue\" class=\"anchor\" href=\"#belowvalue\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>below(value)</code>\n</h4>\n<p>Aliases: <code>lessThan()</code></p>\n<p>Asserts that the reference value is less than (<code>&lt;</code>) the provided value where:</p>\n<ul>\n<li>\n<code>value</code> - the value to compare to.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">10</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-c1\">below</span>(<span class=\"pl-c1\">20</span>);</pre></div>\n<h4>\n<a id=\"mostvalue\" class=\"anchor\" href=\"#mostvalue\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>most(value)</code>\n</h4>\n<p>Aliases: <code>max()</code></p>\n<p>Asserts that the reference value is at most (<code>&lt;=</code>) the provided value where:</p>\n<ul>\n<li>\n<code>value</code> - the value to compare to.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">10</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-smi\">at</span>.<span class=\"pl-en\">most</span>(<span class=\"pl-c1\">10</span>);</pre></div>\n<h4>\n<a id=\"withinfrom-to\" class=\"anchor\" href=\"#withinfrom-to\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>within(from, to)</code>\n</h4>\n<p>Aliases: <code>range()</code></p>\n<p>Asserts that the reference value is within (<code>from &lt;= value &lt;= to</code>) the provided values where:</p>\n<ul>\n<li>\n<code>from</code> - the start of the range (inclusive).</li>\n<li>\n<code>to</code> - the end of the range (inclusive).</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">10</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-en\">within</span>(<span class=\"pl-c1\">10</span>, <span class=\"pl-c1\">20</span>);\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">20</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-en\">within</span>(<span class=\"pl-c1\">10</span>, <span class=\"pl-c1\">20</span>);</pre></div>\n<h4>\n<a id=\"betweenfrom-to\" class=\"anchor\" href=\"#betweenfrom-to\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>between(from, to)</code>\n</h4>\n<p>Asserts that the reference value is between but not equal (<code>from &lt; value &lt; to</code>) the provided values where:</p>\n<ul>\n<li>\n<code>from</code> - the start of the range (exclusive).</li>\n<li>\n<code>to</code> - the end of the range (exclusive).</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">15</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-en\">between</span>(<span class=\"pl-c1\">10</span>, <span class=\"pl-c1\">20</span>);</pre></div>\n<h4>\n<a id=\"aboutvalue-delta\" class=\"anchor\" href=\"#aboutvalue-delta\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>about(value, delta)</code>\n</h4>\n<p>Asserts that the reference value is about the provided value within a delta margin of difference where:</p>\n<ul>\n<li>\n<code>value</code> - the value to compare to.</li>\n<li>\n<code>delta</code> - the allowed margin of difference.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">10</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-en\">about</span>(<span class=\"pl-c1\">9</span>, <span class=\"pl-c1\">1</span>);</pre></div>\n<h4>\n<a id=\"instanceoftype\" class=\"anchor\" href=\"#instanceoftype\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>instanceof(type)</code>\n</h4>\n<p>Aliases: <code>instanceOf()</code></p>\n<p>Asserts that the reference value has the provided <code>instanceof</code> value where:</p>\n<ul>\n<li>\n<code>type</code> - the type value to match.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-k\">new</span> <span class=\"pl-en\">Date</span>()).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-smi\">an</span>.<span class=\"pl-en\">instanceof</span>(<span class=\"pl-c1\">Date</span>);</pre></div>\n<h4>\n<a id=\"matchregex\" class=\"anchor\" href=\"#matchregex\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>match(regex)</code>\n</h4>\n<p>Aliases: <code>matches()</code></p>\n<p>Asserts that the reference value's <code>toString()</code> representation matches the provided regular\nexpression where:</p>\n<ul>\n<li>\n<code>regex</code> - the regular expression to match.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a5<span class=\"pl-pds\">'</span></span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-c1\">match</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-c1\">\\w\\d</span><span class=\"pl-pds\">/</span></span>);\n<span class=\"pl-en\">expect</span>([<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>abc<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>def<span class=\"pl-pds\">\"</span></span>]).<span class=\"pl-smi\">to</span>.<span class=\"pl-c1\">match</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span><span class=\"pl-c1\">[<span class=\"pl-c1\">\\w\\d</span>,]</span><span class=\"pl-k\">*</span><span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span></span>);\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">1</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-c1\">match</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span><span class=\"pl-c1\">\\d</span><span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span></span>);</pre></div>\n<h4>\n<a id=\"satisfyvalidator\" class=\"anchor\" href=\"#satisfyvalidator\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>satisfy(validator)</code>\n</h4>\n<p>Aliases: <code>satisfies()</code></p>\n<p>Asserts that the reference value satisfies the provided validator function where:</p>\n<ul>\n<li>\n<code>validator</code> - a function with the signature <code>function(value)</code> with return value <code>true</code> or <code>false</code>. The\nreference value is passed as the only argument to the <code>validator</code> function and the assertion passes if\nthe return value is <code>true</code>.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>x<span class=\"pl-pds\">'</span></span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">satisfy</span>(<span class=\"pl-k\">function</span> (<span class=\"pl-smi\">value</span>) { <span class=\"pl-k\">return</span> value <span class=\"pl-k\">===</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>x<span class=\"pl-pds\">'</span></span>; });</pre></div>\n<h4>\n<a id=\"throwtype-message\" class=\"anchor\" href=\"#throwtype-message\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>throw([type], [message])</code>\n</h4>\n<p>Aliases: <code>throws</code></p>\n<p>Asserts that the function reference value throws an exception when called. The provided reference function\nis invoked within a <code>try</code>-<code>catch</code> block and any error throws is caught and compared to the provided optional\nrequirements where:</p>\n<ul>\n<li>\n<code>type</code> - the <code>instanceof</code> value of the thrown object.</li>\n<li>\n<code>message</code> a string or regular expression matching the thrown error <code>message</code> property. Note that a string\nmust provide a full match.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">NodeUtil</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>util<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">CustomError</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">function</span> (<span class=\"pl-smi\">message</span>) {\n\n    <span class=\"pl-c1\">Error</span>.<span class=\"pl-c1\">call</span>(<span class=\"pl-c1\">this</span>, message);\n};\n\n<span class=\"pl-smi\">NodeUtil</span>.<span class=\"pl-en\">inherit</span>(CustomError, <span class=\"pl-c1\">Error</span>)\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">throws</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">function</span> () {\n\n    <span class=\"pl-k\">throw</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">CustomError</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Oh no!<span class=\"pl-pds\">'</span></span>);\n};\n\n<span class=\"pl-en\">expect</span>(throws).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">throw</span>(CustomError, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Oh no!<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"await-rejecttype-message\" class=\"anchor\" href=\"#await-rejecttype-message\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await reject([type], [message])</code>\n</h4>\n<p>Aliases: <code>throws</code></p>\n<p>Asserts that the <code>Promise</code> reference value rejects with an exception when called. The provided reference\npromise is resolved using an <code>await</code> statement within a <code>try</code>-<code>catch</code> block and any error throws is caught\nand compared to the provided optional requirements where:</p>\n<ul>\n<li>\n<code>type</code> - the <code>instanceof</code> value of the rejected object.</li>\n<li>\n<code>message</code> a string or regular expression matching the rejected error <code>message</code> property. Note that a string\nmust provide a full match.</li>\n</ul>\n<p>Returns the rejected error object.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">NodeUtil</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>util<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">CustomError</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">function</span> (<span class=\"pl-smi\">message</span>, <span class=\"pl-smi\">code</span>) {\n\n    <span class=\"pl-c1\">this</span>.<span class=\"pl-smi\">message</span> <span class=\"pl-k\">=</span> message;\n    <span class=\"pl-c1\">this</span>.<span class=\"pl-c1\">code</span> <span class=\"pl-k\">=</span> code;\n};\n\n<span class=\"pl-smi\">NodeUtil</span>.<span class=\"pl-en\">inherits</span>(CustomError, <span class=\"pl-c1\">Error</span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">rejects</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">function</span> () {\n\n    <span class=\"pl-k\">return</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Promise</span>((<span class=\"pl-smi\">resolve</span>, <span class=\"pl-smi\">reject</span>) <span class=\"pl-k\">=&gt;</span> <span class=\"pl-en\">reject</span>(<span class=\"pl-k\">new</span> <span class=\"pl-en\">CustomError</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Oh no!<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">123</span>)));\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">err</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-en\">expect</span>(<span class=\"pl-en\">rejects</span>()).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">reject</span>(CustomError, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Oh no!<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-en\">expect</span>(<span class=\"pl-smi\">err</span>.<span class=\"pl-c1\">code</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">equal</span>(<span class=\"pl-c1\">123</span>);</pre></div>\n<h3>\n<a id=\"failmessage\" class=\"anchor\" href=\"#failmessage\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>fail(message)</code>\n</h3>\n<p>Makes the test fail with <code>message</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Code</span>.<span class=\"pl-en\">fail</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>This should not occur<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h3>\n<a id=\"count\" class=\"anchor\" href=\"#count\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>count()</code>\n</h3>\n<p>Returns the total number of assertions created using the <code>expect()</code> method.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">5</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">not</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-smi\">a</span>.<span class=\"pl-en\">string</span>();\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">Code</span>.<span class=\"pl-en\">count</span>());\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> -&gt; 1</span></pre></div>\n<h3>\n<a id=\"incomplete\" class=\"anchor\" href=\"#incomplete\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>incomplete()</code>\n</h3>\n<p>Returns an array of the locations where incomplete assertions were declared or <code>null</code> if no incomplete assertions found.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n\n<span class=\"pl-en\">expect</span>(<span class=\"pl-c1\">5</span>).<span class=\"pl-smi\">to</span>.<span class=\"pl-smi\">not</span>.<span class=\"pl-smi\">be</span>.<span class=\"pl-smi\">a</span>.<span class=\"pl-smi\">string</span>;\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">Code</span>.<span class=\"pl-en\">incomplete</span>());\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> -&gt; [ 'readme.js:667:1' ]</span></pre></div>\n<h3>\n<a id=\"thrownaterror\" class=\"anchor\" href=\"#thrownaterror\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>thrownAt([error])</code>\n</h3>\n<p>Returns the filename, line number, and column number of where the <code>error</code> was created. If no error is provided, the current location returned.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">error</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>oops<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Code</span>.<span class=\"pl-en\">thrownAt</span>(error);</pre></div>\n<h3>\n<a id=\"settings\" class=\"anchor\" href=\"#settings\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Settings</h3>\n<p><strong>code</strong> can be configured using the module's <code>settings</code> object. The following\nsettings are supported:</p>\n<h4>\n<a id=\"truncatemessages\" class=\"anchor\" href=\"#truncatemessages\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>truncateMessages</code>\n</h4>\n<p>A Boolean value that, when <code>true</code>, causes long assertion error messages to be\ntruncated for readability. Setting this to <code>false</code> causes the entire message\nto be displayed. Defaults to <code>true</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">foo</span> <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>, <span class=\"pl-c1\">4</span>, <span class=\"pl-c1\">5</span>, <span class=\"pl-c1\">6</span>, <span class=\"pl-c1\">7</span>, <span class=\"pl-c1\">8</span>, <span class=\"pl-c1\">9</span>, <span class=\"pl-c1\">10</span>, <span class=\"pl-c1\">11</span>, <span class=\"pl-c1\">12</span>];\n\n<span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">settings</span>.<span class=\"pl-smi\">truncateMessages</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">false</span>;\n<span class=\"pl-en\">expect</span>(foo).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">equal</span>([]);</pre></div>\n<h4>\n<a id=\"compareprototypes\" class=\"anchor\" href=\"#compareprototypes\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>comparePrototypes</code>\n</h4>\n<p>A Boolean value that, when <code>false</code>, ignores object prototypes when doing a deep comparison. Defaults to <code>false</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Code</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>code<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">expect</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">expect</span>;\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">foo</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Object</span>.<span class=\"pl-en\">create</span>(<span class=\"pl-c1\">null</span>);\n\n<span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">settings</span>.<span class=\"pl-smi\">comparePrototypes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">false</span>;\n<span class=\"pl-en\">expect</span>(foo).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">equal</span>({});\n\n<span class=\"pl-smi\">Code</span>.<span class=\"pl-smi\">settings</span>.<span class=\"pl-smi\">comparePrototypes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">true</span>;\n<span class=\"pl-en\">expect</span>(foo).<span class=\"pl-smi\">to</span>.<span class=\"pl-en\">equal</span>({}); <span class=\"pl-c\"><span class=\"pl-c\">//</span> fails</span></pre></div>\n","intro":"### Introduction\n\n**code** was created as a direct rewrite of the powerful [**chai**](http://chaijs.com) assertions\nlibrary. This virtual fork was created for a few reasons. First, **chai** mixed usage of methods and\nproperties creates a problematic environment in which it is too easy to forget a method `()` and result\nin an assertion that is never executed (and therefore passes incorrectly). This observation was noted by\nthe [**must**](https://github.com/moll/js-must) author.\n\nThe second reason is that similar to [**lab**](https://github.com/hapijs/lab), our test runner, we wanted\nan assertion library that is small, simple, and intuitive - without plugins, extensions, or the overhead\nof having to support testing in the browser. **code** provides much of the same functionality in about\n300 lines of code that are trivial to read in a few minutes.\n\nAnd last, we wanted to experiment with some new features that allow deeper integration between the test\nrunner and assertions library. The first of which are two methods exported (and used by **lab**) for getting\nthe total assertions count (which is a measure of the tests comprehensiveness), and by verifying that every\nassertion created (e.g. every `expect()` call) is also executed. This will alert when a statement like\n`expect(5).to.be.a.string` is not allowed to remain unnoticed (and fail to throw due to the missing `()`).\n\nLike **lab**, the goal is to keep this module small and simple. If you need extensibility or other\nfunctionality, we recommend looking at the many other excellent assertions libraries available.\n","example":"### Example\n\n```js\nconst Code = require('@hapi/code');\nconst expect = Code.expect;\n\nexpect(true).to.be.a.boolean().and.to.not.equal(false);\nexpect('this string').to.only.include(['this', 'string']);\n```\n","usage":"","faq":"","license":"BSD"},"slogan":"BDD assertion library.","forks":71,"stars":225,"date":"2019-10-14T07:48:45Z","updated":"Mon Oct 14 2019","link":"https://github.com/hapijs/code"},"content":{"name":"content","versions":[{"name":"3.1.0","branch":"v3-commercial","license":"Commercial","node":" 10, 8, 6"}],"versionsArray":["3.1.0"],"3.1.0":{"menu":"- [Usage](#usage)\n  - [`type()`](#typeheader)\n  - [`disposition()`](#dispositionheader)","api":"<h2>\n<a id=\"usage\" class=\"anchor\" href=\"#usage\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Usage</h2>\n<p><strong>content</strong> allows to parse HTTP <code>Content-*</code> headers, currently based on the rules established in both <a href=\"https://tools.ietf.org/html/rfc7231#section-3.1.1.1\" rel=\"nofollow\">RFC 7231 Section 3.1.1.1</a> and <a href=\"http://tools.ietf.org/html/rfc6266#section-4.1\" rel=\"nofollow\">RFC 6266 Section 4.1</a>.</p>\n<h3>\n<a id=\"typeheader\" class=\"anchor\" href=\"#typeheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>type(header)</code>\n</h3>\n<p>Generates an object containing the associated mime-type and the boundary (if specified).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Content</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>application/json; some=property; and=\"another\"<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> { mime: 'application/json' }</span>\n\n<span class=\"pl-smi\">Content</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>application/json; boundary=asdf<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> { mime: 'application/json', boundary: 'asdf' }</span></pre></div>\n<p>If the header is invalid (malformed) or missing required data, such as a <code>multipart/form-data</code> header missing its <code>boundary</code>, it returns an HTTP <code>Bad Request</code> error.</p>\n<h3>\n<a id=\"dispositionheader\" class=\"anchor\" href=\"#dispositionheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>disposition(header)</code>\n</h3>\n<p>Generates an object containing the details related to the <code>Content-Disposition</code> header for the <code>form-data</code> content type with support for <code>utf8</code> encoding.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Content</span>.<span class=\"pl-en\">disposition</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>form-data; name=\"file\"; filename=file.jpg<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> { name: 'file', filename: 'file.jpg' }</span>\n\n<span class=\"pl-smi\">Content</span>.<span class=\"pl-en\">disposition</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>form-data; name=\"file\"; filename*=utf-8<span class=\"pl-cce\">\\'</span>en<span class=\"pl-cce\">\\'</span>with%20space<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> { name: 'file', filename: 'with space' }</span></pre></div>\n<p>If the header is invalid (malformed, invalid or missing properties) or is empty/missing, it returns an explanatory error.</p>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"},"slogan":"HTTP Content-* headers parsing.","forks":4,"stars":5,"date":"2019-10-09T00:35:19Z","updated":"Wed Oct 09 2019","link":"https://github.com/hapijs/content"},"cookie":{"name":"cookie","versions":[],"versionsArray":[],"slogan":"Cookie authentication plugin.","forks":92,"stars":232,"date":"2019-10-09T00:36:05Z","updated":"Wed Oct 09 2019","link":"https://github.com/hapijs/cookie"},"crumb":{"name":"crumb","versions":[],"versionsArray":[],"slogan":"CSRF crumb generation and validation for hapi.","forks":42,"stars":172,"date":"2019-10-11T18:14:58Z","updated":"Fri Oct 11 2019","link":"https://github.com/hapijs/crumb"},"cryptiles":{"name":"cryptiles","versions":[{"name":"4.2.1","branch":"master","license":"BSD","node":" 12, 10, 8"},{"name":"3.2.0","branch":"v3-commercial","license":"Commercial","node":" 10, 8, 6"}],"versionsArray":["4.2.1","3.2.0"],"4.2.1":{"menu":"- [Methods](#methods)\n  - [`randomString()`](#randomstring-size)\n  - [`randomDigits()`](#randomdigits-size)","api":"<h2>\n<a id=\"methods\" class=\"anchor\" href=\"#methods\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Methods</h2>\n<h3>\n<a id=\"randomstringnumber-size\" class=\"anchor\" href=\"#randomstringnumber-size\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>randomString(&lt;Number&gt; size)</code>\n</h3>\n<p>Returns a cryptographically strong pseudo-random data string. Takes a size argument for the length of the string.</p>\n<h3>\n<a id=\"randomdigitsnumber-size\" class=\"anchor\" href=\"#randomdigitsnumber-size\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>randomDigits(&lt;Number&gt; size)</code>\n</h3>\n<p>Returns a cryptographically strong pseudo-random data string consisting of only numerical digits (0-9). Takes a size argument for the length of the string.</p>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"3.2.0":{"menu":"- [Methods](#methods)\n  - [`randomString()`](#randomstring-size)\n  - [`randomDigits()`](#randomdigits-size)\n  - [`fixedTimeComparison()`](#fixedtimecomparison-a--b)","api":"<h2>\n<a id=\"methods\" class=\"anchor\" href=\"#methods\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Methods</h2>\n<h3>\n<a id=\"randomstringnumber-size\" class=\"anchor\" href=\"#randomstringnumber-size\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>randomString(&lt;Number&gt; size)</code>\n</h3>\n<p>Returns a cryptographically strong pseudo-random data string. Takes a size argument for the length of the string.</p>\n<h3>\n<a id=\"randomdigitsnumber-size\" class=\"anchor\" href=\"#randomdigitsnumber-size\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>randomDigits(&lt;Number&gt; size)</code>\n</h3>\n<p>Returns a cryptographically strong pseudo-random data string consisting of only numerical digits (0-9). Takes a size argument for the length of the string.</p>\n<h3>\n<a id=\"fixedtimecomparisonstring-a-string-b\" class=\"anchor\" href=\"#fixedtimecomparisonstring-a-string-b\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>fixedTimeComparison(&lt;String&gt; a, &lt;String&gt; b)</code>\n</h3>\n<p>Compare two strings using fixed time algorithm (to prevent time-based analysis of MAC digest match). Returns <code>true</code> if the strings match, <code>false</code> if they differ.</p>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"},"slogan":"General purpose crypto utilities.","forks":19,"stars":180,"date":"2019-10-09T00:38:50Z","updated":"Wed Oct 09 2019","link":"https://github.com/hapijs/cryptiles"},"developer":{"name":"developer","versions":[{"name":"1.0.1","branch":"master","license":"BSD","node":" 11, 10, 8"}],"versionsArray":["1.0.1"],"1.0.1":{"menu":"- [Usage](#usage)\n  - [`type()`](#typeheader)\n  - [`disposition()`](#dispositionheader)","api":"<h2>\n<a id=\"usage\" class=\"anchor\" href=\"#usage\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Usage</h2>\n<p><strong>content</strong> allows to parse HTTP <code>Content-*</code> headers, currently based on the rules established in both <a href=\"https://tools.ietf.org/html/rfc7231#section-3.1.1.1\" rel=\"nofollow\">RFC 7231 Section 3.1.1.1</a> and <a href=\"http://tools.ietf.org/html/rfc6266#section-4.1\" rel=\"nofollow\">RFC 6266 Section 4.1</a>.</p>\n<h3>\n<a id=\"typeheader\" class=\"anchor\" href=\"#typeheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>type(header)</code>\n</h3>\n<p>Generates an object containing the associated mime-type and the boundary (if specified).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Content</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>application/json; some=property; and=\"another\"<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> { mime: 'application/json' }</span>\n\n<span class=\"pl-smi\">Content</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>application/json; boundary=asdf<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> { mime: 'application/json', boundary: 'asdf' }</span></pre></div>\n<p>If the header is invalid (malformed) or missing required data, such as a <code>multipart/form-data</code> header missing its <code>boundary</code>, it returns an HTTP <code>Bad Request</code> error.</p>\n<h3>\n<a id=\"dispositionheader\" class=\"anchor\" href=\"#dispositionheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>disposition(header)</code>\n</h3>\n<p>Generates an object containing the details related to the <code>Content-Disposition</code> header for the <code>form-data</code> content type with support for <code>utf8</code> encoding.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Content</span>.<span class=\"pl-en\">disposition</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>form-data; name=\"file\"; filename=file.jpg<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> { name: 'file', filename: 'file.jpg' }</span>\n\n<span class=\"pl-smi\">Content</span>.<span class=\"pl-en\">disposition</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>form-data; name=\"file\"; filename*=utf-8<span class=\"pl-cce\">\\'</span>en<span class=\"pl-cce\">\\'</span>with%20space<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> { name: 'file', filename: 'with space' }</span></pre></div>\n<p>If the header is invalid (malformed, invalid or missing properties) or is empty/missing, it returns an explanatory error.</p>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"}},"eslint-config-hapi":{"name":"eslint-config-hapi","versions":[{"name":"12.3.0","branch":"master","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["12.3.0"],"12.3.0":{"menu":"- [`global-scope-only`](#global-scope-only)","api":"<p>ESLint rule to enforce the capitalization of imported module variables.</p>\n<h3>\n<a id=\"global-scope-only\" class=\"anchor\" href=\"#global-scope-only\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>global-scope-only</code>\n</h3>\n<p>If the string <code>'global-scope-only'</code> is passed as the first option to this rule,\nthen it will only be enforced on assignments in the module's top level scope.</p>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"}},"eslint-plugin-hapi":{"name":"eslint-plugin-hapi","versions":[{"name":"4.3.4","branch":"master","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["4.3.4"],"4.3.4":{"menu":"- [`allow-one-liners`](#allow-one-liners)\n- [`max-in-one-liner`](#max-in-one-liner)","api":"<h3>\n<a id=\"allow-one-liners\" class=\"anchor\" href=\"#allow-one-liners\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>allow-one-liners</code>\n</h3>\n<p>If the string <code>'allow-one-liners'</code> is passed as the first option to this rule,\nthen functions whose bodies contain zero or one statements are allowed to be\nwritten on a single line. This defaults to <code>true</code> for arrow functions, and\n<code>false</code> otherwise.</p>\n<h3>\n<a id=\"max-in-one-liner\" class=\"anchor\" href=\"#max-in-one-liner\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>max-in-one-liner</code>\n</h3>\n<p>The second option to this rule dictates the maximum number of statements allowed\nin the bodies of one line function. This must be used in conjunction with\n<code>allow-one-liners</code>. Defaults to one.</p>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"}},"file":{"name":"file","versions":[{"name":"1.0.0","branch":"master","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["1.0.0"],"1.0.0":{"menu":"- [`new Formula()`](#new-formulaformula-options)\n- [`formula.evaluate()`](#formulaevaluatecontext)","api":"<h2>\n<a id=\"methods\" class=\"anchor\" href=\"#methods\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Methods</h2>\n<h3>\n<a id=\"new-formulaformula-options\" class=\"anchor\" href=\"#new-formulaformula-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Formula(formula, [options])</code>\n</h3>\n<p>Creates a new formula parser object where:</p>\n<ul>\n<li>\n<code>formula</code> - the formula string to parse.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>constants</code> - a hash of key-value pairs used to convert constants to values.</li>\n<li>\n<code>tokenRx</code> - a regular expression used to validate token variables.</li>\n<li>\n<code>reference</code> - a variable resolver factory function with signature <code>function(variable)</code> which returns a function with signature <code>function(context)</code> returning the resolved <code>variable</code>.</li>\n<li>\n<code>functions</code> - a hash of key-vaue pairs used to resolve formula functions.</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"formulaevaluatecontext\" class=\"anchor\" href=\"#formulaevaluatecontext\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>formula.evaluate([context])</code>\n</h3>\n<p>Evaluate the formula where:</p>\n<ul>\n<li>\n<code>context</code> - optional object with runtime formula context used to resolve variables.</li>\n</ul>\n<p>Returns the string or number outcome of the resolved formula.</p>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"}},"formula":{"name":"formula","versions":[{"name":"2.0.0","branch":"master","license":"BSD","node":" 12, 10"},{"name":"1.2.0","branch":"v1","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["2.0.0","1.2.0"],"2.0.0":{"menu":"- [Methods](#methods)\n  - [`new Formula.Parser()`](#new-formulaparserformula-options)\n  - [`parser.evaluate()`](#parserevaluatecontext)","api":"<h2>\n<a id=\"methods\" class=\"anchor\" href=\"#methods\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Methods</h2>\n<h3>\n<a id=\"new-formulaparserformula-options\" class=\"anchor\" href=\"#new-formulaparserformula-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Formula.Parser(formula, [options])</code>\n</h3>\n<p>Creates a new formula parser object where:</p>\n<ul>\n<li>\n<code>formula</code> - the formula string to parse.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>constants</code> - a hash of key-value pairs used to convert constants to values.</li>\n<li>\n<code>tokenRx</code> - a regular expression used to validate token variables.</li>\n<li>\n<code>reference</code> - a variable resolver factory function with signature <code>function(variable)</code> which returns a function with signature <code>function(context)</code> returning the resolved <code>variable</code>.</li>\n<li>\n<code>functions</code> - a hash of key-value pairs used to resolve formula functions.</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"parserevaluatecontext\" class=\"anchor\" href=\"#parserevaluatecontext\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>parser.evaluate([context])</code>\n</h3>\n<p>Evaluate the formula where:</p>\n<ul>\n<li>\n<code>context</code> - optional object with runtime formula context used to resolve variables.</li>\n</ul>\n<p>Returns the string or number outcome of the resolved formula.</p>\n","intro":"","example":"## Example\n\n```js\nconst Formula = require('@hapi/formula');\n\n\nconst functions = {\n    x: (value) => value + 10\n};\n\nconst constants = {\n    Z: 100\n};\n\nconst reference = function (name) {\n\n    return (context) => context[name];\n};\n\n\nconst formula = new Formula.Parser('1 + a.b.c.2.4.x + [b] + x([y + 4] + Z)', { functions, constants, reference });\n\nformula.evaluate({ 'a.b.c.2.4.x': 2, b: 3, 'y + 4': 5 });       // 1 + 2 + 3 + 5 + 10 + 100\nformula.evaluate({ 'a.b.c.2.4.x': '2', b: 3, 'y + 4': '5' });   // '123510010'\n```\n","usage":"","faq":"","license":"BSD"},"1.2.0":{"menu":"- [`new Formula()`](#new-formulaformula-options)\n- [`formula.evaluate()`](#formulaevaluatecontext)","api":"<h2>\n<a id=\"methods\" class=\"anchor\" href=\"#methods\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Methods</h2>\n<h3>\n<a id=\"new-formulaformula-options\" class=\"anchor\" href=\"#new-formulaformula-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Formula(formula, [options])</code>\n</h3>\n<p>Creates a new formula parser object where:</p>\n<ul>\n<li>\n<code>formula</code> - the formula string to parse.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>constants</code> - a hash of key-value pairs used to convert constants to values.</li>\n<li>\n<code>tokenRx</code> - a regular expression used to validate token variables.</li>\n<li>\n<code>reference</code> - a variable resolver factory function with signature <code>function(variable)</code> which returns a function with signature <code>function(context)</code> returning the resolved <code>variable</code>.</li>\n<li>\n<code>functions</code> - a hash of key-vaue pairs used to resolve formula functions.</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"formulaevaluatecontext\" class=\"anchor\" href=\"#formulaevaluatecontext\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>formula.evaluate([context])</code>\n</h3>\n<p>Evaluate the formula where:</p>\n<ul>\n<li>\n<code>context</code> - optional object with runtime formula context used to resolve variables.</li>\n</ul>\n<p>Returns the string or number outcome of the resolved formula.</p>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"slogan":"Math and string formula parser.","forks":1,"stars":2,"date":"2019-10-07T04:44:20Z","updated":"Mon Oct 07 2019","link":"https://github.com/hapijs/formula"},"glue":{"name":"glue","versions":[{"name":"5.1.0","branch":"v5","license":"BSD","node":" 11, 10, 8"}],"versionsArray":["5.1.0"],"5.1.0":{"menu":"- [Interface](#interface)\n  - [`await compose()`](#await-composemanifest-options)\n  - [Notes](#notes)\n- [Usage](#usage)","api":"<h2>\n<a id=\"interface\" class=\"anchor\" href=\"#interface\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Interface</h2>\n<p>Glue exports a single function <code>compose</code> accepting a JSON <code>manifest</code> file specifying the hapi server options and plugin registrations and returns a hapi <code>server</code> object.\nTo start the server use the returned object to call <code>await server.start()</code>.</p>\n<h3>\n<a id=\"await-composemanifest-options\" class=\"anchor\" href=\"#await-composemanifest-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await compose(manifest, [options])</code>\n</h3>\n<p>Composes a hapi server object where:</p>\n<ul>\n<li>\n<code>manifest</code> - an object having:\n<ul>\n<li>\n<code>server</code> - an object containing the options passed to <a href=\"http://hapijs.com/api#new-serveroptions\" rel=\"nofollow\">new Hapi.Server([options])</a>\n<ul>\n<li>If <code>server.cache</code> is specified, Glue will parse the entry and replace any prototype function field (eg. <code>engine</code>) specified as string by calling <code>require()</code> with that string.</li>\n</ul>\n</li>\n<li>\n<code>register</code> - an object containing two properties: the <code>plugins</code> to be registered and <code>options</code> to pass to <code>server.register</code>\n<ul>\n<li>\n<code>plugins</code> - an array of entries to register with <a href=\"http://hapijs.com/api#-await-serverregisterplugins-options\" rel=\"nofollow\">await server.register(plugins, [options])</a>.\n<ul>\n<li>each entry may be one of three alternatives:\n<ol>\n<li>A string to be <code>require()</code>d during composition.</li>\n</ol>\n<div class=\"highlight highlight-source-js\"><pre>{\n  register<span class=\"pl-k\">:</span> {\n    plugins<span class=\"pl-k\">:</span> [ <span class=\"pl-s\"><span class=\"pl-pds\">'</span>myplugin<span class=\"pl-pds\">'</span></span> ]\n  }\n}</pre></div>\n<ol start=\"2\">\n<li>An object containing the <code>plugin</code> property which is a string to be <code>require</code>d during composition</li>\n</ol>\n<div class=\"highlight highlight-source-js\"><pre>{\n  register<span class=\"pl-k\">:</span> {\n    plugins<span class=\"pl-k\">:</span> [ { plugin<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>myplugin<span class=\"pl-pds\">'</span></span> } ]\n  }\n}</pre></div>\n<ol start=\"3\">\n<li>An object containing the <code>plugin</code> property which is the plugin object to be passed directly to <code>await server.register</code>*[]:</li>\n</ol>\n<div class=\"highlight highlight-source-js\"><pre>{\n  register<span class=\"pl-k\">:</span> {\n    plugins<span class=\"pl-k\">:</span> [ { plugin<span class=\"pl-k\">:</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>myplugin<span class=\"pl-pds\">'</span></span>) } ]\n  }\n}</pre></div>\n</li>\n<li>object entries may also contain the <code>options</code> property, which contains the plugin-level options passed to the plugin at registration time.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre>{\n  register<span class=\"pl-k\">:</span> {\n    plugins<span class=\"pl-k\">:</span> [ { plugin<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>myplugin<span class=\"pl-pds\">'</span></span>, options<span class=\"pl-k\">:</span> { host<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>my-host.com<span class=\"pl-pds\">'</span></span> } } ]\n  }\n}</pre></div>\n<ul>\n<li>object entries may also contain override registration-options such as <code>routes</code>.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre>  {\n    register<span class=\"pl-k\">:</span> {\n      plugins<span class=\"pl-k\">:</span> [ { plugin<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>myplugin<span class=\"pl-pds\">'</span></span>, routes<span class=\"pl-k\">:</span> { prefix<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/test/<span class=\"pl-pds\">'</span></span> } } ]\n    }\n  }</pre></div>\n</li>\n<li>\n<code>options</code> - optional registration-options object passed to <code>server.register()</code>.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>options</code> - an object containing the following <code>compose</code> options:\n<ul>\n<li>\n<code>relativeTo</code> - a file-system path string that is used to resolve loading modules with <code>require</code>.  Used in <code>server.cache</code> and <code>register.plugins[]</code>\n</li>\n<li>\n<code>preRegister</code> - an async function that is called prior to registering plugins with the server. The function signature is <code>async function (server)</code> where:\n<ul>\n<li>\n<code>server</code> - is the hapi server object.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><code>compose</code> returns the hapi server object. Call <code>await server.start()</code> to actually start the server.</p>\n<h3>\n<a id=\"notes\" class=\"anchor\" href=\"#notes\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Notes</h3>\n<p>If you are developing a plugin, ensure your plugin dependencies are properly managed to guarantee that all dependencies are loaded before your plugin registration completes.  See <a href=\"http://hapijs.com/api#serverdependencydependencies-after\" rel=\"nofollow\"><code>server.dependency(dependencies, [after])</code></a> for more information.</p>\n<h2>\n<a id=\"usage\" class=\"anchor\" href=\"#usage\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Usage</h2>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">'</span>use strict<span class=\"pl-pds\">'</span></span>;\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Glue</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/glue<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">manifest</span> <span class=\"pl-k\">=</span> {\n    server<span class=\"pl-k\">:</span> {\n        cache<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>redis<span class=\"pl-pds\">'</span></span>,\n        port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">8000</span>\n    },\n    register<span class=\"pl-k\">:</span> {\n        plugins<span class=\"pl-k\">:</span> [\n            <span class=\"pl-s\"><span class=\"pl-pds\">'</span>./awesome-plugin.js<span class=\"pl-pds\">'</span></span>,\n            {\n                plugin<span class=\"pl-k\">:</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>myplugin<span class=\"pl-pds\">'</span></span>),\n                options<span class=\"pl-k\">:</span> {\n                    uglify<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>\n                }\n            },\n            {\n                plugin<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>./ui-user<span class=\"pl-pds\">'</span></span>\n            },\n            {\n                plugin<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>./ui-admin<span class=\"pl-pds\">'</span></span>,\n                options<span class=\"pl-k\">:</span> {\n                    sessiontime<span class=\"pl-k\">:</span> <span class=\"pl-c1\">500</span>\n                },\n                routes<span class=\"pl-k\">:</span> {\n                    prefix<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/admin<span class=\"pl-pds\">'</span></span>\n                }\n            }\n        ]\n    }\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">options</span> <span class=\"pl-k\">=</span> {\n    relativeTo<span class=\"pl-k\">:</span> <span class=\"pl-c1\">__dirname</span>\n};\n\n<span class=\"pl-k\">try</span> {\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-smi\">Glue</span>.<span class=\"pl-en\">compose</span>(manifest, options);\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>hapi days!<span class=\"pl-pds\">'</span></span>);\n}\n<span class=\"pl-k\">catch</span> (err) {\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">error</span>(err);\n    <span class=\"pl-c1\">process</span>.<span class=\"pl-en\">exit</span>(<span class=\"pl-c1\">1</span>);\n}</pre></div>\n<p>The above is translated into the following equivalent hapi API calls.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">try</span> {\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hapi</span>.<span class=\"pl-en\">server</span>({ cache<span class=\"pl-k\">:</span> [{ engine<span class=\"pl-k\">:</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>redis<span class=\"pl-pds\">'</span></span>) }], port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">8000</span> });\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">plugins</span> <span class=\"pl-k\">=</span> [];\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">registerOptions</span> <span class=\"pl-k\">=</span> {};\n    <span class=\"pl-k\">let</span> pluginPath;\n\n    pluginPath <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Path</span>.<span class=\"pl-c1\">join</span>(<span class=\"pl-c1\">__dirname</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>./awesome-plugin.js<span class=\"pl-pds\">'</span></span>);\n    <span class=\"pl-smi\">plugins</span>.<span class=\"pl-c1\">push</span>({ plugin<span class=\"pl-k\">:</span> <span class=\"pl-c1\">require</span>(pluginPath) });\n\n    <span class=\"pl-smi\">plugins</span>.<span class=\"pl-c1\">push</span>({ plugin<span class=\"pl-k\">:</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>myplugin<span class=\"pl-pds\">'</span></span>), options<span class=\"pl-k\">:</span>{ uglify<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> } });\n\n    pluginPath <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Path</span>.<span class=\"pl-c1\">join</span>(<span class=\"pl-c1\">__dirname</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>./ui-user<span class=\"pl-pds\">'</span></span>);\n    <span class=\"pl-smi\">plugins</span>.<span class=\"pl-c1\">push</span>({ plugin<span class=\"pl-k\">:</span> <span class=\"pl-c1\">require</span>(pluginPath) });\n\n    pluginPath <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Path</span>.<span class=\"pl-c1\">join</span>(<span class=\"pl-c1\">__dirname</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>./ui-admin<span class=\"pl-pds\">'</span></span>);\n    <span class=\"pl-smi\">plugins</span>.<span class=\"pl-c1\">push</span>({ plugin<span class=\"pl-k\">:</span> <span class=\"pl-c1\">require</span>(pluginPath), options<span class=\"pl-k\">:</span> { sessiontime<span class=\"pl-k\">:</span> <span class=\"pl-c1\">500</span> }, routes<span class=\"pl-k\">:</span> { prefix<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/admin<span class=\"pl-pds\">'</span></span> } });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(plugins, registerOptions);\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>hapi days!<span class=\"pl-pds\">'</span></span>);\n}\n<span class=\"pl-k\">catch</span> (err)\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">error</span>(err);\n    <span class=\"pl-c1\">process</span>.<span class=\"pl-en\">exit</span>(<span class=\"pl-c1\">1</span>);\n}</pre></div>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"slogan":"Server composer for hapi.js.","forks":52,"stars":242,"date":"2019-10-08T07:20:52Z","updated":"Tue Oct 08 2019","link":"https://github.com/hapijs/glue"},"good":{"name":"good","versions":[{"name":"8.2.4","branch":"master","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["8.2.4"],"8.2.4":{"menu":"  - [Log to Console](#log-to-console)\n  - [Log to file](#log-to-file)\n  - [Add custom transform stream](#add-custom-transform-stream)\n- [Usage](#usage)\n  - [Options](#options)\n  - [Reporter Interface](#reporter-interface)\n    - [Stream Transforms Using Plugin Configs](#stream-transforms-using-plugin-configs)\n    - [Reporter Lifecycle](#reporter-lifecycle)\n  - [Event Types](#event-types)\n  - [Event Payloads](#event-payloads)\n    - [`ServerLog`](#serverlog)\n    - [`RequestError`](#requesterror)\n    - [`RequestSent`](#requestsent)\n    - [`Ops`](#ops)\n    - [`RequestLog`](#requestlog)\n    - [Extension Payloads](#extension-payloads)\n- [Existing streams](#existing-streams)","api":"<h3>\n<a id=\"log-to-console\" class=\"anchor\" href=\"#log-to-console\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Log to Console</h3>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> <span class=\"pl-k\">function</span> () {\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hapi</span>.<span class=\"pl-en\">server</span>();\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">handler</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">function</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">h</span>) {\n\n        <span class=\"pl-smi\">request</span>.<span class=\"pl-smi\">server</span>.<span class=\"pl-en\">log</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>c<span class=\"pl-pds\">'</span></span>], <span class=\"pl-s\"><span class=\"pl-pds\">'</span>some message<span class=\"pl-pds\">'</span></span>);\n        <span class=\"pl-k\">return</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ok<span class=\"pl-pds\">'</span></span>;\n    };\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({ path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span>, method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>, handler })\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>({\n        plugin<span class=\"pl-k\">:</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/good<span class=\"pl-pds\">'</span></span>),\n        options<span class=\"pl-k\">:</span> {\n            ops<span class=\"pl-k\">:</span> {\n                interval<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1000</span>\n            },\n            reporters<span class=\"pl-k\">:</span> {\n                myConsoleReporter<span class=\"pl-k\">:</span> [\n                    {\n                        module<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/good-squeeze<span class=\"pl-pds\">'</span></span>,\n                        name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Squeeze<span class=\"pl-pds\">'</span></span>,\n                        args<span class=\"pl-k\">:</span> [{ log<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>*<span class=\"pl-pds\">'</span></span>, response<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>*<span class=\"pl-pds\">'</span></span>, ops<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>*<span class=\"pl-pds\">'</span></span> }]\n                    },\n                    {\n                        module<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/good-console<span class=\"pl-pds\">'</span></span>\n                    },\n                    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>stdout<span class=\"pl-pds\">'</span></span>\n                ]\n            }\n        }\n    });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">info</span>(<span class=\"pl-s\"><span class=\"pl-pds\">`</span>Server started at <span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">info</span>.<span class=\"pl-smi\">uri</span><span class=\"pl-pse\">}</span></span><span class=\"pl-pds\">`</span></span>);\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">inject</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span>);\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<p>This reporter spec logs ops statistics, request responses, and server log events to the console. It should log to the console something like:</p>\n<pre><code>Server started at http://localhost:41759\n190921/234014.495, [log,a,b,c] data: some message\n190921/234014.494, (1569109214494:localhost:3616:k0u742ki:10000) [response] http://localhost:41759: get / {} 200 (6ms)\n190921/234015.494, [ops] memory: 52Mb, uptime (seconds): 1.148846148, load: [0.02734375,0.0302734375,0]\n190921/234016.493, [ops] memory: 52Mb, uptime (seconds): 2.149207332, load: [0.02734375,0.0302734375,0]\n190921/234017.494, [ops] memory: 52Mb, uptime (seconds): 3.149818512, load: [0.02734375,0.0302734375,0]\n</code></pre>\n<p>It uses <code>@hapi/good-squeeze</code> to select only log and response events.</p>\n<p>Events that pass the filter stream to <code>@hapi/good-console</code> for formatting. See the <code>good console</code> <a href=\"https://github.com/hapijs/good-console#new-goodconsoleconfig\">constructor docs</a> for details on <code>args</code> values.</p>\n<p>Formatted events stream to <code>process.stdout</code> for display.</p>\n<h3>\n<a id=\"log-to-file\" class=\"anchor\" href=\"#log-to-file\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Log to file</h3>\n<p>Create a basic write stream class and use with good:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Fs</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>fs-extra<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n\n\n<span class=\"pl-k\">class</span> <span class=\"pl-en\">GoodFile</span> <span class=\"pl-k\">extends</span> <span class=\"pl-e\">Fs</span>.<span class=\"pl-smi\">WriteStream</span> {\n\n    <span class=\"pl-en\">constructor</span>(<span class=\"pl-smi\">path</span>, <span class=\"pl-smi\">options</span>) {\n\n        <span class=\"pl-k\">const</span> <span class=\"pl-c1\">defaults</span> <span class=\"pl-k\">=</span> {\n            encoding<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>utf8<span class=\"pl-pds\">'</span></span>,\n            flags<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>,\n            mode<span class=\"pl-k\">:</span> <span class=\"pl-c1\">0o666</span>\n        };\n\n        <span class=\"pl-k\">const</span> <span class=\"pl-c1\">settings</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Object</span>.<span class=\"pl-en\">assign</span>({}, defaults, options);\n        <span class=\"pl-smi\">settings</span>.<span class=\"pl-smi\">fd</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">-</span><span class=\"pl-c1\">1</span>;       <span class=\"pl-c\"><span class=\"pl-c\">//</span> Prevent open from being called in `super`</span>\n\n        <span class=\"pl-c1\">super</span>(path, settings);\n        <span class=\"pl-c1\">this</span>.<span class=\"pl-c1\">open</span>();\n    }\n\n    <span class=\"pl-en\">open</span>() {\n\n        <span class=\"pl-c1\">this</span>.<span class=\"pl-smi\">fd</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">null</span>;\n        <span class=\"pl-smi\">Fs</span>.<span class=\"pl-en\">ensureFile</span>(<span class=\"pl-c1\">this</span>.<span class=\"pl-smi\">path</span>, (<span class=\"pl-smi\">err</span>) <span class=\"pl-k\">=&gt;</span> {\n\n            <span class=\"pl-k\">if</span> (err) {\n                <span class=\"pl-c1\">this</span>.<span class=\"pl-en\">destroy</span>();\n                <span class=\"pl-c1\">this</span>.<span class=\"pl-en\">emit</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>error<span class=\"pl-pds\">'</span></span>, err);\n                <span class=\"pl-k\">return</span>;\n            }\n\n            <span class=\"pl-c1\">super</span>.<span class=\"pl-c1\">open</span>();\n        });\n    }\n}\n\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> <span class=\"pl-k\">function</span> () {\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hapi</span>.<span class=\"pl-en\">server</span>();\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">handler</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">function</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">h</span>) {\n\n        <span class=\"pl-smi\">request</span>.<span class=\"pl-smi\">server</span>.<span class=\"pl-en\">log</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>c<span class=\"pl-pds\">'</span></span>], <span class=\"pl-s\"><span class=\"pl-pds\">'</span>some message<span class=\"pl-pds\">'</span></span>);\n        <span class=\"pl-k\">return</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ok<span class=\"pl-pds\">'</span></span>;\n    };\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({ path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span>, method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>, handler })\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>({\n        plugin<span class=\"pl-k\">:</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/good<span class=\"pl-pds\">'</span></span>),\n        options<span class=\"pl-k\">:</span> {\n            ops<span class=\"pl-k\">:</span> {\n                interval<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1000</span>\n            },\n            reporters<span class=\"pl-k\">:</span> {\n                myReporter<span class=\"pl-k\">:</span> [\n                    {\n                        module<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/good-squeeze<span class=\"pl-pds\">'</span></span>,   <span class=\"pl-c\"><span class=\"pl-c\">//</span> Transform payload into a safe string</span>\n                        name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>SafeJson<span class=\"pl-pds\">'</span></span>\n                    },\n                    {\n                        module<span class=\"pl-k\">:</span> GoodFile,\n                        args<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>./log.json<span class=\"pl-pds\">'</span></span>]\n                    }\n                ]\n            }\n        }\n    });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">log</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>log<span class=\"pl-pds\">'</span></span>], <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Server Started<span class=\"pl-pds\">'</span></span>);\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">inject</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span>);\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<p>This will create or append a file <code>./log.json</code> with the following:</p>\n<div class=\"highlight highlight-source-json\"><pre>{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>event<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>log<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>timestamp<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">1569109412144</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tags<span class=\"pl-pds\">\"</span></span>:[<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>log<span class=\"pl-pds\">\"</span></span>],<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>data<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Server Started<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pid<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">3630</span>}\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>event<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>log<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>timestamp<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">1569109412148</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>tags<span class=\"pl-pds\">\"</span></span>:[<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>a<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>b<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>c<span class=\"pl-pds\">\"</span></span>],<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>data<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>some message<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pid<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">3630</span>}\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>event<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>response<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>timestamp<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">1569109412146</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>1569109412146:localhost:3630:k0u78b2x:10000<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>instance<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>http://localhost:44883<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>method<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>get<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>path<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>query<span class=\"pl-pds\">\"</span></span>:{},<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>responseTime<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">5</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCode<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">200</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pid<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">3630</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>httpVersion<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>1.1<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>route<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>/<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>log<span class=\"pl-pds\">\"</span></span>:[],<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>source<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>remoteAddress<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>127.0.0.1<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>userAgent<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>shot<span class=\"pl-pds\">\"</span></span>},<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>config<span class=\"pl-pds\">\"</span></span>:{}}\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>event<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ops<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>timestamp<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">1569109413146</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>host<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>localhost<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pid<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">3630</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>os<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>load<span class=\"pl-pds\">\"</span></span>:[<span class=\"pl-c1\">0.0029296875</span>,<span class=\"pl-c1\">0.02001953125</span>,<span class=\"pl-c1\">0</span>],<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>mem<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>total<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">16682434560</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>free<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">6650597376</span>},<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>uptime<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">851831</span>},<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>proc<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>uptime<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">1.160361771</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>mem<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>rss<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">54652928</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>heapTotal<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">18948096</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>heapUsed<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">8310912</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>external<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">1271839</span>},<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>delay<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">0.9361389875411987</span>},<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>load<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>requests<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>44883<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>total<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">1</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>disconnects<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">0</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCodes<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>200<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">1</span>}}},<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>responseTimes<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>44883<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>avg<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">5</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>max<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">5</span>}},<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sockets<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>http<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>total<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">0</span>},<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>https<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>total<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">0</span>}}}}\n{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>event<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ops<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>timestamp<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">1569109414145</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>host<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>localhost<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pid<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">3630</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>os<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>load<span class=\"pl-pds\">\"</span></span>:[<span class=\"pl-c1\">0.0029296875</span>,<span class=\"pl-c1\">0.02001953125</span>,<span class=\"pl-c1\">0</span>],<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>mem<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>total<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">16682434560</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>free<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">6650597376</span>},<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>uptime<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">851832</span>},<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>proc<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>uptime<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">2.160405932</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>mem<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>rss<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">54652928</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>heapTotal<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">18948096</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>heapUsed<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">8358032</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>external<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">1271887</span>},<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>delay<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">0.29865598678588867</span>},<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>load<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>requests<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>44883<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>total<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">0</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>disconnects<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">0</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>statusCodes<span class=\"pl-pds\">\"</span></span>:{}}},<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>responseTimes<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>44883<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>avg<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">null</span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>max<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">0</span>}},<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sockets<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>http<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>total<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">0</span>},<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>https<span class=\"pl-pds\">\"</span></span>:{<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>total<span class=\"pl-pds\">\"</span></span>:<span class=\"pl-c1\">0</span>}}}}</pre></div>\n<h3>\n<a id=\"add-custom-transform-stream\" class=\"anchor\" href=\"#add-custom-transform-stream\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Add custom transform stream</h3>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Stream</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>stream<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n\n\n<span class=\"pl-k\">class</span> <span class=\"pl-en\">LogDateTransform</span> <span class=\"pl-k\">extends</span> <span class=\"pl-e\">Stream</span>.<span class=\"pl-smi\">Transform</span> {\n\n    <span class=\"pl-en\">constructor</span>() {\n\n        <span class=\"pl-c1\">super</span>({ objectMode<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });\n    }\n\n    <span class=\"pl-en\">_transform</span>(<span class=\"pl-smi\">data</span>, <span class=\"pl-smi\">enc</span>, <span class=\"pl-smi\">next</span>) {\n\n        <span class=\"pl-k\">const</span> <span class=\"pl-c1\">date</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Date</span>(<span class=\"pl-c1\">Date</span>.<span class=\"pl-en\">now</span>()).<span class=\"pl-c1\">toLocaleString</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>en-US<span class=\"pl-pds\">'</span></span>);\n\n        <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">data</span>.<span class=\"pl-c1\">data</span>) {\n            <span class=\"pl-k\">return</span> <span class=\"pl-en\">next</span>(<span class=\"pl-c1\">null</span>, <span class=\"pl-s\"><span class=\"pl-pds\">`</span><span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-smi\">data</span>.<span class=\"pl-c1\">event</span><span class=\"pl-pse\">}</span></span>: <span class=\"pl-s1\"><span class=\"pl-pse\">${</span>date<span class=\"pl-pse\">}</span></span>: <span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-smi\">data</span>.<span class=\"pl-c1\">data</span><span class=\"pl-pse\">}</span></span><span class=\"pl-cce\">\\n</span><span class=\"pl-pds\">`</span></span>);\n        }\n\n        <span class=\"pl-en\">next</span>(<span class=\"pl-c1\">null</span>);\n    }\n}\n\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> <span class=\"pl-k\">function</span> () {\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hapi</span>.<span class=\"pl-en\">server</span>();\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">handler</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">function</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">h</span>) {\n\n        <span class=\"pl-smi\">request</span>.<span class=\"pl-smi\">server</span>.<span class=\"pl-en\">log</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>c<span class=\"pl-pds\">'</span></span>], <span class=\"pl-s\"><span class=\"pl-pds\">'</span>some message<span class=\"pl-pds\">'</span></span>);\n        <span class=\"pl-k\">return</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ok<span class=\"pl-pds\">'</span></span>;\n    };\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({ path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span>, method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>, handler })\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>({\n        plugin<span class=\"pl-k\">:</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/good<span class=\"pl-pds\">'</span></span>),\n        options<span class=\"pl-k\">:</span> {\n            ops<span class=\"pl-k\">:</span> {\n                interval<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1000</span>\n            },\n            reporters<span class=\"pl-k\">:</span> {\n                myReporter<span class=\"pl-k\">:</span> [\n                    <span class=\"pl-k\">new</span> <span class=\"pl-en\">LogDateTransform</span>(),\n                    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>stdout<span class=\"pl-pds\">'</span></span>\n                ]\n            }\n        }\n    });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>info<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Server is running...<span class=\"pl-pds\">'</span></span>);\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">inject</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span>);\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<p>This reporter logs data with a date time, writing to the console something like:</p>\n<pre><code>log: 9 / 21 / 2019, 4: 47: 25 PM: Server is running...\nlog: 9 / 21 / 2019, 4: 47: 25 PM: some message\n</code></pre>\n<h2>\n<a id=\"usage\" class=\"anchor\" href=\"#usage\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Usage</h2>\n<h3>\n<a id=\"options\" class=\"anchor\" href=\"#options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Options</h3>\n<ul>\n<li>\n<code>[includes]</code> - optional configuration object\n<ul>\n<li>\n<code>[request]</code> - array of extra hapi request object fields to supply to reporters on \"request\", \"response\", and \"error\" events. Valid values ['headers', 'payload']. Defaults to <code>[]</code>.</li>\n<li>\n<code>[response]</code> - array of extra hapi response object fields to supply to reporters on \"response\" events. Valid values ['headers', 'payload']. Defaults to <code>[]</code>.</li>\n</ul>\n</li>\n<li>\n<code>[ops]</code> - options for controlling the ops reporting from good. Set to <code>false</code> to disable ops monitoring completely.\n<ul>\n<li>\n<code>config</code> - options passed directly into the <a href=\"https://github.com/hapijs/oppsy\"><code>Oppsy</code></a> constructor as the <code>config</code> value. Defaults to <code>{}</code>\n</li>\n<li>\n<code>interval</code> - interval used when calling <code>Oppsy.start()</code>. Defaults to <code>15000</code>.</li>\n</ul>\n</li>\n<li>\n<code>[extensions]</code> - an array of <a href=\"https://github.com/hapijs/hapi/blob/master/API.md#server.events\">hapi event names</a> to listen for and report via the good reporting mechanism. Can not be any of ['log', 'ops', 'request', 'response', 'tail']. <strong>Disclaimer</strong> This option should be used with caution. This option will allow users to listen to internal events that are not meant for public consumption. The list of available events can change with any changes to the hapi event system. Also, <em>none</em> of the official hapijs reporters have been tested against these custom events. The schema for these events can not be guaranteed because they vary from version to version of hapi.</li>\n<li>\n<code>[reporters]</code> - Defaults to <code>{}</code>. <code>reporters</code> is an object of <code>key</code>, <code>value</code> pairs where the <code>key</code> is a reporter name and the <code>value</code> is an array of mixed value types. Valid values for the array items are:\n<ul>\n<li>streams specifications object with the following keys\n<ul>\n<li>\n<code>module</code> - can be :\n<ul>\n<li>a string that will be used to import a module from node_modules or a local file. Should export a single constructor function that can be invoked with <code>new</code>.</li>\n<li>a function that is the constructor of your stream. It's a safer alternative to the string version when you risk having module conflicts.</li>\n</ul>\n</li>\n<li>\n<code>[name]</code> - if the imported module exports more than one constructor function, use <code>name</code> to specify which one to use.</li>\n<li>\n<code>[args]</code> - an array of arguments to pass to the constructor when this stream object is created via <code>new</code>.</li>\n</ul>\n</li>\n<li>instantiated stream objects</li>\n<li>string name of a built in <code>process</code> stream. Valid values are <code>'stdout'</code> and <code>'stderr'</code>.</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"reporter-interface\" class=\"anchor\" href=\"#reporter-interface\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Reporter Interface</h3>\n<p>The reporter interface uses the standard stream-and-pipe interface found commonly in the node ecosystem. Each item in the array of streams will be piped together in the array order. Any stream described using a stream specification object will be constructed with <code>new</code> to prevent any cross contamination from one reporter to another. For example, when passing the following specification for an \"ops-console\" reporter:</p>\n<div class=\"highlight highlight-source-js\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ops-console<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> [{\n        module<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/good-squeeze<span class=\"pl-pds\">'</span></span>,\n        name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Squeeze<span class=\"pl-pds\">'</span></span>,\n        args<span class=\"pl-k\">:</span> [{ ops<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>*<span class=\"pl-pds\">'</span></span> }]\n    }, {\n        module<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/good-squeeze<span class=\"pl-pds\">'</span></span>,\n        name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>SafeJson<span class=\"pl-pds\">'</span></span>\n    }, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>stdout<span class=\"pl-pds\">'</span></span>]\n}</pre></div>\n<p>Internally, this would create an array (<code>streams</code>), import <code>good-squeeze</code> from node_modules, and then create a new \"Squeeze\" transform stream via <code>new Squeeze({ ops: '*' })</code> and push that result into <code>streams</code>. Then it would create a \"SafeJson\" transform stream via <code>new SafeJson()</code> and push that into <code>streams</code>. Finally, since 'stdout' is an existing process stream, it gets pushed directly into <code>streams</code>. Once all of the streams have been created and collected, the algorithm does essentially the following:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">result</span> <span class=\"pl-k\">=</span> streams[<span class=\"pl-c1\">0</span>].<span class=\"pl-en\">pipe</span>(streams[<span class=\"pl-c1\">1</span>]).<span class=\"pl-en\">pipe</span>(streams[<span class=\"pl-c1\">2</span>]);</pre></div>\n<p><em>Any</em> time one of the \"good events\" occurs, a unique copy of the event is pushed into each reporter stream pipeline. It is up to the developer to filter events they don't care about on a per pipeline basis. The \"Squeeze\" transform stream provides the basic event type and tag filtering used in previous versions of good which should meet many filtering needs.</p>\n<p>It is also up to the developer to manage <code>objectMode</code> in each pipeline from one stream to the next. The first stream will <em>always</em> receive an object. After that, it's up to the developer to manage the message type throughout the pipeline. In the above example, because we want to write to <code>stdout</code>, we needed to add a transform stream to convert the payload coming out of \"Squeeze\" to a string using \"SafeJson\" before sending it to <code>process.stdout</code>. Objects can not be written directly to <code>process.stdout</code>, so \"SafeJson\" was used to safely stringify the message coming from the \"Squeeze\" stream.</p>\n<p>Finally, the developer must make sure the reporting pipeline makes sense. In the above example, we pipe through two transform streams, convert the object to a string, and then write send it to <code>process.stdout</code> which is a write stream. If the developer mixes up the order, this pipeline would crash the process.</p>\n<p>Each reporter pipeline receives it's own copy of the message from good. That means the payload can be freely modified without worrying about impacting other reporters. Just add more and more transform streams into the pipeline to fine-tune any reporting needs. Need a different filtering mechanism? Write a new transform stream to filter based on IP, request route, payload type... Want to add extra data about events? Just add a transform stream into the mix to add the current date, something specific to your company, filter out sensitive information before logging it... the sky is the limit.</p>\n<p>These changes address the two most common requests; \"how do I filter on <code>X</code>?\" and \"how do I add <code>Y</code> to the message payload?\". Now developers are empowered to customize the reporting pipeline to suit their needs. While there is far less hand-holding with this interface, developers have much more control of reporting coming out of good.</p>\n<p><strong>This change also allows user to leverage <em>any</em> existing transform or write stream in the node ecosystem to be used with good.</strong></p>\n<h4>\n<a id=\"stream-transforms-using-plugin-configs\" class=\"anchor\" href=\"#stream-transforms-using-plugin-configs\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Stream Transforms Using Plugin Configs</h4>\n<p>To drive route or request level behavior in your stream transform one option is to use the plugin config feature of hapi. Here is an example where a plugin config is used to drive a stream transform that will suppress \"response\" events when <code>suppressResponseEvent === true</code>.</p>\n<p>Setting plugin config at the route level:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> routeConfig <span class=\"pl-k\">=</span> {\n    plugins<span class=\"pl-k\">:</span> {\n        good<span class=\"pl-k\">:</span> {\n            suppressResponseEvent<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>\n        }\n    }\n};\n\n<span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({ method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>, path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/user<span class=\"pl-pds\">'</span></span>, config<span class=\"pl-k\">:</span> routeConfig });</pre></div>\n<p>Setting plugin config at the request level:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">handler</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">function</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">reply</span>) {\n\n    <span class=\"pl-smi\">request</span>.<span class=\"pl-c1\">plugins</span>.<span class=\"pl-smi\">good</span> <span class=\"pl-k\">=</span> {\n        suppressResponseEvent<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>\n    };\n\n    <span class=\"pl-smi\">reply</span>.<span class=\"pl-en\">continue</span>();\n}</pre></div>\n<p>Consuming the plugin config in the stream transform:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-en\">_transform</span>(<span class=\"pl-smi\">data</span>, <span class=\"pl-smi\">enc</span>, <span class=\"pl-smi\">next</span>) {\n\n    <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">data</span>.<span class=\"pl-c1\">event</span> <span class=\"pl-k\">===</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>response<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">&amp;&amp;</span> <span class=\"pl-smi\">data</span>.<span class=\"pl-smi\">config</span>.<span class=\"pl-smi\">suppressResponseEvent</span> <span class=\"pl-k\">===</span> <span class=\"pl-c1\">true</span>) {\n        <span class=\"pl-k\">return</span> <span class=\"pl-en\">next</span>();\n    }\n\n    <span class=\"pl-k\">return</span> <span class=\"pl-en\">next</span>(<span class=\"pl-c1\">null</span>, data);\n}</pre></div>\n<h4>\n<a id=\"reporter-lifecycle\" class=\"anchor\" href=\"#reporter-lifecycle\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Reporter Lifecycle</h4>\n<p><strong>Startup</strong></p>\n<ol>\n<li>When \"onPreStart\" is emitted from the hapi server, the monitoring operation starts.</li>\n<li>All of the streams are created via <code>new</code> (if needed) and collected into a temporary internal array.</li>\n<li>All of the streams in the temporary array are piped together. This will cause any standard <a href=\"https://nodejs.org/api/stream.html\" rel=\"nofollow\">Node stream</a> events to occur that instances can listen for.</li>\n</ol>\n<p>At this point, data will start flowing to each of the reporters through the pipe interface. Data can be accessed in individual instances though any of the standard stream methods and events.</p>\n<p><strong>Shutdown</strong></p>\n<ol>\n<li>When \"onPostStop\" is emitted from the hapi server, the shutdown sequence starts.</li>\n<li>\n<code>null</code> is pushed through each reporter pipeline. Any synchronous teardown can happen on stream instances in \"end\" or \"finish\" events. See <a href=\"https://nodejs.org/api/stream.html\" rel=\"nofollow\">Node stream</a> for more information about end-of-stream events. The callback signaling to hapi that our logic is done executing will happen on the next tick.</li>\n</ol>\n<h3>\n<a id=\"event-types\" class=\"anchor\" href=\"#event-types\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Event Types</h3>\n<ul>\n<li>\n<code>ops</code> - System and process performance - CPU, memory, disk, and other metrics.</li>\n<li>\n<code>response</code> - Information about incoming requests and the response. This maps to either the \"response\" or \"tail\" event emitted from hapi servers.</li>\n<li>\n<code>log</code> - logging information not bound to a specific request such as system errors, background processing, configuration errors, etc. Maps to the \"log\" event emitted from hapi servers.</li>\n<li>\n<code>error</code> - request responses that have a status code of 500. This maps to the \"request\" hapi event on the \"error\" channel.</li>\n<li>\n<code>request</code> - Request logging information. This maps to the hapi 'request' event that is emitted via <code>request.log()</code>.</li>\n</ul>\n<h3>\n<a id=\"event-payloads\" class=\"anchor\" href=\"#event-payloads\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Event Payloads</h3>\n<p>Each event emitted from Good has a unique object representing the payload. This is useful for three reasons:</p>\n<ol>\n<li>It provides a predictable interface.</li>\n<li>It makes tracking down issues with MDB much easier because the payloads aren't just generic objects.</li>\n<li>It is more likely to be optimized because the V8 runtime has a better idea of what the structure of each object is going to be much sooner.</li>\n</ol>\n<h4>\n<a id=\"serverlog\" class=\"anchor\" href=\"#serverlog\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>ServerLog</code>\n</h4>\n<p>Event object associated with 'log' events.</p>\n<ul>\n<li>\n<code>event</code> - 'log'</li>\n<li>\n<code>timestamp</code> - JavaScript timestamp indicating when the 'log' event occurred.</li>\n<li>\n<code>tags</code> - array of strings representing any tags associated with the 'log' event.</li>\n<li>\n<code>data</code> - string or object passed via <code>server.log()</code> calls.</li>\n<li>\n<code>error</code> - error object, replacing <code>data</code> if only an error object is passed to <code>server.log()</code>\n</li>\n<li>\n<code>pid</code> - the current process id.</li>\n</ul>\n<h4>\n<a id=\"requesterror\" class=\"anchor\" href=\"#requesterror\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>RequestError</code>\n</h4>\n<p>Event object associated with 'error' events.</p>\n<ul>\n<li>\n<code>event</code> - 'error'</li>\n<li>\n<code>timestamp</code> - JavaScript timestamp indicating when the 'log' event occurred.</li>\n<li>\n<code>id</code> - request id. Maps to <code>request.id</code>.</li>\n<li>\n<code>url</code> - url of the request that originated the error. Maps to <code>request.url</code>.</li>\n<li>\n<code>method</code> - method of the request that originated the error. Maps to <code>request.method</code>.</li>\n<li>\n<code>pid</code> - the current process id.</li>\n<li>\n<code>error</code> - the raw error object.</li>\n<li>\n<code>config</code> - plugin-specific config object combining <code>request.route.settings.plugins.good</code> and <code>request.plugins.good</code>. Request-level overrides route-level. Reporters could use <code>config</code> for additional filtering logic.</li>\n<li>\n<code>headers</code> - the request headers if <code>includes.request</code> includes \"headers\"</li>\n</ul>\n<p>The <code>toJSON</code> method of <code>GreatError</code> has been overwritten because <code>Error</code> objects can not be stringified directly. A stringified <code>GreatError</code> will have <code>error.message</code> and <code>error.stack</code> in place of the raw <code>Error</code> object.</p>\n<h4>\n<a id=\"requestsent\" class=\"anchor\" href=\"#requestsent\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>RequestSent</code>\n</h4>\n<p>Event object associated with the response event option into Good.</p>\n<ul>\n<li>\n<code>event</code> - 'response'</li>\n<li>\n<code>timestamp</code> - JavaScript timestamp that maps to <code>request.info.received</code>.</li>\n<li>\n<code>id</code> - id of the request, maps to <code>request.id</code>.</li>\n<li>\n<code>instance</code> - maps to <code>server.info.uri</code>.</li>\n<li>\n<code>labels</code> - maps to <code>server.settings.labels</code>\n</li>\n<li>\n<code>method</code> - method used by the request. Maps to <code>request.method</code>.</li>\n<li>\n<code>path</code> - incoming path requested. Maps to <code>request.path</code>.</li>\n<li>\n<code>query</code> - query object used by request. Maps to <code>request.query</code>.</li>\n<li>\n<code>responseTime</code> - calculated value of <code>request.info.responded - request.info.received</code>.</li>\n<li>\n<code>statusCode</code> - the status code of the response.</li>\n<li>\n<code>pid</code> - the current process id.</li>\n<li>\n<code>httpVersion</code> - the http protocol information from the request.</li>\n<li>\n<code>source</code> - object with the following values:\n<ul>\n<li>\n<code>remoteAddress</code> - information about the remote address. maps to <code>request.info.remoteAddress</code>\n</li>\n<li>\n<code>userAgent</code> - the user agent of the incoming request.</li>\n<li>\n<code>referer</code> - the referer headed of the incoming request.</li>\n</ul>\n</li>\n<li>\n<code>route</code> - route path used by request. Maps to <code>request.route.path</code>.</li>\n<li>\n<code>log</code> - maps to <code>request.logs</code> of the hapi request object.</li>\n<li>\n<code>tags</code> - array of strings representing any tags from route config. Maps to <code>request.route.settings.tags</code>.</li>\n<li>\n<code>config</code> - plugin-specific config object combining <code>request.route.settings.plugins.good</code> and <code>request.plugins.good</code>. Request-level overrides route-level. Reporters could use <code>config</code> for additional filtering logic.</li>\n<li>\n<code>headers</code> - the request headers if <code>includes.request</code> includes \"headers\"</li>\n<li>\n<code>requestPayload</code> - the request payload if <code>includes.request</code> includes \"payload\"</li>\n<li>\n<code>responsePayload</code> - the response payload if <code>includes.response</code> includes \"payload\"</li>\n</ul>\n<h4>\n<a id=\"ops\" class=\"anchor\" href=\"#ops\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Ops</code>\n</h4>\n<p>Event object associated with the 'ops' event emitted from Oppsy.</p>\n<ul>\n<li>\n<code>event</code> - 'ops'</li>\n<li>\n<code>timestamp</code> - current time when the object is created.</li>\n<li>\n<code>host</code> - the host name of the current machine.</li>\n<li>\n<code>pid</code> - the current process id.</li>\n<li>\n<code>os</code> - object with the following values:\n<ul>\n<li>\n<code>load</code> - array containing the 1, 5, and 15 minute load averages.</li>\n<li>\n<code>mem</code> - object with the following values:\n<ul>\n<li>\n<code>total</code> - total system memory in bytes.</li>\n<li>\n<code>free</code> - total free system memory in bytes.</li>\n</ul>\n</li>\n<li>\n<code>uptime</code> - system uptime in seconds.</li>\n</ul>\n</li>\n<li>\n<code>proc</code> - object with the following values:\n<ul>\n<li>\n<code>uptime</code> - uptime of the running process in seconds</li>\n<li>\n<code>mem</code> - returns result of <code>process.memoryUsage()</code>\n<ul>\n<li>\n<code>rss</code> - 'resident set size' which is the amount of the process held in memory.</li>\n<li>\n<code>heapTotal</code> - V8 heap total</li>\n<li>\n<code>heapUsed</code> - V8 heap used</li>\n</ul>\n</li>\n<li>\n<code>delay</code> - the calculated Node event loop delay in milliseconds.</li>\n</ul>\n</li>\n<li>\n<code>load</code> - object with the following values:\n<ul>\n<li>\n<code>requests</code> - object containing information about all the requests passing through the server.</li>\n<li>\n<code>concurrents</code> - object containing information about the number of concurrent connections associated with each <code>listener</code> object associated with the hapi server.</li>\n<li>\n<code>responseTimes</code> - object with calculated average and max response times for requests.</li>\n<li>\n<code>sockets</code> - object with the following values:\n<ul>\n<li>\n<code>http</code> - socket information http connections. Each value contains the name of the socket used and the number of open connections on the socket. It also includes a <code>total</code> for total number of open http sockets.</li>\n<li>\n<code>https</code> - socket information https connections. Each value contains the name of the socket used and the number of open connections on the socket. It also includes a <code>total</code> for total number of open https sockets.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4>\n<a id=\"requestlog\" class=\"anchor\" href=\"#requestlog\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>RequestLog</code>\n</h4>\n<p>Event object associated with the \"request\" event. This is the hapi event emitter via <code>request.log()</code>.</p>\n<ul>\n<li>\n<code>event</code> - 'request'</li>\n<li>\n<code>timestamp</code> - timestamp of the incoming <code>event</code> object.</li>\n<li>\n<code>tags</code> - array of strings representing any tags associated with the 'log' event.</li>\n<li>\n<code>data</code> - the string or object mapped to <code>event.data</code>.</li>\n<li>\n<code>error</code> - the error instance mapped to <code>event.error</code>.</li>\n<li>\n<code>pid</code> - the current process id.</li>\n<li>\n<code>id</code> - id of the request, maps to <code>request.id</code>.</li>\n<li>\n<code>method</code> - method used by the request. Maps to <code>request.method</code>.</li>\n<li>\n<code>path</code> - incoming path requested. Maps to <code>request.path</code>.</li>\n<li>\n<code>config</code> - plugin-specific config object combining <code>request.route.settings.plugins.good</code> and <code>request.plugins.good</code>. Request-level overrides route-level. Reporters could use <code>config</code> for additional filtering logic.</li>\n<li>\n<code>headers</code> - the request headers if <code>includes.request</code> includes \"headers\"</li>\n</ul>\n<h4>\n<a id=\"extension-payloads\" class=\"anchor\" href=\"#extension-payloads\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Extension Payloads</h4>\n<p>Because the extension payloads from hapi can vary from one version to another and one event to another, the payload is only loosely defined.</p>\n<ul>\n<li>\n<code>event</code> - the event name.</li>\n<li>\n<code>timestamp</code> - the time the event occurred.</li>\n<li>\n<code>payload</code> - array of arguments hapi passed to our event handler function</li>\n</ul>\n<h2>\n<a id=\"existing-streams\" class=\"anchor\" href=\"#existing-streams\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Existing streams</h2>\n<p>The following streams are maintained by the hapi community and are known to work with good. Any transform or write stream can work with good, these are just a few inside the hapijs organization.</p>\n<ul>\n<li><a href=\"https://github.com/hapijs/good-squeeze\">good-squeeze</a></li>\n<li><a href=\"https://github.com/hapijs/good-console\">good-console</a></li>\n</ul>\n","intro":"## Introduction\n\n**good** is a hapi plugin process monitor that listens for one or more of the below 'event types'. All of these events, _except_ 'ops' map to a hapi event documented [here](https://github.com/hapijs/hapi/blob/master/API.md#server-events).\n\nApplications with multiple server instances, each with its own monitor should only include one _log_ subscription per destination\nas general events are a process-wide facility and will result in duplicated log events.\n\nNote: this module is being deprecated on December 1st, 2019 due to lack to available support resources. Please consider using [another logging plugin](https://hapi.dev/plugins/#logging).\n","example":"## Example Usage\n","usage":"","faq":"","license":"BSD"},"slogan":"hapi process monitoring.","forks":160,"stars":525,"date":"2019-10-11T21:09:45Z","updated":"Fri Oct 11 2019","link":"https://github.com/hapijs/good"},"good-console":{"name":"good-console","versions":[],"versionsArray":[],"slogan":"Console reporting for good console monitor.","forks":55,"stars":72,"date":"2019-10-09T00:33:43Z","updated":"Wed Oct 09 2019","link":"https://github.com/hapijs/good-console"},"good-squeeze":{"name":"good-squeeze","versions":[],"versionsArray":[],"slogan":"Simple transform stream for event filtering with good.","forks":19,"stars":48,"date":"2019-10-08T07:32:01Z","updated":"Tue Oct 08 2019","link":"https://github.com/hapijs/good-squeeze"},"h2o2":{"name":"h2o2","versions":[],"versionsArray":[],"slogan":"Proxy handler for hapi.js.","forks":58,"stars":153,"date":"2019-10-09T01:48:32Z","updated":"Wed Oct 09 2019","link":"https://github.com/hapijs/h2o2"},"hawk":{"name":"hawk","versions":[{"name":"7.1.2","branch":"master","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["7.1.2"],"7.1.2":{"menu":"  - [Replay Protection](#replay-protection)\n    - [Payload Validation](#payload-validation)\n  - [Response Payload Validation](#response-payload-validation)\n  - [Browser Support and Considerations](#browser-support-and-considerations)\n  - [hapi Plugin](#hapi-plugin)\n    - [hawk Strategy](#hawk-strategy)\n    - [bewit Strategy](#bewit-strategy)\n- [Single URI Authorization](#single-uri-authorization)\n- [Security Considerations](#security-considerations)\n    - [MAC Keys Transmission](#mac-keys-transmission)\n    - [Confidentiality of Requests](#confidentiality-of-requests)\n    - [Spoofing by Counterfeit Servers](#spoofing-by-counterfeit-servers)\n    - [Plaintext Storage of Credentials](#plaintext-storage-of-credentials)\n    - [Entropy of Keys](#entropy-of-keys)\n    - [Coverage Limitations](#coverage-limitations)\n    - [Future Time Manipulation](#future-time-manipulation)\n    - [Client Clock Poisoning](#client-clock-poisoning)\n    - [Bewit Limitations](#bewit-limitations)\n    - [Host Header Forgery](#host-header-forgery)\n- [Frequently Asked Questions](#frequently-asked-questions)\n    - [Where is the protocol specification?](#where-is-the-protocol-specification)\n    - [Is it done?](#is-it-done)\n    - [Where can I find **Hawk** implementations in other languages?](#where-can-i-find-hawk-implementations-in-other-languages)\n    - [Why isn't the algorithm part of the challenge or dynamically negotiated?](#why-isnt-the-algorithm-part-of-the-challenge-or-dynamically-negotiated)\n    - [Why is Host and Content-Type the only headers covered by the request MAC?](#why-is-host-and-content-type-the-only-headers-covered-by-the-request-mac)\n    - [Why not just use HTTP Digest?](#why-not-just-use-http-digest)\n    - [Why bother with all this nonce and timestamp business?](#why-bother-with-all-this-nonce-and-timestamp-business)\n    - [What are `app` and `dlg` in the authorization header and normalized mac string?](#what-are-app-and-dlg-in-the-authorization-header-and-normalized-mac-string)\n    - [What is the purpose of the static strings used in each normalized MAC input?](#what-is-the-purpose-of-the-static-strings-used-in-each-normalized-mac-input)\n    - [Does **Hawk** have anything to do with OAuth?](#does-hawk-have-anything-to-do-with-oauth)\n- [Implementations](#implementations)\n- [Acknowledgements](#acknowledgements)","api":"<h2>\n<a id=\"replay-protection\" class=\"anchor\" href=\"#replay-protection\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Replay Protection</h2>\n<p>Without replay protection, an attacker can use a compromised (but otherwise valid and authenticated) request more\nthan once, gaining access to a protected resource. To mitigate this, clients include both a nonce and a timestamp when\nmaking requests. This gives the server enough information to prevent replay attacks.</p>\n<p>The nonce is generated by the client, and is a string unique across all requests with the same timestamp and\nkey identifier combination.</p>\n<p>The timestamp enables the server to restrict the validity period of the credentials where requests occurring afterwards\nare rejected. It also removes the need for the server to retain an unbounded number of nonce values for future checks.\nBy default, <strong>Hawk</strong> uses a time window of 1 minute to allow for time skew between the client and server (which in\npractice translates to a maximum of 2 minutes as the skew can be positive or negative).</p>\n<p>Using a timestamp requires the client's clock to be in sync with the server's clock. <strong>Hawk</strong> requires both the client\nclock and the server clock to use NTP to ensure synchronization. However, given the limitations of some client types\n(e.g. browsers) to deploy NTP, the server provides the client with its current time (in seconds precision) in response\nto a bad timestamp.</p>\n<p>There is no expectation that the client will adjust its system clock to match the server (in fact, this would be a\npotential attack vector). Instead, the client only uses the server's time to calculate an offset used only\nfor communications with that particular server. The protocol rewards clients with synchronized clocks by reducing\nthe number of round trips required to authenticate the first request.</p>\n<h3>\n<a id=\"payload-validation\" class=\"anchor\" href=\"#payload-validation\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Payload Validation</h3>\n<p><strong>Hawk</strong> provides optional payload validation. When generating the authentication header, the client calculates a payload hash\nusing the specified hash algorithm. The hash is calculated over the concatenated value of (each followed by a newline character):</p>\n<ul>\n<li><code>hawk.1.payload</code></li>\n<li>the content-type in lowercase, without any parameters (e.g. <code>application/json</code>)</li>\n<li>the request payload UTF-8 encoded, prior to any HTTP content encoding (the exact representation requirements should be specified by the server for payloads other than simple single-part ascii to ensure interoperability)</li>\n</ul>\n<p>For example:</p>\n<ul>\n<li>Payload: <code>Thank you for flying Hawk</code>\n</li>\n<li>Content Type: <code>text/plain</code>\n</li>\n<li>Algorithm: <code>sha256</code>\n</li>\n<li>Hash: <code>Yi9LfIIFRtBEPt74PVmbTF/xVAwPn7ub15ePICfgnuY=</code>\n</li>\n</ul>\n<p>Results in the following input to the payload hash function (newline terminated values):</p>\n<pre><code>hawk.1.payload\ntext/plain\nThank you for flying Hawk\n\n</code></pre>\n<p>Which produces the following hash value:</p>\n<pre><code>Yi9LfIIFRtBEPt74PVmbTF/xVAwPn7ub15ePICfgnuY=\n</code></pre>\n<p>The client constructs the normalized request string (newline terminated values):</p>\n<pre><code>hawk.1.header\n1353832234\nj4h3g2\nPOST\n/resource/1?b=1&amp;a=2\nexample.com\n8000\nYi9LfIIFRtBEPt74PVmbTF/xVAwPn7ub15ePICfgnuY=\nsome-app-ext-data\n\n</code></pre>\n<p>Then calculates the request MAC and includes the <strong>Hawk</strong> key identifier, timestamp, nonce, payload hash, application specific data,\nand request MAC, with the request using the HTTP <code>Authorization</code> request header field:</p>\n<pre><code>POST /resource/1?b=1&amp;a=2 HTTP/1.1\nHost: example.com:8000\nAuthorization: Hawk id=\"dh37fgj492je\", ts=\"1353832234\", nonce=\"j4h3g2\", hash=\"Yi9LfIIFRtBEPt74PVmbTF/xVAwPn7ub15ePICfgnuY=\", ext=\"some-app-ext-data\", mac=\"aSe1DERmZuRl3pI36/9BdZmnErTw3sNzOOAUlfeKjVw=\"\n</code></pre>\n<p>It is up to the server if and when it validates the payload for any given request, based solely on its security policy\nand the nature of the data included.</p>\n<p>If the payload is available at the time of authentication, the server uses the hash value provided by the client to construct\nthe normalized string and validates the MAC. If the MAC is valid, the server calculates the payload hash and compares the value\nwith the provided payload hash in the header. In many cases, checking the MAC first is faster than calculating the payload hash.</p>\n<p>However, if the payload is not available at authentication time (e.g. too large to fit in memory, streamed elsewhere, or processed\nat a different stage in the application), the server may choose to defer payload validation for later by retaining the hash value\nprovided by the client after validating the MAC.</p>\n<p>It is important to note that MAC validation does not mean the hash value provided by the client is valid, only that the value\nincluded in the header was not modified. Without calculating the payload hash on the server and comparing it to the value provided\nby the client, the payload may be modified by an attacker.</p>\n<h2>\n<a id=\"response-payload-validation\" class=\"anchor\" href=\"#response-payload-validation\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Response Payload Validation</h2>\n<p><strong>Hawk</strong> provides partial response payload validation. The server includes the <code>Server-Authorization</code> response header which enables the\nclient to authenticate the response and ensure it is talking to the right server. <strong>Hawk</strong> defines the HTTP <code>Server-Authorization</code> header\nas a response header using the exact same syntax as the <code>Authorization</code> request header field.</p>\n<p>The header is constructed using the same process as the client's request header. The server uses the same credentials and other\nartifacts provided by the client to constructs the normalized request string. The <code>ext</code> and <code>hash</code> values are replaced with\nnew values based on the server response. The rest as identical to those used by the client.</p>\n<p>The result MAC digest is included with the optional <code>hash</code> and <code>ext</code> values:</p>\n<pre><code>Server-Authorization: Hawk mac=\"XIJRsMl/4oL+nn+vKoeVZPdCHXB4yJkNnBbTbHFZUYE=\", hash=\"f9cDF/TDm7TkYRLnGwRMfeDzT6LixQVLvrIKhh0vgmM=\", ext=\"response-specific\"\n</code></pre>\n<h2>\n<a id=\"browser-support-and-considerations\" class=\"anchor\" href=\"#browser-support-and-considerations\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Browser Support and Considerations</h2>\n<p>A browser script is provided for including using a <code>&lt;script&gt;</code> tag in <a href=\"/lib/browser.js\">lib/browser.js</a>. It's also a <a href=\"http://component.io/hueniverse/hawk\" rel=\"nofollow\">component</a>.</p>\n<p><strong>Hawk</strong> relies on the <em>Server-Authorization</em> and <em>WWW-Authenticate</em> headers in its response to communicate with the client.\nTherefore, in case of CORS requests, it is important to consider sending <em>Access-Control-Expose-Headers</em> with the value\n<em>\"WWW-Authenticate, Server-Authorization\"</em> on each response from your server. As explained in the\n<a href=\"http://www.w3.org/TR/cors/#access-control-expose-headers-response-header\" rel=\"nofollow\">specifications</a>, it will indicate that these headers\ncan safely be accessed by the client (using getResponseHeader() on the XmlHttpRequest object). Otherwise you will be met with a\n<a href=\"http://www.w3.org/TR/cors/#simple-response-header\" rel=\"nofollow\">\"simple response header\"</a> which excludes these fields and would prevent the\nHawk client from authenticating the requests.You can read more about the why and how in this\n<a href=\"http://www.html5rocks.com/en/tutorials/cors/#toc-adding-cors-support-to-the-server\" rel=\"nofollow\">article</a></p>\n<h2>\n<a id=\"hapi-plugin\" class=\"anchor\" href=\"#hapi-plugin\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>hapi Plugin</h2>\n<p><strong>hawk</strong> includes an authentication plugin for <strong>hapi</strong> which registers two authentication schemes.</p>\n<h3>\n<a id=\"hawk-strategy\" class=\"anchor\" href=\"#hawk-strategy\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>hawk Strategy</h3>\n<p>The scheme supports payload authentication. The scheme requires the following options:</p>\n<ul>\n<li>\n<code>getCredentialsFunc</code> - credential lookup function with the signature <code>[async] function(id)</code> where:\n<ul>\n<li>\n<code>id</code> - the Hawk credentials identifier.</li>\n<li>\n<em>throws</em> an internal error.</li>\n<li>\n<em>returns</em> <code>{ credentials }</code> object where:\n<ul>\n<li>\n<code>credentials</code> a credentials object passed back to the application in <code>request.auth.credentials</code>. Set to be <code>null</code> or <code>undefined</code> to\nindicate unknown credentials (which is not considered an error state).</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>hawk</code> - optional protocol options passed to <code>Hawk.server.authenticate()</code>.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hawk</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hawk<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">credentials</span> <span class=\"pl-k\">=</span> {\n    d74s3nz2873n<span class=\"pl-k\">:</span> {\n        key<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>werxhqb98rpaxn39848xrunpaw3489ruxnpa98w4rxn<span class=\"pl-pds\">'</span></span>,\n        algorithm<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>sha256<span class=\"pl-pds\">'</span></span>\n    }\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">getCredentialsFunc</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">function</span> (<span class=\"pl-smi\">id</span>) {\n\n    <span class=\"pl-k\">return</span> credentials[id];\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hapi</span>.<span class=\"pl-en\">server</span>({ port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">4000</span> });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(Hawk);\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">auth</span>.<span class=\"pl-en\">strategy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>default<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>hawk<span class=\"pl-pds\">'</span></span>, { getCredentialsFunc });\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">auth</span>.<span class=\"pl-en\">default</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>default<span class=\"pl-pds\">'</span></span>);\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({\n        method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>,\n        path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span>,\n        <span class=\"pl-en\">handler</span><span class=\"pl-k\">:</span> <span class=\"pl-k\">function</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">h</span>) {\n\n            <span class=\"pl-k\">return</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>welcome<span class=\"pl-pds\">'</span></span>;\n        }\n    });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Server started listening on %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">info</span>.<span class=\"pl-smi\">uri</span>);\n};\n\n<span class=\"pl-en\">start</span>();\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Ensure process exits on unhandled rejection</span>\n\n<span class=\"pl-c1\">process</span>.<span class=\"pl-en\">on</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>unhandledRejection<span class=\"pl-pds\">'</span></span>, (<span class=\"pl-smi\">err</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">throw</span> err;\n});\n</pre></div>\n<h3>\n<a id=\"bewit-strategy\" class=\"anchor\" href=\"#bewit-strategy\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>bewit Strategy</h3>\n<p>The scheme can only be used with 'GET' requests and requires the following options:</p>\n<ul>\n<li>\n<code>getCredentialsFunc</code> - credential lookup function with the signature <code>async function(id)</code> where:\n<ul>\n<li>\n<code>id</code> - the Hawk credentials identifier.</li>\n<li>\n<em>throws</em> an internal error.</li>\n<li>\n<em>returns</em> <code>{ credentials }</code> object where:\n<ul>\n<li>\n<code>credentials</code> a credentials object passed back to the application in <code>request.auth.credentials</code>. Set to be <code>null</code> or <code>undefined</code> to\nindicate unknown credentials (which is not considered an error state).</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>hawk</code> - optional protocol options passed to <code>Hawk.server.authenticateBewit()</code>.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hawk</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hawk<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">credentials</span> <span class=\"pl-k\">=</span> {\n    d74s3nz2873n<span class=\"pl-k\">:</span> {\n        key<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>werxhqb98rpaxn39848xrunpaw3489ruxnpa98w4rxn<span class=\"pl-pds\">'</span></span>,\n        algorithm<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>sha256<span class=\"pl-pds\">'</span></span>\n    }\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">getCredentialsFunc</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">function</span> (<span class=\"pl-smi\">id</span>) {\n\n    <span class=\"pl-k\">return</span> credentials[id];\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hapi</span>.<span class=\"pl-en\">server</span>({ port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">4000</span> });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(Hawk);\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">auth</span>.<span class=\"pl-en\">strategy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>default<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>bewit<span class=\"pl-pds\">'</span></span>, { getCredentialsFunc });\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">auth</span>.<span class=\"pl-en\">default</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>default<span class=\"pl-pds\">'</span></span>);\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({\n        method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>,\n        path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span>,\n        <span class=\"pl-en\">handler</span><span class=\"pl-k\">:</span> <span class=\"pl-k\">function</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">h</span>) {\n\n            <span class=\"pl-k\">return</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>welcome<span class=\"pl-pds\">'</span></span>;\n        }\n    });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Server started listening on %s<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">info</span>.<span class=\"pl-smi\">uri</span>);\n};\n\n<span class=\"pl-en\">start</span>();\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Ensure process exits on unhandled rejection</span>\n\n<span class=\"pl-c1\">process</span>.<span class=\"pl-en\">on</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>unhandledRejection<span class=\"pl-pds\">'</span></span>, (<span class=\"pl-smi\">err</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">throw</span> err;\n});</pre></div>\n<p>To send an authenticated Bewit request, the URI must contain the <code>'bewit'</code> query parameter which can be generated using the Hawk module:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hawk</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hawk<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">credentials</span> <span class=\"pl-k\">=</span> {\n    id<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>d74s3nz2873n<span class=\"pl-pds\">'</span></span>,\n    key<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>werxhqb98rpaxn39848xrunpaw3489ruxnpa98w4rxn<span class=\"pl-pds\">'</span></span>,\n    algorithm<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>sha256<span class=\"pl-pds\">'</span></span>\n};\n\n<span class=\"pl-k\">let</span> uri <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>http://example.com:8080/endpoint<span class=\"pl-pds\">'</span></span>;\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">bewit</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hawk</span>.<span class=\"pl-smi\">client</span>.<span class=\"pl-en\">getBewit</span>(uri, { credentials<span class=\"pl-k\">:</span> credentials, ttlSec<span class=\"pl-k\">:</span> <span class=\"pl-c1\">60</span> });\nuri <span class=\"pl-k\">+=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>?bewit=<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">+</span> bewit;</pre></div>\n<h1>\n<a id=\"single-uri-authorization\" class=\"anchor\" href=\"#single-uri-authorization\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Single URI Authorization</h1>\n<p>There are cases in which limited and short-term access to a protected resource is granted to a third party which does not\nhave access to the shared credentials. For example, displaying a protected image on a web page accessed by anyone. <strong>Hawk</strong>\nprovides limited support for such URIs in the form of a <em>bewit</em> - a URI query parameter appended to the request URI which contains\nthe necessary credentials to authenticate the request.</p>\n<p>Because of the significant security risks involved in issuing such access, bewit usage is purposely limited only to GET requests\nand for a finite period of time. Both the client and server can issue bewit credentials, however, the server should not use the same\ncredentials as the client to maintain clear traceability as to who issued which credentials.</p>\n<p>In order to simplify implementation, bewit credentials do not support single-use policy and can be replayed multiple times within\nthe granted access timeframe.</p>\n<h1>\n<a id=\"security-considerations\" class=\"anchor\" href=\"#security-considerations\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Security Considerations</h1>\n<p>The greatest sources of security risks are usually found not in <strong>Hawk</strong> but in the policies and procedures surrounding its use.\nImplementers are strongly encouraged to assess how this module addresses their security requirements. This section includes\nan incomplete list of security considerations that must be reviewed and understood before deploying <strong>Hawk</strong> on the server.\nMany of the protections provided in <strong>Hawk</strong> depends on whether and how they are used.</p>\n<h3>\n<a id=\"mac-keys-transmission\" class=\"anchor\" href=\"#mac-keys-transmission\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>MAC Keys Transmission</h3>\n<p><strong>Hawk</strong> does not provide any mechanism for obtaining or transmitting the set of shared credentials required. Any mechanism used\nto obtain <strong>Hawk</strong> credentials must ensure that these transmissions are protected using transport-layer mechanisms such as TLS.</p>\n<h3>\n<a id=\"confidentiality-of-requests\" class=\"anchor\" href=\"#confidentiality-of-requests\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Confidentiality of Requests</h3>\n<p>While <strong>Hawk</strong> provides a mechanism for verifying the integrity of HTTP requests, it provides no guarantee of request\nconfidentiality. Unless other precautions are taken, eavesdroppers will have full access to the request content. Servers should\ncarefully consider the types of data likely to be sent as part of such requests, and employ transport-layer security mechanisms\nto protect sensitive resources.</p>\n<h3>\n<a id=\"spoofing-by-counterfeit-servers\" class=\"anchor\" href=\"#spoofing-by-counterfeit-servers\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Spoofing by Counterfeit Servers</h3>\n<p><strong>Hawk</strong> provides limited verification of the server authenticity. When receiving a response back from the server, the server\nmay choose to include a response <code>Server-Authorization</code> header which the client can use to verify the response. However, it is up to\nthe server to determine when such measure is included, to up to the client to enforce that policy.</p>\n<p>A hostile party could take advantage of this by intercepting the client's requests and returning misleading or otherwise\nincorrect responses. Service providers should consider such attacks when developing services using this protocol, and should\nrequire transport-layer security for any requests where the authenticity of the resource server or of server responses is an issue.</p>\n<h3>\n<a id=\"plaintext-storage-of-credentials\" class=\"anchor\" href=\"#plaintext-storage-of-credentials\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Plaintext Storage of Credentials</h3>\n<p>The <strong>Hawk</strong> key functions the same way passwords do in traditional authentication systems. In order to compute the request MAC,\nthe server must have access to the key in plaintext form. This is in contrast, for example, to modern operating systems, which\nstore only a one-way hash of user credentials.</p>\n<p>If an attacker were to gain access to these keys - or worse, to the server's database of all such keys - he or she would be able\nto perform any action on behalf of any resource owner. Accordingly, it is critical that servers protect these keys from unauthorized\naccess.</p>\n<h3>\n<a id=\"entropy-of-keys\" class=\"anchor\" href=\"#entropy-of-keys\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Entropy of Keys</h3>\n<p>Unless a transport-layer security protocol is used, eavesdroppers will have full access to authenticated requests and request\nMAC values, and will thus be able to mount offline brute-force attacks to recover the key used. Servers should be careful to\nassign keys which are long enough, and random enough, to resist such attacks for at least the length of time that the <strong>Hawk</strong>\ncredentials are valid.</p>\n<p>For example, if the credentials are valid for two weeks, servers should ensure that it is not possible to mount a brute force\nattack that recovers the key in less than two weeks. Of course, servers are urged to err on the side of caution, and use the\nlongest key reasonable.</p>\n<p>It is equally important that the pseudo-random number generator (PRNG) used to generate these keys be of sufficiently high\nquality. Many PRNG implementations generate number sequences that may appear to be random, but which nevertheless exhibit\npatterns or other weaknesses which make cryptanalysis or brute force attacks easier. Implementers should be careful to use\ncryptographically secure PRNGs to avoid these problems.</p>\n<h3>\n<a id=\"coverage-limitations\" class=\"anchor\" href=\"#coverage-limitations\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Coverage Limitations</h3>\n<p>The request MAC only covers the HTTP <code>Host</code> header and optionally the <code>Content-Type</code> header. It does not cover any other headers\nwhich can often affect how the request body is interpreted by the server. If the server behavior is influenced by the presence\nor value of such headers, an attacker can manipulate the request headers without being detected. Implementers should use the\n<code>ext</code> feature to pass application-specific information via the <code>Authorization</code> header which is protected by the request MAC.</p>\n<p>The response authentication, when performed, only covers the response payload, content-type, and the request information\nprovided by the client in its request (method, resource, timestamp, nonce, etc.). It does not cover the HTTP status code or\nany other response header field (e.g. <code>Location</code>) which can affect the client's behaviour.</p>\n<h3>\n<a id=\"future-time-manipulation\" class=\"anchor\" href=\"#future-time-manipulation\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Future Time Manipulation</h3>\n<p>The protocol relies on a clock sync between the client and server. To accomplish this, the server informs the client of its\ncurrent time when an invalid timestamp is received.</p>\n<p>If an attacker is able to manipulate this information and cause the client to use an incorrect time, it would be able to cause\nthe client to generate authenticated requests using time in the future. Such requests will fail when sent by the client, and will\nnot likely leave a trace on the server (given the common implementation of nonce, if at all enforced). The attacker will then\nbe able to replay the request at the correct time without detection.</p>\n<p>The client must only use the time information provided by the server if:</p>\n<ul>\n<li>it was delivered over a TLS connection and the server identity has been verified, or</li>\n<li>the <code>tsm</code> MAC digest calculated using the same client credentials over the timestamp has been verified.</li>\n</ul>\n<h3>\n<a id=\"client-clock-poisoning\" class=\"anchor\" href=\"#client-clock-poisoning\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Client Clock Poisoning</h3>\n<p>When receiving a request with a bad timestamp, the server provides the client with its current time. The client must never use\nthe time received from the server to adjust its own clock, and must only use it to calculate an offset for communicating with\nthat particular server.</p>\n<h3>\n<a id=\"bewit-limitations\" class=\"anchor\" href=\"#bewit-limitations\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Bewit Limitations</h3>\n<p>Special care must be taken when issuing bewit credentials to third parties. Bewit credentials are valid until expiration and cannot\nbe revoked or limited without using other means. Whatever resource they grant access to will be completely exposed to anyone with\naccess to the bewit credentials which act as bearer credentials for that particular resource. While bewit usage is limited to GET\nrequests only and therefore cannot be used to perform transactions or change server state, it can still be used to expose private\nand sensitive information.</p>\n<h3>\n<a id=\"host-header-forgery\" class=\"anchor\" href=\"#host-header-forgery\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Host Header Forgery</h3>\n<p>Hawk validates the incoming request MAC against the incoming HTTP Host header. However, unless the optional <code>host</code> and <code>port</code>\noptions are used with <code>server.authenticate()</code>, a malicious client can mint new host names pointing to the server's IP address and\nuse that to craft an attack by sending a valid request that's meant for another hostname than the one used by the server. Server\nimplementors must manually verify that the host header received matches their expectation (or use the options mentioned above).</p>\n<h1>\n<a id=\"frequently-asked-questions\" class=\"anchor\" href=\"#frequently-asked-questions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Frequently Asked Questions</h1>\n<h3>\n<a id=\"where-is-the-protocol-specification\" class=\"anchor\" href=\"#where-is-the-protocol-specification\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Where is the protocol specification?</h3>\n<p>If you are looking for some prose explaining how all this works, <strong>this is it</strong>. <strong>Hawk</strong> is being developed as an open source\nproject instead of a standard. In other words, the <a href=\"https://github.com/hueniverse/hawk/tree/master/lib\">code</a> is the specification. Not sure about\nsomething? Open an issue!</p>\n<h3>\n<a id=\"is-it-done\" class=\"anchor\" href=\"#is-it-done\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Is it done?</h3>\n<p>Yes. The protocol is finished. This module might change with enhancements and bug fixes but the protocol itself is locked.</p>\n<h3>\n<a id=\"where-can-i-find-hawk-implementations-in-other-languages\" class=\"anchor\" href=\"#where-can-i-find-hawk-implementations-in-other-languages\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Where can I find <strong>Hawk</strong> implementations in other languages?</h3>\n<p><strong>Hawk</strong>'s only reference implementation is provided in JavaScript as a node.js module. However, it has been ported to other languages.\nThe full list is maintained <a href=\"https://github.com/hueniverse/hawk/issues?labels=port&amp;state=closed\">here</a>. Please add an issue if you are\nworking on another port. A cross-platform test-suite is in the works.</p>\n<h3>\n<a id=\"why-isnt-the-algorithm-part-of-the-challenge-or-dynamically-negotiated\" class=\"anchor\" href=\"#why-isnt-the-algorithm-part-of-the-challenge-or-dynamically-negotiated\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Why isn't the algorithm part of the challenge or dynamically negotiated?</h3>\n<p>The algorithm used is closely related to the key issued as different algorithms require different key sizes (and other\nrequirements). While some keys can be used for multiple algorithm, the protocol is designed to closely bind the key and algorithm\ntogether as part of the issued credentials.</p>\n<h3>\n<a id=\"why-is-host-and-content-type-the-only-headers-covered-by-the-request-mac\" class=\"anchor\" href=\"#why-is-host-and-content-type-the-only-headers-covered-by-the-request-mac\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Why is Host and Content-Type the only headers covered by the request MAC?</h3>\n<p>It is really hard to include other headers. Headers can be changed by proxies and other intermediaries and there is no\nwell-established way to normalize them. Many platforms change the case of header field names and values. The only\nstraight-forward solution is to include the headers in some blob (say, base64 encoded JSON) and include that with the request,\nan approach taken by JWT and other such formats. However, that design violates the HTTP header boundaries, repeats information,\nand introduces other security issues because firewalls will not be aware of these \"hidden\" headers. In addition, any information\nrepeated must be compared to the duplicated information in the header and therefore only moves the problem elsewhere.</p>\n<h3>\n<a id=\"why-not-just-use-http-digest\" class=\"anchor\" href=\"#why-not-just-use-http-digest\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Why not just use HTTP Digest?</h3>\n<p>Digest requires pre-negotiation to establish a nonce. This means you can't just make a request - you must first send\na protocol handshake to the server. This pattern has become unacceptable for most web services, especially mobile\nwhere extra round-trip are costly.</p>\n<h3>\n<a id=\"why-bother-with-all-this-nonce-and-timestamp-business\" class=\"anchor\" href=\"#why-bother-with-all-this-nonce-and-timestamp-business\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Why bother with all this nonce and timestamp business?</h3>\n<p><strong>Hawk</strong> is an attempt to find a reasonable, practical compromise between security and usability. OAuth 1.0 got timestamp\nand nonces halfway right but failed when it came to scalability and consistent developer experience. <strong>Hawk</strong> addresses\nit by requiring the client to sync its clock, but provides it with tools to accomplish it.</p>\n<p>In general, replay protection is a matter of application-specific threat model. It is less of an issue on a TLS-protected\nsystem where the clients are implemented using best practices and are under the control of the server. Instead of dropping\nreplay protection, <strong>Hawk</strong> offers a required time window and an optional nonce verification. Together, it provides developers\nwith the ability to decide how to enforce their security policy without impacting the client's implementation.</p>\n<h3>\n<a id=\"what-are-app-and-dlg-in-the-authorization-header-and-normalized-mac-string\" class=\"anchor\" href=\"#what-are-app-and-dlg-in-the-authorization-header-and-normalized-mac-string\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>What are <code>app</code> and <code>dlg</code> in the authorization header and normalized mac string?</h3>\n<p>The original motivation for <strong>Hawk</strong> was to replace the OAuth 1.0 use cases. This included both a simple client-server mode which\nthis module is specifically designed for, and a delegated access mode which is being developed separately in\n<a href=\"https://github.com/hueniverse/oz\">Oz</a>. In addition to the <strong>Hawk</strong> use cases, Oz requires another attribute: the application id <code>app</code>.\nThis provides binding between the credentials and the application in a way that prevents an attacker from tricking an application\nto use credentials issued to someone else. It also has an optional 'delegated-by' attribute <code>dlg</code> which is the application id of the\napplication the credentials were directly issued to. The goal of these two additions is to allow Oz to utilize <strong>Hawk</strong> directly,\nbut with the additional security of delegated credentials.</p>\n<h3>\n<a id=\"what-is-the-purpose-of-the-static-strings-used-in-each-normalized-mac-input\" class=\"anchor\" href=\"#what-is-the-purpose-of-the-static-strings-used-in-each-normalized-mac-input\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>What is the purpose of the static strings used in each normalized MAC input?</h3>\n<p>When calculating a hash or MAC, a static prefix (tag) is added. The prefix is used to prevent MAC values from being\nused or reused for a purpose other than what they were created for (i.e. prevents switching MAC values between a request,\nresponse, and a bewit use cases). It also protects against exploits created after a potential change in how the protocol\ncreates the normalized string. For example, if a future version would switch the order of nonce and timestamp, it\ncan create an exploit opportunity for cases where the nonce is similar in format to a timestamp.</p>\n<h3>\n<a id=\"does-hawk-have-anything-to-do-with-oauth\" class=\"anchor\" href=\"#does-hawk-have-anything-to-do-with-oauth\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Does <strong>Hawk</strong> have anything to do with OAuth?</h3>\n<p>Short answer: no.</p>\n<p><strong>Hawk</strong> was originally proposed as the OAuth MAC Token specification. However, the OAuth working group in its consistent\nincompetence failed to produce a final, usable solution to address one of the most popular use cases of OAuth 1.0 - using it\nto authenticate simple client-server transactions (i.e. two-legged). As you can guess, the OAuth working group is still hard\nat work to produce more garbage.</p>\n<p><strong>Hawk</strong> provides a simple HTTP authentication scheme for making client-server requests. It does not address the OAuth use case\nof delegating access to a third party. If you are looking for an OAuth alternative, check out <a href=\"https://github.com/hueniverse/oz\">Oz</a>.</p>\n<h1>\n<a id=\"implementations\" class=\"anchor\" href=\"#implementations\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Implementations</h1>\n<ul>\n<li><a href=\"https://github.com/logibit/logibit.hawk/\">Logibit Hawk in F#/.Net</a></li>\n<li><a href=\"https://github.com/tent/hawk-ruby\">Tent Hawk in Ruby</a></li>\n<li><a href=\"https://github.com/wealdtech/hawk\">Wealdtech in Java</a></li>\n<li><a href=\"https://github.com/kumar303/mohawk/\">Kumar's Mohawk in Python</a></li>\n<li><a href=\"https://github.com/hiyosi/hawk\">Hiyosi in Go</a></li>\n</ul>\n<h1>\n<a id=\"acknowledgements\" class=\"anchor\" href=\"#acknowledgements\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Acknowledgements</h1>\n<p><strong>Hawk</strong> is a derivative work of the <a href=\"http://tools.ietf.org/html/draft-hammer-oauth-v2-mac-token-05\" rel=\"nofollow\">HTTP MAC Authentication Scheme</a> proposal\nco-authored by Ben Adida, Adam Barth, and Eran Hammer, which in turn was based on the OAuth 1.0 community specification.</p>\n<p>Special thanks to Ben Laurie for his always insightful feedback and advice.</p>\n<p>The <strong>Hawk</strong> logo was created by <a href=\"http://chriscarrasco.com\" rel=\"nofollow\">Chris Carrasco</a>.</p>\n","intro":"# Introduction\n\n**Hawk** is an HTTP authentication scheme providing mechanisms for making authenticated HTTP requests with\npartial cryptographic verification of the request and response, covering the HTTP method, request URI, host,\nand optionally the request payload.\n\nSimilar to the HTTP [Digest access authentication schemes](http://www.ietf.org/rfc/rfc2617.txt), **Hawk** uses a set of\nclient credentials which include an identifier (e.g. username) and key (e.g. password). Likewise, just as with the Digest scheme,\nthe key is never included in authenticated requests. Instead, it is used to calculate a request MAC value which is\nincluded in its place.\n\nHowever, **Hawk** has several differences from Digest. In particular, while both use a nonce to limit the possibility of\nreplay attacks, in **Hawk** the client generates the nonce and uses it in combination with a timestamp, leading to less\n\"chattiness\" (interaction with the server).\n\nAlso unlike Digest, this scheme is not intended to protect the key itself (the password in Digest) because\nthe client and server must both have access to the key material in the clear.\n\nThe primary design goals of this scheme are to:\n* simplify and improve HTTP authentication for services that are unwilling or unable to deploy TLS for all resources,\n* secure credentials against leakage (e.g., when the client uses some form of dynamic configuration to determine where\n  to send an authenticated request), and\n* avoid the exposure of credentials sent to a malicious server over an unauthenticated secure channel due to client\n  failure to validate the server's identity as part of its TLS handshake.\n\nIn addition, **Hawk** supports a method for granting third-parties temporary access to individual resources using\na query parameter called _bewit_ (in falconry, a leather strap used to attach a tracking device to the leg of a hawk).\n\nThe **Hawk** scheme requires the establishment of a shared symmetric key between the client and the server,\nwhich is beyond the scope of this module. Typically, the shared credentials are established via an initial\nTLS-protected phase or derived from some other shared confidential information available to both the client\nand the server.\n\n","example":"## Usage Example\n\nServer code:\n\n```js\nconst Http = require('http');\nconst Hawk = require('@hapi/hawk');\n\n\n// Credentials lookup function\n\nconst credentialsFunc = function (id) {\n\n    const credentials = {\n        key: 'werxhqb98rpaxn39848xrunpaw3489ruxnpa98w4rxn',\n        algorithm: 'sha256',\n        user: 'Steve'\n    };\n\n    return credentials;\n};\n\n// Create HTTP server\n\nconst handler = async function (req, res) {\n\n    let payload, status;\n    \n    // Authenticate incoming request\n    \n    try {\n        const { credentials, artifacts } = await Hawk.server.authenticate(req, credentialsFunc);\n        payload = `Hello ${credentials.user} ${artifacts.ext}`;\n        status = 200;\n    } catch (error) {\n        payload = 'Shoosh!';\n        status = 401;\n    }\n\n    // Prepare response\n\n    const headers = { 'Content-Type': 'text/plain' };\n\n    // Generate Server-Authorization response header\n\n    const header = Hawk.server.header(credentials, artifacts, { payload, contentType: headers['Content-Type'] });\n    headers['Server-Authorization'] = header;\n\n    // Send the response back\n\n    res.writeHead(status, headers);\n    res.end(payload);\n};\n\n// Start server\n\nHttp.createServer(handler).listen(8000, 'example.com');\n```\n\nClient code:\n\n```js\nconst Request = require('request');\nconst Hawk = require('@hapi/hawk');\n\n\n// Client credentials\n\nconst credentials = {\n    id: 'dh37fgj492je',\n    key: 'werxhqb98rpaxn39848xrunpaw3489ruxnpa98w4rxn',\n    algorithm: 'sha256'\n}\n\n// Request options\n\nconst requestOptions = {\n    uri: 'http://example.com:8000/resource/1?b=1&a=2',\n    method: 'GET',\n    headers: {}\n};\n\n// Generate Authorization request header\n\nconst { header } = Hawk.client.header('http://example.com:8000/resource/1?b=1&a=2', 'GET', { credentials: credentials, ext: 'some-app-data' });\nrequestOptions.headers.Authorization = header;\n\n// Send authenticated request\n\nRequest(requestOptions, function (error, response, body) {\n\n    // Authenticate the server's response\n\n    const isValid = Hawk.client.authenticate(response, credentials, header.artifacts, { payload: body });\n\n    // Output results\n\n    console.log(`${response.statusCode}: ${body}` + (isValid ? ' (valid)' : ' (invalid)'));\n});\n```\n\n**Hawk** utilized the [**SNTP**](https://github.com/hueniverse/sntp) module for time sync management. By default, the local\nmachine time is used. To automatically retrieve and synchronize the clock within the application, use the SNTP 'start()' method.\n\n```js\nHawk.sntp.start();\n```\n\n","usage":"","faq":"","license":"BSD"},"slogan":"HTTP Holder-Of-Key Authentication Scheme.","forks":161,"stars":1812,"date":"2019-10-09T01:49:30Z","updated":"Wed Oct 09 2019","link":"https://github.com/hapijs/hawk"},"heavy":{"name":"heavy","versions":[{"name":"6.2.2","branch":"master","license":"BSD","node":" 12, 10, 8"},{"name":"4.1.0","branch":"v4-commercial","license":"Commercial","node":" 10, 8, 6"}],"versionsArray":["6.2.2","4.1.0"],"6.2.2":{"menu":"  - [`charset()`](#charsetcharsetheader-preferences)\n  - [`charsets()`](#charsetscharsetheader)\n  - [`encoding()`](#encodingencodingheader-preferences)\n  - [`encodings()`](#encodingsencodingheader)\n  - [`language()`](#languagelanguageheader-preferences)\n  - [`languages()`](#languageslanguageheader)\n  - [`mediaType()`](#mediatypemediatypeheader-preferences)\n  - [`mediaTypes()`](#mediatypesmediatypeheader)\n  - [`parseAll()`](#parseallheaders)\n- [Q Weightings](#q-weightings)\n- [Encodings](#encodings)\n  - [Preferences](#preferences)\n  - [Identity](#identity)","api":"<h3>\n<a id=\"charsetcharsetheader-preferences\" class=\"anchor\" href=\"#charsetcharsetheader-preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>charset(charsetHeader, [preferences])</code>\n</h3>\n<p>Given a string of acceptable charsets from a HTTP request Accept-Charset header, and an optional array of charset preferences, it will return a string indicating the best charset option that can be used in the HTTP response.  This takes into account any weighting parameters given in the header for ordering and exclusion.</p>\n<pre><code>const charset = Accept.charsets(\"iso-8859-5, unicode-1-1;q=0.8\"); // charset === \"iso-8859-5\"\nconst charset = Accept.charsets(\"iso-8859-5, unicode-1-1;q=0.8\", [\"unicode-1-1\"]); // charset === \"unicode-1-1\"\n</code></pre>\n<h3>\n<a id=\"charsetscharsetheader\" class=\"anchor\" href=\"#charsetscharsetheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>charsets(charsetHeader)</code>\n</h3>\n<p>Given a string of acceptable charsets from a HTTP request Accept-Charset header it will return an array of strings indicating the possible charset options that can be used in the HTTP response, in order from most preferred to least as determined by the <a href=\"#weightings\">q weightings</a></p>\n<pre><code>const charsets = Accept.charsets(\"iso-8859-5, unicode-1-1;q=0.8\"); // charsets === [\"iso-8859-5\", \"unicode-1-1\"]\nconst charsets = Accept.charsets(\"iso-8859-5;q=0.5, unicode-1-1;q=0.8\"); // charsets === [\"unicode-1-1\", \"iso-8859-5\"]\n</code></pre>\n<h3>\n<a id=\"encodingencodingheader-preferences\" class=\"anchor\" href=\"#encodingencodingheader-preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>encoding(encodingHeader, [preferences])</code>\n</h3>\n<p>Given a string of acceptable encodings from a HTTP request Accept-Encoding header, and optionally an array of preferences, it will return a string with the best fit encoding that should be used in the HTTP response.  If no preferences array parameter is given the highest weighted or first ordered encoding is returned.  If weightings are given in the header (using the q parameter) they are taken into account and the highest weighted match is returned.  If a preferences array is given the best match from the array is returned.  For more information about how the preferences array works see the section below on <a href=\"#preferences\">Preferences</a>.</p>\n<pre><code>const encoding = Accept.encoding(\"gzip, deflate, sdch\"); // encoding === \"gzip\"\nconst encoding = Accept.encoding(\"gzip, deflate, sdch\", [\"deflate\", \"identity\"]); // encoding === \"delate\"\n</code></pre>\n<h3>\n<a id=\"encodingsencodingheader\" class=\"anchor\" href=\"#encodingsencodingheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>encodings(encodingHeader)</code>\n</h3>\n<p>Given a string of acceptable encodings from a HTTP request Accept-Encoding header it will return an array of strings indicating the possible encoding options that can be used in the HTTP response, in order from most preferred to least as determined by the <a href=\"#weightings\">q weightings</a></p>\n<pre><code>const encodings = Accept.encodings(\"compress;q=0.5, gzip;q=1.0\"); // encodings === [\"gzip\", \"compress\", \"identity\"]\n</code></pre>\n<h3>\n<a id=\"languagelanguageheader-preferences\" class=\"anchor\" href=\"#languagelanguageheader-preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>language(languageHeader, [preferences])</code>\n</h3>\n<p>Given a string of acceptable languages from a HTTP request Accept-Language header, and an optional array of language preferences, it will return a string indicating the best language that can be used in the HTTP response.  It respects the <a href=\"#weightings\">q weightings</a> of the languages in the header, returning the matched preference with the highest weighting.  The case of the preference does not have to match the case of the option in the header.</p>\n<pre><code>const language = Accept.language(\"en;q=0.7, en-GB;q=0.8\"); // language === \"en-GB\"\n\n// the case of the preference \"en-gb\" does not match the case of the header option \"en-GB\"\nconst language = Accept.language(\"en;q=0.7, en-GB;q=0.8\", [\"en-gb\"]); // language === \"en-GB\"\n</code></pre>\n<h3>\n<a id=\"languageslanguageheader\" class=\"anchor\" href=\"#languageslanguageheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>languages(languageHeader)</code>\n</h3>\n<p>Given a string of acceptable languages from a HTTP request Accept-Language header it will return an array of strings indicating the possible languages that can be used in the HTTP response, in order from most preferred to least as determined by the <a href=\"#weightings\">q weightings</a>.</p>\n<pre><code>const languages = Accept.languages(\"da, en;q=0.7, en-GB;q=0.8\"); // languages === [\"da\", \"en-GB\", \"en\"]\n</code></pre>\n<h3>\n<a id=\"mediatypemediatypeheader-preferences\" class=\"anchor\" href=\"#mediatypemediatypeheader-preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>mediaType(mediaTypeHeader, [preferences])</code>\n</h3>\n<p>Given a string of acceptable media types from a HTTP request Accept header, and optionally an array of preferences, it will return a string with the best fit media type that should be used in the HTTP response.  If no preferences array parameter is given the highest weighted or first ordered media type is returned.  If weightings are given in the header (using the q parameter) they are taken into account and the highest weighted match is returned.  If a preferences array is given the best match from the array is returned.  For more information about how the preferences array works see the section below on <a href=\"#preferences\">Preferences</a>.</p>\n<pre><code>const mediaType = Accept.mediaType(\"text/plain, application/json;q=0.5, text/html, */*;q=0.1\");\n// mediaType === \"text/plain\"\n\nconst mediaType = Accept.mediaType(\"text/plain, application/json;q=0.5, text/html, */*;q=0.1\", [\"text/html\", \"application/json\"]);\n// mediaType === \"text/html\"\n</code></pre>\n<h3>\n<a id=\"mediatypesmediatypeheader\" class=\"anchor\" href=\"#mediatypesmediatypeheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>mediaTypes(mediaTypeHeader)</code>\n</h3>\n<p>Given a string of acceptable media types from a HTTP request Accept header it will return an array of strings indicating the possible media types that can be used in the HTTP response, in order from most preferred to least as determined by the <a href=\"#weightings\">q weightings</a>.</p>\n<pre><code>const mediaTypes = Accept.mediaTypes(\"text/plain, application/json;q=0.5, text/html, */*;q=0.1\");\n// mediaTypes === [\"text/plain\", \"text/html\", \"application/json\", \"*/*\"]\n</code></pre>\n<h3>\n<a id=\"parseallheaders\" class=\"anchor\" href=\"#parseallheaders\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>parseAll(headers)</code>\n</h3>\n<p>Given the headers from a Hapi request object, <code>parseAll()</code> will parse all of the Accepts-* headers it currently understands into an object.</p>\n<pre><code>const all = Accept.parseAll(request.headers);\n// all === {\n//    \"charsets\": [\"iso-8859-5\", \"unicode-1-1\"],\n//    \"encodings\": [\"gzip\", \"compress\", \"identity\"],\n//    \"languages\": [\"da\", \"en-gb\", \"en\"],\n//    \"mediaTypes\": [\"text/plain\", \"text/html\", \"application/json\", \"*/*\"]\n// }\n</code></pre>\n<h2>\n<a id=\"q-weightings\" class=\"anchor\" href=\"#q-weightings\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Q Weightings</h2>\n<p>The Accept-* headers may optionally include preferential weighting to indicate which options are best for the requester.  It does this with <code>q</code> parameters in the headers (which stands for quality).  These q weightings must be in the range of 0 to 1, with a max of three decimal places.  The weightings are used to order the data given in the header, with the highest number being most preferential.  Anything with a q rating of 0 is not allowed at all.</p>\n<p>If a particular Accept method allows a <code>preferences</code> array parameter, such as <code>encoding()</code>, the weightings in the header affect which preference will be returned.  Your preferences are matched with the weighting in mind, and the highest weighted option will be returned, no matter what order you list your preferences.  The header weighting is most important.</p>\n<pre><code>const encoding = Accept.encoding(\"gzip;q=1.0, identity;q=0.5\", [\"identity\", \"gzip\"]);\n// encoding === \"gzip\"\n// despite identity getting listed first in the preferences array, gzip has a higher q weighting, so it is returned.\n</code></pre>\n<h2>\n<a id=\"encodings\" class=\"anchor\" href=\"#encodings\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Encodings</h2>\n<h3>\n<a id=\"preferences\" class=\"anchor\" href=\"#preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Preferences</h3>\n<p>If you are looking for a set of specific encodings you can pass that in as an array to the <code>preferences</code> parameter.  Your preferences <strong>must</strong> be an array.  In the preferences array you specify a list of possible encodings you want to look for, in order of preference.  Accept will return back the most preferential option it can find, if any match.</p>\n<pre><code>const encoding = Accept.encoding(\"gzip, deflate, sdch\", [\"deflate\", \"identity\"]); // encoding === \"delate\"\n</code></pre>\n<p>Your preferences are evaluated without any case sensitivity, to better match what the browser sends.  This means that \"gZip\" will match a preference of [\"gzip\"].</p>\n<pre><code>const encoding = Accept.encoding(\"gZip, deflate, sdch\", [\"gzip\"]); // encoding === \"gzip\"\n</code></pre>\n<p>If you supply a preferences array, and no match is found, <code>encoding()</code> will return an empty string, rather than an encoding from the header.</p>\n<pre><code>const encoding = Accept.encoding(\"gZip\", [\"deflate\"]); // encoding === \"\"\n</code></pre>\n<p>If the encoding header is the special \"*\" that indicates the browser will accept any encoding.  In that case the top preference from your supplied options will be returned.</p>\n<pre><code>const encoding = Accept.encoding(\"*\", [\"gzip\"]); // encoding === \"gzip\"\n</code></pre>\n<h3>\n<a id=\"identity\" class=\"anchor\" href=\"#identity\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Identity</h3>\n<p>When you ask Accept for a list of all the supported encodings from the request, using the <code>encodings()</code> function (plural, not singular), you will be returned an array of strings in order from most preferred to least as determined by the encoding weight.</p>\n<pre><code>const encodings = Accept.encodings(\"compress;q=0.5, gzip;q=1.0\"); // encodings === [\"gzip\", \"compress\", \"identity\"]\n</code></pre>\n<p>You'll notice that <code>identity</code> was returned in the array, even though it's not in the encoding header.  Identity is always an option for encoding, unless specifically excluded in the header using a weighting of zero.  Identity just means respond with no special encoding.</p>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"4.1.0":{"menu":"  - [`charset()`](#charsetcharsetheader-preferences)\n  - [`charsets()`](#charsetscharsetheader)\n  - [`encoding()`](#encodingencodingheader-preferences)\n  - [`encodings()`](#encodingsencodingheader)\n  - [`language()`](#languagelanguageheader-preferences)\n  - [`languages()`](#languageslanguageheader)\n  - [`mediaType()`](#mediatypemediatypeheader-preferences)\n  - [`mediaTypes()`](#mediatypesmediatypeheader)\n  - [`parseAll()`](#parseallheaders)\n- [Q Weightings](#q-weightings)\n- [Encodings](#encodings)\n  - [Preferences](#preferences)\n  - [Identity](#identity)","api":"<h3>\n<a id=\"charsetcharsetheader-preferences\" class=\"anchor\" href=\"#charsetcharsetheader-preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>charset(charsetHeader, [preferences])</code>\n</h3>\n<p>Given a string of acceptable charsets from a HTTP request Accept-Charset header, and an optional array of charset preferences, it will return a string indicating the best charset option that can be used in the HTTP response.  This takes into account any weighting parameters given in the header for ordering and exclusion.</p>\n<pre><code>const charset = Accept.charsets(\"iso-8859-5, unicode-1-1;q=0.8\"); // charset === \"iso-8859-5\"\nconst charset = Accept.charsets(\"iso-8859-5, unicode-1-1;q=0.8\", [\"unicode-1-1\"]); // charset === \"unicode-1-1\"\n</code></pre>\n<h3>\n<a id=\"charsetscharsetheader\" class=\"anchor\" href=\"#charsetscharsetheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>charsets(charsetHeader)</code>\n</h3>\n<p>Given a string of acceptable charsets from a HTTP request Accept-Charset header it will return an array of strings indicating the possible charset options that can be used in the HTTP response, in order from most preferred to least as determined by the <a href=\"#weightings\">q weightings</a></p>\n<pre><code>const charsets = Accept.charsets(\"iso-8859-5, unicode-1-1;q=0.8\"); // charsets === [\"iso-8859-5\", \"unicode-1-1\"]\nconst charsets = Accept.charsets(\"iso-8859-5;q=0.5, unicode-1-1;q=0.8\"); // charsets === [\"unicode-1-1\", \"iso-8859-5\"]\n</code></pre>\n<h3>\n<a id=\"encodingencodingheader-preferences\" class=\"anchor\" href=\"#encodingencodingheader-preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>encoding(encodingHeader, [preferences])</code>\n</h3>\n<p>Given a string of acceptable encodings from a HTTP request Accept-Encoding header, and optionally an array of preferences, it will return a string with the best fit encoding that should be used in the HTTP response.  If no preferences array parameter is given the highest weighted or first ordered encoding is returned.  If weightings are given in the header (using the q parameter) they are taken into account and the highest weighted match is returned.  If a preferences array is given the best match from the array is returned.  For more information about how the preferences array works see the section below on <a href=\"#preferences\">Preferences</a>.</p>\n<pre><code>const encoding = Accept.encoding(\"gzip, deflate, sdch\"); // encoding === \"gzip\"\nconst encoding = Accept.encoding(\"gzip, deflate, sdch\", [\"deflate\", \"identity\"]); // encoding === \"delate\"\n</code></pre>\n<h3>\n<a id=\"encodingsencodingheader\" class=\"anchor\" href=\"#encodingsencodingheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>encodings(encodingHeader)</code>\n</h3>\n<p>Given a string of acceptable encodings from a HTTP request Accept-Encoding header it will return an array of strings indicating the possible encoding options that can be used in the HTTP response, in order from most preferred to least as determined by the <a href=\"#weightings\">q weightings</a></p>\n<pre><code>const encodings = Accept.encodings(\"compress;q=0.5, gzip;q=1.0\"); // encodings === [\"gzip\", \"compress\", \"identity\"]\n</code></pre>\n<h3>\n<a id=\"languagelanguageheader-preferences\" class=\"anchor\" href=\"#languagelanguageheader-preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>language(languageHeader, [preferences])</code>\n</h3>\n<p>Given a string of acceptable languages from a HTTP request Accept-Language header, and an optional array of language preferences, it will return a string indicating the best language that can be used in the HTTP response.  It respects the <a href=\"#weightings\">q weightings</a> of the languages in the header, returning the matched preference with the highest weighting.  The case of the preference does not have to match the case of the option in the header.</p>\n<pre><code>const language = Accept.language(\"en;q=0.7, en-GB;q=0.8\"); // language === \"en-GB\"\n\n// the case of the preference \"en-gb\" does not match the case of the header option \"en-GB\"\nconst language = Accept.language(\"en;q=0.7, en-GB;q=0.8\", [\"en-gb\"]); // language === \"en-GB\"\n</code></pre>\n<h3>\n<a id=\"languageslanguageheader\" class=\"anchor\" href=\"#languageslanguageheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>languages(languageHeader)</code>\n</h3>\n<p>Given a string of acceptable languages from a HTTP request Accept-Language header it will return an array of strings indicating the possible languages that can be used in the HTTP response, in order from most preferred to least as determined by the <a href=\"#weightings\">q weightings</a>.</p>\n<pre><code>const languages = Accept.languages(\"da, en;q=0.7, en-GB;q=0.8\"); // languages === [\"da\", \"en-GB\", \"en\"]\n</code></pre>\n<h3>\n<a id=\"mediatypemediatypeheader-preferences\" class=\"anchor\" href=\"#mediatypemediatypeheader-preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>mediaType(mediaTypeHeader, [preferences])</code>\n</h3>\n<p>Given a string of acceptable media types from a HTTP request Accept header, and optionally an array of preferences, it will return a string with the best fit media type that should be used in the HTTP response.  If no preferences array parameter is given the highest weighted or first ordered media type is returned.  If weightings are given in the header (using the q parameter) they are taken into account and the highest weighted match is returned.  If a preferences array is given the best match from the array is returned.  For more information about how the preferences array works see the section below on <a href=\"#preferences\">Preferences</a>.</p>\n<pre><code>const mediaType = Accept.mediaType(\"text/plain, application/json;q=0.5, text/html, */*;q=0.1\");\n// mediaType === \"text/plain\"\n\nconst mediaType = Accept.mediaType(\"text/plain, application/json;q=0.5, text/html, */*;q=0.1\", [\"text/html\", \"application/json\"]);\n// mediaType === \"text/html\"\n</code></pre>\n<h3>\n<a id=\"mediatypesmediatypeheader\" class=\"anchor\" href=\"#mediatypesmediatypeheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>mediaTypes(mediaTypeHeader)</code>\n</h3>\n<p>Given a string of acceptable media types from a HTTP request Accept header it will return an array of strings indicating the possible media types that can be used in the HTTP response, in order from most preferred to least as determined by the <a href=\"#weightings\">q weightings</a>.</p>\n<pre><code>const mediaTypes = Accept.mediaTypes(\"text/plain, application/json;q=0.5, text/html, */*;q=0.1\");\n// mediaTypes === [\"text/plain\", \"text/html\", \"application/json\", \"*/*\"]\n</code></pre>\n<h3>\n<a id=\"parseallheaders\" class=\"anchor\" href=\"#parseallheaders\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>parseAll(headers)</code>\n</h3>\n<p>Given the headers from a Hapi request object, <code>parseAll()</code> will parse all of the Accepts-* headers it currently understands into an object.</p>\n<pre><code>const all = Accept.parseAll(request.headers);\n// all === {\n//    \"charsets\": [\"iso-8859-5\", \"unicode-1-1\"],\n//    \"encodings\": [\"gzip\", \"compress\", \"identity\"],\n//    \"languages\": [\"da\", \"en-gb\", \"en\"],\n//    \"mediaTypes\": [\"text/plain\", \"text/html\", \"application/json\", \"*/*\"]\n// }\n</code></pre>\n<h2>\n<a id=\"q-weightings\" class=\"anchor\" href=\"#q-weightings\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Q Weightings</h2>\n<p>The Accept-* headers may optionally include preferential weighting to indicate which options are best for the requester.  It does this with <code>q</code> parameters in the headers (which stands for quality).  These q weightings must be in the range of 0 to 1, with a max of three decimal places.  The weightings are used to order the data given in the header, with the highest number being most preferential.  Anything with a q rating of 0 is not allowed at all.</p>\n<p>If a particular Accept method allows a <code>preferences</code> array parameter, such as <code>encoding()</code>, the weightings in the header affect which preference will be returned.  Your preferences are matched with the weighting in mind, and the highest weighted option will be returned, no matter what order you list your preferences.  The header weighting is most important.</p>\n<pre><code>const encoding = Accept.encoding(\"gzip;q=1.0, identity;q=0.5\", [\"identity\", \"gzip\"]);\n// encoding === \"gzip\"\n// despite identity getting listed first in the preferences array, gzip has a higher q weighting, so it is returned.\n</code></pre>\n<h2>\n<a id=\"encodings\" class=\"anchor\" href=\"#encodings\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Encodings</h2>\n<h3>\n<a id=\"preferences\" class=\"anchor\" href=\"#preferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Preferences</h3>\n<p>If you are looking for a set of specific encodings you can pass that in as an array to the <code>preferences</code> parameter.  Your preferences <strong>must</strong> be an array.  In the preferences array you specify a list of possible encodings you want to look for, in order of preference.  Accept will return back the most preferential option it can find, if any match.</p>\n<pre><code>const encoding = Accept.encoding(\"gzip, deflate, sdch\", [\"deflate\", \"identity\"]); // encoding === \"delate\"\n</code></pre>\n<p>Your preferences are evaluated without any case sensitivity, to better match what the browser sends.  This means that \"gZip\" will match a preference of [\"gzip\"].</p>\n<pre><code>const encoding = Accept.encoding(\"gZip, deflate, sdch\", [\"gzip\"]); // encoding === \"gzip\"\n</code></pre>\n<p>If you supply a preferences array, and no match is found, <code>encoding()</code> will return an empty string, rather than an encoding from the header.</p>\n<pre><code>const encoding = Accept.encoding(\"gZip\", [\"deflate\"]); // encoding === \"\"\n</code></pre>\n<p>If the encoding header is the special \"*\" that indicates the browser will accept any encoding.  In that case the top preference from your supplied options will be returned.</p>\n<pre><code>const encoding = Accept.encoding(\"*\", [\"gzip\"]); // encoding === \"gzip\"\n</code></pre>\n<h3>\n<a id=\"identity\" class=\"anchor\" href=\"#identity\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Identity</h3>\n<p>When you ask Accept for a list of all the supported encodings from the request, using the <code>encodings()</code> function (plural, not singular), you will be returned an array of strings in order from most preferred to least as determined by the encoding weight.</p>\n<pre><code>const encodings = Accept.encodings(\"compress;q=0.5, gzip;q=1.0\"); // encodings === [\"gzip\", \"compress\", \"identity\"]\n</code></pre>\n<p>You'll notice that <code>identity</code> was returned in the array, even though it's not in the encoding header.  Identity is always an option for encoding, unless specifically excluded in the header using a weighting of zero.  Identity just means respond with no special encoding.</p>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"}},"hoek":{"name":"hoek","versions":[{"name":"8.5.0","branch":"master","license":"BSD","node":" 12, 10, 8"},{"name":"6.2.5","branch":"v6-commercial","license":"Commercial","node":"12, 10, 8"},{"name":"4.3.0","branch":"v4-commercial","license":"Commercial","node":"10, 8, 6"}],"versionsArray":["8.5.0","4.3.0","6.2.5"],"8.5.0":{"menu":"- [Object](#object)\n  - [clone()](#cloneobj-options)\n  - [merge()](#mergetarget-source-options)\n  - [applyToDefaults()](#applytodefaultsdefaults-source-options)\n  - [deepEqual()](#deepequala-b-options)\n  - [intersect()](#intersectarray1-array2-options)\n  - [contain()](#containref-values-options)\n  - [flatten()](#flattenarray-target)\n  - [reach()](#reachobj-chain-options)\n  - [reachTemplate()](#reachtemplateobj-template-options)\n  - [stringify()](#stringifyargs)\n- [Bench](#bench)\n- [Escaping Characters](#escaping-characters)\n  - [escapeHtml()](#escapehtmlstring)\n  - [escapeHeaderAttribute()](#escapeheaderattributeattribute)\n  - [escapeJson()](#escapejsonstring)\n  - [escapeRegex()](#escaperegexstring)\n- [Errors](#errors)\n  - [assert()](#assertcondition-message)\n- [Function](#function)\n  - [once()](#oncefn)\n  - [ignore](#ignore)\n- [Promises](#promises)\n  - [wait()](#waittimeout)\n  - [block()](#block)\n  - [isPromise()](#ispromisepromise)","api":"<h3>\n<a id=\"object\" class=\"anchor\" href=\"#object\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Object</h3>\n<p><strong>hoek</strong> provides several helpful methods for objects and arrays.</p>\n<h4>\n<a id=\"cloneobj-options\" class=\"anchor\" href=\"#cloneobj-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>clone(obj, [options])</h4>\n<p>Clones an object or an array. A <em>deep copy</em> is made (duplicates everything, including values that are\nobjects, as well as non-enumerable properties) where:</p>\n<ul>\n<li>\n<code>obj</code> - the object to be cloned.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>symbols</code> - clone symbol properties. Defaults to <code>true</code>.</li>\n<li>\n<code>shallow</code> - one of:\n<ul>\n<li>an array of object key strings (dot-separated or array-based key paths) to shallow copy from <code>obj</code> instead of deep.</li>\n<li>\n<code>true</code> to shallow copy all object properties. Used to shallow copy an object with non-enumerable properties and prototype;</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">nestedObj</span> <span class=\"pl-k\">=</span> {\n        w<span class=\"pl-k\">:</span><span class=\"pl-sr\"> <span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span>something<span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span>ig</span>,\n        x<span class=\"pl-k\">:</span> {\n            a<span class=\"pl-k\">:</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>],\n            b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">123456</span>,\n            c<span class=\"pl-k\">:</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Date</span>()\n        },\n        y<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>y<span class=\"pl-pds\">'</span></span>,\n        z<span class=\"pl-k\">:</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Date</span>()\n    };\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">copy</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">clone</span>(nestedObj);\n\n<span class=\"pl-smi\">copy</span>.<span class=\"pl-c1\">x</span>.<span class=\"pl-smi\">b</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">100</span>;\n\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">copy</span>.<span class=\"pl-c1\">y</span>);        <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in 'y'</span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">nestedObj</span>.<span class=\"pl-c1\">x</span>.<span class=\"pl-smi\">b</span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in 123456</span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">copy</span>.<span class=\"pl-c1\">x</span>.<span class=\"pl-smi\">b</span>);      <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in 100</span></pre></div>\n<p>Clones an object or array excluding some keys which are shallow copied:</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">nestedObj</span> <span class=\"pl-k\">=</span> {\n        w<span class=\"pl-k\">:</span><span class=\"pl-sr\"> <span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span>something<span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span>ig</span>,\n        x<span class=\"pl-k\">:</span> {\n            a<span class=\"pl-k\">:</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>],\n            b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">123456</span>,\n            c<span class=\"pl-k\">:</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Date</span>()\n        },\n        y<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>y<span class=\"pl-pds\">'</span></span>,\n        z<span class=\"pl-k\">:</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Date</span>()\n    };\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">copy</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">clone</span>(nestedObj, { shallow<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>x<span class=\"pl-pds\">'</span></span>] });\n\n<span class=\"pl-smi\">copy</span>.<span class=\"pl-c1\">x</span>.<span class=\"pl-smi\">b</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">100</span>;\n\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">copy</span>.<span class=\"pl-c1\">y</span>);        <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in 'y'</span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">nestedObj</span>.<span class=\"pl-c1\">x</span>.<span class=\"pl-smi\">b</span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in 100</span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">copy</span>.<span class=\"pl-c1\">x</span>.<span class=\"pl-smi\">b</span>);      <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in 100</span></pre></div>\n<h4>\n<a id=\"mergetarget-source-options\" class=\"anchor\" href=\"#mergetarget-source-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>merge(target, source, [options])</h4>\n<p>Merge all the properties of source into target where:</p>\n<ul>\n<li>\n<code>target</code> - the object onto which the properties of <code>source</code> are copied to.</li>\n<li>\n<code>source</code> - the object copied onto <code>target</code>.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>nullOverride</code> - if <code>true</code>, a <code>null</code> value in the source overrides any existing value in the <code>defaults</code>.\nIf <code>false</code>, <code>null</code> values in the <code>source</code> are ignored. Defaults to <code>true</code>.</li>\n<li>\n<code>mergeArrays</code> - if <code>true</code>, array values from <code>source</code> are appended to existing array values in <code>target</code>.\nDefaults to <code>true</code>.</li>\n<li>\n<code>symbols</code> - clone symbol properties. Defaults to <code>true</code>.</li>\n</ul>\n</li>\n</ul>\n<p>Note that source wins in conflict, and by default null and undefined from source are applied.\nMerge is destructive where the target is modified. For non destructive merge, use <code>applyToDefaults</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">target</span> <span class=\"pl-k\">=</span> {a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, b <span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span>};\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">source</span> <span class=\"pl-k\">=</span> {a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">0</span>, c<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span>};\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">source2</span> <span class=\"pl-k\">=</span> {a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>, c<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span>};\n\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">merge</span>(target, source);         <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in {a: 0, b: 2, c: 5}</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">merge</span>(target, source2);        <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in {a: null, b: 2, c: 5}</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">merge</span>(target, source2, { nullOverride<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span>} ); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in {a: 1, b: 2, c: 5}</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">targetArray</span> <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>];\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">sourceArray</span> <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">4</span>, <span class=\"pl-c1\">5</span>];\n\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">merge</span>(targetArray, sourceArray);              <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in [1, 2, 3, 4, 5]</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">merge</span>(targetArray, sourceArray, { mergeArrays<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> }); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in [4, 5]</span></pre></div>\n<h4>\n<a id=\"applytodefaultsdefaults-source-options\" class=\"anchor\" href=\"#applytodefaultsdefaults-source-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>applyToDefaults(defaults, source, [options])</h4>\n<p>Apply source to a copy of the defaults where:</p>\n<ul>\n<li>\n<code>defaults</code> - the default object to clone and then apply <code>source</code> onto.</li>\n<li>\n<code>source</code> - the object applied to the <code>defaults</code>.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>nullOverride</code> - if <code>true</code>, a <code>null</code> value in the source overrides any existing value in the <code>defaults</code>.\nIf <code>false</code>, <code>null</code> values in the <code>source</code> are ignored. Defaults to <code>false</code>.</li>\n<li>\n<code>shallow</code> - an array of dot-separated or array-based key paths to shallow copy values in <code>source</code>.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">defaults</span> <span class=\"pl-k\">=</span> { host<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>localhost<span class=\"pl-pds\">\"</span></span>, port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">8000</span> };\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">source</span> <span class=\"pl-k\">=</span> { port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">8080</span> };\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">config</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">applyToDefaults</span>(defaults, source); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in { host: \"localhost\", port: 8080 }</span></pre></div>\n<p>Apply source with a null value to a copy of the defaults</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">defaults</span> <span class=\"pl-k\">=</span> { host<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>localhost<span class=\"pl-pds\">\"</span></span>, port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">8000</span> };\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">source</span> <span class=\"pl-k\">=</span> { host<span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>, port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">8080</span> };\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">config</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">applyToDefaults</span>(defaults, source, { nullOverride<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> }); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in { host: null, port: 8080 }</span></pre></div>\n<p>Apply source to a copy of the defaults where the shallow keys specified in the last parameter are shallow copied from source instead of merged</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">defaults</span> <span class=\"pl-k\">=</span> {\n    db<span class=\"pl-k\">:</span> {\n        server<span class=\"pl-k\">:</span> {\n            host<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>localhost<span class=\"pl-pds\">\"</span></span>,\n            port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">8000</span>\n        },\n        name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>example<span class=\"pl-pds\">'</span></span>\n    }\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">source</span> <span class=\"pl-k\">=</span> { server<span class=\"pl-k\">:</span> { port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">8080</span> } };\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">config</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">applyToDefaults</span>(defaults, source, { shallow<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>db.server<span class=\"pl-pds\">'</span></span>] });        <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in { db: { server: { port: 8080 }, name: 'example' } }</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">config</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">applyToDefaults</span>(defaults, source, { shallow<span class=\"pl-k\">:</span> [[<span class=\"pl-s\"><span class=\"pl-pds\">'</span>db<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>server<span class=\"pl-pds\">'</span></span>]] });   <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in { db: { server: { port: 8080 }, name: 'example' } }</span></pre></div>\n<h4>\n<a id=\"deepequala-b-options\" class=\"anchor\" href=\"#deepequala-b-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>deepEqual(a, b, [options])</h4>\n<p>Performs a deep comparison of the two values including support for circular dependencies,\nprototype, and enumerable properties, where:</p>\n<ul>\n<li>\n<code>a</code> - the first value.</li>\n<li>\n<code>b</code> - the second value.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>deepFunction</code> - when <code>true</code>, function values are deep compared using their source code and\nobject properties. Defaults to <code>false</code>.</li>\n<li>\n<code>part</code> - when <code>true</code>, allows a partial match where some of <code>b</code> is present in <code>a</code>. Defaults to\n<code>false</code>.</li>\n<li>\n<code>prototype</code> - when <code>false, prototype comparisons are skipped. Defaults to </code>true`.</li>\n<li>\n<code>skip</code> - an array of key name strings to skip comparing. The keys can be found in any level\nof the object. Note that both values must contain the key - only the value comparison is\nskipped. Only applies to plain objects and deep functions (not to map, sets, etc.). Defaults\nto no skipping.</li>\n<li>\n<code>symbols</code> - when <code>false</code>, symbol properties are ignored. Defaults to <code>true</code>.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">deepEqual</span>({ a<span class=\"pl-k\">:</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>], b<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>string<span class=\"pl-pds\">'</span></span>, c<span class=\"pl-k\">:</span> { d<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> } }, { a<span class=\"pl-k\">:</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>], b<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>string<span class=\"pl-pds\">'</span></span>, c<span class=\"pl-k\">:</span> { d<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> } }); <span class=\"pl-c\"><span class=\"pl-c\">//</span>results in true</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">deepEqual</span>(<span class=\"pl-c1\">Object</span>.<span class=\"pl-en\">create</span>(<span class=\"pl-c1\">null</span>), {}, { prototype<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> }); <span class=\"pl-c\"><span class=\"pl-c\">//</span>results in true</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">deepEqual</span>(<span class=\"pl-c1\">Object</span>.<span class=\"pl-en\">create</span>(<span class=\"pl-c1\">null</span>), {}); <span class=\"pl-c\"><span class=\"pl-c\">//</span>results in false</span></pre></div>\n<h4>\n<a id=\"intersectarray1-array2-options\" class=\"anchor\" href=\"#intersectarray1-array2-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>intersect(array1, array2, [options])</h4>\n<p>Find the common unique items betwee two arrays where:</p>\n<ul>\n<li>\n<code>array1</code> - the first array.</li>\n<li>\n<code>array2</code> - the second array.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>first</code> - if <code>true</code>, return only the first intersecting item. Defaults to <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">array1</span> <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>];\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">array2</span> <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">4</span>, <span class=\"pl-c1\">5</span>];\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">newArray</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">intersect</span>(array1, array2); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in [1]</span></pre></div>\n<h4>\n<a id=\"containref-values-options\" class=\"anchor\" href=\"#containref-values-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>contain(ref, values, [options])</h4>\n<p>Tests if the reference value contains the provided values where:</p>\n<ul>\n<li>\n<code>ref</code> - the reference string, array, or object.</li>\n<li>\n<code>values</code> - a single or array of values to find within the <code>ref</code> value. If <code>ref</code> is an object, <code>values</code> can be a key name,\nan array of key names, or an object with key-value pairs to compare.</li>\n<li>\n<code>options</code> - an optional object with the following optional settings:\n<ul>\n<li>\n<code>deep</code> - if <code>true</code>, performed a deep comparison of the values.</li>\n<li>\n<code>once</code> - if <code>true</code>, allows only one occurrence of each value.</li>\n<li>\n<code>only</code> - if <code>true</code>, does not allow values not explicitly listed.</li>\n<li>\n<code>part</code> - if <code>true</code>, allows partial match of the values (at least one must always match).</li>\n<li>\n<code>symbols</code> - clone symbol properties. Defaults to <code>true</code>.</li>\n</ul>\n</li>\n</ul>\n<p>Note: comparing a string to overlapping values will result in failed comparison (e.g. <code>contain('abc', ['ab', 'bc'])</code>).\nAlso, if an object key's value does not match the provided value, <code>false</code> is returned even when <code>part</code> is specified.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">contain</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>aaa<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, { only<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });\t\t\t\t\t\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> true</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">contain</span>([{ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span> }], [{ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span> }], { deep<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });\t\t\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> true</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">contain</span>([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">2</span>], [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>], { once<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });\t\t\t\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> false</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">contain</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span>, c<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3</span> }, { a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, d<span class=\"pl-k\">:</span> <span class=\"pl-c1\">4</span> }, { part<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> }); <span class=\"pl-c\"><span class=\"pl-c\">//</span> true</span></pre></div>\n<h4>\n<a id=\"flattenarray-target\" class=\"anchor\" href=\"#flattenarray-target\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>flatten(array, [target])</h4>\n<p>Flatten an array</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">array</span> <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">1</span>, [<span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>]];\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">flattenedArray</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">flatten</span>(array); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in [1, 2, 3]</span>\n\narray <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">1</span>, [<span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>]];\ntarget <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">4</span>, [<span class=\"pl-c1\">5</span>]];\n\nflattenedArray <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">flatten</span>(array, target); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in [4, [5], 1, 2, 3]</span></pre></div>\n<h4>\n<a id=\"reachobj-chain-options\" class=\"anchor\" href=\"#reachobj-chain-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>reach(obj, chain, [options])</h4>\n<p>Converts an object key chain string or array to reference</p>\n<ul>\n<li>\n<code>options</code> - optional settings\n<ul>\n<li>\n<code>separator</code> - string to split chain path on, defaults to '.'</li>\n<li>\n<code>default</code> - value to return if the path or value is not present, default is <code>undefined</code>\n</li>\n<li>\n<code>strict</code> - if <code>true</code>, will throw an error on missing member, default is <code>false</code>\n</li>\n<li>\n<code>functions</code> - if <code>true</code>, allow traversing functions for properties. <code>false</code> will throw an\nerror if a function is part of the chain. Defaults to `true.</li>\n<li>\n<code>iterables</code> - if <code>true</code>, allows traversing Set and Map objects. <code>false</code> will result in\n<code>undefined</code> return value is the chain contains any Set or Map objects. Note that enabling\n<code>iterables</code> can impact performance by up to 10% for all calls regardless of the presence of\nSet or Map objects. Defaults to <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n<p>A chain can be a string that will be split into key names using <code>separator</code>,\nor an array containing each individual key name.</p>\n<p>A chain including negative numbers will work like negative indices on an array.</p>\n<p>If chain is <code>null</code>, <code>undefined</code> or <code>false</code>, the object itself will be returned.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">chain</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a.b.c<span class=\"pl-pds\">'</span></span>;\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">obj</span> <span class=\"pl-k\">=</span> {a <span class=\"pl-k\">:</span> {b <span class=\"pl-k\">:</span> { c <span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>}}};\n\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">reach</span>(obj, chain); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns 1</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">chain</span> <span class=\"pl-k\">=</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-k\">-</span><span class=\"pl-c1\">1</span>];\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">obj</span> <span class=\"pl-k\">=</span> {a <span class=\"pl-k\">:</span> {b <span class=\"pl-k\">:</span> [<span class=\"pl-c1\">2</span>,<span class=\"pl-c1\">3</span>,<span class=\"pl-c1\">6</span>]}};\n\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">reach</span>(obj, chain); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns 6</span></pre></div>\n<h4>\n<a id=\"reachtemplateobj-template-options\" class=\"anchor\" href=\"#reachtemplateobj-template-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>reachTemplate(obj, template, [options])</h4>\n<p>Replaces string parameters (<code>{name}</code>) with their corresponding object key values by applying the\n<a href=\"#reachobj-chain-options\"><code>reach()</code></a> method where:</p>\n<ul>\n<li>\n<code>obj</code> - the context object used for key lookup.</li>\n<li>\n<code>template</code> - a string containing <code>{}</code> parameters.</li>\n<li>\n<code>options</code> - optional <a href=\"#reachobj-chain-options\"><code>reach()</code></a> options.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">chain</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a.b.c<span class=\"pl-pds\">'</span></span>;\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">obj</span> <span class=\"pl-k\">=</span> {a <span class=\"pl-k\">:</span> {b <span class=\"pl-k\">:</span> { c <span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>}}};\n\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">reachTemplate</span>(obj, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>1+{a.b.c}=2<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns '1+1=2'</span></pre></div>\n<h4>\n<a id=\"stringifyargs\" class=\"anchor\" href=\"#stringifyargs\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>stringify(...args)</h4>\n<p>Converts an object to string using the built-in <code>JSON.stringify()</code> method with the difference that any errors are caught\nand reported back in the form of the returned string. Used as a shortcut for displaying information to the console (e.g. in\nerror message) without the need to worry about invalid conversion.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">a</span> <span class=\"pl-k\">=</span> {};\n<span class=\"pl-smi\">a</span>.<span class=\"pl-smi\">b</span> <span class=\"pl-k\">=</span> a;\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-c1\">stringify</span>(a);\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> Returns '[Cannot display object: Converting circular structure to JSON]'</span></pre></div>\n<h3>\n<a id=\"bench\" class=\"anchor\" href=\"#bench\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Bench</h3>\n<p>Same as Timer with the exception that <code>ts</code> stores the internal node clock which is not related to <code>Date.now()</code> and cannot be used to display\nhuman-readable timestamps. More accurate for benchmarking or internal timers.</p>\n<h3>\n<a id=\"escaping-characters\" class=\"anchor\" href=\"#escaping-characters\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Escaping Characters</h3>\n<p><strong>hoek</strong> provides convenient methods for escaping html characters. The escaped characters are as followed:</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-smi\">internals</span>.<span class=\"pl-smi\">htmlEscaped</span> <span class=\"pl-k\">=</span> {\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&amp;<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&amp;amp;<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&lt;<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&amp;lt;<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&gt;<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&amp;gt;<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>\"<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&amp;quot;<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>'<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&amp;#x27;<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>`<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&amp;#x60;<span class=\"pl-pds\">'</span></span>\n};</pre></div>\n<h4>\n<a id=\"escapehtmlstring\" class=\"anchor\" href=\"#escapehtmlstring\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>escapeHtml(string)</h4>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">string</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&lt;html&gt; hey &lt;/html&gt;<span class=\"pl-pds\">'</span></span>;\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">escapedString</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">escapeHtml</span>(string); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns &amp;lt;html&amp;gt; hey &amp;lt;/html&amp;gt;</span></pre></div>\n<h4>\n<a id=\"escapeheaderattributeattribute\" class=\"anchor\" href=\"#escapeheaderattributeattribute\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>escapeHeaderAttribute(attribute)</h4>\n<p>Escape attribute value for use in HTTP header</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">a</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">escapeHeaderAttribute</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>I said \"go w<span class=\"pl-cce\">\\\\</span>o me\"<span class=\"pl-pds\">'</span></span>);  <span class=\"pl-c\"><span class=\"pl-c\">//</span>returns I said \\\"go w\\\\o me\\\"</span></pre></div>\n<h4>\n<a id=\"escapejsonstring\" class=\"anchor\" href=\"#escapejsonstring\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>escapeJson(string)</h4>\n<p>Unicode escapes the characters <code>&lt;</code>, <code>&gt;</code>, and <code>&amp;</code> to prevent mime-sniffing older browsers mistaking JSON as HTML, and escapes line and paragraph separators for JSONP and script contexts.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">lineSeparator</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">String</span>.<span class=\"pl-c1\">fromCharCode</span>(<span class=\"pl-c1\">0x2028</span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">a</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">escapeJson</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>I said &lt;script&gt;confirm(&amp;).<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">+</span> lineSeparator);  <span class=\"pl-c\"><span class=\"pl-c\">//</span>returns I said \\\\u003cscript\\\\u003econfirm(\\\\u0026).\\\\u2028</span></pre></div>\n<h4>\n<a id=\"escaperegexstring\" class=\"anchor\" href=\"#escaperegexstring\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>escapeRegex(string)</h4>\n<p>Escape string for Regex construction</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">a</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">escapeRegex</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>4^f$s.4*5+-_?%=#!:@|~<span class=\"pl-cce\">\\\\</span>/`\"(&gt;)[&lt;]d{}s,<span class=\"pl-pds\">'</span></span>);  <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns 4\\^f\\$s\\.4\\*5\\+\\-_\\?%\\=#\\!\\:@\\|~\\\\\\/`\"\\(&gt;\\)\\[&lt;\\]d\\{\\}s\\,</span></pre></div>\n<h3>\n<a id=\"errors\" class=\"anchor\" href=\"#errors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Errors</h3>\n<h4>\n<a id=\"assertcondition-message\" class=\"anchor\" href=\"#assertcondition-message\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>assert(condition, message)</h4>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">a</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">1</span>, b <span class=\"pl-k\">=</span> <span class=\"pl-c1\">2</span>;\n\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">assert</span>(a <span class=\"pl-k\">===</span> b, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a should equal b<span class=\"pl-pds\">'</span></span>);  <span class=\"pl-c\"><span class=\"pl-c\">//</span> Throws 'a should equal b'</span></pre></div>\n<p>Note that you may also pass an already created Error object as the second parameter, and <code>assert</code> will throw that object.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">a</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">1</span>, b <span class=\"pl-k\">=</span> <span class=\"pl-c1\">2</span>;\n\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">assert</span>(a <span class=\"pl-k\">===</span> b, <span class=\"pl-k\">new</span> <span class=\"pl-en\">Error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a should equal b<span class=\"pl-pds\">'</span></span>)); <span class=\"pl-c\"><span class=\"pl-c\">//</span> Throws the given error object</span></pre></div>\n<h3>\n<a id=\"function\" class=\"anchor\" href=\"#function\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Function</h3>\n<h4>\n<a id=\"oncefn\" class=\"anchor\" href=\"#oncefn\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>once(fn)</h4>\n<p>Returns a new function that can be run multiple times, but makes sure <code>fn</code> is only run once.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">myFn</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">function</span> () {\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Ran myFn<span class=\"pl-pds\">'</span></span>);\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">onceFn</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">once</span>(myFn);\n<span class=\"pl-en\">onceFn</span>(); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in \"Ran myFn\"</span>\n<span class=\"pl-en\">onceFn</span>(); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in undefined</span></pre></div>\n<h4>\n<a id=\"ignore\" class=\"anchor\" href=\"#ignore\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>ignore</h4>\n<p>A simple no-op function. It does nothing at all.</p>\n<h3>\n<a id=\"promises\" class=\"anchor\" href=\"#promises\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Promises</h3>\n<h4>\n<a id=\"waittimeout\" class=\"anchor\" href=\"#waittimeout\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>wait(timeout)</h4>\n<p>Resolve the promise after <code>timeout</code>. Provide the <code>timeout</code> in milliseconds.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">await</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">wait</span>(<span class=\"pl-c1\">2000</span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> waits for 2 seconds</span></pre></div>\n<h4>\n<a id=\"block\" class=\"anchor\" href=\"#block\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>block()</h4>\n<p>A no-op Promise. Does nothing.</p>\n<h4>\n<a id=\"ispromisepromise\" class=\"anchor\" href=\"#ispromisepromise\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>isPromise(promise)</h4>\n<p>Determines if an item is a promise where:</p>\n<ul>\n<li>\n<code>promise</code> - the item being tested.</li>\n</ul>\n<p>Returns <code>true</code> is the item is a promise, otherwise <code>false</code>.</p>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"4.3.0":{"menu":"  - [Object](#object)\n    - [clone()](#cloneobj)\n    - [cloneWithShallow()](#clonewithshallowobj-keys)\n    - [merge()](#mergetarget-source-isnulloverride-ismergearrays)\n    - [applyToDefaults()](#applytodefaultsdefaults-options-isnulloverride)\n    - [applyToDefaultsWithShallow()](#applytodefaultswithshallowdefaults-options-keys)\n    - [deepEqual()](#deepequalb-a-options)\n    - [unique()](#uniquearray-key)\n    - [mapToObject()](#maptoobjectarray-key)\n    - [intersect()](#intersectarray1-array2)\n    - [contain()](#containref-values-options)\n    - [flatten()](#flattenarray-target)\n    - [reach()](#reachobj-chain-options)\n    - [reachTemplate()](#reachtemplateobj-template-options)\n    - [transform()](#transformobj-transform-options)\n    - [shallow()](#shallowobj)\n    - [stringify()](#stringifyobj)\n- [Timer](#timer)\n- [Bench](#bench)\n- [Binary Encoding/Decoding](#binary-encodingdecoding)\n    - [base64urlEncode()](#base64urlencodevalue)\n    - [base64urlDecode()](#base64urldecodevalue)\n- [Escaping Characters](#escaping-characters)\n    - [escapeHtml()](#escapehtmlstring)\n    - [escapeHeaderAttribute()](#escapeheaderattributeattribute)\n    - [escapeJson()](#escapejsonstring)\n    - [escapeRegex()](#escaperegexstring)\n- [Errors](#errors)\n    - [assert()](#assertcondition-message)\n    - [abort()](#abortmessage)\n    - [displayStack()](#displaystackslice)\n    - [callStack()](#callstackslice)\n  - [Function](#function)\n    - [nextTick()](#nexttickfn)\n    - [once()](#oncefn)\n    - [ignore](#ignore)\n  - [Miscellaneous](#miscellaneous)\n    - [uniqueFilename()](#uniquefilenamepath-extension)\n    - [isInteger()](#isintegervalue)","api":"<h2>\n<a id=\"object\" class=\"anchor\" href=\"#object\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Object</h2>\n<p>Hoek provides several helpful methods for objects and arrays.</p>\n<h3>\n<a id=\"cloneobj\" class=\"anchor\" href=\"#cloneobj\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>clone(obj)</h3>\n<p>This method is used to clone an object or an array. A <em>deep copy</em> is made (duplicates everything, including values that are objects, as well as non-enumerable properties).</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> nestedObj <span class=\"pl-k\">=</span> {\n        w<span class=\"pl-k\">:</span><span class=\"pl-sr\"> <span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span>something<span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span>ig</span>,\n        x<span class=\"pl-k\">:</span> {\n            a<span class=\"pl-k\">:</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>],\n            b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">123456</span>,\n            c<span class=\"pl-k\">:</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Date</span>()\n        },\n        y<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>y<span class=\"pl-pds\">'</span></span>,\n        z<span class=\"pl-k\">:</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Date</span>()\n    };\n\n<span class=\"pl-k\">var</span> copy <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">clone</span>(nestedObj);\n\n<span class=\"pl-smi\">copy</span>.<span class=\"pl-c1\">x</span>.<span class=\"pl-smi\">b</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">100</span>;\n\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">copy</span>.<span class=\"pl-c1\">y</span>);        <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in 'y'</span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">nestedObj</span>.<span class=\"pl-c1\">x</span>.<span class=\"pl-smi\">b</span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in 123456</span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">copy</span>.<span class=\"pl-c1\">x</span>.<span class=\"pl-smi\">b</span>);      <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in 100</span></pre></div>\n<h3>\n<a id=\"clonewithshallowobj-keys\" class=\"anchor\" href=\"#clonewithshallowobj-keys\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>cloneWithShallow(obj, keys)</h3>\n<p>keys is an array of key names to shallow copy</p>\n<p>This method is also used to clone an object or array, however any keys listed in the <code>keys</code> array are shallow copied while those not listed are deep copied.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> nestedObj <span class=\"pl-k\">=</span> {\n        w<span class=\"pl-k\">:</span><span class=\"pl-sr\"> <span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span>something<span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span>ig</span>,\n        x<span class=\"pl-k\">:</span> {\n            a<span class=\"pl-k\">:</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>],\n            b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">123456</span>,\n            c<span class=\"pl-k\">:</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Date</span>()\n        },\n        y<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>y<span class=\"pl-pds\">'</span></span>,\n        z<span class=\"pl-k\">:</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Date</span>()\n    };\n\n<span class=\"pl-k\">var</span> copy <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">cloneWithShallow</span>(nestedObj, [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>x<span class=\"pl-pds\">'</span></span>]);\n\n<span class=\"pl-smi\">copy</span>.<span class=\"pl-c1\">x</span>.<span class=\"pl-smi\">b</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">100</span>;\n\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">copy</span>.<span class=\"pl-c1\">y</span>);        <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in 'y'</span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">nestedObj</span>.<span class=\"pl-c1\">x</span>.<span class=\"pl-smi\">b</span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in 100</span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">copy</span>.<span class=\"pl-c1\">x</span>.<span class=\"pl-smi\">b</span>);      <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in 100</span></pre></div>\n<h3>\n<a id=\"mergetarget-source-isnulloverride-ismergearrays\" class=\"anchor\" href=\"#mergetarget-source-isnulloverride-ismergearrays\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>merge(target, source, isNullOverride, isMergeArrays)</h3>\n<p>isNullOverride, isMergeArrays default to true</p>\n<p>Merge all the properties of source into target, source wins in conflict, and by default null and undefined from source are applied.\nMerge is destructive where the target is modified. For non destructive merge, use <code>applyToDefaults</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> target <span class=\"pl-k\">=</span> {a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, b <span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span>};\n<span class=\"pl-k\">var</span> source <span class=\"pl-k\">=</span> {a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">0</span>, c<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span>};\n<span class=\"pl-k\">var</span> source2 <span class=\"pl-k\">=</span> {a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>, c<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span>};\n\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">merge</span>(target, source);         <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in {a: 0, b: 2, c: 5}</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">merge</span>(target, source2);        <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in {a: null, b: 2, c: 5}</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">merge</span>(target, source2, <span class=\"pl-c1\">false</span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in {a: 1, b: 2, c: 5}</span>\n\n<span class=\"pl-k\">var</span> targetArray <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>];\n<span class=\"pl-k\">var</span> sourceArray <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">4</span>, <span class=\"pl-c1\">5</span>];\n\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">merge</span>(targetArray, sourceArray);              <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in [1, 2, 3, 4, 5]</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">merge</span>(targetArray, sourceArray, <span class=\"pl-c1\">true</span>, <span class=\"pl-c1\">false</span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in [4, 5]</span></pre></div>\n<h3>\n<a id=\"applytodefaultsdefaults-options-isnulloverride\" class=\"anchor\" href=\"#applytodefaultsdefaults-options-isnulloverride\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>applyToDefaults(defaults, options, isNullOverride)</h3>\n<p>isNullOverride defaults to false</p>\n<p>Apply options to a copy of the defaults</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> defaults <span class=\"pl-k\">=</span> { host<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>localhost<span class=\"pl-pds\">\"</span></span>, port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">8000</span> };\n<span class=\"pl-k\">var</span> options <span class=\"pl-k\">=</span> { port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">8080</span> };\n\n<span class=\"pl-k\">var</span> config <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">applyToDefaults</span>(defaults, options); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in { host: \"localhost\", port: 8080 }</span></pre></div>\n<p>Apply options with a null value to a copy of the defaults</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> defaults <span class=\"pl-k\">=</span> { host<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>localhost<span class=\"pl-pds\">\"</span></span>, port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">8000</span> };\n<span class=\"pl-k\">var</span> options <span class=\"pl-k\">=</span> { host<span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>, port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">8080</span> };\n\n<span class=\"pl-k\">var</span> config <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">applyToDefaults</span>(defaults, options, <span class=\"pl-c1\">true</span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in { host: null, port: 8080 }</span></pre></div>\n<h3>\n<a id=\"applytodefaultswithshallowdefaults-options-keys\" class=\"anchor\" href=\"#applytodefaultswithshallowdefaults-options-keys\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>applyToDefaultsWithShallow(defaults, options, keys)</h3>\n<p>keys is an array of key names to shallow copy</p>\n<p>Apply options to a copy of the defaults. Keys specified in the last parameter are shallow copied from options instead of merged.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> defaults <span class=\"pl-k\">=</span> {\n        server<span class=\"pl-k\">:</span> {\n            host<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>localhost<span class=\"pl-pds\">\"</span></span>,\n            port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">8000</span>\n        },\n        name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>example<span class=\"pl-pds\">'</span></span>\n    };\n\n<span class=\"pl-k\">var</span> options <span class=\"pl-k\">=</span> { server<span class=\"pl-k\">:</span> { port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">8080</span> } };\n\n<span class=\"pl-k\">var</span> config <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">applyToDefaultsWithShallow</span>(defaults, options, [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>server<span class=\"pl-pds\">'</span></span>]); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in { server: { port: 8080 }, name: 'example' }</span></pre></div>\n<h3>\n<a id=\"deepequalb-a-options\" class=\"anchor\" href=\"#deepequalb-a-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>deepEqual(b, a, [options])</h3>\n<p>Performs a deep comparison of the two values including support for circular dependencies, prototype, and properties. To skip prototype comparisons, use <code>options.prototype = false</code></p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">deepEqual</span>({ a<span class=\"pl-k\">:</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>], b<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>string<span class=\"pl-pds\">'</span></span>, c<span class=\"pl-k\">:</span> { d<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> } }, { a<span class=\"pl-k\">:</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>], b<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>string<span class=\"pl-pds\">'</span></span>, c<span class=\"pl-k\">:</span> { d<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> } }); <span class=\"pl-c\"><span class=\"pl-c\">//</span>results in true</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">deepEqual</span>(<span class=\"pl-c1\">Object</span>.<span class=\"pl-en\">create</span>(<span class=\"pl-c1\">null</span>), {}, { prototype<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> }); <span class=\"pl-c\"><span class=\"pl-c\">//</span>results in true</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">deepEqual</span>(<span class=\"pl-c1\">Object</span>.<span class=\"pl-en\">create</span>(<span class=\"pl-c1\">null</span>), {}); <span class=\"pl-c\"><span class=\"pl-c\">//</span>results in false</span></pre></div>\n<h3>\n<a id=\"uniquearray-key\" class=\"anchor\" href=\"#uniquearray-key\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>unique(array, key)</h3>\n<p>Remove duplicate items from Array</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> array <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>, <span class=\"pl-c1\">3</span>, <span class=\"pl-c1\">4</span>, <span class=\"pl-c1\">5</span>, <span class=\"pl-c1\">6</span>];\n\n<span class=\"pl-k\">var</span> newArray <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">unique</span>(array);    <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in [1,2,3,4,5,6]</span>\n\narray <span class=\"pl-k\">=</span> [{id<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>}, {id<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>}, {id<span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span>}];\n\nnewArray <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">unique</span>(array, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span>);  <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in [{id: 1}, {id: 2}]</span></pre></div>\n<h3>\n<a id=\"maptoobjectarray-key\" class=\"anchor\" href=\"#maptoobjectarray-key\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>mapToObject(array, key)</h3>\n<p>Convert an Array into an Object</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> array <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">1</span>,<span class=\"pl-c1\">2</span>,<span class=\"pl-c1\">3</span>];\n<span class=\"pl-k\">var</span> newObject <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">mapToObject</span>(array);   <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in {\"1\": true, \"2\": true, \"3\": true}</span>\n\narray <span class=\"pl-k\">=</span> [{id<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>}, {id<span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span>}];\nnewObject <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">mapToObject</span>(array, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in {\"1\": true, \"2\": true}</span></pre></div>\n<h3>\n<a id=\"intersectarray1-array2\" class=\"anchor\" href=\"#intersectarray1-array2\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>intersect(array1, array2)</h3>\n<p>Find the common unique items in two arrays</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> array1 <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>];\n<span class=\"pl-k\">var</span> array2 <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">4</span>, <span class=\"pl-c1\">5</span>];\n\n<span class=\"pl-k\">var</span> newArray <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">intersect</span>(array1, array2); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in [1]</span></pre></div>\n<h3>\n<a id=\"containref-values-options\" class=\"anchor\" href=\"#containref-values-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>contain(ref, values, [options])</h3>\n<p>Tests if the reference value contains the provided values where:</p>\n<ul>\n<li>\n<code>ref</code> - the reference string, array, or object.</li>\n<li>\n<code>values</code> - a single or array of values to find within the <code>ref</code> value. If <code>ref</code> is an object, <code>values</code> can be a key name,\nan array of key names, or an object with key-value pairs to compare.</li>\n<li>\n<code>options</code> - an optional object with the following optional settings:\n<ul>\n<li>\n<code>deep</code> - if <code>true</code>, performed a deep comparison of the values.</li>\n<li>\n<code>once</code> - if <code>true</code>, allows only one occurrence of each value.</li>\n<li>\n<code>only</code> - if <code>true</code>, does not allow values not explicitly listed.</li>\n<li>\n<code>part</code> - if <code>true</code>, allows partial match of the values (at least one must always match).</li>\n</ul>\n</li>\n</ul>\n<p>Note: comparing a string to overlapping values will result in failed comparison (e.g. <code>contain('abc', ['ab', 'bc'])</code>).\nAlso, if an object key's value does not match the provided value, <code>false</code> is returned even when <code>part</code> is specified.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">contain</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>aaa<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, { only<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });\t\t\t\t\t\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> true</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">contain</span>([{ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span> }], [{ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span> }], { deep<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });\t\t\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> true</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">contain</span>([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">2</span>], [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>], { once<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });\t\t\t\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> false</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">contain</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span>, c<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3</span> }, { a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, d<span class=\"pl-k\">:</span> <span class=\"pl-c1\">4</span> }, { part<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> }); <span class=\"pl-c\"><span class=\"pl-c\">//</span> true</span></pre></div>\n<h3>\n<a id=\"flattenarray-target\" class=\"anchor\" href=\"#flattenarray-target\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>flatten(array, [target])</h3>\n<p>Flatten an array</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> array <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">1</span>, [<span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>]];\n\n<span class=\"pl-k\">var</span> flattenedArray <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">flatten</span>(array); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in [1, 2, 3]</span>\n\narray <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">1</span>, [<span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>]];\ntarget <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">4</span>, [<span class=\"pl-c1\">5</span>]];\n\nflattenedArray <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">flatten</span>(array, target); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in [4, [5], 1, 2, 3]</span></pre></div>\n<h3>\n<a id=\"reachobj-chain-options\" class=\"anchor\" href=\"#reachobj-chain-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>reach(obj, chain, [options])</h3>\n<p>Converts an object key chain string to reference</p>\n<ul>\n<li>\n<code>options</code> - optional settings\n<ul>\n<li>\n<code>separator</code> - string to split chain path on, defaults to '.'</li>\n<li>\n<code>default</code> - value to return if the path or value is not present, default is <code>undefined</code>\n</li>\n<li>\n<code>strict</code> - if <code>true</code>, will throw an error on missing member, default is <code>false</code>\n</li>\n<li>\n<code>functions</code> - if <code>true</code> allow traversing functions for properties. <code>false</code> will throw an error if a function is part of the chain.</li>\n</ul>\n</li>\n</ul>\n<p>A chain including negative numbers will work like negative indices on an\narray.</p>\n<p>If chain is <code>null</code>, <code>undefined</code> or <code>false</code>, the object itself will be returned.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> chain <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a.b.c<span class=\"pl-pds\">'</span></span>;\n<span class=\"pl-k\">var</span> obj <span class=\"pl-k\">=</span> {a <span class=\"pl-k\">:</span> {b <span class=\"pl-k\">:</span> { c <span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>}}};\n\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">reach</span>(obj, chain); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns 1</span>\n\n<span class=\"pl-k\">var</span> chain <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a.b.-1<span class=\"pl-pds\">'</span></span>;\n<span class=\"pl-k\">var</span> obj <span class=\"pl-k\">=</span> {a <span class=\"pl-k\">:</span> {b <span class=\"pl-k\">:</span> [<span class=\"pl-c1\">2</span>,<span class=\"pl-c1\">3</span>,<span class=\"pl-c1\">6</span>]}};\n\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">reach</span>(obj, chain); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns 6</span></pre></div>\n<h3>\n<a id=\"reachtemplateobj-template-options\" class=\"anchor\" href=\"#reachtemplateobj-template-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>reachTemplate(obj, template, [options])</h3>\n<p>Replaces string parameters (<code>{name}</code>) with their corresponding object key values by applying the\n(<code>reach()</code>)[#reachobj-chain-options] method where:</p>\n<ul>\n<li>\n<code>obj</code> - the context object used for key lookup.</li>\n<li>\n<code>template</code> - a string containing <code>{}</code> parameters.</li>\n<li>\n<code>options</code> - optional (<code>reach()</code>)[#reachobj-chain-options] options.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> chain <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a.b.c<span class=\"pl-pds\">'</span></span>;\n<span class=\"pl-k\">var</span> obj <span class=\"pl-k\">=</span> {a <span class=\"pl-k\">:</span> {b <span class=\"pl-k\">:</span> { c <span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>}}};\n\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">reachTemplate</span>(obj, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>1+{a.b.c}=2<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns '1+1=2'</span></pre></div>\n<h3>\n<a id=\"transformobj-transform-options\" class=\"anchor\" href=\"#transformobj-transform-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>transform(obj, transform, [options])</h3>\n<p>Transforms an existing object into a new one based on the supplied <code>obj</code> and <code>transform</code> map. <code>options</code> are the same as the <code>reach</code> options. The first argument can also be an array of objects. In that case the method will return an array of transformed objects. Note that <code>options.separator</code> will be respected for the keys in the transform object as well as values.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> source <span class=\"pl-k\">=</span> {\n    address<span class=\"pl-k\">:</span> {\n        one<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>123 main street<span class=\"pl-pds\">'</span></span>,\n        two<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>PO Box 1234<span class=\"pl-pds\">'</span></span>\n    },\n    title<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Warehouse<span class=\"pl-pds\">'</span></span>,\n    state<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>CA<span class=\"pl-pds\">'</span></span>\n};\n\n<span class=\"pl-k\">var</span> result <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">transform</span>(source, {\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>person.address.lineOne<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>address.one<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>person.address.lineTwo<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>address.two<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>title<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>title<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>person.address.region<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>state<span class=\"pl-pds\">'</span></span>\n});\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Results in</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> {</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span>     person: {</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span>         address: {</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span>             lineOne: '123 main street',</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span>             lineTwo: 'PO Box 1234',</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span>             region: 'CA'</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span>         }</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span>     },</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span>     title: 'Warehouse'</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> }</span></pre></div>\n<h3>\n<a id=\"shallowobj\" class=\"anchor\" href=\"#shallowobj\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>shallow(obj)</h3>\n<p>Performs a shallow copy by copying the references of all the top level children where:</p>\n<ul>\n<li>\n<code>obj</code> - the object to be copied.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> shallow <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">shallow</span>({ a<span class=\"pl-k\">:</span> { b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span> } });</pre></div>\n<h3>\n<a id=\"stringifyobj\" class=\"anchor\" href=\"#stringifyobj\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>stringify(obj)</h3>\n<p>Converts an object to string using the built-in <code>JSON.stringify()</code> method with the difference that any errors are caught\nand reported back in the form of the returned string. Used as a shortcut for displaying information to the console (e.g. in\nerror message) without the need to worry about invalid conversion.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> a <span class=\"pl-k\">=</span> {};\n<span class=\"pl-smi\">a</span>.<span class=\"pl-smi\">b</span> <span class=\"pl-k\">=</span> a;\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-c1\">stringify</span>(a);\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> Returns '[Cannot display object: Converting circular structure to JSON]'</span></pre></div>\n<h1>\n<a id=\"timer\" class=\"anchor\" href=\"#timer\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Timer</h1>\n<p>A Timer object. Initializing a new timer object sets the ts to the number of milliseconds elapsed since 1 January 1970 00:00:00 UTC.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> timerObj <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Hoek.Timer</span>();\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Time is now: <span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">timerObj</span>.<span class=\"pl-smi\">ts</span>);\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Elapsed time from initialization: <span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">timerObj</span>.<span class=\"pl-en\">elapsed</span>() <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>milliseconds<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h1>\n<a id=\"bench\" class=\"anchor\" href=\"#bench\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Bench</h1>\n<p>Same as Timer with the exception that <code>ts</code> stores the internal node clock which is not related to <code>Date.now()</code> and cannot be used to display\nhuman-readable timestamps. More accurate for benchmarking or internal timers.</p>\n<h1>\n<a id=\"binary-encodingdecoding\" class=\"anchor\" href=\"#binary-encodingdecoding\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Binary Encoding/Decoding</h1>\n<h3>\n<a id=\"base64urlencodevalue\" class=\"anchor\" href=\"#base64urlencodevalue\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>base64urlEncode(value)</h3>\n<p>Encodes value of string or buffer type in Base64 or URL encoding, function will assert input value is correct.</p>\n<h3>\n<a id=\"base64urldecodevalue\" class=\"anchor\" href=\"#base64urldecodevalue\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>base64urlDecode(value)</h3>\n<p>Decodes string into Base64 or URL encoding, function returns an error on invalid input and returns a string or buffer depending on encoding provided.  Default encoding is binary.</p>\n<h1>\n<a id=\"escaping-characters\" class=\"anchor\" href=\"#escaping-characters\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Escaping Characters</h1>\n<p>Hoek provides convenient methods for escaping html characters. The escaped characters are as followed:</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-smi\">internals</span>.<span class=\"pl-smi\">htmlEscaped</span> <span class=\"pl-k\">=</span> {\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&amp;<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&amp;amp;<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&lt;<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&amp;lt;<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&gt;<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&amp;gt;<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>\"<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&amp;quot;<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>'<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&amp;#x27;<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>`<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&amp;#x60;<span class=\"pl-pds\">'</span></span>\n};</pre></div>\n<h3>\n<a id=\"escapehtmlstring\" class=\"anchor\" href=\"#escapehtmlstring\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>escapeHtml(string)</h3>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> string <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&lt;html&gt; hey &lt;/html&gt;<span class=\"pl-pds\">'</span></span>;\n<span class=\"pl-k\">var</span> escapedString <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">escapeHtml</span>(string); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns &amp;lt;html&amp;gt; hey &amp;lt;/html&amp;gt;</span></pre></div>\n<h3>\n<a id=\"escapeheaderattributeattribute\" class=\"anchor\" href=\"#escapeheaderattributeattribute\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>escapeHeaderAttribute(attribute)</h3>\n<p>Escape attribute value for use in HTTP header</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> a <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">escapeHeaderAttribute</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>I said \"go w<span class=\"pl-cce\">\\\\</span>o me\"<span class=\"pl-pds\">'</span></span>);  <span class=\"pl-c\"><span class=\"pl-c\">//</span>returns I said \\\"go w\\\\o me\\\"</span></pre></div>\n<h3>\n<a id=\"escapejsonstring\" class=\"anchor\" href=\"#escapejsonstring\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>escapeJson(string)</h3>\n<p>Unicode escapes the characters <code>&lt;</code>, <code>&gt;</code>, and <code>&amp;</code> to prevent mime-sniffing older browsers mistaking JSON as HTML, and escapes line and paragraph separators for JSONP and script contexts.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> lineSeparator <span class=\"pl-k\">=</span> <span class=\"pl-c1\">String</span>.<span class=\"pl-c1\">fromCharCode</span>(<span class=\"pl-c1\">0x2028</span>);\n<span class=\"pl-k\">var</span> a <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">escapeJson</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>I said &lt;script&gt;confirm(&amp;).<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">+</span> lineSeparator);  <span class=\"pl-c\"><span class=\"pl-c\">//</span>returns I said \\\\u003cscript\\\\u003econfirm(\\\\u0026).\\\\u2028</span></pre></div>\n<h3>\n<a id=\"escaperegexstring\" class=\"anchor\" href=\"#escaperegexstring\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>escapeRegex(string)</h3>\n<p>Escape string for Regex construction</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> a <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">escapeRegex</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>4^f$s.4*5+-_?%=#!:@|~<span class=\"pl-cce\">\\\\</span>/`\"(&gt;)[&lt;]d{}s,<span class=\"pl-pds\">'</span></span>);  <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns 4\\^f\\$s\\.4\\*5\\+\\-_\\?%\\=#\\!\\:@\\|~\\\\\\/`\"\\(&gt;\\)\\[&lt;\\]d\\{\\}s\\,</span></pre></div>\n<h1>\n<a id=\"errors\" class=\"anchor\" href=\"#errors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Errors</h1>\n<h3>\n<a id=\"assertcondition-message\" class=\"anchor\" href=\"#assertcondition-message\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>assert(condition, message)</h3>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> a <span class=\"pl-k\">=</span> <span class=\"pl-c1\">1</span>, b <span class=\"pl-k\">=</span> <span class=\"pl-c1\">2</span>;\n\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">assert</span>(a <span class=\"pl-k\">===</span> b, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a should equal b<span class=\"pl-pds\">'</span></span>);  <span class=\"pl-c\"><span class=\"pl-c\">//</span> Throws 'a should equal b'</span></pre></div>\n<p>Note that you may also pass an already created Error object as the second parameter, and <code>assert</code> will throw that object.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> a <span class=\"pl-k\">=</span> <span class=\"pl-c1\">1</span>, b <span class=\"pl-k\">=</span> <span class=\"pl-c1\">2</span>;\n\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">assert</span>(a <span class=\"pl-k\">===</span> b, <span class=\"pl-k\">new</span> <span class=\"pl-en\">Error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a should equal b<span class=\"pl-pds\">'</span></span>)); <span class=\"pl-c\"><span class=\"pl-c\">//</span> Throws the given error object</span></pre></div>\n<h3>\n<a id=\"abortmessage\" class=\"anchor\" href=\"#abortmessage\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>abort(message)</h3>\n<p>First checks if <code>process.env.NODE_ENV === 'test'</code>, and if so, throws error message. Otherwise,\ndisplays most recent stack and then exits process.</p>\n<h3>\n<a id=\"displaystackslice\" class=\"anchor\" href=\"#displaystackslice\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>displayStack(slice)</h3>\n<p>Displays the trace stack</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> stack <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">displayStack</span>();\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(stack); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns something like:</span>\n\n[ <span class=\"pl-s\"><span class=\"pl-pds\">'</span>null (/Users/user/Desktop/hoek/test.js:4:18)<span class=\"pl-pds\">'</span></span>,\n  <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Module._compile (module.js:449:26)<span class=\"pl-pds\">'</span></span>,\n  <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Module._extensions..js (module.js:467:10)<span class=\"pl-pds\">'</span></span>,\n  <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Module.load (module.js:356:32)<span class=\"pl-pds\">'</span></span>,\n  <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Module._load (module.js:312:12)<span class=\"pl-pds\">'</span></span>,\n  <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Module.runMain (module.js:492:10)<span class=\"pl-pds\">'</span></span>,\n  <span class=\"pl-s\"><span class=\"pl-pds\">'</span>startup.processNextTick.process._tickCallback (node.js:244:9)<span class=\"pl-pds\">'</span></span> ]</pre></div>\n<h3>\n<a id=\"callstackslice\" class=\"anchor\" href=\"#callstackslice\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>callStack(slice)</h3>\n<p>Returns a trace stack array.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> stack <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">callStack</span>();\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(stack);  <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns something like:</span>\n\n[ [ <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/Users/user/Desktop/hoek/test.js<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">4</span>, <span class=\"pl-c1\">18</span>, <span class=\"pl-c1\">null</span>, <span class=\"pl-c1\">false</span> ],\n  [ <span class=\"pl-s\"><span class=\"pl-pds\">'</span>module.js<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">449</span>, <span class=\"pl-c1\">26</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Module._compile<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">false</span> ],\n  [ <span class=\"pl-s\"><span class=\"pl-pds\">'</span>module.js<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">467</span>, <span class=\"pl-c1\">10</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Module._extensions..js<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">false</span> ],\n  [ <span class=\"pl-s\"><span class=\"pl-pds\">'</span>module.js<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">356</span>, <span class=\"pl-c1\">32</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Module.load<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">false</span> ],\n  [ <span class=\"pl-s\"><span class=\"pl-pds\">'</span>module.js<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">312</span>, <span class=\"pl-c1\">12</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Module._load<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">false</span> ],\n  [ <span class=\"pl-s\"><span class=\"pl-pds\">'</span>module.js<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">492</span>, <span class=\"pl-c1\">10</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Module.runMain<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">false</span> ],\n  [ <span class=\"pl-s\"><span class=\"pl-pds\">'</span>node.js<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-c1\">244</span>,\n    <span class=\"pl-c1\">9</span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>startup.processNextTick.process._tickCallback<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-c1\">false</span> ] ]</pre></div>\n<h2>\n<a id=\"function\" class=\"anchor\" href=\"#function\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Function</h2>\n<h3>\n<a id=\"nexttickfn\" class=\"anchor\" href=\"#nexttickfn\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>nextTick(fn)</h3>\n<p>Returns a new function that wraps <code>fn</code> in <code>process.nextTick</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> <span class=\"pl-en\">myFn</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">function</span> () {\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Do this later<span class=\"pl-pds\">'</span></span>);\n};\n\n<span class=\"pl-k\">var</span> nextFn <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">nextTick</span>(myFn);\n\n<span class=\"pl-en\">nextFn</span>();\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Do this first<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Results in:</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span></span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Do this first</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Do this later</span></pre></div>\n<h3>\n<a id=\"oncefn\" class=\"anchor\" href=\"#oncefn\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>once(fn)</h3>\n<p>Returns a new function that can be run multiple times, but makes sure <code>fn</code> is only run once.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> <span class=\"pl-en\">myFn</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">function</span> () {\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Ran myFn<span class=\"pl-pds\">'</span></span>);\n};\n\n<span class=\"pl-k\">var</span> onceFn <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">once</span>(myFn);\n<span class=\"pl-en\">onceFn</span>(); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in \"Ran myFn\"</span>\n<span class=\"pl-en\">onceFn</span>(); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in undefined</span></pre></div>\n<h3>\n<a id=\"ignore\" class=\"anchor\" href=\"#ignore\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>ignore</h3>\n<p>A simple no-op function. It does nothing at all.</p>\n<h2>\n<a id=\"miscellaneous\" class=\"anchor\" href=\"#miscellaneous\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Miscellaneous</h2>\n<h3>\n<a id=\"uniquefilenamepath-extension\" class=\"anchor\" href=\"#uniquefilenamepath-extension\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>uniqueFilename(path, extension)</h3>\n<p><code>path</code> to prepend with the randomly generated file name. <code>extension</code> is the optional file extension, defaults to <code>''</code>.</p>\n<p>Returns a randomly generated file name at the specified <code>path</code>. The result is a fully resolved path to a file.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> result <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">uniqueFilename</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>./test/modules<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>txt<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in \"full/path/test/modules/{random}.txt\"</span></pre></div>\n<h3>\n<a id=\"isintegervalue\" class=\"anchor\" href=\"#isintegervalue\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>isInteger(value)</h3>\n<p>Check <code>value</code> to see if it is an integer.  Returns true/false.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> result <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">isInteger</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>23<span class=\"pl-pds\">'</span></span>)</pre></div>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"},"6.2.5":{"menu":"- [Object](#object)\n  - [clone()](#cloneobj-options)\n  - [cloneWithShallow()](#clonewithshallowobj-keys-options)\n  - [merge()](#mergetarget-source-isnulloverride-ismergearrays)\n  - [applyToDefaults()](#applytodefaultsdefaults-options-isnulloverride)\n  - [applyToDefaultsWithShallow()](#applytodefaultswithshallowdefaults-options-keys)\n  - [deepEqual()](#deepequalb-a-options)\n  - [intersect()](#intersectarray1-array2)\n  - [contain()](#containref-values-options)\n  - [flatten()](#flattenarray-target)\n  - [reach()](#reachobj-chain-options)\n  - [reachTemplate()](#reachtemplateobj-template-options)\n  - [stringify()](#stringifyargs)\n- [Bench](#bench)\n- [Escaping Characters](#escaping-characters)\n  - [escapeHtml()](#escapehtmlstring)\n  - [escapeHeaderAttribute()](#escapeheaderattributeattribute)\n  - [escapeJson()](#escapejsonstring)\n  - [escapeRegex()](#escaperegexstring)\n- [Errors](#errors)\n  - [assert()](#assertcondition-message)\n- [Function](#function)\n  - [once()](#oncefn)\n  - [ignore](#ignore)\n- [Miscellaneous](#miscellaneous)\n  - [uniqueFilename()](#uniquefilenamepath-extension)\n- [Promises](#promises)\n  - [wait()](#waittimeout)\n  - [block()](#block)","api":"<h3>\n<a id=\"object\" class=\"anchor\" href=\"#object\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Object</h3>\n<p><strong>hoek</strong> provides several helpful methods for objects and arrays.</p>\n<h4>\n<a id=\"cloneobj-options\" class=\"anchor\" href=\"#cloneobj-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>clone(obj, [options])</h4>\n<p>Clones an object or an array. A <em>deep copy</em> is made (duplicates everything, including values that are\nobjects, as well as non-enumerable properties) where:</p>\n<ul>\n<li>\n<code>obj</code> - the object to be cloned.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>symbols</code> - clone symbol properties. Defaults to <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> nestedObj <span class=\"pl-k\">=</span> {\n        w<span class=\"pl-k\">:</span><span class=\"pl-sr\"> <span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span>something<span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span>ig</span>,\n        x<span class=\"pl-k\">:</span> {\n            a<span class=\"pl-k\">:</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>],\n            b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">123456</span>,\n            c<span class=\"pl-k\">:</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Date</span>()\n        },\n        y<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>y<span class=\"pl-pds\">'</span></span>,\n        z<span class=\"pl-k\">:</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Date</span>()\n    };\n\n<span class=\"pl-k\">var</span> copy <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">clone</span>(nestedObj);\n\n<span class=\"pl-smi\">copy</span>.<span class=\"pl-c1\">x</span>.<span class=\"pl-smi\">b</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">100</span>;\n\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">copy</span>.<span class=\"pl-c1\">y</span>);        <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in 'y'</span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">nestedObj</span>.<span class=\"pl-c1\">x</span>.<span class=\"pl-smi\">b</span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in 123456</span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">copy</span>.<span class=\"pl-c1\">x</span>.<span class=\"pl-smi\">b</span>);      <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in 100</span></pre></div>\n<h4>\n<a id=\"clonewithshallowobj-keys-options\" class=\"anchor\" href=\"#clonewithshallowobj-keys-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>cloneWithShallow(obj, keys, [options])</h4>\n<p>Clones an object or array excluding some keys which are shallow copied where:</p>\n<ul>\n<li>\n<code>obj</code> - the object to be cloned.</li>\n<li>\n<code>keys</code> - an array of key names to shallow copy.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>symbols</code> - clone symbol properties. Defaults to <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> nestedObj <span class=\"pl-k\">=</span> {\n        w<span class=\"pl-k\">:</span><span class=\"pl-sr\"> <span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span>something<span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span>ig</span>,\n        x<span class=\"pl-k\">:</span> {\n            a<span class=\"pl-k\">:</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>],\n            b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">123456</span>,\n            c<span class=\"pl-k\">:</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Date</span>()\n        },\n        y<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>y<span class=\"pl-pds\">'</span></span>,\n        z<span class=\"pl-k\">:</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Date</span>()\n    };\n\n<span class=\"pl-k\">var</span> copy <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">cloneWithShallow</span>(nestedObj, [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>x<span class=\"pl-pds\">'</span></span>]);\n\n<span class=\"pl-smi\">copy</span>.<span class=\"pl-c1\">x</span>.<span class=\"pl-smi\">b</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">100</span>;\n\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">copy</span>.<span class=\"pl-c1\">y</span>);        <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in 'y'</span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">nestedObj</span>.<span class=\"pl-c1\">x</span>.<span class=\"pl-smi\">b</span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in 100</span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">copy</span>.<span class=\"pl-c1\">x</span>.<span class=\"pl-smi\">b</span>);      <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in 100</span></pre></div>\n<h4>\n<a id=\"mergetarget-source-isnulloverride-ismergearrays\" class=\"anchor\" href=\"#mergetarget-source-isnulloverride-ismergearrays\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>merge(target, source, isNullOverride, isMergeArrays)</h4>\n<p>isNullOverride, isMergeArrays default to true</p>\n<p>Merge all the properties of source into target, source wins in conflict, and by default null and undefined from source are applied.\nMerge is destructive where the target is modified. For non destructive merge, use <code>applyToDefaults</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> target <span class=\"pl-k\">=</span> {a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, b <span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span>};\n<span class=\"pl-k\">var</span> source <span class=\"pl-k\">=</span> {a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">0</span>, c<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span>};\n<span class=\"pl-k\">var</span> source2 <span class=\"pl-k\">=</span> {a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>, c<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span>};\n\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">merge</span>(target, source);         <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in {a: 0, b: 2, c: 5}</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">merge</span>(target, source2);        <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in {a: null, b: 2, c: 5}</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">merge</span>(target, source2, <span class=\"pl-c1\">false</span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in {a: 1, b: 2, c: 5}</span>\n\n<span class=\"pl-k\">var</span> targetArray <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>];\n<span class=\"pl-k\">var</span> sourceArray <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">4</span>, <span class=\"pl-c1\">5</span>];\n\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">merge</span>(targetArray, sourceArray);              <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in [1, 2, 3, 4, 5]</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">merge</span>(targetArray, sourceArray, <span class=\"pl-c1\">true</span>, <span class=\"pl-c1\">false</span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in [4, 5]</span></pre></div>\n<h4>\n<a id=\"applytodefaultsdefaults-options-isnulloverride\" class=\"anchor\" href=\"#applytodefaultsdefaults-options-isnulloverride\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>applyToDefaults(defaults, options, isNullOverride)</h4>\n<p>isNullOverride defaults to false</p>\n<p>Apply options to a copy of the defaults</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> defaults <span class=\"pl-k\">=</span> { host<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>localhost<span class=\"pl-pds\">\"</span></span>, port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">8000</span> };\n<span class=\"pl-k\">var</span> options <span class=\"pl-k\">=</span> { port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">8080</span> };\n\n<span class=\"pl-k\">var</span> config <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">applyToDefaults</span>(defaults, options); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in { host: \"localhost\", port: 8080 }</span></pre></div>\n<p>Apply options with a null value to a copy of the defaults</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> defaults <span class=\"pl-k\">=</span> { host<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>localhost<span class=\"pl-pds\">\"</span></span>, port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">8000</span> };\n<span class=\"pl-k\">var</span> options <span class=\"pl-k\">=</span> { host<span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>, port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">8080</span> };\n\n<span class=\"pl-k\">var</span> config <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">applyToDefaults</span>(defaults, options, <span class=\"pl-c1\">true</span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in { host: null, port: 8080 }</span></pre></div>\n<h4>\n<a id=\"applytodefaultswithshallowdefaults-options-keys\" class=\"anchor\" href=\"#applytodefaultswithshallowdefaults-options-keys\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>applyToDefaultsWithShallow(defaults, options, keys)</h4>\n<p>keys is an array of dot-separated, or array-based, key paths to shallow copy</p>\n<p>Apply options to a copy of the defaults. Keys specified in the last parameter are shallow copied from options instead of merged.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> defaults <span class=\"pl-k\">=</span> {\n    db<span class=\"pl-k\">:</span> {\n        server<span class=\"pl-k\">:</span> {\n            host<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>localhost<span class=\"pl-pds\">\"</span></span>,\n            port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">8000</span>\n        },\n        name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>example<span class=\"pl-pds\">'</span></span>\n    }\n};\n\n<span class=\"pl-k\">var</span> options <span class=\"pl-k\">=</span> { server<span class=\"pl-k\">:</span> { port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">8080</span> } };\n\n<span class=\"pl-k\">var</span> config <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">applyToDefaultsWithShallow</span>(defaults, options, [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>db.server<span class=\"pl-pds\">'</span></span>]); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in { db: { server: { port: 8080 }, name: 'example' } }</span>\n<span class=\"pl-k\">var</span> config <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">applyToDefaultsWithShallow</span>(defaults, options, [[<span class=\"pl-s\"><span class=\"pl-pds\">'</span>db<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>server<span class=\"pl-pds\">'</span></span>]]); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in { db: { server: { port: 8080 }, name: 'example' } }</span></pre></div>\n<h4>\n<a id=\"deepequalb-a-options\" class=\"anchor\" href=\"#deepequalb-a-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>deepEqual(b, a, [options])</h4>\n<p>Performs a deep comparison of the two values including support for circular dependencies, prototype, and enumerable properties.\nTo skip prototype comparisons, use <code>options.prototype = false</code> and to include symbols, used <code>options.symbols = true</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">deepEqual</span>({ a<span class=\"pl-k\">:</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>], b<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>string<span class=\"pl-pds\">'</span></span>, c<span class=\"pl-k\">:</span> { d<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> } }, { a<span class=\"pl-k\">:</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>], b<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>string<span class=\"pl-pds\">'</span></span>, c<span class=\"pl-k\">:</span> { d<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> } }); <span class=\"pl-c\"><span class=\"pl-c\">//</span>results in true</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">deepEqual</span>(<span class=\"pl-c1\">Object</span>.<span class=\"pl-en\">create</span>(<span class=\"pl-c1\">null</span>), {}, { prototype<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> }); <span class=\"pl-c\"><span class=\"pl-c\">//</span>results in true</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">deepEqual</span>(<span class=\"pl-c1\">Object</span>.<span class=\"pl-en\">create</span>(<span class=\"pl-c1\">null</span>), {}); <span class=\"pl-c\"><span class=\"pl-c\">//</span>results in false</span></pre></div>\n<h4>\n<a id=\"intersectarray1-array2\" class=\"anchor\" href=\"#intersectarray1-array2\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>intersect(array1, array2)</h4>\n<p>Find the common unique items in two arrays</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> array1 <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>];\n<span class=\"pl-k\">var</span> array2 <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">4</span>, <span class=\"pl-c1\">5</span>];\n\n<span class=\"pl-k\">var</span> newArray <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">intersect</span>(array1, array2); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in [1]</span></pre></div>\n<h4>\n<a id=\"containref-values-options\" class=\"anchor\" href=\"#containref-values-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>contain(ref, values, [options])</h4>\n<p>Tests if the reference value contains the provided values where:</p>\n<ul>\n<li>\n<code>ref</code> - the reference string, array, or object.</li>\n<li>\n<code>values</code> - a single or array of values to find within the <code>ref</code> value. If <code>ref</code> is an object, <code>values</code> can be a key name,\nan array of key names, or an object with key-value pairs to compare.</li>\n<li>\n<code>options</code> - an optional object with the following optional settings:\n<ul>\n<li>\n<code>deep</code> - if <code>true</code>, performed a deep comparison of the values.</li>\n<li>\n<code>once</code> - if <code>true</code>, allows only one occurrence of each value.</li>\n<li>\n<code>only</code> - if <code>true</code>, does not allow values not explicitly listed.</li>\n<li>\n<code>part</code> - if <code>true</code>, allows partial match of the values (at least one must always match).</li>\n</ul>\n</li>\n</ul>\n<p>Note: comparing a string to overlapping values will result in failed comparison (e.g. <code>contain('abc', ['ab', 'bc'])</code>).\nAlso, if an object key's value does not match the provided value, <code>false</code> is returned even when <code>part</code> is specified.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">contain</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>aaa<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, { only<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });\t\t\t\t\t\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> true</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">contain</span>([{ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span> }], [{ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span> }], { deep<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });\t\t\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> true</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">contain</span>([<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">2</span>], [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>], { once<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });\t\t\t\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> false</span>\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">contain</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span>, c<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3</span> }, { a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, d<span class=\"pl-k\">:</span> <span class=\"pl-c1\">4</span> }, { part<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> }); <span class=\"pl-c\"><span class=\"pl-c\">//</span> true</span></pre></div>\n<h4>\n<a id=\"flattenarray-target\" class=\"anchor\" href=\"#flattenarray-target\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>flatten(array, [target])</h4>\n<p>Flatten an array</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> array <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">1</span>, [<span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>]];\n\n<span class=\"pl-k\">var</span> flattenedArray <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">flatten</span>(array); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in [1, 2, 3]</span>\n\narray <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">1</span>, [<span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>]];\ntarget <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">4</span>, [<span class=\"pl-c1\">5</span>]];\n\nflattenedArray <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">flatten</span>(array, target); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in [4, [5], 1, 2, 3]</span></pre></div>\n<h4>\n<a id=\"reachobj-chain-options\" class=\"anchor\" href=\"#reachobj-chain-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>reach(obj, chain, [options])</h4>\n<p>Converts an object key chain string or array to reference</p>\n<ul>\n<li>\n<code>options</code> - optional settings\n<ul>\n<li>\n<code>separator</code> - string to split chain path on, defaults to '.'</li>\n<li>\n<code>default</code> - value to return if the path or value is not present, default is <code>undefined</code>\n</li>\n<li>\n<code>strict</code> - if <code>true</code>, will throw an error on missing member, default is <code>false</code>\n</li>\n<li>\n<code>functions</code> - if <code>true</code> allow traversing functions for properties. <code>false</code> will throw an error if a function is part of the chain.</li>\n</ul>\n</li>\n</ul>\n<p>A chain can be a string that will be split into key names using <code>separator</code>,\nor an array containing each individual key name.</p>\n<p>A chain including negative numbers will work like negative indices on an array.</p>\n<p>If chain is <code>null</code>, <code>undefined</code> or <code>false</code>, the object itself will be returned.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> chain <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a.b.c<span class=\"pl-pds\">'</span></span>;\n<span class=\"pl-k\">var</span> obj <span class=\"pl-k\">=</span> {a <span class=\"pl-k\">:</span> {b <span class=\"pl-k\">:</span> { c <span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>}}};\n\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">reach</span>(obj, chain); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns 1</span>\n\n<span class=\"pl-k\">var</span> chain <span class=\"pl-k\">=</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-k\">-</span><span class=\"pl-c1\">1</span>];\n<span class=\"pl-k\">var</span> obj <span class=\"pl-k\">=</span> {a <span class=\"pl-k\">:</span> {b <span class=\"pl-k\">:</span> [<span class=\"pl-c1\">2</span>,<span class=\"pl-c1\">3</span>,<span class=\"pl-c1\">6</span>]}};\n\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">reach</span>(obj, chain); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns 6</span></pre></div>\n<h4>\n<a id=\"reachtemplateobj-template-options\" class=\"anchor\" href=\"#reachtemplateobj-template-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>reachTemplate(obj, template, [options])</h4>\n<p>Replaces string parameters (<code>{name}</code>) with their corresponding object key values by applying the\n<a href=\"#reachobj-chain-options\"><code>reach()</code></a> method where:</p>\n<ul>\n<li>\n<code>obj</code> - the context object used for key lookup.</li>\n<li>\n<code>template</code> - a string containing <code>{}</code> parameters.</li>\n<li>\n<code>options</code> - optional <a href=\"#reachobj-chain-options\"><code>reach()</code></a> options.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> chain <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a.b.c<span class=\"pl-pds\">'</span></span>;\n<span class=\"pl-k\">var</span> obj <span class=\"pl-k\">=</span> {a <span class=\"pl-k\">:</span> {b <span class=\"pl-k\">:</span> { c <span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>}}};\n\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">reachTemplate</span>(obj, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>1+{a.b.c}=2<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns '1+1=2'</span></pre></div>\n<h4>\n<a id=\"stringifyargs\" class=\"anchor\" href=\"#stringifyargs\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>stringify(...args)</h4>\n<p>Converts an object to string using the built-in <code>JSON.stringify()</code> method with the difference that any errors are caught\nand reported back in the form of the returned string. Used as a shortcut for displaying information to the console (e.g. in\nerror message) without the need to worry about invalid conversion.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> a <span class=\"pl-k\">=</span> {};\n<span class=\"pl-smi\">a</span>.<span class=\"pl-smi\">b</span> <span class=\"pl-k\">=</span> a;\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-c1\">stringify</span>(a);\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> Returns '[Cannot display object: Converting circular structure to JSON]'</span></pre></div>\n<h3>\n<a id=\"bench\" class=\"anchor\" href=\"#bench\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Bench</h3>\n<p>Same as Timer with the exception that <code>ts</code> stores the internal node clock which is not related to <code>Date.now()</code> and cannot be used to display\nhuman-readable timestamps. More accurate for benchmarking or internal timers.</p>\n<h3>\n<a id=\"escaping-characters\" class=\"anchor\" href=\"#escaping-characters\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Escaping Characters</h3>\n<p><strong>hoek</strong> provides convenient methods for escaping html characters. The escaped characters are as followed:</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-smi\">internals</span>.<span class=\"pl-smi\">htmlEscaped</span> <span class=\"pl-k\">=</span> {\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&amp;<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&amp;amp;<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&lt;<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&amp;lt;<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&gt;<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&amp;gt;<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>\"<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&amp;quot;<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>'<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&amp;#x27;<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>`<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&amp;#x60;<span class=\"pl-pds\">'</span></span>\n};</pre></div>\n<h4>\n<a id=\"escapehtmlstring\" class=\"anchor\" href=\"#escapehtmlstring\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>escapeHtml(string)</h4>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> string <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>&lt;html&gt; hey &lt;/html&gt;<span class=\"pl-pds\">'</span></span>;\n<span class=\"pl-k\">var</span> escapedString <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">escapeHtml</span>(string); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns &amp;lt;html&amp;gt; hey &amp;lt;/html&amp;gt;</span></pre></div>\n<h4>\n<a id=\"escapeheaderattributeattribute\" class=\"anchor\" href=\"#escapeheaderattributeattribute\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>escapeHeaderAttribute(attribute)</h4>\n<p>Escape attribute value for use in HTTP header</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> a <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">escapeHeaderAttribute</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>I said \"go w<span class=\"pl-cce\">\\\\</span>o me\"<span class=\"pl-pds\">'</span></span>);  <span class=\"pl-c\"><span class=\"pl-c\">//</span>returns I said \\\"go w\\\\o me\\\"</span></pre></div>\n<h4>\n<a id=\"escapejsonstring\" class=\"anchor\" href=\"#escapejsonstring\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>escapeJson(string)</h4>\n<p>Unicode escapes the characters <code>&lt;</code>, <code>&gt;</code>, and <code>&amp;</code> to prevent mime-sniffing older browsers mistaking JSON as HTML, and escapes line and paragraph separators for JSONP and script contexts.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> lineSeparator <span class=\"pl-k\">=</span> <span class=\"pl-c1\">String</span>.<span class=\"pl-c1\">fromCharCode</span>(<span class=\"pl-c1\">0x2028</span>);\n<span class=\"pl-k\">var</span> a <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">escapeJson</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>I said &lt;script&gt;confirm(&amp;).<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">+</span> lineSeparator);  <span class=\"pl-c\"><span class=\"pl-c\">//</span>returns I said \\\\u003cscript\\\\u003econfirm(\\\\u0026).\\\\u2028</span></pre></div>\n<h4>\n<a id=\"escaperegexstring\" class=\"anchor\" href=\"#escaperegexstring\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>escapeRegex(string)</h4>\n<p>Escape string for Regex construction</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> a <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">escapeRegex</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>4^f$s.4*5+-_?%=#!:@|~<span class=\"pl-cce\">\\\\</span>/`\"(&gt;)[&lt;]d{}s,<span class=\"pl-pds\">'</span></span>);  <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns 4\\^f\\$s\\.4\\*5\\+\\-_\\?%\\=#\\!\\:@\\|~\\\\\\/`\"\\(&gt;\\)\\[&lt;\\]d\\{\\}s\\,</span></pre></div>\n<h3>\n<a id=\"errors\" class=\"anchor\" href=\"#errors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Errors</h3>\n<h4>\n<a id=\"assertcondition-message\" class=\"anchor\" href=\"#assertcondition-message\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>assert(condition, message)</h4>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> a <span class=\"pl-k\">=</span> <span class=\"pl-c1\">1</span>, b <span class=\"pl-k\">=</span> <span class=\"pl-c1\">2</span>;\n\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">assert</span>(a <span class=\"pl-k\">===</span> b, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a should equal b<span class=\"pl-pds\">'</span></span>);  <span class=\"pl-c\"><span class=\"pl-c\">//</span> Throws 'a should equal b'</span></pre></div>\n<p>Note that you may also pass an already created Error object as the second parameter, and <code>assert</code> will throw that object.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> a <span class=\"pl-k\">=</span> <span class=\"pl-c1\">1</span>, b <span class=\"pl-k\">=</span> <span class=\"pl-c1\">2</span>;\n\n<span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">assert</span>(a <span class=\"pl-k\">===</span> b, <span class=\"pl-k\">new</span> <span class=\"pl-en\">Error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a should equal b<span class=\"pl-pds\">'</span></span>)); <span class=\"pl-c\"><span class=\"pl-c\">//</span> Throws the given error object</span></pre></div>\n<h3>\n<a id=\"function\" class=\"anchor\" href=\"#function\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Function</h3>\n<h4>\n<a id=\"oncefn\" class=\"anchor\" href=\"#oncefn\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>once(fn)</h4>\n<p>Returns a new function that can be run multiple times, but makes sure <code>fn</code> is only run once.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">var</span> <span class=\"pl-en\">myFn</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">function</span> () {\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Ran myFn<span class=\"pl-pds\">'</span></span>);\n};\n\n<span class=\"pl-k\">var</span> onceFn <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">once</span>(myFn);\n<span class=\"pl-en\">onceFn</span>(); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in \"Ran myFn\"</span>\n<span class=\"pl-en\">onceFn</span>(); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in undefined</span></pre></div>\n<h4>\n<a id=\"ignore\" class=\"anchor\" href=\"#ignore\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>ignore</h4>\n<p>A simple no-op function. It does nothing at all.</p>\n<h3>\n<a id=\"miscellaneous\" class=\"anchor\" href=\"#miscellaneous\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Miscellaneous</h3>\n<h4>\n<a id=\"uniquefilenamepath-extension\" class=\"anchor\" href=\"#uniquefilenamepath-extension\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>uniqueFilename(path, extension)</h4>\n<p><code>path</code> to prepend with the randomly generated file name. <code>extension</code> is the optional file extension, defaults to <code>''</code>.</p>\n<p>Returns a randomly generated file name at the specified <code>path</code>. The result is a fully resolved path to a file.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> result <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">uniqueFilename</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>./test/modules<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>txt<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> results in \"full/path/test/modules/{random}.txt\"</span></pre></div>\n<h3>\n<a id=\"promises\" class=\"anchor\" href=\"#promises\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Promises</h3>\n<h4>\n<a id=\"waittimeout\" class=\"anchor\" href=\"#waittimeout\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>wait(timeout)</h4>\n<p>Resolve the promise after <code>timeout</code>. Provide the <code>timeout</code> in milliseconds.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">await</span> <span class=\"pl-smi\">Hoek</span>.<span class=\"pl-en\">wait</span>(<span class=\"pl-c1\">2000</span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> waits for 2 seconds</span></pre></div>\n<h4>\n<a id=\"block\" class=\"anchor\" href=\"#block\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>block()</h4>\n<p>A no-op Promise. Does nothing.</p>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"},"slogan":"Utility methods for the hapi ecosystem.","forks":151,"stars":452,"date":"2019-10-31T00:36:40Z","updated":"Thu Oct 31 2019","link":"https://github.com/hapijs/hoek"},"inert":{"name":"inert","versions":[{"name":"5.2.2","branch":"master","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["5.2.2"],"5.2.2":{"menu":"- [Features](#features)\n  - [Static file server](#static-file-server)\n  - [Serving a single file](#serving-a-single-file)\n  - [Customized file response](#customized-file-response)\n  - [Server options](#server-options)\n  - [`h.file()`](#hfilepath-options)\n  - [The `file` handler](#the-file-handler)\n  - [The `directory` handler](#the-directory-handler)\n  - [Errors](#errors)","api":"<p><strong>inert</strong> provides new <a href=\"https://github.com/hapijs/hapi/blob/master/API.md#serverhandlername-method\">handler</a>\nmethods for serving static files and directories, as well as adding a <code>h.file()</code> method to the\n<a href=\"https://github.com/hapijs/hapi/blob/master/API.md#response-toolkit\">toolkit</a>, which can respond with\nfile based resources.</p>\n<h2>\n<a id=\"features\" class=\"anchor\" href=\"#features\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Features</h2>\n<ul>\n<li>Files are served with cache friendly <code>last-modified</code> and <code>etag</code> headers.</li>\n<li>Generated file listings and custom indexes.</li>\n<li>Pre-compressed file support for <code>content-encoding: gzip</code> responses.</li>\n<li>File attachment support using <code>content-disposition</code>  header.</li>\n</ul>\n<h3>\n<a id=\"static-file-server\" class=\"anchor\" href=\"#static-file-server\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Static file server</h3>\n<p>The following creates a basic static file server that can be used to serve html content from the\n<code>public</code> directory on port 3000:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Path</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>path<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Inert</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/inert<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Hapi.Server</span>({\n    port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3000</span>,\n    routes<span class=\"pl-k\">:</span> {\n        files<span class=\"pl-k\">:</span> {\n            relativeTo<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Path</span>.<span class=\"pl-c1\">join</span>(<span class=\"pl-c1\">__dirname</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>public<span class=\"pl-pds\">'</span></span>)\n        }\n    }\n});\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">provision</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(Inert);\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({\n        method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>,\n        path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/{param*}<span class=\"pl-pds\">'</span></span>,\n        handler<span class=\"pl-k\">:</span> {\n            directory<span class=\"pl-k\">:</span> {\n                path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>.<span class=\"pl-pds\">'</span></span>,\n                redirectToSlash<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>,\n                index<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>,\n            }\n        }\n    });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Server running at:<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">info</span>.<span class=\"pl-smi\">uri</span>);\n};\n\n<span class=\"pl-en\">provision</span>();</pre></div>\n<h3>\n<a id=\"serving-a-single-file\" class=\"anchor\" href=\"#serving-a-single-file\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Serving a single file</h3>\n<p>You can serve specific files using the <code>file</code> handler:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({\n    method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>,\n    path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/{path*}<span class=\"pl-pds\">'</span></span>,\n    handler<span class=\"pl-k\">:</span> {\n        file<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>page.html<span class=\"pl-pds\">'</span></span>\n    }\n});</pre></div>\n<h3>\n<a id=\"customized-file-response\" class=\"anchor\" href=\"#customized-file-response\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Customized file response</h3>\n<p>If you need more control, the <code>h.file()</code> method is available to use inside handlers:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({\n    method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>,\n    path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/file<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-en\">handler</span>(<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">h</span>) {\n\n        <span class=\"pl-k\">let</span> path <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>plain.txt<span class=\"pl-pds\">'</span></span>;\n        <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">request</span>.<span class=\"pl-c1\">headers</span>[<span class=\"pl-s\"><span class=\"pl-pds\">'</span>x-magic<span class=\"pl-pds\">'</span></span>] <span class=\"pl-k\">===</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>sekret<span class=\"pl-pds\">'</span></span>) {\n            path <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>awesome.png<span class=\"pl-pds\">'</span></span>;\n        }\n\n        <span class=\"pl-k\">return</span> <span class=\"pl-smi\">h</span>.<span class=\"pl-c1\">file</span>(path).<span class=\"pl-en\">vary</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>x-magic<span class=\"pl-pds\">'</span></span>);\n    }\n});\n\n<span class=\"pl-smi\">server</span>.<span class=\"pl-en\">ext</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>onPreResponse<span class=\"pl-pds\">'</span></span>, (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">h</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">response</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">request</span>.<span class=\"pl-smi\">response</span>;\n    <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">response</span>.<span class=\"pl-smi\">isBoom</span> <span class=\"pl-k\">&amp;&amp;</span>\n        <span class=\"pl-smi\">response</span>.<span class=\"pl-smi\">output</span>.<span class=\"pl-smi\">statusCode</span> <span class=\"pl-k\">===</span> <span class=\"pl-c1\">404</span>) {\n\n        <span class=\"pl-k\">return</span> <span class=\"pl-smi\">h</span>.<span class=\"pl-c1\">file</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>404.html<span class=\"pl-pds\">'</span></span>).<span class=\"pl-c1\">code</span>(<span class=\"pl-c1\">404</span>);\n    }\n\n    <span class=\"pl-k\">return</span> <span class=\"pl-smi\">h</span>.<span class=\"pl-smi\">continue</span>;\n});</pre></div>\n<h3>\n<a id=\"server-options\" class=\"anchor\" href=\"#server-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Server options</h3>\n<p><strong>inert</strong> handles the following server plugin options on <code>plugins.inert</code>:</p>\n<ul>\n<li>\n<code>etagsCacheMaxSize</code> - sets the maximum number of file etag hash values stored in the\netags cache. Defaults to <code>10000</code>.</li>\n</ul>\n<h3>\n<a id=\"hfilepath-options\" class=\"anchor\" href=\"#hfilepath-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>h.file(path, [options])</code>\n</h3>\n<p>Transmits a file from the file system. The 'Content-Type' header defaults to the matching mime\ntype based on filename extension.:</p>\n<ul>\n<li>\n<code>path</code> - the file path.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>confine</code> - serve file relative to this directory and returns <code>403 Forbidden</code> if the\n<code>path</code> resolves outside the <code>confine</code> directory.\nDefaults to <code>true</code> which uses the <code>relativeTo</code> route option as the <code>confine</code>.\nSet to <code>false</code> to disable this security feature.</li>\n<li>\n<code>filename</code> - an optional filename to specify if sending a 'Content-Disposition' header,\ndefaults to the basename of <code>path</code>\n</li>\n<li>\n<code>mode</code> - specifies whether to include the 'Content-Disposition' header with the response.\nAvailable values:\n<ul>\n<li>\n<code>false</code> - header is not included. This is the default value.</li>\n<li><code>'attachment'</code></li>\n<li><code>'inline'</code></li>\n</ul>\n</li>\n<li>\n<code>lookupCompressed</code> - if <code>true</code>, looks for for a pre-compressed version of the file with\nthe same filename with an extension, depending on the accepted encoding.\nDefaults to <code>false</code>.</li>\n<li>\n<code>lookupMap</code> - an <code>object</code> which maps content encoding to expected file name extension.\nDefaults to <code>{ gzip: '.gz' }</code>.</li>\n<li>\n<code>etagMethod</code> - specifies the method used to calculate the <code>ETag</code> header response.\nAvailable values:\n<ul>\n<li>\n<code>'hash'</code> - SHA1 sum of the file contents, suitable for distributed deployments.\nDefault value.</li>\n<li>\n<code>'simple'</code> - Hex encoded size and modification date, suitable when files are stored\non a single server.</li>\n<li>\n<code>false</code> - Disable ETag computation.</li>\n</ul>\n</li>\n<li>\n<code>start</code> - offset in file to reading from, defaults to 0.</li>\n<li>\n<code>end</code> - offset in file to stop reading from. If not set, will read to end of file.</li>\n</ul>\n</li>\n</ul>\n<p>Returns a standard <a href=\"https://github.com/hapijs/hapi/blob/master/API.md#response-object\">response</a> object.</p>\n<p>The <a href=\"https://github.com/hapijs/hapi/blob/master/API.md#flow-control\">response flow control rules</a> <strong>do not</strong> apply.</p>\n<h3>\n<a id=\"the-file-handler\" class=\"anchor\" href=\"#the-file-handler\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>The <code>file</code> handler</h3>\n<p>Generates a static file endpoint for serving a single file. <code>file</code> can be set to:</p>\n<ul>\n<li>a relative or absolute file path string (relative paths are resolved based on the\nroute <a href=\"https://github.com/hapijs/hapi/blob/master/API.md#route.config.files\"><code>files</code></a>\nconfiguration).</li>\n<li>a function with the signature <code>function(request)</code> which returns the relative or absolute\nfile path.</li>\n<li>an object with one or more of the following options:\n<ul>\n<li>\n<code>path</code> - a path string or function as described above (required).</li>\n<li>\n<code>confine</code> - serve file relative to this directory and returns <code>403 Forbidden</code> if the\n<code>path</code> resolves outside the <code>confine</code> directory.\nDefaults to <code>true</code> which uses the <code>relativeTo</code> route option as the <code>confine</code>.\nSet to <code>false</code> to disable this security feature.</li>\n<li>\n<code>filename</code> - an optional filename to specify if sending a 'Content-Disposition'\nheader, defaults to the basename of <code>path</code>\n</li>\n<li>\n<code>mode</code> - specifies whether to include the 'Content-Disposition' header with the\nresponse. Available values:\n<ul>\n<li>\n<code>false</code> - header is not included. This is the default value.</li>\n<li><code>'attachment'</code></li>\n<li><code>'inline'</code></li>\n</ul>\n</li>\n<li>\n<code>lookupCompressed</code> - if <code>true</code>, looks for for a pre-compressed version of the file with\nthe same filename with an extension, depending on the accepted encoding.\nDefaults to <code>false</code>.</li>\n<li>\n<code>lookupMap</code> - an <code>object</code> which maps content encoding to expected file name extension.\nDefaults to <code>{ gzip: '.gz' }</code>.</li>\n<li>\n<code>etagMethod</code> - specifies the method used to calculate the <code>ETag</code> header response.\nAvailable values:\n<ul>\n<li>\n<code>'hash'</code> - SHA1 sum of the file contents, suitable for distributed deployments.\nDefault value.</li>\n<li>\n<code>'simple'</code> - Hex encoded size and modification date, suitable when files are stored\non a single server.</li>\n<li>\n<code>false</code> - Disable ETag computation.</li>\n</ul>\n</li>\n<li>\n<code>start</code> - offset in file to reading from, defaults to 0.</li>\n<li>\n<code>end</code> - offset in file to stop reading from. If not set, will read to end of file.</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"the-directory-handler\" class=\"anchor\" href=\"#the-directory-handler\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>The <code>directory</code> handler</h3>\n<p>Generates a directory endpoint for serving static content from a directory.\nRoutes using the directory handler must include a path parameter at the end of the path\nstring (e.g. <code>/path/to/somewhere/{param}</code> where the parameter name does not matter). The\npath parameter can use any of the parameter options (e.g. <code>{param}</code> for one level files\nonly, <code>{param?}</code> for one level files or the directory root, <code>{param*}</code> for any level, or\n<code>{param*3}</code> for a specific level). If additional path parameters are present, they are\nignored for the purpose of selecting the file system resource. The directory handler is an\nobject with the following options:</p>\n<ul>\n<li>\n<code>path</code> - (required) the directory root path (relative paths are resolved based on the\nroute <a href=\"https://github.com/hapijs/hapi/blob/master/API.md#route.config.files\"><code>files</code></a>\nconfiguration). Value can be:\n<ul>\n<li>a single path string used as the prefix for any resources requested by appending the\nrequest path parameter to the provided string.</li>\n<li>an array of path strings. Each path will be attempted in order until a match is\nfound (by following the same process as the single path string).</li>\n<li>a function with the signature <code>function(request)</code> which returns the path string or\nan array of path strings. If the function returns an error, the error is passed back\nto the client in the response.</li>\n</ul>\n</li>\n<li>\n<code>index</code> - optional boolean|string|string[], determines if an index file will be served\nif found in the folder when requesting a directory. The given string or strings specify\nthe name(s) of the index file to look for. If <code>true</code>, looks for 'index.html'. Any falsy\nvalue disables index file lookup. Defaults to <code>true</code>.</li>\n<li>\n<code>listing</code> - optional boolean, determines if directory listing is generated when a\ndirectory is requested without an index document.\nDefaults to <code>false</code>.</li>\n<li>\n<code>showHidden</code> - optional boolean, determines if hidden files will be shown and served.\nDefaults to <code>false</code>.</li>\n<li>\n<code>redirectToSlash</code> - optional boolean, determines if requests for a directory without a\ntrailing slash are redirected to the same path with the missing slash. Useful for\nensuring relative links inside the response are resolved correctly. Disabled when the\nserver config <code>router.stripTrailingSlash</code> is <code>true. </code>Defaults to <code>false</code>.</li>\n<li>\n<code>lookupCompressed</code> - optional boolean, instructs the file processor to look for the same\nfilename with an extension, depending on the accepted encoding, for a pre-compressed\nversion of the file to serve. Defaults to <code>false</code>.</li>\n<li>\n<code>lookupMap</code> - an <code>object</code> which maps content encoding to expected file name extension.\nDefaults to <code>{ gzip: '.gz' }</code>.</li>\n<li>\n<code>etagMethod</code> - specifies the method used to calculate the <code>ETag</code> header response.\nAvailable values:\n<ul>\n<li>\n<code>'hash'</code> - SHA1 sum of the file contents, suitable for distributed deployments.\nDefault value.</li>\n<li>\n<code>'simple'</code> - Hex encoded size and modification date, suitable when files are stored\non a single server.</li>\n<li>\n<code>false</code> - Disable ETag computation.</li>\n</ul>\n</li>\n<li>\n<code>defaultExtension</code> - optional string, appended to file requests if the requested file is\nnot found. Defaults to no extension.</li>\n</ul>\n<h3>\n<a id=\"errors\" class=\"anchor\" href=\"#errors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Errors</h3>\n<p>Any file access errors are signalled using appropriate <a href=\"https://github.com/hapijs/boom\">Boom</a>\nerrors. These are <code>Boom.notFound()</code> for missing or hidden files, and <code>Boom.forbidden()</code> for\nfiles that exist, but can't otherwise be accessed.</p>\n<p>The error can contain an <code>err.data.path</code> property, which is the path that the error failed for.\nThis property <em>does not always exist</em> if the response was generated without a file system lookup,\nand for the directory handler it will be the last tested non-index path.</p>\n<p>If an unexpected configuration or processing errors occurs, <code>Boom.internal()</code> and <code>'system'</code>\nerrors can also be thrown.</p>\n","intro":"","example":"## Examples\n\n**inert** enables a number of common use cases for serving static assets.\n","usage":"## Usage\n\nAfter registration, this plugin adds a new method to the `toolkit` object and exposes the `'file'`\nand `'directory'` route handlers.\n\nNote that **inert** uses the custom `'file'` `variety` to signal that the response is a static\nfile generated by this plugin.\n","faq":"","license":"BSD"},"slogan":"Static file and directory handlers for hapi.js.","forks":35,"stars":233,"date":"2019-10-11T22:35:00Z","updated":"Sat Oct 12 2019","link":"https://github.com/hapijs/inert"},"iron":{"name":"iron","versions":[{"name":"5.1.4","branch":"master","license":"BSD","node":" 12, 10, 8"},{"name":"4.1.0","branch":"v4-commercial","license":"Commercial","node":" 10, 8, 6"}],"versionsArray":["5.1.4","4.1.0"],"5.1.4":{"menu":"- [Security Considerations](#security-considerations)\n  - [Plaintext Storage of Credentials](#plaintext-storage-of-credentials)\n- [Frequently Asked Questions](#frequently-asked-questions)\n  - [Where is the protocol specification?](#where-is-the-protocol-specification)\n  - [Is it done?](#is-it-done)\n  - [How come the defaults must be manually passed and not automatically applied?](#how-come-the-defaults-must-be-manually-passed-and-not-automatically-applied)\n- [Acknowledgements](#acknowledgements)\n- [Methods](#methods)\n  - [`await seal()`](#await-sealobject-password-options)\n  - [`await unseal()`](#await-unsealsealed-password-options)\n  - [`await generateKey()`](#await-generatekeypassword-options)\n  - [`await encrypt()`](#await-encryptpassword-options-data)\n  - [`await decrypt()`](#await-decryptpassword-options-data)\n  - [`await hmacWithPassword()`](#await-hmacwithpasswordpassword-options-data)\n- [Options](#options)\n  - [Defaults](#defaults)","api":"<h2>\n<a id=\"security-considerations\" class=\"anchor\" href=\"#security-considerations\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Security Considerations</h2>\n<p>The greatest sources of security risks are usually found not in <strong>iron</strong> but in the policies and\nprocedures surrounding its use. Implementers are strongly encouraged to assess how this module\naddresses their security requirements. This section includes an incomplete list of security\nconsiderations that must be reviewed and understood before using <strong>iron</strong>.</p>\n<h3>\n<a id=\"plaintext-storage-of-credentials\" class=\"anchor\" href=\"#plaintext-storage-of-credentials\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Plaintext Storage of Credentials</h3>\n<p>The <strong>iron</strong> password is only used to derive keys and is never sent or shared. However, in order to\ngenerate (and regenerate) the keys used to encrypt the object and compute the request MAC, the\nserver must have access to the password in plaintext form. This is in contrast, for example, to\nmodern operating systems, which store only a one-way hash of user credentials.</p>\n<p>If an attacker were to gain access to the password - or worse, to the server's database of all such\npassword - he or she would be able to encrypt and decrypt any sealed object. Accordingly, it is\ncritical that servers protect these passwords from unauthorized access.</p>\n<h2>\n<a id=\"frequently-asked-questions\" class=\"anchor\" href=\"#frequently-asked-questions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Frequently Asked Questions</h2>\n<h3>\n<a id=\"where-is-the-protocol-specification\" class=\"anchor\" href=\"#where-is-the-protocol-specification\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Where is the protocol specification?</h3>\n<p>If you are looking for some prose explaining how all this works, there isn't any. <strong>iron</strong> is being\ndeveloped as an open source project instead of a standard. In other words, the <a href=\"/lib\">code</a> is the\nspecification. Not sure about something? Open an issue!</p>\n<h3>\n<a id=\"is-it-done\" class=\"anchor\" href=\"#is-it-done\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Is it done?</h3>\n<p>Yep.</p>\n<h3>\n<a id=\"how-come-the-defaults-must-be-manually-passed-and-not-automatically-applied\" class=\"anchor\" href=\"#how-come-the-defaults-must-be-manually-passed-and-not-automatically-applied\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>How come the defaults must be manually passed and not automatically applied?</h3>\n<p>Because you should know what you are doing and explicitly set it. The options matter a lot to the\nsecurity properties of the implementation. While reasonable defaults are provided, you still need\nto explicitly state you want to use them.</p>\n<h2>\n<a id=\"acknowledgements\" class=\"anchor\" href=\"#acknowledgements\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Acknowledgements</h2>\n<p>Special thanks to Adam Barth for his infinite patience, and always insightful feedback and advice.</p>\n<h2>\n<a id=\"methods\" class=\"anchor\" href=\"#methods\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Methods</h2>\n<h3>\n<a id=\"await-sealobject-password-options\" class=\"anchor\" href=\"#await-sealobject-password-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await seal(object, password, options)</code>\n</h3>\n<p>Seriealizes, encrypts, and signs objects into an <strong>iron</strong> protocol string where:</p>\n<ul>\n<li>\n<p><code>object</code> - the data being sealed. Can be any JavaScript value that is serializable via\n<code>JSON.stringify()</code>.</p>\n</li>\n<li>\n<p><code>password</code> - one of:</p>\n<ul>\n<li>\n<p>a password string used to generate a key using the pbkdf2 algorithm.</p>\n</li>\n<li>\n<p>a key buffer used as-is (after validating sufficient length based on the algorithm used).</p>\n</li>\n<li>\n<p>an object with:</p>\n<ul>\n<li>\n<code>id</code> - a password identifier (must consist of only letters, numbers, and <code>_</code>).</li>\n<li>\n<code>secret</code> - a password string or key buffer used for both encryption and integrity.</li>\n</ul>\n</li>\n<li>\n<p>an object with:</p>\n<ul>\n<li>\n<code>id</code> - a password identifier (must consist of only letters, numbers, and <code>_</code>).</li>\n<li>\n<code>encryption</code> - a password string or key buffer used for encryption.</li>\n<li>\n<code>integrity</code> - a password string or key buffer used for integrity.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><code>options</code> - see <a href=\"#options\">Options</a>.</p>\n</li>\n</ul>\n<p>Return value: <strong>iron</strong> sealed string.</p>\n<p>Note: assigning the password used an <code>id</code> allows for password rotation to improve the security of\nyour deployment. Passwords should be rotated over time to reduce the risk of compromised security.\nWhen providing a password id, the id is included with the <strong>iron</strong> protocol string and it must\nmatch the id used to unseal.</p>\n<p>It is recommended to combine password id with the <code>ttl</code> option to generate <strong>iron</strong> protocol\nstrings of limited time validity which also allow for rotating passwords without the need to keep\nall previous passwords around (only the number of passwords used within the ttl window).</p>\n<h3>\n<a id=\"await-unsealsealed-password-options\" class=\"anchor\" href=\"#await-unsealsealed-password-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await unseal(sealed, password, options)</code>\n</h3>\n<p>Verifies, decrypts, and reconstruct an <strong>iron</strong> protocol string into an object where:</p>\n<ul>\n<li>\n<p><code>sealed</code> - the <strong>iron</strong> protocol string generated with <a href=\"#await-sealobject-password-options\"><code>seal()</code></a>.</p>\n</li>\n<li>\n<p><code>password</code> - must match the <code>password</code> value passed to <a href=\"#await-sealobject-password-options\"><code>seal()</code></a>\nand be one of:</p>\n<ul>\n<li>\n<p>a password string used to generate a key using the pbkdf2 algorithm.</p>\n</li>\n<li>\n<p>a key buffer used as-is (after validating sufficient length based on the algorithm used).</p>\n</li>\n<li>\n<p>an object with <code>id</code> as the key and value is one of:</p>\n<ul>\n<li>a password string or key buffer used for both encryption and integrity.</li>\n<li>an object with:\n<ul>\n<li>\n<code>encryption</code> - a password string or key buffer used for encryption.</li>\n<li>\n<code>integrity</code> - a password string or key buffer used for integrity.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><code>options</code> - see <a href=\"#options\">Options</a>. Must match the <code>options</code> value passed to\n<a href=\"#await-sealobject-password-options\"><code>seal()</code></a></p>\n</li>\n</ul>\n<p>Return value: the verified, decripted object.</p>\n<p>Note: In order to enable password rotation, the <code>password</code> argument can accept an object with more\nthan one password, each keyed by its id. Together with the <code>ttl</code> option, the <code>password</code> object only\nneeds to include the passwords used within the ttl window.</p>\n<h3>\n<a id=\"await-generatekeypassword-options\" class=\"anchor\" href=\"#await-generatekeypassword-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await generateKey(password, options)</code>\n</h3>\n<p>Generates an key from the password where:</p>\n<ul>\n<li>\n<code>password</code> - a password string or buffer key.</li>\n<li>\n<code>options</code> - see <a href=\"#options\">Options</a>.</li>\n</ul>\n<p>Return value: an object with the following keys:</p>\n<ul>\n<li><code>key</code></li>\n<li><code>salt</code></li>\n<li><code>iv</code></li>\n</ul>\n<h3>\n<a id=\"await-encryptpassword-options-data\" class=\"anchor\" href=\"#await-encryptpassword-options-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await encrypt(password, options, data)</code>\n</h3>\n<p>Encrypts data where:</p>\n<ul>\n<li>\n<code>password</code> - a password string or buffer key.</li>\n<li>\n<code>options</code> - see <a href=\"#options\">Options</a>.</li>\n<li>'data' - the string to encrypt.</li>\n</ul>\n<p>Return value: an object with the following keys:</p>\n<ul>\n<li><code>encrypted</code></li>\n<li>\n<code>key</code>:\n<ul>\n<li><code>key</code></li>\n<li><code>salt</code></li>\n<li><code>iv</code></li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"await-decryptpassword-options-data\" class=\"anchor\" href=\"#await-decryptpassword-options-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await decrypt(password, options, data)</code>\n</h3>\n<p>Decrypts data where:</p>\n<ul>\n<li>\n<code>password</code> - a password string or buffer key.</li>\n<li>\n<code>options</code> - see <a href=\"#options\">Options</a>.</li>\n<li>'data' - the string to decrypt.</li>\n</ul>\n<p>Return value: the decrypted string.</p>\n<h3>\n<a id=\"await-hmacwithpasswordpassword-options-data\" class=\"anchor\" href=\"#await-hmacwithpasswordpassword-options-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await hmacWithPassword(password, options, data)</code>\n</h3>\n<p>Calculates an HMAC digest where:</p>\n<ul>\n<li>\n<code>password</code> - a password string or buffer key.</li>\n<li>\n<code>options</code> - see <a href=\"#options\">Options</a>.</li>\n<li>'data' - the string to calculate the HMAC over.</li>\n</ul>\n<p>Return value: an object with the following keys:</p>\n<ul>\n<li><code>digest</code></li>\n<li><code>salt</code></li>\n</ul>\n<h2>\n<a id=\"options\" class=\"anchor\" href=\"#options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Options</h2>\n<p><strong>iron</strong> provides options for customizing the key deriviation algorithm used to generate encryption\nand integrity verification keys, as well as the algorithms and salt sizes used.<strong>iron</strong> methods\ntake an options object with the following keys:</p>\n<ul>\n<li>\n<code>encryption</code> - (required) defines the options used by the encryption process.</li>\n<li>\n<code>integrity</code> - (required) defines the options used by the HMAC integrity verification process.</li>\n</ul>\n<p>Each of these option objects support the following keys:</p>\n<ul>\n<li>\n<code>algorithm</code> - (required) the algorithm name ('aes-256-cbc' and 'aes-128-ctr' for encryption and\n'sha256' for integrity are the only two supported at this time).</li>\n<li>\n<code>iv</code> - (optional) an <a href=\"http://en.wikipedia.org/wiki/Initialization_vector\" rel=\"nofollow\">initialization vector</a>\nbuffer. If no <code>iv</code> is provided, one is generated based on the algorithm <code>ivBits</code> configuration.</li>\n</ul>\n<p>When the <code>password</code> argument passed is a string (used for key generation), the following options\nare used:</p>\n<ul>\n<li>\n<code>salt</code> - (optional) a pre-generated salt string (a random buffer used to ensure that two\nidentical objects will generate a different encrypted result).</li>\n<li>\n<code>saltBits</code> - (required if <code>salt</code> is not provided, otherwise ignored) the size of the salt.</li>\n<li>\n<code>iterations</code> - (required) the number of iterations used to derive a key from the password.\nDefaults to <code>1</code> iteration. The number of ideal iterations to use is dependent on your\napplication's performance requirements. More iterations means it takes longer to generate the\nkey.</li>\n<li>\n<code>minPasswordlength</code> - (required) the minimum password string length required for key generation.\nDefaults to <code>32</code> characters.</li>\n</ul>\n<p>The <em>'seal()'</em> and <em>'unseal()'</em> methods also support the following options:</p>\n<ul>\n<li>\n<code>ttl</code> - sealed object lifetime in milliseconds where 0 means forever. Defaults to <code>0</code>.</li>\n<li>\n<code>timestampSkewSec</code> - number of seconds of permitted clock skew for incoming expirations.\nDefaults to <code>60</code> seconds.</li>\n<li>\n<code>localtimeOffsetMsec</code> - local clock time offset, expressed in number of milliseconds (positive or\nnegative). Defaults to <code>0</code>.</li>\n</ul>\n<h3>\n<a id=\"defaults\" class=\"anchor\" href=\"#defaults\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Defaults</h3>\n<p><strong>iron</strong> includes a default options object which can be passed to the methods as shown above in the\nexample. The default settings are:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> options <span class=\"pl-k\">=</span> {\n    encryption<span class=\"pl-k\">:</span> {\n        saltBits<span class=\"pl-k\">:</span> <span class=\"pl-c1\">256</span>,\n        algorithm<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>aes-256-cbc<span class=\"pl-pds\">'</span></span>,\n        iterations<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>\n    },\n    integrity<span class=\"pl-k\">:</span> {\n        saltBits<span class=\"pl-k\">:</span> <span class=\"pl-c1\">256</span>,\n        algorithm<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>sha256<span class=\"pl-pds\">'</span></span>,\n        iterations<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>\n    },\n    ttl<span class=\"pl-k\">:</span> <span class=\"pl-c1\">0</span>,\n    timestampSkewSec<span class=\"pl-k\">:</span> <span class=\"pl-c1\">60</span>,\n    localtimeOffsetMsec<span class=\"pl-k\">:</span> <span class=\"pl-c1\">0</span>\n};</pre></div>\n","intro":"## Introduction\n\n**iron** is a cryptographic utility for sealing a JSON object using symmetric key encryption with message\nintegrity verification. Or in other words, it lets you encrypt an object, send it around (in\ncookies, authentication credentials, etc.), then receive it back and decrypt it. The algorithm\nensures that the message was not tampered with, and also provides a simple mechanism for password\nrotation.\n\nNote: the wire protocol has not changed since 1.x (the version increments reflected a change in\nthe internal error format used by the module and by the node API as well as other node API changes).\n\n**iron** provides methods for encrypting an object, generating a message authentication code (MAC),\nand serializing both into a cookie / URI / HTTP header friendly format. Sealed objects are useful\nin cases where state has to reside on other applications not under your control, without exposing\nthe details of this state to those application.\n\nFor example, sealed objects allow you to encrypt the permissions granted to the authenticated user,\nstore those permissions using a cookie, without worrying about someone modifying (or even knowing)\nwhat those permissions are. Any modification to the encrypted data will invalidate its integrity.\n\nThe seal process follows these general steps:\n\n- generate encryption salt `saltE`\n- derive an encryption key `keyE` using `saltE` and a password\n- generate an integrity salt `saltI`\n- derive an integrity (HMAC) key `keyI` using `saltI` and the password\n- generate a random [initialization vector](http://en.wikipedia.org/wiki/Initialization_vector) `iv`\n- encrypt the serialized object string using `keyE` and `iv`\n- mac the encrypted object along with `saltE` and `iv`\n- concatenate `saltE`, `saltI`, `iv`, and the encrypted object into a URI-friendly string\n","example":"## Example\n\nTo seal an object:\n\n```javascript\nconst obj = {\n    a: 1,\n    b: 2,\n    c: [3, 4, 5],\n    d: {\n        e: 'f'\n    }\n};\n\nconst password = 'some_not_random_password_that_is_at_least_32_characters';\n\ntry {\n    const sealed = await Iron.seal(obj, password, Iron.defaults);\n} catch (err) {\n    console.log(err.message);\n}\n```\n\nThe result `sealed` object is a string which can be sent via cookies, URI query parameter, or an\nHTTP header attribute. To unseal the string:\n\n```javascript\ntry {\n    const unsealed = await Iron.unseal(sealed, password, Iron.defaults);\n} catch (err) {\n    console.log(err.message);\n}\n```\n","usage":"","faq":"","license":"BSD"},"4.1.0":{"menu":"- [Introduction](#introduction)\n- [Usage](#usage)\n    - [Options](#options)\n- [Security Considerations](#security-considerations)\n    - [Plaintext Storage of Credentials](#plaintext-storage-of-credentials)\n- [Frequently Asked Questions](#frequently-asked-questions)\n    - [Where is the protocol specification?](#where-is-the-protocol-specification)\n    - [Is it done?](#is-it-done)\n    - [How come the defaults must be manually passed and not automatically applied?](#how-come-the-defaults-must-be-manually-passed-and-not-automatically-applied)\n- [Acknowledgements](#acknowledgements)","api":"<h1>\n<a id=\"introduction\" class=\"anchor\" href=\"#introduction\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Introduction</h1>\n<p><strong>iron</strong> provides methods for encrypting an object, generating a message authentication code (MAC), and serializing both\ninto a cookie / URI / HTTP header friendly format. Sealed objects are useful in cases where state has to reside on other\napplications not under your control, without exposing the details of this state to those application.</p>\n<p>For example, sealed objects allow you to encrypt the permissions granted to the authenticated user, store those permissions\nusing a cookie, without worrying about someone modifying (or even knowing) what those permissions are. Any modification to\nthe encrypted data will invalidate its integrity.</p>\n<p>The seal process follows these general steps:</p>\n<ul>\n<li>generate encryption salt <code>saltE</code>\n</li>\n<li>derive an encryption key <code>keyE</code> using <code>saltE</code> and a password</li>\n<li>generate an integrity salt <code>saltI</code>\n</li>\n<li>derive an integrity (HMAC) key <code>keyI</code> using <code>saltI</code> and the password</li>\n<li>generate a random <a href=\"http://en.wikipedia.org/wiki/Initialization_vector\" rel=\"nofollow\">initialization vector</a> <code>iv</code>\n</li>\n<li>encrypt the serialized object string using <code>keyE</code> and <code>iv</code>\n</li>\n<li>mac the encrypted object along with <code>saltE</code> and <code>iv</code>\n</li>\n<li>concatenate <code>saltE</code>, <code>saltI</code>, <code>iv</code>, and the encrypted object into a URI-friendly string</li>\n</ul>\n<h1>\n<a id=\"usage\" class=\"anchor\" href=\"#usage\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Usage</h1>\n<p>To seal an object:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> obj <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>,\n    b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span>,\n    c<span class=\"pl-k\">:</span> [<span class=\"pl-c1\">3</span>, <span class=\"pl-c1\">4</span>, <span class=\"pl-c1\">5</span>],\n    d<span class=\"pl-k\">:</span> {\n        e<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>f<span class=\"pl-pds\">'</span></span>\n    }\n};\n\n<span class=\"pl-k\">var</span> password <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>some_not_random_password_that_is_at_least_32_characters<span class=\"pl-pds\">'</span></span>;\n\n<span class=\"pl-smi\">Iron</span>.<span class=\"pl-en\">seal</span>(obj, password, <span class=\"pl-smi\">Iron</span>.<span class=\"pl-smi\">defaults</span>, <span class=\"pl-k\">function</span> (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">sealed</span>) {\n\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(sealed);\n});</pre></div>\n<p>The result <code>sealed</code> object is a string which can be sent via cookies, URI query parameter, or an HTTP header attribute.\nTo unseal the string:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Iron</span>.<span class=\"pl-en\">unseal</span>(sealed, password, <span class=\"pl-smi\">Iron</span>.<span class=\"pl-smi\">defaults</span>, <span class=\"pl-k\">function</span> (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">unsealed</span>) {\n\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> unsealed has the same content as obj</span>\n});</pre></div>\n<h3>\n<a id=\"options\" class=\"anchor\" href=\"#options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Options</h3>\n<p><strong>iron</strong> provides a few options for customizing the key deriviation algorithm used to generate encryption and integrity\nverification keys as well as the algorithms and salt sizes used. The <em>'seal()'</em> and <em>'unseal()'</em> methods take an options\nobject with the following <strong>required</strong> keys:</p>\n<ul>\n<li>\n<code>encryption</code> - defines the options used by the encryption process.</li>\n<li>\n<code>integrity</code> - defines the options used by the HMAC integrity verification process.</li>\n</ul>\n<p>Each of these option objects includes the following <strong>required</strong> keys:</p>\n<ul>\n<li>\n<code>saltBits</code> - the size of the salt (random buffer used to ensure that two identical objects will generate a different encrypted result.</li>\n<li>\n<code>algorithm</code> - the algorithm used ('aes-256-cbc' for encryption and 'sha256' for integrity are the only two supported at this time).</li>\n<li>\n<code>iterations</code> - the number of iterations used to derive a key from the password. Set to <code>1</code> by default. The number of ideal iterations\nto use is dependent on your application's performance requirements. More iterations means it takes longer to generate the key.</li>\n</ul>\n<p>The <em>'seal()'</em> and <em>'unseal()'</em> methods also take the following <strong>optional</strong> options keys:</p>\n<ul>\n<li>\n<code>ttl</code> - sealed object lifetime in milliseconds where 0 means forever. Defaults to 0.</li>\n<li>\n<code>timestampSkewSec</code> - number of seconds of permitted clock skew for incoming expirations. Defaults to 60 seconds.</li>\n<li>\n<code>localtimeOffsetMsec</code> - local clock time offset, expressed in number of milliseconds (positive or negative). Defaults to 0.</li>\n</ul>\n<p><strong>iron</strong> includes a default options object which can be passed to the methods as shown above in the example. The default\nsettings are:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">var</span> options <span class=\"pl-k\">=</span> {\n    encryption<span class=\"pl-k\">:</span> {\n        saltBits<span class=\"pl-k\">:</span> <span class=\"pl-c1\">256</span>,\n        algorithm<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>aes-256-cbc<span class=\"pl-pds\">'</span></span>,\n        iterations<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>\n    },\n    integrity<span class=\"pl-k\">:</span> {\n        saltBits<span class=\"pl-k\">:</span> <span class=\"pl-c1\">256</span>,\n        algorithm<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>sha256<span class=\"pl-pds\">'</span></span>,\n        iterations<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>\n    },\n    ttl<span class=\"pl-k\">:</span> <span class=\"pl-c1\">0</span>,\n    timestampSkewSec<span class=\"pl-k\">:</span> <span class=\"pl-c1\">60</span>,\n    localtimeOffsetMsec<span class=\"pl-k\">:</span> <span class=\"pl-c1\">0</span>\n};</pre></div>\n<p>Alternatively, a Buffer object of sufficient size (matching the algorithm key size requirement) can be passed as the\npassword, in which case, <code>saltBits</code> and <code>iterations</code> are ignored and the buffer is used as-is.</p>\n<h1>\n<a id=\"security-considerations\" class=\"anchor\" href=\"#security-considerations\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Security Considerations</h1>\n<p>The greatest sources of security risks are usually found not in <strong>iron</strong> but in the policies and procedures surrounding its use.\nImplementers are strongly encouraged to assess how this module addresses their security requirements. This section includes\nan incomplete list of security considerations that must be reviewed and understood before using <strong>iron</strong>.</p>\n<h3>\n<a id=\"plaintext-storage-of-credentials\" class=\"anchor\" href=\"#plaintext-storage-of-credentials\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Plaintext Storage of Credentials</h3>\n<p>The <strong>iron</strong> password is only used to derive keys and is never sent or shared. However, in order to generate (and regenerate) the\nkeys used to encrypt the object and compute the request MAC, the server must have access to the password in plaintext form. This\nis in contrast, for example, to modern operating systems, which store only a one-way hash of user credentials.</p>\n<p>If an attacker were to gain access to the password - or worse, to the server's database of all such password - he or she would be able\nto encrypt and decrypt any sealed object. Accordingly, it is critical that servers protect these passwords from unauthorized\naccess.</p>\n<h1>\n<a id=\"frequently-asked-questions\" class=\"anchor\" href=\"#frequently-asked-questions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Frequently Asked Questions</h1>\n<h3>\n<a id=\"where-is-the-protocol-specification\" class=\"anchor\" href=\"#where-is-the-protocol-specification\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Where is the protocol specification?</h3>\n<p>If you are looking for some prose explaining how all this works, there isn't any. <strong>iron</strong> is being developed as an open source\nproject instead of a standard. In other words, the <a href=\"/lib\">code</a> is the specification. Not sure about\nsomething? Open an issue!</p>\n<h3>\n<a id=\"is-it-done\" class=\"anchor\" href=\"#is-it-done\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Is it done?</h3>\n<p>Yep.</p>\n<h3>\n<a id=\"how-come-the-defaults-must-be-manually-passed-and-not-automatically-applied\" class=\"anchor\" href=\"#how-come-the-defaults-must-be-manually-passed-and-not-automatically-applied\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>How come the defaults must be manually passed and not automatically applied?</h3>\n<p>Because you should know what you are doing and explicitly set it. The options matter a lot to the security properties of the\nimplementation. While reasonable defaults are provided, you still need to explicitly state you want to use them.</p>\n<h1>\n<a id=\"acknowledgements\" class=\"anchor\" href=\"#acknowledgements\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Acknowledgements</h1>\n<p>Special thanks to Adam Barth for his infinite patience, and always insightful feedback and advice.</p>\n<p>The <strong>iron</strong> logo was based on original artwork created by <a href=\"http://chriscarrasco.com\" rel=\"nofollow\">Chris Carrasco</a>.</p>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"},"slogan":"Encapsulated tokens (encrypted and mac'ed objects).","forks":43,"stars":485,"date":"2019-10-07T21:08:52Z","updated":"Mon Oct 07 2019","link":"https://github.com/hapijs/iron"},"items":{"name":"items","versions":[{"name":"2.2.0","branch":"master","license":"Commercial","node":"12, 10, 8, 6"}],"versionsArray":["2.2.0"],"2.2.0":{"menu":"- [Tutorials](#tutorials)\n- [Notes](#notes)\n- [Options](#options)\n  - [Configuration via Environment Variables](#configuration-via-environment-variables)\n  - [Handling Errors](#handling-errors)\n  - [Token Refresh](#token-refresh)\n  - [Simulated authentication](#simulated-authentication)\n- [Customized Scope and Params](#customized-scope-and-params)","api":"<h3>\n<a id=\"tutorials\" class=\"anchor\" href=\"#tutorials\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Tutorials</h3>\n<p><a href=\"http://mph-web.de/social-signup-with-twitter-using-hapi-js/\" rel=\"nofollow\"><strong>Social Login with Twitter using hapi.js</strong></a></p>\n<h3>\n<a id=\"notes\" class=\"anchor\" href=\"#notes\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Notes</h3>\n<p>Testing third-party authorization is often a painful process. They are hard to test, tidious to configure, and tend to break when running on local servers. If you are having issues running <strong>bell</strong> locally, you might want to look at the <code>isSecure</code> and <code>isSameSite</code> options. Since most people don't run TLS on their local test server, <code>isSecure</code> must be set to <code>false</code> to remove the TLS requirement. <code>isSameSite</code> might need to be set to <code>'Lax'</code> in some cases.</p>\n<p>You should also review the default scope set for each provider early in your implementation. The default scope is meant to get the minimal permissions needed to perform simple user login. In most cases, you would want to ask for more permissions as the default often does not provide access to most API calls provided by the third-party services.</p>\n<h3>\n<a id=\"options\" class=\"anchor\" href=\"#options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Options</h3>\n<p>The <code>server.auth.strategy()</code> method requires the following strategy options:</p>\n<ul>\n<li>\n<p><code>provider</code> - the name of the third-party provider (<code>'auth0'</code>, <code>'azure'</code>, <code>'bitbucket'</code>,\n<code>'dropbox'</code>, <code>'facebook'</code>, <code>'fitbit'</code>, <code>'foursquare'</code>, <code>'github'</code>, <code>'google'</code>, <code>'googleplus'</code>,\n<code>'instagram'</code>, <code>'linkedin'</code>, <code>'live'</code>, <code>'twitter'</code>, <code>'vk'</code>, <code>'arcgisonline'</code>, <code>'yahoo'</code>,\n<code>'nest'</code>, <code>'phabricator'</code>, <code>'pinterest'</code>) or an object containing a custom\nprovider with the following:</p>\n<ul>\n<li>\n<code>protocol</code> - the authorization protocol used. Must be one of:\n<ul>\n<li>\n<code>'oauth'</code> - OAuth 1.0a</li>\n<li>\n<code>'oauth2'</code> - OAuth 2.0</li>\n</ul>\n</li>\n<li>\n<code>signatureMethod</code> - the OAuth signature method (OAuth 1.0a only). Must be one of:\n<ul>\n<li>\n<code>'HMAC-SHA1'</code> - default</li>\n<li>\n<code>'RSA-SHA1'</code> - in that case, the <code>clientSecret</code> is your RSA private key</li>\n</ul>\n</li>\n<li>\n<code>temporary</code> - the temporary credentials (request token) endpoint (OAuth 1.0a only).</li>\n<li>\n<code>useParamsAuth</code> - boolean that determines if OAuth client id and client secret will be sent\nas parameters as opposed to an Authorization header (OAuth 2.0 only). Defaults to <code>false</code>.</li>\n<li>\n<code>auth</code> - the authorization endpoint URI.</li>\n<li>\n<code>token</code> - the access token endpoint URI.</li>\n<li>\n<code>scope</code> - an array of scope strings (OAuth 2.0 only).</li>\n<li>\n<code>scopeSeparator</code> - the scope separator character (OAuth 2.0 only). Only required when a\nprovider has a broken OAuth 2.0 implementation. Defaults to space (Facebook and GitHub\ndefault to comma).</li>\n<li>\n<code>headers</code> - a headers object with additional headers required by the provider (e.g. GitHub\nrequired the 'User-Agent' header which is set by default).</li>\n<li>\n<code>profileMethod</code> - <code>get</code> or <code>post</code> for obtaining user profile by <code>profile</code> function. Default\nis <code>get</code>.</li>\n<li>\n<code>profile</code> - a function used to obtain user profile information and normalize it. The function\nsignature is <code>async function(credentials, params, get)</code> where:\n<ul>\n<li>\n<code>credentials</code> - the credentials object. Change the object directly within the function\n(profile information is typically stored under <code>credentials.profile</code>).</li>\n<li>\n<code>params</code> - the parsed information received from the provider (e.g. token, secret, and\nother custom fields).</li>\n<li>\n<code>get</code> - an OAuth helper function to make authenticated requests using the credentials\nreceived. The <code>get</code> function signature is <code>async function(uri, params)</code> where:\n<ul>\n<li>\n<code>uri</code> - the requested resource URI (<strong>bell</strong> will add the token or authentication\nheader as needed).</li>\n<li>\n<code>params</code> - any URI query parameters (cannot include them in the URI due to signature\nrequirements).</li>\n<li>returns the parsed profile response object.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><code>password</code> - the cookie encryption password. Used to encrypt the temporary state cookie used by\nthe module in between the authorization protocol steps.</p>\n</li>\n<li>\n<p><code>clientId</code> - the OAuth client identifier (consumer key).</p>\n</li>\n<li>\n<p><code>clientSecret</code> - the OAuth client secret (consumer secret). This is usually a client password\nformatted as a <em>string</em>, but to allow <a href=\"https://tools.ietf.org/html/rfc6749#section-2.3\" rel=\"nofollow\">OAuth2 custom client authentication</a>\n(e.g. client certificate-based authentication), this option can be passed as an <em>object</em>. This\nobject will be merged with the Wreck request object used to call the token endpoint. Such an\nobject can contain custom HTTP headers or TLS options (e.g.\n<code>{ agent: new Https.Agent({ cert: myClientCert, key: myClientKey}) }</code>).</p>\n</li>\n<li>\n<p><code>forceHttps</code> - A boolean indicating whether or not you want the redirect_uri to be forced to\nhttps. Useful if your hapi application runs as http, but is accessed through https.</p>\n</li>\n<li>\n<p><code>location</code> - Set the base redirect_uri manually if it cannot be inferred properly from server\nsettings. Useful to override port, protocol, and host if proxied or forwarded. It may be passed\neither as a string (in which case request.path is appended for you), or a function which takes\nthe client's <code>request</code> and returns a non-empty string, which is used as provided. In both cases,\nan empty string will result in default processing just as if the <code>location</code> option had not been\nspecified.</p>\n</li>\n</ul>\n<p>Each strategy accepts the following optional settings:</p>\n<ul>\n<li>\n<code>cookie</code> - the name of the cookie used to manage the temporary state. Defaults to\n<code>'bell-provider'</code> where 'provider' is the provider name (or <code>'custom'</code> for custom providers). For\nexample, the Twitter cookie name defaults to <code>'bell-twitter'</code>.</li>\n<li>\n<code>isSameSite</code> - sets the cookie same site option. Defaults to <code>Strict</code>.</li>\n<li>\n<code>isSecure</code> - sets the cookie secure flag. Defaults to <code>true</code>.</li>\n<li>\n<code>isHttpOnly</code> - sets the cookie HTTP only flag. Defaults to <code>true</code>.</li>\n<li>\n<code>ttl</code> - cookie time-to-live in milliseconds. Defaults to <code>null</code> (session time-life - cookies are\ndeleted when the browser is closed).</li>\n<li>\n<code>domain</code> - the domain scope. Defaults to <code>null</code> (no domain).</li>\n<li>\n<code>providerParams</code> - provider-specific query parameters for the authentication endpoint. It may be\npassed either as an object to merge into the query string, or a function which takes the client's\n<code>request</code> and returns an object. Each provider supports its own set of parameters which customize\nthe user's login experience. For example:\n<ul>\n<li>Facebook supports <code>display</code> ('page', 'popup', or 'touch'), <code>auth_type</code>, <code>auth_nonce</code>.</li>\n<li>Google supports <code>access_type</code>, <code>approval_prompt</code>, <code>prompt</code>, <code>login_hint</code>, <code>user_id</code>, <code>hd</code>.</li>\n<li>Twitter supports <code>force_login</code>, <code>screen_name</code>.</li>\n<li>Linkedin supports <code>fields</code>.</li>\n</ul>\n</li>\n<li>\n<code>allowRuntimeProviderParams</code> - allows passing query parameters from a <strong>bell</strong> protected endpoint\nto the auth request. It will merge the query params you pass along with the providerParams and\nany other predefined ones. Be aware that this will override predefined query parameters! Default\nto <code>false</code>.</li>\n<li>\n<code>scope</code> - Each built-in vendor comes with the required scope for basic profile information. Use\n<code>scope</code> to specify a different scope as required by your application. It may be passed either as\nan object to merge into the query string, or a function which takes the client's <code>request</code> and\nreturns an object. Consult the provider for their specific supported scopes.</li>\n<li>\n<code>skipProfile</code> - skips obtaining a user profile from the provider. Useful if you need specific\n<code>scope</code>s, but not the user profile. Defaults to <code>false</code>.</li>\n<li>\n<code>config</code> - a configuration object used to customize the provider settings:\n<ul>\n<li>Twitter:\n<ul>\n<li><code>extendedProfile</code></li>\n<li><code>getMethod</code></li>\n</ul>\n</li>\n<li>GitHub and Phabricator:\n<ul>\n<li>\n<code>uri</code> - allows pointing to a private enterprise installation (e.g.\n<code>'https://vpn.example.com'</code>). See <a href=\"https://github.com/hapijs/bell/blob/master/Providers.md\">Providers documentation</a> for more\ninformation.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>profileParams</code> - an object of key-value pairs that specify additional URL query parameters to\nsend with the profile request to the provider. The built-in <code>facebook</code> provider, for example,\ncould have <code>fields</code> specified to determine the fields returned from the user's graph, which would\nthen be available to you in the <code>auth.credentials.profile.raw</code> object.</li>\n<li>\n<code>runtimeStateCallback</code> - allows passing additional OAuth state from initial request. This must be\na function returning a string, which will be appended to the <strong>bell</strong> internal <code>state</code> parameter\nfor OAuth code flow.</li>\n</ul>\n<h4>\n<a id=\"configuration-via-environment-variables\" class=\"anchor\" href=\"#configuration-via-environment-variables\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Configuration via Environment Variables</h4>\n<p>The <code>server.auth.strategy()</code> method supports string representations of its boolean and number typed\noptions. For example, <code>forceHttps</code> can be set to 'true', 'false', 'yes', or 'no'. In effect, this\nallows you to configure any strategy option using environment variables.</p>\n<h4>\n<a id=\"handling-errors\" class=\"anchor\" href=\"#handling-errors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Handling Errors</h4>\n<p>By default, <strong>bell</strong> will reply back with an internal error (500) on most authentication errors due\nto the nature of the OAuth protocol. There is little that can be done to recover from errors as\nalmost all of them are caused by implementation or deployment issues.</p>\n<p>If you would like to display a useful error page instead of the default JSON response, use the\n<strong>hapi</strong> <a href=\"https://hapi.dev/api#error-transformation\" rel=\"nofollow\"><code>onPreResponse</code></a> extension point to transform\nthe error into a useful page or to redirect the user to another destination.</p>\n<p>Another way to handle authentication errors is within the route handler. By default, an\nauthentication error will cause the handler to be skipped. However, if the authentication mode is\nset to <code>'try'</code> instead of <code>'required'</code>, the handler will still be called. In this case, the\n<code>request.auth.isAuthenticated</code> must be checked to test if authentication failed. In that case,\n<code>request.auth.error</code> will contain the error.</p>\n<h4>\n<a id=\"token-refresh\" class=\"anchor\" href=\"#token-refresh\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Token Refresh</h4>\n<p>To keep track of the token expiry time, <code>request.auth.credentials.expiresIn</code> provides you the\nduration (in seconds) after which you could send a refresh token request using the\n<code>request.auth.credentials.refreshToken</code> to get a new token.</p>\n<h4>\n<a id=\"simulated-authentication\" class=\"anchor\" href=\"#simulated-authentication\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Simulated authentication</h4>\n<p>Testing applications using third-party login can be challenging given the lack of user interaction\nto perform the third-party login flow as well as the multiple steps required. To assist in testing\nsuch application without having to modify the application with custom code, <strong>Bell</strong> provides an\noverride method <code>Bell.simulate()</code> which puts the module into simulation mode and any strategies\ncreated while it is in this mode will return the simulated credentials.</p>\n<p>The <code>Bell.simulate(credentialsFunc)</code> takes a single argument:</p>\n<ul>\n<li>\n<p><code>credentialsFunc</code> - a function called for each incoming request to the protected resource that\nshould return the credentials object to be set in <code>request.auth.credentials</code>. Note that <strong>bell</strong>\nwill set the default keys automatically if not present except for the provider-specific values.</p>\n<p>has the signature <code>function(request)</code> where:</p>\n<ul>\n<li>\n<code>request</code> - the <strong>hapi</strong> request object.</li>\n</ul>\n</li>\n</ul>\n<p>Note that you must call <code>Bell.simulate()</code> before the module is registered by your application and\nneed to call <code>Bell.simulate(false)</code> to stop it from simulating authentication.</p>\n<h3>\n<a id=\"customized-scope-and-params\" class=\"anchor\" href=\"#customized-scope-and-params\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Customized Scope and Params</h3>\n<p>You can pass a function, rather than an object, into the <code>providerParams</code> and <code>scope</code> config\noptions to allow you to customize the scope or parameters based on the user's request. For example,\nthis may be used you want people to be able to log in with a provider (and only need some basic\nuser information) but also want to let users authorize your application to post messages or status\nupdates on their behalf.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">auth</span>.<span class=\"pl-en\">strategy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>twitter<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>bell<span class=\"pl-pds\">'</span></span>, {\n    provider<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>twitter<span class=\"pl-pds\">'</span></span>,\n    password<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>some cookie password<span class=\"pl-pds\">'</span></span>,\n    location<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>http://example.com/oauth<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-en\">scope</span>(<span class=\"pl-smi\">request</span>) {\n\n        <span class=\"pl-k\">const</span> <span class=\"pl-c1\">scopes</span> <span class=\"pl-k\">=</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>public_profile<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>email<span class=\"pl-pds\">'</span></span>];\n        <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">request</span>.<span class=\"pl-smi\">query</span>.<span class=\"pl-smi\">wantsSharePermission</span>) {\n          <span class=\"pl-smi\">scopes</span>.<span class=\"pl-c1\">push</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>publish_actions<span class=\"pl-pds\">'</span></span>);\n        }\n        <span class=\"pl-k\">return</span> scopes;\n    }\n});</pre></div>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"}},"joi":{"name":"joi","versions":[{"name":"16.1.8","branch":"master","license":"BSD","node":" 12, 10"},{"name":"15.1.1","branch":"v15","license":"BSD","node":" 12, 10, 8"},{"name":"12.1.0","branch":"v12-commercial","license":"Commercial","node":" 10, 8, 6"}],"versionsArray":["16.1.8","12.1.0","15.1.1"],"16.1.8":{"menu":"  - [`assert()`](#assertvalue-schema-message-options)\n  - [`attempt()`](#attemptvalue-schema-message-options)\n  - [`cache.provision()`](#cacheprovisionoptions)\n  - [`checkPreferences()`](#checkpreferencesprefs)\n  - [`compile()`](#compileschema-options)\n  - [`defaults()`](#defaultsmodifier)\n  - [`expression()` - aliases: `x`](#expressiontemplate-options---aliases-x)\n    - [Template syntax](#template-syntax)\n  - [`extend()`](#extendextensions)\n  - [`isExpression()`](#isexpressionexpression)\n  - [`in()`](#inref-options)\n  - [`isRef()`](#isrefref)\n  - [`isSchema()`](#isschemaschema-options)\n  - [`override`](#override)\n  - [`ref()`](#refkey-options)\n    - [Relative references](#relative-references)\n  - [`version`](#version)\n  - [`types()`](#types)\n  - [`any`](#any)\n    - [`any.type`](#anytype)\n    - [`any.allow()`](#anyallowvalues)\n    - [`any.alter()`](#anyaltertargets)\n    - [`any.cache()`](#anycachecache)\n      - [Cache interface](#cache-interface)\n    - [`any.cast()`](#anycastto)\n    - [`any.concat()`](#anyconcatschema)\n    - [`any.custom()`](#anycustommethod-description)\n    - [`any.default()`](#anydefaultvalue)\n    - [`any.describe()`](#anydescribe)\n    - [`any.description()`](#anydescriptiondesc)\n    - [`any.empty()`](#anyemptyschema)\n    - [`any.error()`](#anyerrorerr)\n    - [`any.example()`](#anyexampleexample-options)\n    - [`any.external()`](#anyexternalmethod-description)\n    - [`any.extract()`](#anyextractpath)\n    - [`any.failover()`](#anyfailovervalue)\n    - [`any.forbidden()`](#anyforbidden)\n    - [`any.fork()`](#anyforkpaths-adjuster)\n    - [`any.id()`](#anyidid)\n    - [`any.invalid()` - aliases: `disallow`, `not`](#anyinvalidvalues---aliases-disallow-not)\n    - [`any.keep()`](#anykeep)\n    - [`any.label()`](#anylabelname)\n    - [`any.message()`](#anymessagemessage)\n    - [`any.messages()`](#anymessagesmessages)\n    - [`any.meta()`](#anymetameta)\n    - [`any.note()`](#anynotenotes)\n    - [`any.only()`](#anyonly)\n    - [`any.optional()`](#anyoptional)\n    - [`any.prefs()` - aliases: `preferences`, `options`](#anyprefsoptions---aliases-preferences-options)\n    - [`any.presence()`](#anypresencemode)\n    - [`any.raw()`](#anyrawenabled)\n    - [`any.required()` - aliases: `exist`](#anyrequired---aliases-exist)\n    - [`any.result()`](#anyresultmode)\n    - [`any.rule()`](#anyruleoptions)\n    - [`any.ruleset` - aliases: `$`](#anyruleset---aliases-)\n    - [`any.shared()`](#anysharedschema)\n    - [`any.strict()`](#anystrictisstrict)\n    - [`any.strip()`](#anystripenabled)\n    - [`any.tag()`](#anytagtags)\n    - [`any.tailor()`](#anytailortargets)\n    - [`any.unit()`](#anyunitname)\n    - [`any.valid()` - aliases: `equal`](#anyvalidvalues---aliases-equal)\n    - [`any.validate()`](#anyvalidatevalue-options)\n    - [`any.validateAsync()`](#anyvalidateasyncvalue-options)\n    - [`any.warn()`](#anywarn)\n    - [`any.warning()`](#anywarningcode-context)\n    - [`any.when()`](#anywhencondition-options)\n  - [`alternatives`](#alternatives)\n    - [`alternatives.conditional()`](#alternativesconditionalcondition-options)\n    - [`alternatives.match()`](#alternativesmatchmode)\n    - [`alternatives.try()`](#alternativestryschemas)\n  - [`array`](#array)\n    - [`array.has()`](#arrayhasschema)\n    - [`array.items()`](#arrayitemstypes)\n    - [`array.length()`](#arraylengthlimit)\n    - [`array.max()`](#arraymaxlimit)\n    - [`array.min()`](#arrayminlimit)\n    - [`array.ordered()`](#arrayorderedtype)\n    - [`array.single()`](#arraysingleenabled)\n    - [`array.sort()`](#arraysortoptions)\n    - [`array.sparse()`](#arraysparseenabled)\n    - [`array.unique()`](#arrayuniquecomparator-options)\n  - [`binary`](#binary)\n    - [`binary.encoding()`](#binaryencodingencoding)\n    - [`binary.length()`](#binarylengthlimit)\n    - [`binary.max()`](#binarymaxlimit)\n    - [`binary.min()`](#binaryminlimit)\n  - [`boolean`](#boolean)\n    - [`boolean.falsy()`](#booleanfalsyvalues)\n    - [`boolean.sensitive()`](#booleansensitiveenabled)\n    - [`boolean.truthy()`](#booleantruthyvalues)\n  - [`date`](#date)\n    - [`date.greater()`](#dategreaterdate)\n    - [`date.iso()`](#dateiso)\n    - [`date.less()`](#datelessdate)\n    - [`date.max()`](#datemaxdate)\n    - [`date.min()`](#datemindate)\n    - [`date.timestamp()`](#datetimestamptype)\n  - [`function` - inherits from `object`](#function---inherits-from-object)\n    - [`function.arity()`](#functionarityn)\n    - [`function.class()`](#-functionclass)\n    - [`function.maxArity()`](#-functionmaxarityn)\n    - [`function.minArity()`](#-functionminarityn)\n  - [`link()`](#linkref)\n    - [`link.ref()`](#linkrefref)\n    - [`link.concat()`](#linkconcatschema)\n  - [`number`](#number)\n    - [`number.greater()`](#numbergreaterlimit)\n    - [`number.integer()`](#numberinteger)\n    - [`number.less()`](#numberlesslimit)\n    - [`number.max()`](#numbermaxlimit)\n    - [`number.min()`](#numberminlimit)\n    - [`number.multiple()`](#numbermultiplebase)\n    - [`number.negative()`](#numbernegative)\n    - [`number.port()`](#numberport)\n    - [`number.positive()`](#numberpositive)\n    - [`number.precision()`](#numberprecisionlimit)\n    - [`number.sign()`](#numbersignsign)\n    - [`number.unsafe()`](#numberunsafeenabled)\n  - [`object`](#object)\n    - [`object.and()`](#objectandpeers-options)\n    - [`object.append()`](#objectappendschema)\n    - [`object.assert()`](#objectassertsubject-schema-message)\n    - [`object.instance()`](#objectinstanceconstructor-name)\n    - [`object.keys()`](#objectkeysschema)\n    - [`object.length()`](#objectlengthlimit)\n    - [`object.max()`](#objectmaxlimit)\n    - [`object.min()`](#objectminlimit)\n    - [`object.nand()`](#objectnandpeers-options)\n    - [`object.or()`](#objectorpeers-options)\n    - [`object.oxor()`](#objectoxorpeers-options)\n    - [`object.pattern()`](#objectpatternpattern-schema-options)\n    - [`object.ref()`](#objectref)\n    - [`object.rename()`](#objectrenamefrom-to-options)\n    - [`object.schema()`](#objectschematype)\n    - [`object.unknown()`](#objectunknownallow)\n    - [`object.with()`](#objectwithkey-peers-options)\n    - [`object.without()`](#objectwithoutkey-peers-options)\n    - [`object.xor()`](#objectxorpeers-options)\n  - [`string`](#string)\n    - [`string.alphanum()`](#stringalphanum)\n    - [`string.base64()`](#stringbase64options)\n    - [`string.case()`](#stringcasedirection)\n    - [`string.creditCard()`](#stringcreditcard)\n    - [`string.dataUri()`](#stringdataurioptions)\n    - [`string.domain()`](#stringdomainoptions)\n    - [`string.email()`](#stringemailoptions)\n    - [`string.guid()` - aliases: `uuid`](#stringguid---aliases-uuid)\n    - [`string.hex()`](#stringhexoptions)\n    - [`string.hostname()`](#stringhostname)\n    - [`string.insensitive()`](#stringinsensitive)\n    - [`string.ip()`](#stringipoptions)\n    - [`string.isoDate()`](#stringisodate)\n    - [`string.isoDuration()`](#stringisoduration)\n    - [`string.length()`](#stringlengthlimit-encoding)\n    - [`string.lowercase()`](#stringlowercase)\n    - [`string.max()`](#stringmaxlimit-encoding)\n    - [`string.min()`](#stringminlimit-encoding)\n    - [`string.normalize()`](#stringnormalizeform)\n    - [`string.pattern()` - aliases: `regex`](#stringpatternregex-name--options---aliases-regex)\n    - [`string.replace()`](#stringreplacepattern-replacement)\n    - [`string.token()`](#stringtoken)\n    - [`string.trim()`](#stringtrimenabled)\n    - [`string.truncate()`](#stringtruncateenabled)\n    - [`string.uppercase()`](#stringuppercase)\n    - [`string.uri()`](#stringurioptions)\n  - [`symbol`](#symbol)\n    - [`symbol.map()`](#symbolmapmap)\n- [Extensions](#extensions)\n  - [Advanced functions](#advanced-functions)\n    - [$_root](#_root)\n    - [$_super](#_super)\n    - [$_temp](#_temp)\n    - [$_terms](#_terms)\n    - [$_addRule()](#_addruleoptions)\n    - [$_compile()](#_compileschema-options)\n    - [$_createError()](#_createerrorcode-value-local-state-prefs-options)\n    - [$_getFlag()](#_getflagname)\n    - [$_getRule()](#_getrulename)\n    - [$_mapLabels()](#_maplabelspath)\n    - [$_match()](#_matchvalue-state-prefs-overrides)\n    - [$_modify()](#_modifyoptions)\n    - [$_mutateRebuild()](#_mutaterebuild)\n    - [$_mutateRegister()](#_mutateregisterschema-options)\n    - [$_property()](#_propertyname)\n    - [$_reach()](#_reachpath)\n    - [$_rootReferences()](#_rootreferences)\n    - [$_setFlag()](#_setflagname-value-options)\n    - [$_validate()](#_validatevalue-state-prefs)\n- [Errors](#errors)\n  - [`ValidationError`](#validationerror)\n  - [List of errors](#list-of-errors)\n    - [`alternatives.all`](#alternativesall)\n    - [`alternatives.any`](#alternativesany)\n    - [`alternatives.match`](#alternativesmatch)\n    - [`alternatives.one`](#alternativesone)\n    - [`alternatives.types`](#alternativestypes)\n    - [`any.custom`](#anycustom)\n    - [`any.default`](#anydefault)\n    - [`any.failover`](#anyfailover)\n    - [`any.invalid`](#anyinvalid)\n    - [`any.only`](#anyonly)\n    - [`any.ref`](#anyref)\n    - [`any.required`](#anyrequired)\n    - [`any.unknown`](#anyunknown)\n    - [`array.base`](#arraybase)\n    - [`array.excludes`](#arrayexcludes)\n    - [`array.includesRequiredBoth`](#arrayincludesrequiredboth)\n    - [`array.includesRequiredKnowns`](#arrayincludesrequiredknowns)\n    - [`array.includesRequiredUnknowns`](#arrayincludesrequiredunknowns)\n    - [`array.includes`](#arrayincludes)\n    - [`array.length`](#arraylength)\n    - [`array.max`](#arraymax)\n    - [`array.min`](#arraymin)\n    - [`array.orderedLength`](#arrayorderedlength)\n    - [`array.sort`](#arraysort)\n    - [`array.sort.mismatching`](#arraysortmismatching)\n    - [`array.sort.unsupported`](#arraysortunsupported)\n    - [`array.sparse`](#arraysparse)\n    - [`array.unique`](#arrayunique)\n    - [`array.hasKnown`](#arrayhasknown)\n    - [`array.hasUnknown`](#arrayhasunknown)\n    - [`binary.base`](#binarybase)\n    - [`binary.length`](#binarylength)\n    - [`binary.max`](#binarymax)\n    - [`binary.min`](#binarymin)\n    - [`boolean.base`](#booleanbase)\n    - [`date.base`](#datebase)\n    - [`date.format`](#dateformat)\n    - [`date.greater`](#dategreater)\n    - [`date.less`](#dateless)\n    - [`date.max`](#datemax)\n    - [`date.min`](#datemin)\n    - [`date.strict`](#datestrict)\n    - [`function.arity`](#functionarity)\n    - [`function.class`](#functionclass)\n    - [`function.maxArity`](#functionmaxarity)\n    - [`function.minArity`](#functionminarity)\n    - [`number.base`](#numberbase)\n    - [`number.greater`](#numbergreater)\n    - [`number.infinity`](#numberinfinity)\n    - [`number.integer`](#numberinteger)\n    - [`number.less`](#numberless)\n    - [`number.max`](#numbermax)\n    - [`number.min`](#numbermin)\n    - [`number.multiple`](#numbermultiple)\n    - [`number.negative`](#numbernegative)\n    - [`number.port`](#numberport)\n    - [`number.positive`](#numberpositive)\n    - [`number.precision`](#numberprecision)\n    - [`number.unsafe`](#numberunsafe)\n    - [`object.unknown`](#objectunknown)\n    - [`object.and`](#objectand)\n    - [`object.assert`](#objectassert)\n    - [`object.base`](#objectbase)\n    - [`object.length`](#objectlength)\n    - [`object.max`](#objectmax)\n    - [`object.min`](#objectmin)\n    - [`object.missing`](#objectmissing)\n    - [`object.nand`](#objectnand)\n    - [`object.pattern.match`](#objectpatternmatch)\n    - [`object.refType`](#objectreftype)\n    - [`object.rename.multiple`](#objectrenamemultiple)\n    - [`object.rename.override`](#objectrenameoverride)\n    - [`object.schema`](#objectschema)\n    - [`object.instance`](#objectinstance)\n    - [`object.with`](#objectwith)\n    - [`object.without`](#objectwithout)\n    - [`object.xor`](#objectxor)\n    - [`object.oxor`](#objectoxor)\n    - [`string.alphanum`](#stringalphanum)\n    - [`string.base64`](#stringbase64)\n    - [`string.base`](#stringbase)\n    - [`string.creditCard`](#stringcreditcard)\n    - [`string.dataUri`](#stringdatauri)\n    - [`string.domain`](#stringdomain)\n    - [`string.email`](#stringemail)\n    - [`string.empty`](#stringempty)\n    - [`string.guid`](#stringguid)\n    - [`string.hexAlign`](#stringhexalign)\n    - [`string.hex`](#stringhex)\n    - [`string.hostname`](#stringhostname)\n    - [`string.ipVersion`](#stringipversion)\n    - [`string.ip`](#stringip)\n    - [`string.isoDate`](#stringisodate)\n    - [`string.isoDuration`](#stringisoduration)\n    - [`string.length`](#stringlength)\n    - [`string.lowercase`](#stringlowercase)\n    - [`string.max`](#stringmax)\n    - [`string.min`](#stringmin)\n    - [`string.normalize`](#stringnormalize)\n    - [`string.pattern.base`](#stringpatternbase)\n    - [`string.pattern.name`](#stringpatternname)\n    - [`string.pattern.invert.base`](#stringpatterninvertbase)\n    - [`string.pattern.invert.name`](#stringpatterninvertname)\n    - [`string.token`](#stringtoken)\n    - [`string.trim`](#stringtrim)\n    - [`string.uppercase`](#stringuppercase)\n    - [`string.uri`](#stringuri)\n    - [`string.uriCustomScheme`](#stringuricustomscheme)\n    - [`string.uriRelativeOnly`](#stringurirelativeonly)\n    - [`symbol.base`](#symbolbase)\n    - [`symbol.map`](#symbolmap)","api":"<h3>\n<a id=\"assertvalue-schema-message-options\" class=\"anchor\" href=\"#assertvalue-schema-message-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>assert(value, schema, [message], [options])</code>\n</h3>\n<p>Validates a value against a schema and <a href=\"#errors\">throws</a> if validation fails where:</p>\n<ul>\n<li>\n<code>value</code> - the value to validate.</li>\n<li>\n<code>schema</code> - the validation schema. Can be a <strong>joi</strong> type object or a plain object where every key is assigned a <strong>joi</strong> type object using <a href=\"#compileschema-options\"><code>Joi.compile</code></a> (be careful of the cost of compiling repeatedly the same schemas).</li>\n<li>\n<code>message</code> - optional message string prefix added in front of the error message. may also be an Error object.</li>\n<li>\n<code>options</code> - optional options object, passed in to <a href=\"#anyvalidatevalue-options\"><code>any.validate</code></a>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">assert</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>x<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>());</pre></div>\n<h3>\n<a id=\"attemptvalue-schema-message-options\" class=\"anchor\" href=\"#attemptvalue-schema-message-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>attempt(value, schema, [message], [options])</code>\n</h3>\n<p>Validates a value against a schema, returns valid object, and <a href=\"#errors\">throws</a> if validation fails where:</p>\n<ul>\n<li>\n<code>value</code> - the value to validate.</li>\n<li>\n<code>schema</code> - the validation schema. Can be a <strong>joi</strong> type object or a plain object where every key is assigned a <strong>joi</strong> type object using <a href=\"#compileschema-options\"><code>Joi.compile</code></a> (be careful of the cost of compiling repeatedly the same schemas).</li>\n<li>\n<code>message</code> - optional message string prefix added in front of the error message. may also be an Error object.</li>\n<li>\n<code>options</code> - optional options object, passed in to <a href=\"#anyvalidatevalue-options\"><code>any.validate</code></a>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">attempt</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>x<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> throws error</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">result</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">attempt</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>4<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> result -&gt; 4</span></pre></div>\n<h3>\n<a id=\"cacheprovisionoptions\" class=\"anchor\" href=\"#cacheprovisionoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>cache.provision([options])</code>\n</h3>\n<p>Provisions a simple LRU cache for caching simple inputs (<code>undefined</code>, <code>null</code>, strings, numbers, and\nbooleans) where:</p>\n<ul>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>max</code> - number of items to store in the cache before the least used items are dropped.\nDefaults to <code>1000</code>.</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"checkpreferencesprefs\" class=\"anchor\" href=\"#checkpreferencesprefs\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>checkPreferences(prefs)</code>\n</h3>\n<p>Checks if the provided preferences are valid where:</p>\n<ul>\n<li>\n<code>prefs</code> - the preferences object to validate.</li>\n</ul>\n<p>Throws an exception if the <code>prefs</code> object is invalid.</p>\n<p>The method is provided to perform inputs validation for the <a href=\"#anyvalidatevalue-options\"><code>any.validate(])</code></a>\nand <a href=\"#anyvalidateasyncvalue-options\"><code>any.validateAsync()</code></a> methods. Validation is not performed\nautomatically for performance reasons. Instead, manually validate the preferences passed once and\nreuse.</p>\n<h3>\n<a id=\"compileschema-options\" class=\"anchor\" href=\"#compileschema-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>compile(schema, [options])</code>\n</h3>\n<p>Converts literal schema definition to <strong>joi</strong> schema object (or returns the same back if already a\n<strong>joi</strong> schema object) where:</p>\n<ul>\n<li>\n<code>schema</code> - the schema definition to compile.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>legacy</code> - if <code>true</code> and the provided schema is (or contains parts) using an older version of\n<strong>joi</strong>, will return a compiled schema that is compatible with the older version. If <code>false</code>,\nthe schema is always compiled using the current version and if older schema components are\nfound, an error is thrown.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">definition</span> <span class=\"pl-k\">=</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>key<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">5</span>, { a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>, b<span class=\"pl-k\">:</span> [<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span>a<span class=\"pl-pds\">/</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>boom<span class=\"pl-pds\">'</span></span>] }];\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">compile</span>(definition);\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Same as:</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">alternatives</span>().<span class=\"pl-en\">try</span>(\n    <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>key<span class=\"pl-pds\">'</span></span>),\n    <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-c1\">5</span>),\n    <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n        a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-c1\">true</span>),\n        b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">alternatives</span>().<span class=\"pl-en\">try</span>(\n            <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">pattern</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span>a<span class=\"pl-pds\">/</span></span>),\n            <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>boom<span class=\"pl-pds\">'</span></span>)\n        )\n    })\n);</pre></div>\n<h3>\n<a id=\"defaultsmodifier\" class=\"anchor\" href=\"#defaultsmodifier\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>defaults(modifier)</code>\n</h3>\n<p>Creates a new <strong>joi</strong> instance that applies the provided modifier function to every new schemas\nwhere:</p>\n<ul>\n<li>\n<code>modifier</code> - a function with signature <code>function(schema)</code> that must return a schema object.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">custom</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">defaults</span>((<span class=\"pl-smi\">schema</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">switch</span> (<span class=\"pl-smi\">schema</span>.<span class=\"pl-c1\">type</span>) {\n        <span class=\"pl-k\">case</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>string<span class=\"pl-pds\">'</span></span>:\n            <span class=\"pl-k\">return</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">allow</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span>);\n        <span class=\"pl-k\">case</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>object<span class=\"pl-pds\">'</span></span>:\n            <span class=\"pl-k\">return</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">1</span>);\n        <span class=\"pl-k\">default</span>:\n            <span class=\"pl-k\">return</span> schema;\n    }\n});\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">custom</span>.<span class=\"pl-c1\">object</span>();   <span class=\"pl-c\"><span class=\"pl-c\">//</span> Returns Joi.object().min(1)</span></pre></div>\n<h3>\n<a id=\"expressiontemplate-options---aliases-x\" class=\"anchor\" href=\"#expressiontemplate-options---aliases-x\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>expression(template, [options])</code> - aliases: <code>x</code>\n</h3>\n<p>Generates a dynamic expression using a template string where:</p>\n<ul>\n<li>\n<code>template</code> - the template string using the <a href=\"#template-syntax\">template syntax</a>.</li>\n<li>\n<code>options</code> - optional settings used when creating internal references. Supports the same options\nas <a href=\"#refkey-options\"><code>ref()</code></a>.</li>\n</ul>\n<h4>\n<a id=\"template-syntax\" class=\"anchor\" href=\"#template-syntax\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Template syntax</h4>\n<p>The template syntax uses <code>{}</code> and <code>{{}}</code> enclosed formulas to reference values as well as perform\nnumber and string operations. Single braces <code>{}</code> leave the formula result as-is, while double\nbraces <code>{{}}</code> HTML-escape the formula result (unless the template is used for error messages\nand the <code>errors.escapeHtml</code> preference flag is set to <code>false</code>).</p>\n<p>The formula uses a simple mathematical syntax such as <code>a + b * 2</code> where the named formula variables\nare references. Most references can be used as-is but some can create ambiguity with the formula\nsyntax and must be enclosed in <code>[]</code> braces (e.g. <code>[.]</code>).</p>\n<p>The formulas can only operate on <code>null</code>, booleans, numbers, and strings. If any operation involves\na string, all other numbers will be casted to strings (as the internal implementation uses simple\nJavaScript operators). The supported operators are: <code>^</code>, <code>*</code>, <code>/</code>, <code>%</code>, <code>+</code>, <code>-</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>,\n<code>&gt;=</code>, <code>==</code>, <code>!=</code>, <code>&amp;&amp;</code>, <code>||</code>, and <code>??</code> (in this order of precedence).</p>\n<p>The reference names can have one of the following prefixes:</p>\n<ul>\n<li>\n<code>#</code> - indicates the variable references a local context value. For example, in errors this is the\nerror context, while in rename operations, it is the regular expression matching groups.</li>\n<li>\n<code>$</code> - indicates the variable references a global context value from the <code>context</code> preference object\nprovided as an option to the validation function or set using <a href=\"#anyprefsoptions--aliases-preferences-options\"><code>any.prefs()</code></a>.</li>\n<li>any other variable references a key within the current value being validated.</li>\n</ul>\n<p>The formula syntax also supports built-in functions:</p>\n<ul>\n<li>\n<code>if(condition, then, otherwise)</code> - returns <code>then</code> when <code>condition</code> is truthy, otherwise <code>otherwise</code>.</li>\n<li>\n<code>msg(code)</code> - embeds another error code message.</li>\n<li>\n<code>number(value)</code> - cast value to a number.</li>\n</ul>\n<p>And the following constants:</p>\n<ul>\n<li><code>null</code></li>\n<li><code>true</code></li>\n<li><code>false</code></li>\n</ul>\n<h3>\n<a id=\"extendextensions\" class=\"anchor\" href=\"#extendextensions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>extend(...extensions)</code>\n</h3>\n<p>Creates a new customized instance of the <strong>joi</strong> module where:</p>\n<ul>\n<li>\n<code>extensions</code> - the extensions configurations as described in <a href=\"#extensions\">Extensions</a>.</li>\n</ul>\n<p>Note that the original <strong>joi</strong> module is not modified by this.</p>\n<h3>\n<a id=\"isexpressionexpression\" class=\"anchor\" href=\"#isexpressionexpression\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>isExpression(expression)</code>\n</h3>\n<p>Checks whether or not the provided argument is an expression.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">expression</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">x</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>{a}<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">isExpression</span>(expression); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns true</span></pre></div>\n<h3>\n<a id=\"inref-options\" class=\"anchor\" href=\"#inref-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>in(ref, [options])</code>\n</h3>\n<p>Creates a <a href=\"#refkey-options\">reference</a> that when resolved, is used as an array of values to match against the rule, where:</p>\n<ul>\n<li>\n<code>ref</code> - same as <a href=\"#refkey-options\"><code>Joi.ref()</code></a>.</li>\n<li>\n<code>options</code> - same as <a href=\"#refkey-options\"><code>Joi.ref()</code></a>.</li>\n</ul>\n<p>Can only be used in rules that support in-references.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">in</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>))\n});</pre></div>\n<h3>\n<a id=\"isrefref\" class=\"anchor\" href=\"#isrefref\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>isRef(ref)</code>\n</h3>\n<p>Checks whether or not the provided argument is a reference. Useful if you want to post-process error messages.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">ref</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">isRef</span>(ref); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns true</span></pre></div>\n<h3>\n<a id=\"isschemaschema-options\" class=\"anchor\" href=\"#isschemaschema-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>isSchema(schema, [options])</code>\n</h3>\n<p>Checks whether or not the provided argument is a <strong>joi</strong> schema where:</p>\n<ul>\n<li>\n<code>schema</code> - the value being checked.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>legacy</code> - if <code>true</code>, will identify schemas from older versions of joi, otherwise will throw an error. Defaults to <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>();\n<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">isSchema</span>(schema); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns true</span></pre></div>\n<h3>\n<a id=\"override\" class=\"anchor\" href=\"#override\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>override</code>\n</h3>\n<p>A special value used with <code>any.allow()</code>, <code>any.invalid()</code>, and <code>any.valid()</code> as the first value to reset any previously set values.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-c1\">1</span>).<span class=\"pl-en\">valid</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-smi\">override</span>, <span class=\"pl-c1\">2</span>);\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Same as:</span>\n\n<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-c1\">2</span>);\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Whereas:</span>\n\n<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-c1\">1</span>).<span class=\"pl-en\">valid</span>(<span class=\"pl-c1\">2</span>);\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Is the same as:</span>\n\n<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>);</pre></div>\n<h3>\n<a id=\"refkey-options\" class=\"anchor\" href=\"#refkey-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>ref(key, [options])</code>\n</h3>\n<p>Generates a reference to the value of the named key. References are resolved at validation time and in order of dependency so that if one key validation depends on another, the dependent key is validated second after the reference is validated.</p>\n<p>References support the following arguments:</p>\n<ul>\n<li>\n<code>key</code> - the reference target. References can point to sibling keys (<code>a.b</code>) or ancestor keys (<code>...a.b</code>) using the <code>.</code> separator. If a <code>key</code> starts with <code>$</code> is signifies a context reference which is looked up in the <code>context</code> option object. The <code>key</code> can start with one or more separator characters to indicate a <a href=\"#Relative-references\">relative starting point</a>.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>adjust</code> - a function with the signature <code>function(value)</code> where <code>value</code> is the resolved reference value and the return value is the adjusted value to use. For example <code>(value) =&gt; value + 5</code> will add 5 to the resolved value. Note that the <code>adjust</code> feature will not perform any type validation on the adjusted value and it must match the value expected by the rule it is used in. Cannot be used with <code>map</code>.</li>\n<li>\n<code>map</code> - an array of array pairs using the format <code>[[key, value], [key, value]]</code> used to maps the resolved reference value to another value. If the resolved value is not in the map, it is returned as-is. Cannot be used with <code>adjust</code>.</li>\n<li>\n<code>prefix</code> - overrides default prefix characters key string prefix. Can be set to <code>false</code> to disable all prefix parsing (treat keys as literal strings), or an object with specific overrides for:\n<ul>\n<li>\n<code>global</code> - references to the globally provided <code>context</code> preference. Defaults to <code>'$'</code>.</li>\n<li>\n<code>local</code> - references to error-specific or rule specific context. Defaults to <code>'#'</code>.</li>\n<li>\n<code>root</code> - references to the root value being validated. Defaults to <code>'/'</code>.</li>\n</ul>\n</li>\n<li>\n<code>separator</code> - overrides the default <code>.</code> hierarchy separator. Set to <code>false</code> to treat the <code>key</code> as a literal value.</li>\n<li>\n<code>ancestor</code> - if set to a number, sets the reference <a href=\"#Relative-references\">relative starting point</a>. Cannot be combined with separator prefix characters. Defaults to the reference key prefix (or <code>1</code> if none present).</li>\n<li>\n<code>in</code> - creates an <a href=\"#inref-options\">in-reference</a>.</li>\n<li>\n<code>iterables</code> - when <code>true</code>, the reference resolves by reaching into maps and sets.</li>\n</ul>\n</li>\n</ul>\n<p>Note that references can only be used where explicitly supported such as in <code>valid()</code> or <code>invalid()</code> rules. If upwards (parents) references are needed, use <a href=\"#objectassertref-schema-message\"><code>object.assert()</code></a>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b.c<span class=\"pl-pds\">'</span></span>),\n    b<span class=\"pl-k\">:</span> {\n        c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n    },\n    c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>$x<span class=\"pl-pds\">'</span></span>)\n});\n\n<span class=\"pl-k\">await</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validateAsync</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span>, b<span class=\"pl-k\">:</span> { c<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span> } }, { context<span class=\"pl-k\">:</span> { x<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span> } });</pre></div>\n<h4>\n<a id=\"relative-references\" class=\"anchor\" href=\"#relative-references\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Relative references</h4>\n<p>By default, a reference is relative to the parent of the current value (the reference key is lookup\nup inside the parent). This means that in the schema:</p>\n<div class=\"highlight highlight-source-js\"><pre>{\n    x<span class=\"pl-k\">:</span> {\n        a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n        b<span class=\"pl-k\">:</span> {\n            c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n            d<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>c<span class=\"pl-pds\">'</span></span>)\n        }\n    },\n    y<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}</pre></div>\n<p>The reference <code>Joi.ref('c')</code> points to <code>c</code> which is a sibling of <code>d</code> - the reference starting point\nis <code>d</code>'s parent which is <code>b</code>. This schema means that <code>d</code> must be equal to <code>c</code>.</p>\n<p>In order to reference a parent peer, you can use a separator prefix where (using <code>.</code> as separator):</p>\n<ul>\n<li>\n<code>.</code> - self</li>\n<li>\n<code>..</code> - parent (same as no prefix)</li>\n<li>\n<code>...</code> - grandparent</li>\n<li>\n<code>....</code> - great-grandparent</li>\n<li>etc.</li>\n</ul>\n<p>For example:</p>\n<div class=\"highlight highlight-source-js\"><pre>{\n    x<span class=\"pl-k\">:</span> {\n        a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n        b<span class=\"pl-k\">:</span> {\n            c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n            d<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>c<span class=\"pl-pds\">'</span></span>),\n            e<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>...a<span class=\"pl-pds\">'</span></span>),\n            f<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>....y<span class=\"pl-pds\">'</span></span>)\n        }\n    },\n    y<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}</pre></div>\n<p>Another way to specify the relative starting point is using the <code>ancestor</code> option where:</p>\n<ul>\n<li>0 - self</li>\n<li>1 - parent (this is the default value if no key prefix is present)</li>\n<li>2 - grandparent</li>\n<li>3 - great-grandparent</li>\n<li>etc.</li>\n</ul>\n<p>For example:</p>\n<div class=\"highlight highlight-source-js\"><pre>{\n    x<span class=\"pl-k\">:</span> {\n        a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n        b<span class=\"pl-k\">:</span> {\n            c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n            d<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>c<span class=\"pl-pds\">'</span></span>, { ancestor<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span> }),\n            e<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, { ancestor<span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span> }),\n            f<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>y<span class=\"pl-pds\">'</span></span>, { ancestor<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3</span> })\n        }\n    },\n    y<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}</pre></div>\n<p>Note that if a reference tries to reach beyond the value root, validation fails.</p>\n<p>To specify an absolute path from the value root, use the <code>/</code> prefix:</p>\n<div class=\"highlight highlight-source-js\"><pre>{\n    x<span class=\"pl-k\">:</span> {\n        a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n        b<span class=\"pl-k\">:</span> {\n            c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/x.a<span class=\"pl-pds\">'</span></span>)\n        }\n    }\n}</pre></div>\n<h3>\n<a id=\"version\" class=\"anchor\" href=\"#version\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>version</code>\n</h3>\n<p>Property showing the current version of <strong>joi</strong> being used.</p>\n<h3>\n<a id=\"types\" class=\"anchor\" href=\"#types\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>types()</code>\n</h3>\n<p>Returns an object where each key is a plain joi schema type. Useful for creating type shortcuts\nusing deconstruction. Note that the types are already formed and do not need to be called as\nfunctions (e.g. <code>string</code>, not <code>string()</code>).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Joi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/joi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> { <span class=\"pl-c1\">object</span>, <span class=\"pl-c1\">string</span> } <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">types</span>();\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">object</span>.<span class=\"pl-c1\">keys</span>({\n  property<span class=\"pl-k\">:</span> <span class=\"pl-smi\">string</span>.<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">4</span>)\n});</pre></div>\n<h3>\n<a id=\"any\" class=\"anchor\" href=\"#any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any</code>\n</h3>\n<p>Generates a schema object that matches any data type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">any</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>();\n<span class=\"pl-k\">await</span> <span class=\"pl-smi\">any</span>.<span class=\"pl-en\">validateAsync</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"anytype\" class=\"anchor\" href=\"#anytype\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.type</code>\n</h4>\n<p>Gets the type of the schema.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>();\n\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-c1\">type</span> <span class=\"pl-k\">===</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>string<span class=\"pl-pds\">'</span></span>;   <span class=\"pl-c\"><span class=\"pl-c\">//</span> === true</span></pre></div>\n<h4>\n<a id=\"anyallowvalues\" class=\"anchor\" href=\"#anyallowvalues\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.allow(...values)</code>\n</h4>\n<p>Allows values where:</p>\n<ul>\n<li>\n<code>values</code> - one or more allowed values which can be of any type and will be matched against the validated value before applying any other rules. Supports <a href=\"#refkey-options\">references</a> and <a href=\"#inref-options\">in-references</a>. If the first value is <a href=\"#override\"><code>Joi.override</code></a>, will override any previously set values.</li>\n</ul>\n<p>Note that this list of allowed values is in <em>addition</em> to any other permitted values.\nTo create an exclusive list of values, see <a href=\"#anyvalidvalues---aliases-equal\"><code>any.valid(value)</code></a>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">allow</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">allow</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>B<span class=\"pl-pds\">'</span></span>)\n};</pre></div>\n<h4>\n<a id=\"anyaltertargets\" class=\"anchor\" href=\"#anyaltertargets\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.alter(targets)</code>\n</h4>\n<p>Assign target alteration options to a schema that are applied when <a href=\"#anytailortargets\"><code>any.tailor()</code></a>\nis called where:</p>\n<ul>\n<li>\n<code>targets</code> - an object where each key is a target name, and each value is a function with signature\n<code>function(schema)</code> that returns a schema.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    key<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n        .<span class=\"pl-en\">alter</span>({\n            <span class=\"pl-en\">get</span><span class=\"pl-k\">:</span> (<span class=\"pl-smi\">schema</span>) <span class=\"pl-k\">=&gt;</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">required</span>(),\n            <span class=\"pl-en\">post</span><span class=\"pl-k\">:</span> (<span class=\"pl-smi\">schema</span>) <span class=\"pl-k\">=&gt;</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">forbidden</span>()\n        })  \n});\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">getSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">tailor</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>get<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">postSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">tailor</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>post<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"anycachecache\" class=\"anchor\" href=\"#anycachecache\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.cache([cache])</code>\n</h4>\n<p>Adds caching to the schema which will attempt to cache the validation results (success and\nfailures) of incoming inputs where:</p>\n<ul>\n<li>\n<code>cache</code> - an optional cache implementation compatible with the built-in cache provided by\n<a href=\"#cacheprovisionoptions\"><code>cache.provision()</code></a>. If no <code>cache</code> is passed, a default cache\nis provisioned by using <a href=\"#cacheprovisionoptions\"><code>cache.provision()</code></a> internally.</li>\n</ul>\n<p>Note that deciding which inputs to cache is left to the cache implementation. The built-in\ncache will only store simple values such as <code>undefined</code>, <code>null</code>, strings, numbers, and booleans.\nAny changes to the schema after <code>any.cache()</code> is called will disable caching on the resulting\nschema. this means that if <code>.cache()</code> is not the last statement in a schema definition, caching\nwill be disabled.</p>\n<p>To disable caching for an entire schema in runtime, pass the <code>cache</code> preference set to <code>false</code>.</p>\n<p>Caching ignores changes to runtime preference. This means that if you run <code>schema.validate()</code>\nonces using one set of preferences, and then again using another set (for example, changing the\nlanguage), the cached results will be based on the first set of preferences.</p>\n<p>Before using caching, it is recommended to consider the performance gain as it will not speed up\nevery schema. Schemas using <code>.valid()</code> list will not benefit from caching.</p>\n<p>Caching will be ignored when the schema uses references outside of the value scope.</p>\n<h5>\n<a id=\"cache-interface\" class=\"anchor\" href=\"#cache-interface\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Cache interface</h5>\n<p>Custom cache implementation must implement the following interface:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">class</span> {\n    <span class=\"pl-en\">set</span>(<span class=\"pl-smi\">key</span>, <span class=\"pl-smi\">value</span>) {}\n    <span class=\"pl-en\">get</span>(<span class=\"pl-smi\">key</span>) { <span class=\"pl-k\">return</span> found <span class=\"pl-k\">?</span> value <span class=\"pl-k\">:</span> <span class=\"pl-c1\">undefined</span>; }\n}</pre></div>\n<p>Note that <code>key</code> and <code>value</code> can be anything including objects, array, etc. It is recommended to limit the size of the cache when validating external data in order to prevent an attacker from increasing the process memory usage by sending large amount of different data to validate.</p>\n<h4>\n<a id=\"anycastto\" class=\"anchor\" href=\"#anycastto\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.cast(to)</code>\n</h4>\n<p>Casts the validated value to the specified type where:</p>\n<ul>\n<li>\n<code>to</code> - the value target type. Each <strong>joi</strong> schema type supports its own set of cast targets:\n<ul>\n<li>\n<code>'map'</code> - supported by the <code>Joi.object()</code> type, converts the result to a <code>Map</code> object containing the object key-value pairs.</li>\n<li>\n<code>'number'</code> - supported by <code>Joi.boolean()</code> and <code>Joi.date()</code>, converts the result to a number. For dates, number of milliseconds since the epoch and for booleans, <code>0</code> for <code>false</code> and <code>1</code> for <code>true</code>.</li>\n<li>\n<code>'set'</code> - supported by the <code>Joi.array()</code> type, converts the result to a <code>Set</code> object containing the array values.</li>\n<li>\n<code>'string'</code> - supported by <code>Joi.binary()</code>, <code>Joi.boolean()</code>, <code>Joi.date()</code>, and <code>Joi.number()</code>, converts the result to a string.</li>\n</ul>\n</li>\n</ul>\n<h4>\n<a id=\"anyconcatschema\" class=\"anchor\" href=\"#anyconcatschema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.concat(schema)</code>\n</h4>\n<p>Returns a new type that is the result of adding the rules of one type to another where:</p>\n<ul>\n<li>\n<code>schema</code> - a <strong>joi</strong> type to merge into the current schema. Can only be of the same type as the context type or <code>any</code>. If applied to an <code>any</code> type, the schema can be any other schema.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">a</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">b</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">ab</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">a</span>.<span class=\"pl-c1\">concat</span>(b);</pre></div>\n<h4>\n<a id=\"anycustommethod-description\" class=\"anchor\" href=\"#anycustommethod-description\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.custom(method, [description])</code>\n</h4>\n<p>Adds a custom validation function to execute arbitrary code where:</p>\n<ul>\n<li>\n<code>method</code> - the custom validation function using signature <code>function(value, helpers)</code> where:\n<ul>\n<li>\n<code>value</code> - the value being validated.</li>\n<li>\n<code>helpers</code> - an object with the following helpers:\n<ul>\n<li>\n<code>schema</code> - the current schema.</li>\n<li>\n<code>state</code> - the current validation state.</li>\n<li>\n<code>prefs</code> - the current preferences.</li>\n<li>\n<code>original</code> - the original value passed into validation before any conversions.</li>\n<li>\n<code>error(code, [local])</code> - a method to generate error codes using a message code and optional local context.</li>\n<li>\n<code>message(messages, [local])</code> - a method to generate an error with an internal <code>'custom'</code> error code and the provided messages object to use as override. Note that this is much slower than using the preferences <code>messages</code> option but is much simpler to write when performance is not important.</li>\n<li>\n<code>warn(code, [local])</code> - a method to add a warning using a message code and optional local context.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Note: if the method fails to return a value, the value will be unset or returned as <code>undefined</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">method</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">value</span>, <span class=\"pl-smi\">helpers</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Throw an error (will be replaced with 'any.custom' error)</span>\n    <span class=\"pl-k\">if</span> (value <span class=\"pl-k\">===</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>1<span class=\"pl-pds\">'</span></span>) {\n        <span class=\"pl-k\">throw</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>nope<span class=\"pl-pds\">'</span></span>);\n    }\n\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Replace value with a new value</span>\n    <span class=\"pl-k\">if</span> (value <span class=\"pl-k\">===</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>2<span class=\"pl-pds\">'</span></span>) {\n        <span class=\"pl-k\">return</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>3<span class=\"pl-pds\">'</span></span>;\n    }\n\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Use error to return an existing error code</span>\n    <span class=\"pl-k\">if</span> (value <span class=\"pl-k\">===</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>4<span class=\"pl-pds\">'</span></span>) {\n        <span class=\"pl-k\">return</span> <span class=\"pl-smi\">helpers</span>.<span class=\"pl-en\">error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>any.invalid<span class=\"pl-pds\">'</span></span>);\n    }\n\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Override value with undefined to unset</span>\n    <span class=\"pl-k\">if</span> (value <span class=\"pl-k\">===</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>5<span class=\"pl-pds\">'</span></span>) {\n        <span class=\"pl-k\">return</span> <span class=\"pl-c1\">undefined</span>;\n    }\n\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Return the value unchanged</span>\n    <span class=\"pl-k\">return</span> value;\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">custom</span>(method, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>custom validation<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Possible validation errors: <a href=\"#anycustom\"><code>any.custom</code></a></p>\n<h4>\n<a id=\"anydefaultvalue\" class=\"anchor\" href=\"#anydefaultvalue\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.default([value])</code>\n</h4>\n<p>Sets a default value if the original value is <code>undefined</code> where:</p>\n<ul>\n<li>\n<code>value</code> - the default value. One of:\n<ul>\n<li>a literal value (string, number, object, etc.).</li>\n<li>a <a href=\"#refkey-options\">references</a>.</li>\n<li>a function which returns the default value using the signature <code>function(parent, helpers)</code> where:\n<ul>\n<li>\n<code>parent</code> - a clone of the object containing the value being validated. Note that since specifying a <code>parent</code> argument performs cloning, do not declare format arguments if you are not using them.</li>\n<li>\n<code>helpers</code> - same as those described in <a href=\"#anycustommethod_description\"><code>any.custom()</code></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>When called without any <code>value</code> on an object schema type, a default value will be automatically generated based on the default values of the object keys.</p>\n<p>Note that if <code>value</code> is an object, any changes to the object after <code>default()</code> is called will change the reference and any future assignment. Use a function when setting a dynamic value (e.g. the current time).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">generateUsername</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">parent</span>, <span class=\"pl-smi\">helpers</span>) <span class=\"pl-k\">=&gt;</span> {\n\n  <span class=\"pl-k\">return</span> <span class=\"pl-smi\">parent</span>.<span class=\"pl-smi\">firstname</span>.<span class=\"pl-c1\">toLowerCase</span>() <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>-<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">parent</span>.<span class=\"pl-smi\">lastname</span>.<span class=\"pl-c1\">toLowerCase</span>();\n};\n\n<span class=\"pl-smi\">generateUsername</span>.<span class=\"pl-c1\">description</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>generated username<span class=\"pl-pds\">'</span></span>;\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    username<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">default</span>(generateUsername),\n    firstname<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n    lastname<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n    created<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">default</span>(<span class=\"pl-c1\">Date</span>.<span class=\"pl-smi\">now</span>),\n    status<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">default</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>registered<span class=\"pl-pds\">'</span></span>)\n});\n\n<span class=\"pl-k\">const</span> { <span class=\"pl-c1\">value</span> } <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>({\n    firstname<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Jane<span class=\"pl-pds\">'</span></span>,\n    lastname<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Doe<span class=\"pl-pds\">'</span></span>\n});\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> value.status === 'registered'</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> value.username === 'jane-doe'</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> value.created will be the time of validation</span></pre></div>\n<p>Possible validation errors: <a href=\"#anydefault\"><code>any.default</code></a></p>\n<h4>\n<a id=\"anydescribe\" class=\"anchor\" href=\"#anydescribe\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.describe()</code>\n</h4>\n<p>Returns an object that represents the internal configuration of the schema. Useful for debugging\nand exposing a schema's configuration to other systems, like valid values in a user interface.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">valid</span>([ <span class=\"pl-s\"><span class=\"pl-pds\">'</span>foo<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>bar<span class=\"pl-pds\">'</span></span> ]);\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">describe</span>());</pre></div>\n<p>Results in:</p>\n<pre><code>{ type: 'any',\n  flags: { only: true },\n  valids: [ 'foo', 'bar' ] }\n</code></pre>\n<h4>\n<a id=\"anydescriptiondesc\" class=\"anchor\" href=\"#anydescriptiondesc\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.description(desc)</code>\n</h4>\n<p>Annotates the key where:</p>\n<ul>\n<li>\n<code>desc</code> - the description string.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-c1\">description</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>this key will match anything you give it<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"anyemptyschema\" class=\"anchor\" href=\"#anyemptyschema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.empty(schema)</code>\n</h4>\n<p>Considers anything that matches the schema to be empty (<code>undefined</code>).</p>\n<ul>\n<li>\n<code>schema</code> - any object or <strong>joi</strong> schema to match. An undefined schema unsets that rule.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">let</span> schema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">empty</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns { error: null, value: undefined }</span>\nschema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">empty</span>();\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns { error: \"value\" is not allowed to be empty, value: '' }</span></pre></div>\n<h4>\n<a id=\"anyerrorerr\" class=\"anchor\" href=\"#anyerrorerr\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.error(err)</code>\n</h4>\n<p>Overrides the default <strong>joi</strong> error with a custom error if the rule fails where:</p>\n<ul>\n<li>\n<code>err</code> can be:\n<ul>\n<li>an instance of <code>Error</code> - the override error.</li>\n<li>a function with the signature <code>function(errors)</code>, where <code>errors</code> is an array of validation reports and it returns either a single <code>Error</code> or an array of validation reports.</li>\n</ul>\n</li>\n</ul>\n<p>Do not use this method if you are simply trying to override the error message - use <code>any.message()</code> or <code>any.messages()</code> instead. This method is designed to override the <strong>joi</strong> validation error and return the exact override provided. It is useful when you want to return the result of validation directly (e.g. when using with a <strong>hapi</strong> server) and want to return a different HTTP error code than 400.</p>\n<p>Note that if you provide an <code>Error</code>, it will be returned as-is, unmodified and undecorated with any of the normal error properties. If validation fails and another error is found before the error override, that error will be returned and the override will be ignored (unless the <code>abortEarly</code> option has been set to <code>false</code>). If you set multiple errors on a single schema, only the last error is used.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">error</span>(<span class=\"pl-k\">new</span> <span class=\"pl-en\">Error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Was REALLY expecting a string<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-c1\">3</span>);     <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns Error('Was REALLY expecting a string')</span></pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    foo<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">0</span>).<span class=\"pl-en\">error</span>((<span class=\"pl-smi\">errors</span>) <span class=\"pl-k\">=&gt;</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>\"foo\" requires a positive number<span class=\"pl-pds\">'</span></span>))\n});\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>({ foo<span class=\"pl-k\">:</span> <span class=\"pl-k\">-</span><span class=\"pl-c1\">2</span> });    <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns new Error('\"foo\" requires a positive number')</span></pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    foo<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">0</span>).<span class=\"pl-en\">error</span>((<span class=\"pl-smi\">errors</span>) <span class=\"pl-k\">=&gt;</span> {\n\n        <span class=\"pl-k\">return</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>found errors with <span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">errors</span>.<span class=\"pl-en\">map</span>((<span class=\"pl-smi\">err</span>) <span class=\"pl-k\">=&gt;</span> <span class=\"pl-s\"><span class=\"pl-pds\">`</span><span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-smi\">err</span>.<span class=\"pl-c1\">type</span><span class=\"pl-pse\">}</span></span>(<span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-smi\">err</span>.<span class=\"pl-smi\">local</span>.<span class=\"pl-smi\">limit</span><span class=\"pl-pse\">}</span></span>) with value <span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-smi\">err</span>.<span class=\"pl-smi\">local</span>.<span class=\"pl-c1\">value</span><span class=\"pl-pse\">}</span></span><span class=\"pl-pds\">`</span></span>).<span class=\"pl-c1\">join</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span> and <span class=\"pl-pds\">'</span></span>));\n    })\n});\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>({ foo<span class=\"pl-k\">:</span> <span class=\"pl-k\">-</span><span class=\"pl-c1\">2</span> });    <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns new Error('child \"foo\" fails because [found errors with number.min(0) with value -2]')</span></pre></div>\n<h4>\n<a id=\"anyexampleexample-options\" class=\"anchor\" href=\"#anyexampleexample-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.example(example, [options])</code>\n</h4>\n<p>Adds examples to the schema where:</p>\n<ul>\n<li>\n<code>example</code> - adds an example. Note that no validation is performed on the value.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>override</code> - if <code>true</code>, replaces any existing examples. Defaults to <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">4</span>).<span class=\"pl-en\">example</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>abcd<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"anyexternalmethod-description\" class=\"anchor\" href=\"#anyexternalmethod-description\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.external(method, [description])</code>\n</h4>\n<p>Adds an external validation rule where:</p>\n<ul>\n<li>\n<code>method</code> - an async or sync function with signature <code>function(value)</code> which can either return\na replacement value, <code>undefined</code> to indicate not change, or throw an error.</li>\n<li>\n<code>description</code> - optional string used to document the purpose of the method.</li>\n</ul>\n<p>Note that external validation rules are only called after the all other validation rules for the\nentire schema (from the value root) are checked. This means that any changes made to the value by\nthe external rules are not available to any other validation rules during the non-external\nvalidation phase.</p>\n<p>If schema validation failed, no external validation rules are called.</p>\n<h4>\n<a id=\"anyextractpath\" class=\"anchor\" href=\"#anyextractpath\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.extract(path)</code>\n</h4>\n<p>Returns a sub-schema based on a path of object keys or schema ids where:</p>\n<ul>\n<li>\n<code>path</code> - a dot <code>.</code> separated path string or a pre-split array of path keys. The keys must match\nthe sub-schema id or object key (if no id was explicitly set).</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({ foo<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({ bar<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>() }) });\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">number</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">extract</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>foo.bar<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span>or</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">result</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">extract</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>foo<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>bar<span class=\"pl-pds\">'</span></span>]); <span class=\"pl-c\"><span class=\"pl-c\">//</span>same as number</span></pre></div>\n<h4>\n<a id=\"anyfailovervalue\" class=\"anchor\" href=\"#anyfailovervalue\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.failover(value)</code>\n</h4>\n<p>Sets a failover value if the original value fails passing validation where:</p>\n<ul>\n<li>\n<code>value</code> - the failover value. <code>value</code> supports <a href=\"#refkey-options\">references</a>. <code>value</code> may be\nassigned a function which returns the default value. If <code>value</code> is specified as a function\nthat accepts a single parameter, that parameter will be a context object that can be used to\nderive the resulting value.</li>\n</ul>\n<p>Note that if <code>value</code> is an object, any changes to the object after <code>failover()</code> is called will change\nthe reference and any future assignment. Use a function when setting a dynamic value (e.g. the\ncurrent time).</p>\n<p>Using a function with a single argument performs some internal cloning which has a performance\nimpact. If you do not need access to the context, define the function without any arguments.</p>\n<p>Possible validation errors: <a href=\"#anyfailover\"><code>any.failover</code></a></p>\n<h4>\n<a id=\"anyforbidden\" class=\"anchor\" href=\"#anyforbidden\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.forbidden()</code>\n</h4>\n<p>Marks a key as forbidden which will not allow any value except <code>undefined</code>. Used to explicitly forbid keys.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">forbidden</span>()\n};</pre></div>\n<p>Possible validation errors: <a href=\"#anyunknown\"><code>any.unknown</code></a></p>\n<h4>\n<a id=\"anyforkpaths-adjuster\" class=\"anchor\" href=\"#anyforkpaths-adjuster\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.fork(paths, adjuster)</code>\n</h4>\n<p>Returns a new schema where each of the path keys listed have been modified where:</p>\n<ul>\n<li>\n<code>paths</code> - an array of key strings, a single key string, or an array of arrays of pre-split\nkey strings. Key string paths use dot <code>.</code> to indicate key hierarchy.</li>\n<li>\n<code>adjuster</code> - a function using the signature <code>function(schema)</code> which must return a modified\nschema. For example, <code>(schema) =&gt; schema.required()</code>.</li>\n</ul>\n<p>The method does not modify the original schema.</p>\n<h4>\n<a id=\"anyidid\" class=\"anchor\" href=\"#anyidid\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.id(id)</code>\n</h4>\n<p>Sets a schema id for reaching into the schema via <a href=\"#anyextractpath\"><code>any.extract()</code></a> where:</p>\n<ul>\n<li>\n<code>id</code> - an alphanumeric string (plus <code>_</code>) used to identify the schema.</li>\n</ul>\n<p>If no id is set, the schema id defaults to the object key it is associated with. If the schema is\nused in an array or alternatives type and no id is set, the schema in unreachable.</p>\n<h4>\n<a id=\"anyinvalidvalues---aliases-disallow-not\" class=\"anchor\" href=\"#anyinvalidvalues---aliases-disallow-not\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.invalid(...values)</code> - aliases: <code>disallow</code>, <code>not</code>\n</h4>\n<p>Disallows values where:</p>\n<ul>\n<li>\n<code>values</code> - the forbidden values which can be of any type and will be matched against the validated value before applying any other rules. Supports <a href=\"#refkey-options\">references</a> and <a href=\"#inref-options\">in-references</a>. If the first value is <a href=\"#override\"><code>Joi.override</code></a>, will override any previously set values.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">invalid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">invalid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>B<span class=\"pl-pds\">'</span></span>)\n};</pre></div>\n<p>Possible validation errors: <a href=\"#anyinvalid\"><code>any.invalid</code></a></p>\n<h4>\n<a id=\"anykeep\" class=\"anchor\" href=\"#anykeep\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.keep()</code>\n</h4>\n<p>Same as <a href=\"#anyruleoptions\"><code>rule({ keep: true })</code></a>.</p>\n<p>Note that <code>keep()</code> will terminate the current ruleset and cannot be followed by another\nrule option. Use <a href=\"#anyruleoptions\"><code>rule()</code></a> to apply multiple rule options.</p>\n<h4>\n<a id=\"anylabelname\" class=\"anchor\" href=\"#anylabelname\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.label(name)</code>\n</h4>\n<p>Overrides the key name in error messages.</p>\n<ul>\n<li>\n<code>name</code> - the name of the key.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    first_name<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">label</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>First Name<span class=\"pl-pds\">'</span></span>)\n};</pre></div>\n<h4>\n<a id=\"anymessagemessage\" class=\"anchor\" href=\"#anymessagemessage\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.message(message)</code>\n</h4>\n<p>Same as <a href=\"#anyruleoptions\"><code>rule({ message })</code></a>.</p>\n<p>Note that <code>message()</code> will terminate the current ruleset and cannot be followed by another\nrule option. Use <a href=\"#anyruleoptions\"><code>rule()</code></a> to apply multiple rule options.</p>\n<h4>\n<a id=\"anymessagesmessages\" class=\"anchor\" href=\"#anymessagesmessages\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.messages(messages)</code>\n</h4>\n<p>Same as <a href=\"#anyprefsoptions--aliases-preferences-options\"><code>any.prefs({ messages })</code></a>.</p>\n<p>Note that while <a href=\"#anymessagemessage\"><code>any.message()</code></a> applies only to the last rule or ruleset, <code>any.messages()</code> applies to the entire schema.</p>\n<h4>\n<a id=\"anymetameta\" class=\"anchor\" href=\"#anymetameta\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.meta(meta)</code>\n</h4>\n<p>Attaches metadata to the key where:</p>\n<ul>\n<li>\n<code>meta</code> - the meta object to attach.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">meta</span>({ index<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });</pre></div>\n<h4>\n<a id=\"anynotenotes\" class=\"anchor\" href=\"#anynotenotes\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.note(...notes)</code>\n</h4>\n<p>Annotates the key where:</p>\n<ul>\n<li>\n<code>notes</code> - the note string or multiple notes as individual arguments.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">note</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>this is special<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>this is important<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"anyonly\" class=\"anchor\" href=\"#anyonly\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.only()</code>\n</h4>\n<p>Requires the validated value to match of the provided <code>any.allow()</code> values. It has not effect when\ncalled together with <code>any.valid()</code> since it already sets the requirements. When used with\n<code>any.allow()</code> it converts it to an <code>any.valid()</code>.</p>\n<h4>\n<a id=\"anyoptional\" class=\"anchor\" href=\"#anyoptional\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.optional()</code>\n</h4>\n<p>Marks a key as optional which will allow <code>undefined</code> as values. Used to annotate the schema for readability as all keys are optional by default.</p>\n<p>Note: this does not allow a <code>null</code> value. To do that, use <a href=\"#anyallowvalue\"><code>any.allow(value)</code></a>. Or both!</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">optional</span>();</pre></div>\n<h4>\n<a id=\"anyprefsoptions---aliases-preferences-options\" class=\"anchor\" href=\"#anyprefsoptions---aliases-preferences-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.prefs(options)</code> - aliases: <code>preferences</code>, <code>options</code>\n</h4>\n<p>Overrides the global <code>validate()</code> options for the current key and any sub-key where:</p>\n<ul>\n<li>\n<code>options</code> - an object with the same optional keys as <a href=\"#anyvalidatevalue-options\"><code>any.validate()</code></a>.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">prefs</span>({ convert<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> });</pre></div>\n<h4>\n<a id=\"anypresencemode\" class=\"anchor\" href=\"#anypresencemode\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.presence(mode)</code>\n</h4>\n<p>Sets the presence mode for the schema where:</p>\n<ul>\n<li>\n<code>mode</code> - can be one of <code>'optional'</code>, <code>'required'</code>, or <code>'forbidden'</code>\n</li>\n</ul>\n<p>Same as calling <code>any.optional()</code>, <code>any.required()</code>, or <code>any.forbidden()</code>.</p>\n<h4>\n<a id=\"anyrawenabled\" class=\"anchor\" href=\"#anyrawenabled\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.raw([enabled])</code>\n</h4>\n<p>Outputs the original untouched value instead of the casted value where:</p>\n<ul>\n<li>\n<code>enabled</code> - if <code>true</code>, the original result is returned, otherwise the validated value. Defaults to <code>true</code>.</li>\n</ul>\n<p>Note that the raw value is only applied after validation and any references to the value use the\nvalidated value, not the raw value.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">timestampSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">timestamp</span>();\n<span class=\"pl-smi\">timestampSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>12376834097810<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> { error: null, value: Sat Mar 17 2362 04:28:17 GMT-0500 (CDT) }</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">rawTimestampSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">timestamp</span>().<span class=\"pl-en\">raw</span>();\n<span class=\"pl-smi\">rawTimestampSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>12376834097810<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> { error: null, value: '12376834097810' }</span></pre></div>\n<h4>\n<a id=\"anyrequired---aliases-exist\" class=\"anchor\" href=\"#anyrequired---aliases-exist\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.required()</code> - aliases: <code>exist</code>\n</h4>\n<p>Marks a key as required which will not allow <code>undefined</code> as value. All keys are optional by default.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">required</span>();</pre></div>\n<p>Possible validation errors: <a href=\"#anyrequired\"><code>any.required</code></a></p>\n<h4>\n<a id=\"anyresultmode\" class=\"anchor\" href=\"#anyresultmode\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.result(mode)</code>\n</h4>\n<p>Set the result mode where:</p>\n<ul>\n<li>\n<code>mode</code> - one of <code>'raw'</code> (same as <code>any.raw()</code>) or <code>'strip'</code> (same as <code>any.strip()</code>).</li>\n</ul>\n<h4>\n<a id=\"anyruleoptions\" class=\"anchor\" href=\"#anyruleoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.rule(options)</code>\n</h4>\n<p>Applies a set of rule options to the current ruleset or last rule added where:</p>\n<ul>\n<li>\n<code>options</code> - the rules to apply where:\n<ul>\n<li>\n<code>keep</code> - if <code>true</code>, the rules will not be replaced by the same unique rule later. For example, <code>Joi.number().min(1).rule({ keep: true }).min(2)</code> will keep both <code>min()</code> rules instead of the later rule overriding the first. Defaults to <code>false</code>.</li>\n<li>\n<code>message</code> - a single message string or a messages object where each key is an error code and corresponding message string as value. The object is the same as the <code>messages</code> used as an option in <a href=\"#anyvalidatevalue-options\"><code>any.validate()</code></a>. The strings can be plain messages or a message template.</li>\n<li>\n<code>warn</code> - if <code>true</code>, turns any error generated by the ruleset to warnings.</li>\n</ul>\n</li>\n</ul>\n<p>When applying rule options, the last rule (e.g. <code>min()</code>) is used unless there is an active ruleset defined (e.g. <code>$.min().max()</code>) in which case the options are applied to all the provided rules. Once <code>rule()</code> is called, the previous rules can no longer be modified and any active ruleset is terminated.</p>\n<p>Rule modifications can only be applied to supported rules. Most of the <code>any</code> methods do not support rule modifications because they are implemented using schema flags (e.g. <code>required()</code>) or special internal implementation (e.g. <code>valid()</code>). In those cases, use the <code>any.messages()</code> method to override the error codes for the errors you want to customize.</p>\n<h4>\n<a id=\"anyruleset---aliases-\" class=\"anchor\" href=\"#anyruleset---aliases-\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.ruleset</code> - aliases: <code>$</code>\n</h4>\n<p>Starts a ruleset in order to apply multiple <a href=\"#anyruleoptions\">rule options</a>. The set ends when\n<a href=\"#anyruleoptions\"><code>rule()</code></a>, <a href=\"#anykeep\"><code>keep()</code></a>, <a href=\"#anymessagemessage\"><code>message()</code></a>, or <a href=\"#anywarn\"><code>warn()</code></a> is called.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-smi\">ruleset</span>.<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">1</span>).<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">10</span>).<span class=\"pl-en\">rule</span>({ message<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Number must be between 1 and 10<span class=\"pl-pds\">'</span></span> });</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-smi\">$</span>.<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">1</span>).<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">10</span>).<span class=\"pl-en\">rule</span>({ message<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Number must be between 1 and 10<span class=\"pl-pds\">'</span></span> });</pre></div>\n<h4>\n<a id=\"anysharedschema\" class=\"anchor\" href=\"#anysharedschema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.shared(schema)</code>\n</h4>\n<p>Registers a schema to be used by decendents of the current schema in named link references, where:</p>\n<ul>\n<li>\n<code>schema</code> - a <strong>joi</strong> schema with an id.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre>  <span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n      a<span class=\"pl-k\">:</span> [<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">link</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>#x<span class=\"pl-pds\">'</span></span>)],\n      b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">link</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>#type.a<span class=\"pl-pds\">'</span></span>)\n  })\n      .<span class=\"pl-en\">shared</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-c1\">id</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>x<span class=\"pl-pds\">'</span></span>))\n      .<span class=\"pl-c1\">id</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>type<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"anystrictisstrict\" class=\"anchor\" href=\"#anystrictisstrict\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.strict(isStrict)</code>\n</h4>\n<p>Strict mode sets the <code>options.convert</code> options to <code>false</code> which prevent type casting for the current key and any child keys.</p>\n<ul>\n<li>\n<code>isStrict</code> - whether strict mode is enabled or not. Defaults to true.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">strict</span>();</pre></div>\n<h4>\n<a id=\"anystripenabled\" class=\"anchor\" href=\"#anystripenabled\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.strip([enabled])</code>\n</h4>\n<p>Marks a key to be removed from a resulting object or array after validation to sanitize the output\nwhere:</p>\n<ul>\n<li>\n<code>enabled</code> - if <code>true</code>, the value is stripped, otherwise the validated value is retained. Defaults\nto <code>true</code>.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    username<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n    password<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">strip</span>()\n});\n\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>({ username<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>, password<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>hunter2<span class=\"pl-pds\">'</span></span> }); <span class=\"pl-c\"><span class=\"pl-c\">//</span> result.value = { username: 'test' }</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">strip</span>());\n\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>one<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>two<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">true</span>, <span class=\"pl-c1\">false</span>, <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>]); <span class=\"pl-c\"><span class=\"pl-c\">//</span> result.value = ['one', 'two']</span></pre></div>\n<h4>\n<a id=\"anytagtags\" class=\"anchor\" href=\"#anytagtags\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.tag(...tags)</code>\n</h4>\n<p>Annotates the key where:</p>\n<ul>\n<li>\n<code>tags</code> - the tag string or multiple tags (each as an argument).</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">tag</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>api<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>user<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"anytailortargets\" class=\"anchor\" href=\"#anytailortargets\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.tailor(targets)</code>\n</h4>\n<p>Applies any assigned target alterations to a copy of the schema that were applied via\n<a href=\"#anyaltertargets\"><code>any.alter()</code></a> where:</p>\n<ul>\n<li>\n<code>targets</code> - a single target string or array or target strings to apply.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    key<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n        .<span class=\"pl-en\">alter</span>({\n            <span class=\"pl-en\">get</span><span class=\"pl-k\">:</span> (<span class=\"pl-smi\">schema</span>) <span class=\"pl-k\">=&gt;</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">required</span>(),\n            <span class=\"pl-en\">post</span><span class=\"pl-k\">:</span> (<span class=\"pl-smi\">schema</span>) <span class=\"pl-k\">=&gt;</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">forbidden</span>()\n        })  \n});\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">getSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">tailor</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>get<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">postSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">tailor</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>post<span class=\"pl-pds\">'</span></span>]);</pre></div>\n<h4>\n<a id=\"anyunitname\" class=\"anchor\" href=\"#anyunitname\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.unit(name)</code>\n</h4>\n<p>Annotates the key where:</p>\n<ul>\n<li>\n<code>name</code> - the unit name of the value.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">unit</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>milliseconds<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"anyvalidvalues---aliases-equal\" class=\"anchor\" href=\"#anyvalidvalues---aliases-equal\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.valid(...values)</code> - aliases: <code>equal</code>\n</h4>\n<p>Adds the provided values into the allowed values list and marks them as the only valid values allowed where:</p>\n<ul>\n<li>\n<code>values</code> - one or more allowed values which can be of any type and will be matched against the validated value before applying any other rules. Supports <a href=\"#refkey-options\">references</a> and <a href=\"#inref-options\">in-references</a>. If the first value is <a href=\"#override\"><code>Joi.override</code></a>, will override any previously set values. If the only value is <a href=\"#override\"><code>Joi.override</code></a>, will also remove the <code>only</code> flag from the schema.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>B<span class=\"pl-pds\">'</span></span>)\n};</pre></div>\n<p>Possible validation errors: <a href=\"#anyonly\"><code>any.only</code></a></p>\n<h4>\n<a id=\"anyvalidatevalue-options\" class=\"anchor\" href=\"#anyvalidatevalue-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.validate(value, [options])</code>\n</h4>\n<p>Validates a value using the current schema and options where:</p>\n<ul>\n<li>\n<code>value</code> - the value being validated.</li>\n<li>\n<code>options</code> - an optional object with the following optional keys:\n<ul>\n<li>\n<code>abortEarly</code> - when <code>true</code>, stops validation on the first error, otherwise returns all the errors found. Defaults to <code>true</code>.</li>\n<li>\n<code>allowUnknown</code> - when <code>true</code>, allows object to contain unknown keys which are ignored. Defaults to <code>false</code>.</li>\n<li>\n<code>cache</code> - when <code>true</code>, schema caching is enabled (for schemas with explicit caching rules). Default to <code>true</code>.</li>\n<li>\n<code>context</code> - provides an external data set to be used in <a href=\"#refkey-options\">references</a>. Can only be set as an external option to <code>validate()</code> and not using <code>any.prefs()</code>.</li>\n<li>\n<code>convert</code> - when <code>true</code>, attempts to cast values to the required types (e.g. a string to a number). Defaults to <code>true</code>.</li>\n<li>\n<code>dateFormat</code> - sets the string format used when converting dates to strings in error messages and casting. Options are:\n<ul>\n<li>\n<code>'date'</code> - date string.</li>\n<li>\n<code>'iso'</code> - date time ISO string. This is the default.</li>\n<li>\n<code>'string'</code> - JS default date time string.</li>\n<li>\n<code>'time'</code> - time string.</li>\n<li>\n<code>'utc'</code> - UTC date time string.</li>\n</ul>\n</li>\n<li>\n<code>debug</code> - when <code>true</code>, valid results and throw errors are decorated with a <code>debug</code> property which includes an array of the validation steps used to generate the returned result. Defaults to <code>false</code>.</li>\n<li>\n<code>errors</code> - error formatting settings:\n<ul>\n<li>\n<code>escapeHtml</code> - when <code>true</code>, error message templates will escape special characters to HTML entities, for security purposes. Defaults to <code>false</code>.</li>\n<li>\n<code>label</code> - defines the value used to set the <code>label</code> context variable:\n<ul>\n<li>\n<code>'path'</code> - the full path to the value being validated. This is the default value.</li>\n<li>\n<code>'key'</code> - the key of the value being validated.</li>\n<li>\n<code>false</code> - remove any label prefix from error message, including the <code>\"\"</code>.</li>\n</ul>\n</li>\n<li>\n<code>language</code> - the preferred language code for error messages. The value is matched against keys at the root of the <code>messages</code> object, and then the error code as a child key of that. Can be a reference to the value, global context, or local context which is the root value passed to the validation function. Note that references to the value are usually not what you want as they move around the value structure relative to where the error happens. Instead, either use the global  context, or the absolute value (e.g. <code>Joi.ref('/variable')</code>);</li>\n<li>\n<code>render</code> - when <code>false</code>, skips rendering error templates. Useful when error messages are generated elsewhere to save processing time. Defaults to <code>true</code>.</li>\n<li>\n<code>stack</code> - when <code>true</code>, the main error will possess a stack trace, otherwise it will be disabled. Defaults to <code>false</code> for performances reasons. Has no effect on platforms other than V8/node.js as it uses the <a href=\"https://v8.dev/docs/stack-trace-api\" rel=\"nofollow\">Stack trace API</a>.</li>\n<li>\n<code>wrap</code> - overrides the way values are wrapped (e.g. <code>[]</code> around arrays, <code>\"\"</code> around labels). Each key can be set to a string with one (same character before and after the value) or two characters (first character before and second character after), or <code>false</code> to disable wrapping:\n<ul>\n<li>\n<code>label</code> - the characters used around <code>{#label}</code> references. Defaults to <code>'\"'</code>.</li>\n<li>\n<code>array</code> - the characters used around array values. Defaults to <code>'[]'</code>.</li>\n</ul>\n</li>\n<li>\n<code>wrapArrays</code> - if <code>true</code>, array values in error messages are wrapped in <code>[]</code>. Defaults to <code>true</code>.</li>\n</ul>\n</li>\n<li>\n<code>externals</code> - if <code>false</code>, the external rules set with <a href=\"#anyexternalmethod-description\"><code>any.external()</code></a> are ignored, which is required to ignore any external validations in synchronous mode (or an exception is thrown). Defaults to <code>true</code>.</li>\n<li>\n<code>messages</code> - overrides individual error messages. Defaults to no override (<code>{}</code>). Messages use the same rules as <a href=\"#template-syntax\">templates</a>. Variables in double braces <code>{{var}}</code> are HTML escaped if the option <code>errors.escapeHtml</code> is set to <code>true</code>.</li>\n<li>\n<code>noDefaults</code> - when <code>true</code>, do not apply default values. Defaults to <code>false</code>.</li>\n<li>\n<code>nonEnumerables</code> - when <code>true</code>, inputs are shallow cloned to include non-enumerables properties. Defaults to <code>false</code>.</li>\n<li>\n<code>presence</code> - sets the default presence requirements. Supported modes: <code>'optional'</code>, <code>'required'</code>, and <code>'forbidden'</code>. Defaults to <code>'optional'</code>.</li>\n<li>\n<code>skipFunctions</code> - when <code>true</code>, ignores unknown keys with a function value. Defaults to <code>false</code>.</li>\n<li>\n<code>stripUnknown</code> - remove unknown elements from objects and arrays. Defaults to <code>false</code>.\n<ul>\n<li>when an <code>object</code> :\n<ul>\n<li>\n<code>arrays</code> - set to <code>true</code> to remove unknown items from arrays.</li>\n<li>\n<code>objects</code> - set to <code>true</code> to remove unknown keys from objects.</li>\n</ul>\n</li>\n<li>when <code>true</code>, it is equivalent to having <code>{ arrays: false, objects: true }</code>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Returns an object with the following keys:</p>\n<ul>\n<li>\n<code>value</code> - the validated and normalized value.</li>\n<li>\n<code>error</code> - the validation errors if found.</li>\n<li>\n<code>warning</code> - the generated warnings if any.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n});\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">value</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>123<span class=\"pl-pds\">'</span></span>\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">result</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(value);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> result -&gt; { value: { \"a\" : 123 } }</span></pre></div>\n<h4>\n<a id=\"anyvalidateasyncvalue-options\" class=\"anchor\" href=\"#anyvalidateasyncvalue-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.validateAsync(value, [options])</code>\n</h4>\n<p>Validates a value asynchronously using the current schema and options where:</p>\n<ul>\n<li>\n<code>value</code> - the value being validated.</li>\n<li>\n<code>options</code> - an optional object as described in <a href=\"#anyvalidatevalue-options\"><code>any.validate()</code></a>, with the following additional settings:\n<ul>\n<li>\n<code>warnings</code> - when <code>true</code>, warnings are returned alongside the value (i.e. <code>{ value, warning }</code>). Defaults to <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n<p>Returns a Promise that resolves into the validated value when the value is valid. If the value is valid and the <code>warnings</code> or <code>debug</code> options are set to <code>true</code>, returns an object <code>{ value, warning, debug }</code>. If validation fails, the promise rejects with the validation error.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n});\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">value</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>123<span class=\"pl-pds\">'</span></span>\n};\n\n<span class=\"pl-k\">try</span> {\n  <span class=\"pl-k\">const</span> <span class=\"pl-c1\">value</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validateAsync</span>(value);\n  <span class=\"pl-c\"><span class=\"pl-c\">//</span> value -&gt; { \"a\" : 123 }</span>\n}\n<span class=\"pl-k\">catch</span> (err) {\n}</pre></div>\n<h4>\n<a id=\"anywarn\" class=\"anchor\" href=\"#anywarn\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.warn()</code>\n</h4>\n<p>Same as <a href=\"#anyruleoptions\"><code>rule({ warn: true })</code></a>.</p>\n<p>Note that <code>warn()</code> will terminate the current ruleset and cannot be followed by another rule option. Use <a href=\"#anyruleoptions\"><code>rule()</code></a> to apply multiple rule options.</p>\n<h4>\n<a id=\"anywarningcode-context\" class=\"anchor\" href=\"#anywarningcode-context\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.warning(code, [context])</code>\n</h4>\n<p>Generates a warning where:</p>\n<ul>\n<li>\n<code>code</code> - the warning code. Can be an existing error code or a custom code. If a custom code is used, a matching error message definition must be configured via <a href=\"#anymessagemessage\"><code>any.message()</code></a>, <a href=\"#anyprefsoptions--aliases-preferences-options\"><code>any.prefs()</code></a>, or validation <code>messages</code> option.</li>\n<li>\n<code>context</code> - optional context object.</li>\n</ul>\n<p>When calling <a href=\"#anyvalidateasyncvalue-options\"><code>any.validateAsync()</code></a>, set the <code>warning</code> option to <code>true</code> to enable warnings. Warnings are reported separately from errors alongside the result value via the <code>warning</code> key (i.e. <code>{ value, warning }</code>). Warning are always included when calling <a href=\"#anyvalidatevalue-options\"><code>any.validate()</code></a>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n    .<span class=\"pl-en\">warning</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>custom.x<span class=\"pl-pds\">'</span></span>, { w<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>world<span class=\"pl-pds\">'</span></span> })\n    .<span class=\"pl-en\">message</span>({ <span class=\"pl-s\"><span class=\"pl-pds\">'</span>custom.x<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>hello {#w}!<span class=\"pl-pds\">'</span></span> });\n\n<span class=\"pl-k\">const</span> { <span class=\"pl-c1\">value</span>, <span class=\"pl-c1\">error</span>, <span class=\"pl-c1\">warning</span> } <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>anything<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> value -&gt; 'anything';</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> error -&gt; null</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> warning -&gt; { message: 'hello world!', details: [...] }</span>\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> or</span>\n\n<span class=\"pl-k\">try</span> {\n    <span class=\"pl-k\">const</span> { <span class=\"pl-c1\">value</span>, <span class=\"pl-c1\">warning</span> } <span class=\"pl-k\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validateAsync</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>anything<span class=\"pl-pds\">'</span></span>, { warnings<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> value -&gt; 'anything';</span>\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> warning -&gt; { message: 'hello world!', details: [...] }</span>\n}\n<span class=\"pl-k\">catch</span> (err) { }</pre></div>\n<h4>\n<a id=\"anywhencondition-options\" class=\"anchor\" href=\"#anywhencondition-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.when([condition], options)</code>\n</h4>\n<p>Adds conditions that are evaluated during validation and modify the schema before it is applied to the value, where:</p>\n<ul>\n<li>\n<code>condition</code> - a key name, <a href=\"#refkey-options\">reference</a>, or a schema. If omitted, defaults to <code>Joi.ref('.')</code>.</li>\n<li>\n<code>options</code> - an object with:\n<ul>\n<li>\n<code>is</code> - the condition expressed as a <strong>joi</strong> schema. Anything that is not a <strong>joi</strong> schema will be converted using <a href=\"#compileschema-options\">Joi.compile</a>. By default, the <code>is</code> condition schema allows for <code>undefined</code> values. Use <code>.required()</code> to override. For example, use <code>is: Joi.number().required()</code> to guarantee that a <strong>joi</strong> reference exists and is a number.</li>\n<li>\n<code>not</code> - the negative version of <code>is</code> (<code>then</code> and <code>otherwise</code> have reverse roles).</li>\n<li>\n<code>then</code> - if the condition is true, the <strong>joi</strong> schema to use.</li>\n<li>\n<code>otherwise</code> - if the condition is false, the <strong>joi</strong> schema to use.</li>\n<li>\n<code>switch</code> - an array of <code>{ is, then }</code> conditions that are evaluated against the <code>condition</code>. The last item in the array may also contain <code>otherwise</code>.</li>\n<li>\n<code>break</code> - stops processing all other conditions if the rule results in a <code>then</code>, <code>otherwise</code>, of <code>switch</code> match.</li>\n</ul>\n</li>\n</ul>\n<p>If <code>condition</code> is a reference:</p>\n<ul>\n<li>if <code>is</code>, <code>not</code>, and <code>switch</code> are missing, <code>is</code> defaults to <code>Joi.invalid(null, false, 0, '').required()</code> (value must be a truthy).</li>\n<li>\n<code>is</code> and <code>not</code> cannot be used together.</li>\n<li>one of <code>then</code>, <code>otherwise</code>, or <code>switch</code> is required.</li>\n<li>cannot use <code>is</code> or <code>then</code> with <code>switch</code>.</li>\n<li>cannot specify <code>otherwise</code> both inside the last <code>switch</code> statement and outside.</li>\n</ul>\n<p>If <code>condition</code> is a schema:</p>\n<ul>\n<li>cannot specify <code>is</code> or <code>switch</code>.</li>\n<li>one of <code>then</code> or <code>otherwise</code> is required.</li>\n</ul>\n<p>When <code>is</code>, <code>then</code>, or <code>otherwise</code> are assigned literal values, the values are compiled into override schemas (<code>'x'</code> is compiled into <code>Joi.valid(Joi.override, 'x')</code>). This means they will override any base schema the rule is applied to. To append a literal value, use the explicit <code>Joi.valid('x')</code> format.</p>\n<p>Notes:</p>\n<ul>\n<li>an invalid combination of schema modifications (e.g. trying to add string rules or a number type) will cause validation to throw an error.</li>\n<li>because the schema is constructed at validation time, it can have a significant performance impact. Run-time generated schemas are cached, but the first time of each generation will take longer than once it is cached.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n        .<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>x<span class=\"pl-pds\">'</span></span>)\n        .<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, { is<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">exist</span>(), then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>y<span class=\"pl-pds\">'</span></span>), otherwise<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>z<span class=\"pl-pds\">'</span></span>) })\n        .<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>c<span class=\"pl-pds\">'</span></span>, { is<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">10</span>), then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">forbidden</span>() }),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n    c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n};</pre></div>\n<p>Or with a schema:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>x<span class=\"pl-pds\">'</span></span>),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n})\n    .<span class=\"pl-en\">when</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({ b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">exist</span>() }).<span class=\"pl-en\">unknown</span>(), {\n        then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n            a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>y<span class=\"pl-pds\">'</span></span>)\n        }),\n        otherwise<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n            a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>z<span class=\"pl-pds\">'</span></span>)\n        })\n});</pre></div>\n<p>Note that this style is much more useful when your whole schema depends on the value of one of its\nproperty, or if you find yourself repeating the check for many keys of an object. For example to\nvalidate this logic:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    type<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n        .<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>A<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>B<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>C<span class=\"pl-pds\">'</span></span>)\n        .<span class=\"pl-en\">required</span>(),              <span class=\"pl-c\"><span class=\"pl-c\">//</span> required if type == 'A'</span>\n        \n    foo<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>type<span class=\"pl-pds\">'</span></span>, {\n        is<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>A<span class=\"pl-pds\">'</span></span>,\n        then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n        .<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>X<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Y<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Z<span class=\"pl-pds\">'</span></span>)\n        .<span class=\"pl-en\">required</span>()\n    }),                           <span class=\"pl-c\"><span class=\"pl-c\">//</span> required if type === 'A' and foo !== 'Z'</span>\n    \n    bar<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n})\n    .<span class=\"pl-en\">when</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({ type<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>A<span class=\"pl-pds\">'</span></span>), foo<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">not</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Z<span class=\"pl-pds\">'</span></span>) }).<span class=\"pl-en\">unknown</span>(), {\n        then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({ bar<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">required</span>() })\n    });</pre></div>\n<p>Alternatively, if you want to specify a specific type such as <code>string</code>, <code>array</code>, etc, you can do so\nlike this:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>other<span class=\"pl-pds\">'</span></span>),\n    other<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n        .<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, { is<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>other<span class=\"pl-pds\">'</span></span>, then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">required</span>() }),\n};</pre></div>\n<p>If you need to validate a child key inside a nested object based on a sibling's value, you can do\nso like this:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">required</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>()\n        .<span class=\"pl-c1\">keys</span>({\n            c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n            d<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>()\n        })\n        .<span class=\"pl-en\">required</span>()\n        .<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, {\n            is<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>,\n            then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({ c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">required</span>() })\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> b.c is required only when a is true</span>\n        })\n});</pre></div>\n<p>If you want to validate one key based on the existence of another key, you can do so like the\nfollowing (notice the use of <code>required()</code>):</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    min<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>(),\n    max<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>min<span class=\"pl-pds\">'</span></span>, {\n        is<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>(),\n        then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">greater</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>min<span class=\"pl-pds\">'</span></span>)),\n    }),\n});</pre></div>\n<p>To evaluate multiple values on a single reference:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n        .<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, {\n            <span class=\"pl-k\">switch</span>: [\n                { is<span class=\"pl-k\">:</span> <span class=\"pl-c1\">0</span>, then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-c1\">1</span>) },\n                { is<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-c1\">2</span>) },\n                { is<span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span>, then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-c1\">3</span>) }\n            ],\n            otherwise<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-c1\">4</span>)\n        })\n});</pre></div>\n<p>Or shorter:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n        .<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, [\n            { is<span class=\"pl-k\">:</span> <span class=\"pl-c1\">0</span>, then<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span> },\n            { is<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, then<span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span> },\n            { is<span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span>, then<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3</span>, otherwise<span class=\"pl-k\">:</span> <span class=\"pl-c1\">4</span> }\n        ])\n});</pre></div>\n<h3>\n<a id=\"alternatives\" class=\"anchor\" href=\"#alternatives\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>alternatives</code>\n</h3>\n<p>Generates a type that will match one of the provided alternative schemas via the <a href=\"#alternativestryschemas\"><code>try()</code></a>\nmethod. If no schemas are added, the type will not match any value except for <code>undefined</code>.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<p>Alternatives can be expressed using the shorter <code>[]</code> notation.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">alt</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">alternatives</span>().<span class=\"pl-en\">try</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>());\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Same as [Joi.number(), Joi.string()]</span></pre></div>\n<p>Possible validation errors: <a href=\"#alternativesany\"><code>alternatives.any</code></a>, <a href=\"#alternativesall\"><code>alternatives.all</code></a>, <a href=\"#alternativesone\"><code>alternatives.one</code></a>, <a href=\"#alternativestypes\"><code>alternatives.types</code></a>, <a href=\"#alternativesmatch\"><code>alternatives.match</code></a></p>\n<h4>\n<a id=\"alternativesconditionalcondition-options\" class=\"anchor\" href=\"#alternativesconditionalcondition-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>alternatives.conditional(condition, options)</code>\n</h4>\n<p>Adds a conditional alternative schema type, either based on another key value, or a schema peeking into the current value, where:</p>\n<ul>\n<li>\n<code>condition</code> - the key name or <a href=\"#refkey-options\">reference</a>, or a schema.</li>\n<li>\n<code>options</code> - an object with:\n<ul>\n<li>\n<code>is</code> - the condition expressed as a <strong>joi</strong> schema. Anything that is not a <strong>joi</strong> schema will be converted using <a href=\"#compileschema-options\">Joi.compile</a>.</li>\n<li>\n<code>not</code> - the negative version of <code>is</code> (<code>then</code> and <code>otherwise</code> have reverse roles).</li>\n<li>\n<code>then</code> - if the condition is true, the <strong>joi</strong> schema to use.</li>\n<li>\n<code>otherwise</code> - if the condition is false, the <strong>joi</strong> schema to use.</li>\n<li>\n<code>switch</code> - an array of <code>{ is, then }</code> conditions that are evaluated against the <code>condition</code>. The last item in the array may also contain <code>otherwise</code>.</li>\n</ul>\n</li>\n</ul>\n<p>If <code>condition</code> is a reference:</p>\n<ul>\n<li>if <code>is</code>, <code>not</code>, and <code>switch</code> are missing, <code>is</code> defaults to <code>Joi.invalid(null, false, 0, '').required()</code> (value must be a truthy).</li>\n<li>\n<code>is</code> and <code>not</code> cannot be used together.</li>\n<li>one of <code>then</code>, <code>otherwise</code>, or <code>switch</code> is required.</li>\n<li>cannot use <code>is</code> or <code>then</code> with <code>switch</code>.</li>\n<li>cannot specify <code>otherwise</code> both inside the last <code>switch</code> statement and outside.</li>\n</ul>\n<p>If <code>condition</code> is a schema:</p>\n<ul>\n<li>cannot specify <code>is</code> or <code>switch</code>.</li>\n<li>one of <code>then</code> or <code>otherwise</code> is required.</li>\n</ul>\n<p>When <code>is</code>, <code>then</code>, or <code>otherwise</code> are assigned literal values, the values are compiled into override schemas (<code>'x'</code> is compiled into <code>Joi.valid(Joi.override, 'x')</code>). This means they will override any base schema the rule is applied to. To append a literal value, use the explicit <code>Joi.valid('x')</code> format.</p>\n<p>Note that <code>alternatives.conditional()</code> is different than <code>any.when()</code>. When you use <code>any.when()</code> you end up with composite schema of all the matching conditions while <code>alternatives.conditional()</code> will use the first matching schema, ignoring other conditional statements.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">alternatives</span>().<span class=\"pl-en\">conditional</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, { is<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span>, then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(), otherwise<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>() }),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n};</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">alternatives</span>().<span class=\"pl-en\">conditional</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({ b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span> }).<span class=\"pl-en\">unknown</span>(), {\n    then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n        a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n        b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n    }),\n    otherwise<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n        a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>(),\n        b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n    })\n});</pre></div>\n<p>Note that <code>conditional()</code> only adds additional alternatives to try and does not impact the overall type. Setting\na <code>required()</code> rule on a single alternative will not apply to the overall key. For example,\nthis definition of <code>a</code>:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">alternatives</span>().<span class=\"pl-en\">conditional</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, { is<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>, then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">required</span>() }),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>()\n};</pre></div>\n<p>Does not turn <code>a</code> into a required key when <code>b</code> is <code>true</code>. Instead, it tells the validator to try and match the\nvalue to anything that's not <code>undefined</code>. However, since <code>Joi.alternatives()</code> by itself allows <code>undefined</code>, the rule\ndoes not accomplish turning <code>a</code> to a required value. This rule is the same as <code>Joi.alternatives([Joi.required()])</code>\nwhen <code>b</code> is <code>true</code> which will allow any value including <code>undefined</code>.</p>\n<p>To accomplish the desired result above use:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, { is<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>, then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">required</span>() }),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>()\n};</pre></div>\n<h4>\n<a id=\"alternativesmatchmode\" class=\"anchor\" href=\"#alternativesmatchmode\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>alternatives.match(mode)</code>\n</h4>\n<p>Requires the validated value to match a specific set of the provided <code>alternative.try()</code> schemas where:</p>\n<ul>\n<li>\n<code>mode</code> - the match mode which can be one of:\n<ul>\n<li>\n<code>'any'</code> - match any provided schema. This is the default value.</li>\n<li>\n<code>'all'</code> - match all of the provided schemas. Note that this will ignore any conversions performed by the matchin schemas and return the raw value provided regardless of the <code>convert</code> preference set.</li>\n<li>\n<code>'one'</code> - match one and only one of the provided schemas.</li>\n</ul>\n</li>\n</ul>\n<p>Note: Cannot be combined with <code>alternatives.conditional()</code>.</p>\n<p>Possible validation errors: <a href=\"#alternativesany\"><code>alternatives.any</code></a>, <a href=\"#alternativesall\"><code>alternatives.all</code></a>, <a href=\"#alternativesone\"><code>alternatives.one</code></a></p>\n<h4>\n<a id=\"alternativestryschemas\" class=\"anchor\" href=\"#alternativestryschemas\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>alternatives.try(...schemas)</code>\n</h4>\n<p>Adds an alternative schema type for attempting to match against the validated value where:</p>\n<ul>\n<li>\n<code>schemas</code> - alternative <strong>joi</strong> types, each as a separate argument.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">alt</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">alternatives</span>().<span class=\"pl-en\">try</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>());\n<span class=\"pl-k\">await</span> <span class=\"pl-smi\">alt</span>.<span class=\"pl-en\">validateAsync</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h3>\n<a id=\"array\" class=\"anchor\" href=\"#array\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array</code>\n</h3>\n<p>Generates a schema object that matches an array data type. Note that undefined values inside arrays are not allowed by\ndefault but can be by using <code>sparse()</code>.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">array</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-k\">await</span> <span class=\"pl-smi\">array</span>.<span class=\"pl-en\">validateAsync</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>]);</pre></div>\n<p>Possible validation errors: <a href=\"#arraybase\"><code>array.base</code></a></p>\n<h4>\n<a id=\"arrayhasschema\" class=\"anchor\" href=\"#arrayhasschema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.has(schema)</code>\n</h4>\n<p>Verifies that a schema validates at least one of the values in the array, where:</p>\n<ul>\n<li>\n<code>schema</code> - the validation rules required to satisfy the check. If the <code>schema</code> includes references, they are resolved against\nthe array item being tested, not the value of the <code>ref</code> target.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(\n  <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n  })\n).<span class=\"pl-c1\">has</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>), b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>() }))</pre></div>\n<p>Possible validation errors: <a href=\"#arrayhasknown\"><code>array.hasKnown</code></a>, <a href=\"#arrayhasunknown\"><code>array.hasUnknown</code></a></p>\n<h4>\n<a id=\"arrayitemstypes\" class=\"anchor\" href=\"#arrayitemstypes\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.items(...types)</code>\n</h4>\n<p>Lists the types allowed for the array values where:</p>\n<ul>\n<li>\n<code>types</code> - one or more <strong>joi</strong> schema objects to validate each array item against.</li>\n</ul>\n<p>If a given type is <code>.required()</code> then there must be a matching item in the array.\nIf a type is <code>.forbidden()</code> then it cannot appear in the array.\nRequired items can be added multiple times to signify that multiple items must be found.\nErrors will contain the number of items that didn't match. Any unmatched item having a <a href=\"#anylabelname\">label</a> will be mentioned explicitly.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> array may contain strings and numbers</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> array must contain at least two strings</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>not allowed<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">forbidden</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> array may contain strings, but none of those strings can match 'not allowed'</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">label</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>My string<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">required</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> If this fails it can result in `[ValidationError: \"value\" does not contain [My string] and 1 other required value(s)]`</span></pre></div>\n<p>Possible validation errors: <a href=\"#arrayexcludes\"><code>array.excludes</code></a>, [<code>array.includesRequiredBoth</code>], [<code>array.includesRequiredKnowns</code>], [<code>array.includesRequiredUnknowns</code>], <a href=\"#arrayincludes\"><code>array.includes</code></a></p>\n<h4>\n<a id=\"arraylengthlimit\" class=\"anchor\" href=\"#arraylengthlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.length(limit)</code>\n</h4>\n<p>Specifies the exact number of items in the array where:</p>\n<ul>\n<li>\n<code>limit</code> - the number of array items allowed or a reference.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-c1\">length</span>(<span class=\"pl-c1\">5</span>);</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  limit<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">integer</span>().<span class=\"pl-en\">required</span>(),\n  numbers<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-c1\">length</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>limit<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p>Possible validation errors: <a href=\"#arraylength\"><code>array.length</code></a>, <a href=\"#arrayref\"><code>array.ref</code></a></p>\n<h4>\n<a id=\"arraymaxlimit\" class=\"anchor\" href=\"#arraymaxlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.max(limit)</code>\n</h4>\n<p>Specifies the maximum number of items in the array where:</p>\n<ul>\n<li>\n<code>limit</code> - the highest number of array items allowed or a reference.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">10</span>);</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  limit<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">integer</span>().<span class=\"pl-en\">required</span>(),\n  numbers<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>limit<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p>Possible validation errors: <a href=\"#arraymax\"><code>array.max</code></a>, <a href=\"#arrayref\"><code>array.ref</code></a></p>\n<h4>\n<a id=\"arrayminlimit\" class=\"anchor\" href=\"#arrayminlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.min(limit)</code>\n</h4>\n<p>Specifies the minimum number of items in the array where:</p>\n<ul>\n<li>\n<code>limit</code> - the lowest number of array items allowed or a reference.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">2</span>);</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  limit<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">integer</span>().<span class=\"pl-en\">required</span>(),\n  numbers<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>limit<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p>Possible validation errors: <a href=\"#arraymin\"><code>array.min</code></a>, <a href=\"#arrayref\"><code>array.ref</code></a></p>\n<h4>\n<a id=\"arrayorderedtype\" class=\"anchor\" href=\"#arrayorderedtype\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.ordered(...type)</code>\n</h4>\n<p>Lists the types in sequence order for the array values where:</p>\n<ul>\n<li>\n<code>types</code> - one or more <strong>joi</strong> schema objects to validate against each array item in sequence order.</li>\n</ul>\n<p>If a given type is <code>.required()</code> then there must be a matching item with the same index position in the array.\nErrors will contain the number of items that didn't match. Any unmatched item having a <a href=\"#anylabelname\">label</a> will be mentioned explicitly.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">ordered</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> array must have first item as string and second item as number</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">ordered</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>()).<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> array must have first item as string and 1 or more subsequent items as number</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">ordered</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> array must have first item as string and optionally second item as number</span></pre></div>\n<p>Possible validation errors: <a href=\"#arrayexcludes\"><code>array.excludes</code></a>, <a href=\"#arrayincludes\"><code>array.includes</code></a>, <a href=\"#arrayorderedlength\"><code>array.orderedLength</code></a></p>\n<h4>\n<a id=\"arraysingleenabled\" class=\"anchor\" href=\"#arraysingleenabled\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.single([enabled])</code>\n</h4>\n<p>Allows single values to be checked against rules as if it were provided as an array.</p>\n<p><code>enabled</code> can be used with a falsy value to go back to the default behavior.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()).<span class=\"pl-en\">single</span>();\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>([<span class=\"pl-c1\">4</span>]); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns `{ error: null, value: [ 4 ] }`</span>\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-c1\">4</span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns `{ error: null, value: [ 4 ] }`</span></pre></div>\n<p>Possible validation errors: <a href=\"#arrayexcludes\"><code>array.excludes</code></a>, <a href=\"#arrayincludes\"><code>array.includes</code></a></p>\n<h4>\n<a id=\"arraysortoptions\" class=\"anchor\" href=\"#arraysortoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.sort([options])</code>\n</h4>\n<p>Requires the array to comply with the specified sort order where:</p>\n<ul>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>order</code> - the sort order. Allowed values:\n<ul>\n<li>\n<code>'ascending'</code> - sort the array in ascending order. This is the default.</li>\n<li>\n<code>'descending'</code> - sort the array in descending order.</li>\n</ul>\n</li>\n<li>\n<code>by</code> - a key name or reference to sort array objects by. Defaults to the entire value.</li>\n</ul>\n</li>\n</ul>\n<p>Notes:</p>\n<ul>\n<li>if the <code>convert</code> preference is <code>true</code>, the array is modified to match the required sort order.</li>\n<li>\n<code>undefined</code> values are always placed at the end of the array regardless of the sort order.</li>\n<li>can only sort string and number items or item key values.</li>\n</ul>\n<p>Possible validation errors: <a href=\"#arraysort\"><code>array.sort</code></a>, <a href=\"#arraysortunsupported\"><code>array.sort.unsupported</code></a>, <a href=\"#arraysortmismatching\"><code>array.sort.mismatching</code></a></p>\n<h4>\n<a id=\"arraysparseenabled\" class=\"anchor\" href=\"#arraysparseenabled\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.sparse([enabled])</code>\n</h4>\n<p>Allows this array to be sparse. <code>enabled</code> can be used with a falsy value to go back to the default behavior.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">let</span> schema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">sparse</span>(); <span class=\"pl-c\"><span class=\"pl-c\">//</span> undefined values are now allowed</span>\nschema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">sparse</span>(<span class=\"pl-c1\">false</span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> undefined values are now denied</span></pre></div>\n<p>Possible validation errors: <a href=\"#arraysparse\"><code>array.sparse</code></a></p>\n<h4>\n<a id=\"arrayuniquecomparator-options\" class=\"anchor\" href=\"#arrayuniquecomparator-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.unique([comparator, [options]])</code>\n</h4>\n<p>Requires the array values to be unique where:</p>\n<ul>\n<li>\n<code>comparator</code> - an optional custom <code>comparator</code> that is either:\n<ul>\n<li>a function that takes 2 parameters to compare. This function should return whether the 2\nparameters are equal or not, you are also <strong>responsible</strong> for this function not to fail, any\n<code>Error</code> would bubble out of Joi.</li>\n<li>a string in dot notation representing the path of the element to do uniqueness check on. Any\nmissing path will be considered undefined, and can as well only exist once.</li>\n</ul>\n</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>ignoreUndefined</code> - if <code>true</code>, undefined values for the dot notation string comparator will\nnot cause the array to fail on uniqueness. Defaults to <code>false</code>.</li>\n<li>\n<code>separator</code> - overrides the default <code>.</code> hierarchy separator. Set to <code>false</code> to treat the\n<code>key</code> as a literal value.</li>\n</ul>\n</li>\n</ul>\n<p>Note: remember that if you provide a custom comparator function, different types can be passed as parameter depending on the rules you set on items.</p>\n<p>Be aware that a deep equality is performed on elements of the array having a type of <code>object</code>, a performance penalty is to be expected for this kind of operation.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">unique</span>();</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">unique</span>((<span class=\"pl-smi\">a</span>, <span class=\"pl-smi\">b</span>) <span class=\"pl-k\">=&gt;</span> <span class=\"pl-smi\">a</span>.<span class=\"pl-smi\">property</span> <span class=\"pl-k\">===</span> <span class=\"pl-smi\">b</span>.<span class=\"pl-smi\">property</span>);</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">unique</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customer.id<span class=\"pl-pds\">'</span></span>);</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">let</span> schema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">unique</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>identifier<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>([{}, {}]);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: \"value\" position 1 contains a duplicate value</span>\n\nschema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">unique</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>identifier<span class=\"pl-pds\">'</span></span>, { ignoreUndefined<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });\n\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>([{}, {}]);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> error: null</span></pre></div>\n<p>Possible validation errors: <a href=\"#arrayunique\"><code>array.unique</code></a></p>\n<h3>\n<a id=\"binary\" class=\"anchor\" href=\"#binary\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>binary</code>\n</h3>\n<p>Generates a schema object that matches a Buffer data type. If the validation <code>convert</code> option is on (enabled by default), a string\nwill be converted to a Buffer if specified.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">binary</span>();</pre></div>\n<p>Possible validation errors: <a href=\"#binarybase\"><code>binary.base</code></a></p>\n<h4>\n<a id=\"binaryencodingencoding\" class=\"anchor\" href=\"#binaryencodingencoding\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>binary.encoding(encoding)</code>\n</h4>\n<p>Sets the string encoding format if a string input is converted to a buffer where:</p>\n<ul>\n<li>\n<code>encoding</code> - the encoding scheme.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">binary</span>().<span class=\"pl-c1\">encoding</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>base64<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"binarylengthlimit\" class=\"anchor\" href=\"#binarylengthlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>binary.length(limit)</code>\n</h4>\n<p>Specifies the exact length of the buffer:</p>\n<ul>\n<li>\n<code>limit</code> - the size of buffer allowed or a reference.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">binary</span>().<span class=\"pl-c1\">length</span>(<span class=\"pl-c1\">5</span>);</pre></div>\n<p>Possible validation errors: <a href=\"#binarylength\"><code>binary.length</code></a>, <a href=\"#binaryref\"><code>binary.ref</code></a></p>\n<h4>\n<a id=\"binarymaxlimit\" class=\"anchor\" href=\"#binarymaxlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>binary.max(limit)</code>\n</h4>\n<p>Specifies the maximum length of the buffer where:</p>\n<ul>\n<li>\n<code>limit</code> - the highest size of the buffer or a reference.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">binary</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">10</span>);</pre></div>\n<p>Possible validation errors: <a href=\"#binarymax\"><code>binary.max</code></a>, <a href=\"#binaryref\"><code>binary.ref</code></a></p>\n<h4>\n<a id=\"binaryminlimit\" class=\"anchor\" href=\"#binaryminlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>binary.min(limit)</code>\n</h4>\n<p>Specifies the minimum length of the buffer where:</p>\n<ul>\n<li>\n<code>limit</code> - the lowest size of the buffer or a reference.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">binary</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">2</span>);</pre></div>\n<p>Possible validation errors: <a href=\"#binarymin\"><code>binary.min</code></a>, <a href=\"#binaryref\"><code>binary.ref</code></a></p>\n<h3>\n<a id=\"boolean\" class=\"anchor\" href=\"#boolean\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>boolean</code>\n</h3>\n<p>Generates a schema object that matches a boolean data type. Can also be called via <code>bool()</code>. If the validation <code>convert</code>\noption is on (enabled by default), a string (either \"true\" or \"false\") will be converted to a <code>boolean</code> if specified.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">boolean</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>();\n\n<span class=\"pl-k\">await</span> <span class=\"pl-smi\">boolean</span>.<span class=\"pl-en\">validateAsync</span>(<span class=\"pl-c1\">true</span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> Valid</span>\n<span class=\"pl-k\">await</span> <span class=\"pl-smi\">boolean</span>.<span class=\"pl-en\">validateAsync</span>(<span class=\"pl-c1\">1</span>);    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Throws</span></pre></div>\n<p>Possible validation errors: <a href=\"#booleanbase\"><code>boolean.base</code></a></p>\n<h4>\n<a id=\"booleanfalsyvalues\" class=\"anchor\" href=\"#booleanfalsyvalues\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>boolean.falsy(...values)</code>\n</h4>\n<p>Allows for additional values to be considered valid booleans by converting them to <code>false</code> during validation.\nRequires the validation <code>convert</code> option to be <code>true</code>.</p>\n<p>String comparisons are by default case insensitive, see <a href=\"#booleansensitiveenabled\"><code>boolean.sensitive()</code></a> to change this behavior.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">boolean</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">falsy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>N<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">await</span> <span class=\"pl-smi\">boolean</span>.<span class=\"pl-en\">validateAsync</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>N<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> Valid</span></pre></div>\n<h4>\n<a id=\"booleansensitiveenabled\" class=\"anchor\" href=\"#booleansensitiveenabled\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>boolean.sensitive([enabled])</code>\n</h4>\n<p>Restrict the values provided to <code>truthy</code> and <code>falsy</code> as well as the <code>'true'</code> and <code>'false'</code> default conversions (when not in <code>strict()</code> mode) to be matched in a case sensitive manner, where:</p>\n<ul>\n<li>\n<code>enabled</code> - when <code>false</code>, allows insensitive comparison. Defaults to <code>true</code>.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">truthy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>yes<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">falsy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>no<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">sensitive</span>();</pre></div>\n<h4>\n<a id=\"booleantruthyvalues\" class=\"anchor\" href=\"#booleantruthyvalues\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>boolean.truthy(...values)</code>\n</h4>\n<p>Allows for additional values to be considered valid booleans by converting them to <code>true</code> during validation.\nRequires the validation <code>convert</code> option to be <code>true</code>.</p>\n<p>String comparisons are by default case insensitive, see <a href=\"#booleansensitiveenabled\"><code>boolean.sensitive()</code></a> to change this behavior.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">boolean</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">truthy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Y<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">await</span> <span class=\"pl-smi\">boolean</span>.<span class=\"pl-en\">validateAsync</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Y<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> Valid</span></pre></div>\n<h3>\n<a id=\"date\" class=\"anchor\" href=\"#date\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date</code>\n</h3>\n<p>Generates a schema object that matches a date type (as well as a JavaScript date string or number of milliseconds). If\nthe validation <code>convert</code> option is on (enabled by default), a string or number will be converted to a Date if specified.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">date</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>();\n<span class=\"pl-k\">await</span> <span class=\"pl-smi\">date</span>.<span class=\"pl-en\">validateAsync</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>12-21-2012<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Possible validation errors: <a href=\"#datebase\"><code>date.base</code></a>, <a href=\"#datestrict\"><code>date.strict</code></a></p>\n<h4>\n<a id=\"dategreaterdate\" class=\"anchor\" href=\"#dategreaterdate\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.greater(date)</code>\n</h4>\n<p>Specifies that the value must be greater than <code>date</code> (or a reference).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">greater</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>1-1-1974<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Notes: <code>'now'</code> can be passed in lieu of <code>date</code> so as to always compare relatively to the current date, allowing to explicitly ensure a date is either in the past or in the future.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">greater</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>now<span class=\"pl-pds\">'</span></span>);</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  from<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">required</span>(),\n  to<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">greater</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>from<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p>Possible validation errors: <a href=\"#dategreater\"><code>date.greater</code></a>, <a href=\"#dateref\"><code>date.ref</code></a></p>\n<h4>\n<a id=\"dateiso\" class=\"anchor\" href=\"#dateiso\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.iso()</code>\n</h4>\n<p>Requires the string value to be in valid ISO 8601 date format.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">iso</span>();</pre></div>\n<p>Possible validation errors: <a href=\"#dateformat\"><code>date.format</code></a></p>\n<h4>\n<a id=\"datelessdate\" class=\"anchor\" href=\"#datelessdate\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.less(date)</code>\n</h4>\n<p>Specifies that the value must be less than <code>date</code> (or a reference).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">less</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>12-31-2020<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Notes: <code>'now'</code> can be passed in lieu of <code>date</code> so as to always compare relatively to the current date, allowing to explicitly ensure a date is either in the past or in the future.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>now<span class=\"pl-pds\">'</span></span>);</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  from<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">less</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>to<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>(),\n  to<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p>Possible validation errors: <a href=\"#dateless\"><code>date.less</code></a>, <a href=\"#dateref\"><code>date.ref</code></a></p>\n<h4>\n<a id=\"datemaxdate\" class=\"anchor\" href=\"#datemaxdate\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.max(date)</code>\n</h4>\n<p>Specifies the latest date allowed where:</p>\n<ul>\n<li>\n<code>date</code> - the latest date allowed or a reference.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>12-31-2020<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Notes: <code>'now'</code> can be passed in lieu of <code>date</code> so as to always compare relatively to the current date, allowing to explicitly ensure a date is either in the past or in the future.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>now<span class=\"pl-pds\">'</span></span>);</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  from<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>to<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>(),\n  to<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p>Possible validation errors: <a href=\"#datemax\"><code>date.max</code></a>, <a href=\"#dateref\"><code>date.ref</code></a></p>\n<h4>\n<a id=\"datemindate\" class=\"anchor\" href=\"#datemindate\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.min(date)</code>\n</h4>\n<p>Specifies the oldest date allowed where:</p>\n<ul>\n<li>\n<code>date</code> - the oldest date allowed or a reference.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>1-1-1974<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Notes: <code>'now'</code> can be passed in lieu of <code>date</code> so as to always compare relatively to the current date, allowing to explicitly ensure a date is either in the past or in the future.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>now<span class=\"pl-pds\">'</span></span>);</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  from<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">required</span>(),\n  to<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>from<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p>Possible validation errors: <a href=\"#datemin\"><code>date.min</code></a>, <a href=\"#dateref\"><code>date.ref</code></a></p>\n<h4>\n<a id=\"datetimestamptype\" class=\"anchor\" href=\"#datetimestamptype\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.timestamp([type])</code>\n</h4>\n<p>Requires the value to be a timestamp interval from <a href=\"https://en.wikipedia.org/wiki/Unix_time\" rel=\"nofollow\">Unix Time</a>.</p>\n<ul>\n<li>\n<code>type</code> - the type of timestamp (allowed values are <code>unix</code> or <code>javascript</code> [default])</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">timestamp</span>(); <span class=\"pl-c\"><span class=\"pl-c\">//</span> defaults to javascript timestamp</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">timestamp</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>javascript<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> also, for javascript timestamp (milliseconds)</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">timestamp</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>unix<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> for unix timestamp (seconds)</span></pre></div>\n<p>Possible validation errors: <a href=\"#dateformat\"><code>date.format</code></a></p>\n<h3>\n<a id=\"function---inherits-from-object\" class=\"anchor\" href=\"#function---inherits-from-object\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>function</code> - inherits from <code>object</code>\n</h3>\n<p>Generates a schema object that matches a function type.</p>\n<p>Supports the same methods of the <a href=\"#object\"><code>object()</code></a> type. Note that validating a function keys will cause the function\nto be cloned. While the function will retain its prototype and closure, it will lose its <code>length</code> property value (will be\nset to <code>0</code>).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">func</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">function</span>();\n<span class=\"pl-k\">await</span> <span class=\"pl-smi\">func</span>.<span class=\"pl-en\">validateAsync</span>(<span class=\"pl-k\">function</span> () {});</pre></div>\n<p>Possible validation errors: <a href=\"#objectbase\"><code>object.base</code></a></p>\n<h4>\n<a id=\"functionarityn\" class=\"anchor\" href=\"#functionarityn\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>function.arity(n)</code>\n</h4>\n<p>Specifies the arity of the function where:</p>\n<ul>\n<li>\n<code>n</code> - the arity expected.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">function</span>().<span class=\"pl-en\">arity</span>(<span class=\"pl-c1\">2</span>);</pre></div>\n<p>Possible validation errors: <a href=\"#functionarity\"><code>function.arity</code></a></p>\n<h4>\n<a id=\"-functionclass\" class=\"anchor\" href=\"#-functionclass\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a> <code>function.class()</code>\n</h4>\n<p>Requires the function to be a class.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">function</span>().<span class=\"pl-en\">class</span>();</pre></div>\n<p>Possible validation errors: <a href=\"#functionclass\"><code>function.class</code></a></p>\n<h4>\n<a id=\"-functionmaxarityn\" class=\"anchor\" href=\"#-functionmaxarityn\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a> <code>function.maxArity(n)</code>\n</h4>\n<p>Specifies the maximal arity of the function where:</p>\n<ul>\n<li>\n<code>n</code> - the maximum arity expected.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">function</span>().<span class=\"pl-en\">maxArity</span>(<span class=\"pl-c1\">3</span>);</pre></div>\n<p>Possible validation errors: <a href=\"#functionmaxarity\"><code>function.maxArity</code></a></p>\n<h4>\n<a id=\"-functionminarityn\" class=\"anchor\" href=\"#-functionminarityn\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a> <code>function.minArity(n)</code>\n</h4>\n<p>Specifies the minimal arity of the function where:</p>\n<ul>\n<li>\n<code>n</code> - the minimal arity expected.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">function</span>().<span class=\"pl-en\">minArity</span>(<span class=\"pl-c1\">1</span>);</pre></div>\n<p>Possible validation errors: <a href=\"#functionminarity\"><code>function.minArity</code></a></p>\n<h3>\n<a id=\"linkref\" class=\"anchor\" href=\"#linkref\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>link(ref)</code>\n</h3>\n<p>Links to another schema node and reuses it for validation, typically for creative recursive schemas, where:</p>\n<ul>\n<li>\n<code>ref</code> - the reference to the linked schema node. Cannot reference itself or its children as well as other links. Links can be expressed in relative terms like value references (<code>Joi.link('...')</code>), in absolute terms from the schema run-time root (<code>Joi.link('/a')</code>), or using schema ids implicitly using object keys or explicitly using <code>any.id()</code> (<code>Joi.link('#a.b.c')</code>).</li>\n</ul>\n<p>Supports the methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<p>When links are combined with <code>any.when()</code> rules, the rules are applied after the link is resolved to the linked schema.</p>\n<p>Names links are recommended for most use cases as they are easy to reason and understand, and when mistakes are made, they simply error with invalid link message. Relative links are often hard to follow, especially when they are nested in array or alternatives rules. Absolute links are useful only when the schema is never reused inside another schema as the root is the run-time root of the schema being validated, not the current schema root.</p>\n<p>Note that named links must be found in a direct ancestor of the link. The names are searched by iterating over the chain of schemas from the current schema to the root. To reach an uncle or cousin, you must use the name of a common ancestor such as a grandparent and then walk down the tree.</p>\n<p>Links are resolved once (per runtime) and the result schema cached. If you reuse a link in different places, the first time it is resolved at run-time, the result will be used by all other instances. If you want each link to resolve relative to the place it is used, use a separate <code>Joi.link()</code> statement in each place or set the <code>relative()</code> flag.</p>\n<p>Named links:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">person</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    firstName<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(),\n    lastName<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(),\n    children<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>()\n        .<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">link</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>#person<span class=\"pl-pds\">'</span></span>))\n})\n  .<span class=\"pl-c1\">id</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>person<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Relative links:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">person</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    firstName<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(),\n    lastName<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(),\n    children<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>()\n        .<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">link</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>...<span class=\"pl-pds\">'</span></span>))\n        <span class=\"pl-c\"><span class=\"pl-c\">//</span> . - the link</span>\n        <span class=\"pl-c\"><span class=\"pl-c\">//</span> .. - the children array</span>\n        <span class=\"pl-c\"><span class=\"pl-c\">//</span> ... - the person object</span>\n});</pre></div>\n<p>Absolute links:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">person</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    firstName<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(),\n    lastName<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(),\n    children<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>()\n        .<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">link</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span>))\n});</pre></div>\n<h4>\n<a id=\"linkrefref\" class=\"anchor\" href=\"#linkrefref\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>link.ref(ref)</code>\n</h4>\n<p>Initializes the schema after constructions for cases where the schema has to be constructed first and\nthen initialized. If <code>ref</code> was not passed to the constructor, <code>link.ref()</code> must be called prior to usaged.</p>\n<p>Will throw an error during validation if left uninitialized (e.g. <code>Joi.link()</code> called without a link and <code>link.ref()</code> not called).</p>\n<h4>\n<a id=\"linkconcatschema\" class=\"anchor\" href=\"#linkconcatschema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>link.concat(schema)</code>\n</h4>\n<p>Same as <a href=\"#anyconcatschema\"><code>any.concat()</code></a> but the schema is merged after the link is resolved which allows merging with schemas of the same type as the resolved link. Will throw an exception during validation if the merged types are not compatible.</p>\n<h3>\n<a id=\"number\" class=\"anchor\" href=\"#number\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number</code>\n</h3>\n<p>Generates a schema object that matches a number data type (as well as strings that can be converted to numbers).</p>\n<p>By default, it only allows safe numbers, see <a href=\"#numberunsafeenabled\"><code>number.unsafe()</code></a>.</p>\n<p>If the validation <code>convert</code> option is on (enabled by default), a string will be converted to a <code>number</code> if specified. Also, if\n<code>convert</code> is on and <code>number.precision()</code> is used, the value will be converted to the specified <code>precision</code> as well.</p>\n<p><code>Infinity</code> and <code>-Infinity</code> are invalid by default, you can change that behavior by calling <code>allow(Infinity, -Infinity)</code>.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">number</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>();\n<span class=\"pl-k\">await</span> <span class=\"pl-smi\">number</span>.<span class=\"pl-en\">validateAsync</span>(<span class=\"pl-c1\">5</span>);</pre></div>\n<p>Possible validation errors: <a href=\"#numberbase\"><code>number.base</code></a>, <a href=\"#numberinfinity\"><code>number.infinity</code></a></p>\n<h4>\n<a id=\"numbergreaterlimit\" class=\"anchor\" href=\"#numbergreaterlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.greater(limit)</code>\n</h4>\n<p>Specifies that the value must be greater than <code>limit</code> or a reference.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">greater</span>(<span class=\"pl-c1\">5</span>);</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  min<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>(),\n  max<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">greater</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>min<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p>Possible validation errors: <a href=\"#numbergreater\"><code>number.greater</code></a>, <a href=\"#numberref\"><code>number.ref</code></a></p>\n<h4>\n<a id=\"numberinteger\" class=\"anchor\" href=\"#numberinteger\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.integer()</code>\n</h4>\n<p>Requires the number to be an integer (no floating point).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">integer</span>();</pre></div>\n<p>Possible validation errors: <a href=\"#numberbase\"><code>number.base</code></a></p>\n<h4>\n<a id=\"numberlesslimit\" class=\"anchor\" href=\"#numberlesslimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.less(limit)</code>\n</h4>\n<p>Specifies that the value must be less than <code>limit</code> or a reference.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">less</span>(<span class=\"pl-c1\">10</span>);</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  min<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">less</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>max<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>(),\n  max<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p>Possible validation errors: <a href=\"#numberless\"><code>number.less</code></a>, <a href=\"#numberref\"><code>number.ref</code></a></p>\n<h4>\n<a id=\"numbermaxlimit\" class=\"anchor\" href=\"#numbermaxlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.max(limit)</code>\n</h4>\n<p>Specifies the maximum value where:</p>\n<ul>\n<li>\n<code>limit</code> - the maximum value allowed or a reference.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">10</span>);</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  min<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>max<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>(),\n  max<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p>Possible validation errors: <a href=\"#numbermax\"><code>number.max</code></a>, <a href=\"#numberref\"><code>number.ref</code></a></p>\n<h4>\n<a id=\"numberminlimit\" class=\"anchor\" href=\"#numberminlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.min(limit)</code>\n</h4>\n<p>Specifies the minimum value where:</p>\n<ul>\n<li>\n<code>limit</code> - the minimum value allowed or a reference.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">2</span>);</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  min<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>(),\n  max<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>min<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p>Possible validation errors: <a href=\"#numbermin\"><code>number.min</code></a>, <a href=\"#numberref\"><code>number.ref</code></a></p>\n<h4>\n<a id=\"numbermultiplebase\" class=\"anchor\" href=\"#numbermultiplebase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.multiple(base)</code>\n</h4>\n<p>Specifies that the value must be a multiple of <code>base</code> (or a reference):</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-c1\">multiple</span>(<span class=\"pl-c1\">3</span>);</pre></div>\n<p>Notes: <code>Joi.number.multiple(base)</code> <em>uses the modulo operator (%) to determine if a number is multiple of another number.\nTherefore, it has the normal limitations of Javascript modulo operator. The results with decimal/floats may be incorrect.</em></p>\n<p>Possible validation errors: <a href=\"#numbermultiple\"><code>number.multiple</code></a>, <a href=\"#numberref\"><code>number.ref</code></a></p>\n<h4>\n<a id=\"numbernegative\" class=\"anchor\" href=\"#numbernegative\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.negative()</code>\n</h4>\n<p>Requires the number to be negative.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">negative</span>();</pre></div>\n<p>Possible validation errors: <a href=\"#numbernegative-1\"><code>number.negative</code></a></p>\n<h4>\n<a id=\"numberport\" class=\"anchor\" href=\"#numberport\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.port()</code>\n</h4>\n<p>Requires the number to be a TCP port, so between 0 and 65535.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-c1\">port</span>();</pre></div>\n<p>Possible validation errors: <a href=\"#numberport-1\"><code>number.port</code></a></p>\n<h4>\n<a id=\"numberpositive\" class=\"anchor\" href=\"#numberpositive\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.positive()</code>\n</h4>\n<p>Requires the number to be positive.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">positive</span>();</pre></div>\n<p>Possible validation errors: <a href=\"#numberpositive-1\"><code>number.positive</code></a></p>\n<h4>\n<a id=\"numberprecisionlimit\" class=\"anchor\" href=\"#numberprecisionlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.precision(limit)</code>\n</h4>\n<p>Specifies the maximum number of decimal places where:</p>\n<ul>\n<li>\n<code>limit</code> - the maximum number of decimal places allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">precision</span>(<span class=\"pl-c1\">2</span>);</pre></div>\n<p>Possible validation errors: <a href=\"#numberinteger-1\"><code>number.integer</code></a></p>\n<h4>\n<a id=\"numbersignsign\" class=\"anchor\" href=\"#numbersignsign\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.sign(sign)</code>\n</h4>\n<p>Requires the number to be negative or positive where:\n<code>sign</code> - one of <code>'negative'</code> or <code>'positive'</code>.</p>\n<p>Possible validation errors: <a href=\"#numbernegative-1\"><code>number.negative</code></a>, <a href=\"#numberpositive-1\"><code>number.positive</code></a></p>\n<h4>\n<a id=\"numberunsafeenabled\" class=\"anchor\" href=\"#numberunsafeenabled\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.unsafe([enabled])</code>\n</h4>\n<p>By default, numbers must be within JavaScript's safety range (<code>Number.MIN_SAFE_INTEGER</code> &amp; <code>Number.MAX_SAFE_INTEGER</code>), and when given a string, should be converted without loss of information. You can allow unsafe numbers at your own risks by calling <code>number.unsafe()</code>.</p>\n<p>Parameters are:</p>\n<ul>\n<li>\n<code>enabled</code> - optional parameter defaulting to <code>true</code> which allows you to reset the behavior of unsafe by providing a falsy value.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">safeNumber</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>();\n<span class=\"pl-smi\">safeNumber</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-c1\">90071992547409924</span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> error -&gt; \"value\" must be a safe number</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">unsafeNumber</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">unsafe</span>();\n<span class=\"pl-smi\">unsafeNumber</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-c1\">90071992547409924</span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> error -&gt; null</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> value -&gt; 90071992547409920</span></pre></div>\n<p>Possible validation errors: <a href=\"#numberunsafe\"><code>number.unsafe</code></a></p>\n<h3>\n<a id=\"object\" class=\"anchor\" href=\"#object\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object</code>\n</h3>\n<p>Generates a schema object that matches an object data type. Defaults to allowing any child key.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">object</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">1</span>).<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">10</span>).<span class=\"pl-en\">integer</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>some string<span class=\"pl-pds\">'</span></span>\n});\n\n<span class=\"pl-k\">await</span> <span class=\"pl-smi\">object</span>.<span class=\"pl-en\">validateAsync</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span> });</pre></div>\n<p>Note that when an object schema type is passed as an input to another joi method (e.g. array\nitem) or is set as a key definition, the <code>Joi.object()</code> constructor may be omitted. For example:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>() });</pre></div>\n<p>Possible validation errors: <a href=\"#objectbase\"><code>object.base</code></a></p>\n<h4>\n<a id=\"objectandpeers-options\" class=\"anchor\" href=\"#objectandpeers-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.and(...peers, [options])</code>\n</h4>\n<p>Defines an all-or-nothing relationship between keys where if one of the peers is present, all of\nthem are required as well where:</p>\n<ul>\n<li>\n<code>peers</code> - the string key names of which if one present, all are required.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>separator</code> - overrides the default <code>.</code> hierarchy separator. Set to <code>false</code> to treat the <code>key</code> as a literal value.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}).<span class=\"pl-en\">and</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Possible validation errors: <a href=\"#objectand\"><code>object.and</code></a></p>\n<h4>\n<a id=\"objectappendschema\" class=\"anchor\" href=\"#objectappendschema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.append([schema])</code>\n</h4>\n<p>Appends the allowed object keys where:</p>\n<ul>\n<li>\n<code>schema</code> - optional object where each key is assigned a <strong>joi</strong> type object. If <code>schema</code> is <code>null</code>,<code>undefined</code> or <code>{}</code> no changes will be applied. Uses object.keys([schema]) to append keys.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> Validate key a</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">base</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n});\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Validate keys a, b.</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">extended</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">base</span>.<span class=\"pl-c1\">append</span>({\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n});</pre></div>\n<h4>\n<a id=\"objectassertsubject-schema-message\" class=\"anchor\" href=\"#objectassertsubject-schema-message\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.assert(subject, schema, [message])</code>\n</h4>\n<p>Verifies an assertion where:</p>\n<ul>\n<li>\n<code>subject</code> - the key name, <a href=\"#refkey-options\">reference</a>, or template expression to validate. Note that the reference is resolved against the object itself as value, which means if you want to reference a key of the object being validated, you have to prefix the reference path with <code>.</code>.</li>\n<li>\n<code>schema</code> - the validation rules required to satisfy the assertion. If the <code>schema</code> includes references, they are resolved against\nthe object value, not the value of the <code>subject</code> target.</li>\n<li>\n<code>message</code> - optional human-readable message used when the assertion fails. Defaults to 'failed to pass the assertion test'.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> {\n        b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n        c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n    },\n    d<span class=\"pl-k\">:</span> {\n        e<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n    }\n}).<span class=\"pl-en\">assert</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>.d.e<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a.c<span class=\"pl-pds\">'</span></span>), <span class=\"pl-s\"><span class=\"pl-pds\">'</span>equal to a.c<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Possible validation errors: <a href=\"#objectassert\"><code>object.assert</code></a></p>\n<h4>\n<a id=\"objectinstanceconstructor-name\" class=\"anchor\" href=\"#objectinstanceconstructor-name\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.instance(constructor, [name])</code>\n</h4>\n<p>Requires the object to be an instance of a given constructor where:</p>\n<ul>\n<li>\n<code>constructor</code> - the constructor function that the object must be an instance of.</li>\n<li>\n<code>name</code> - an alternate name to use in validation errors. This is useful when the constructor function does not have a name.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-en\">instance</span>(<span class=\"pl-c1\">RegExp</span>);</pre></div>\n<p>Possible validation errors: <a href=\"#objectinstance\"><code>object.instance</code></a></p>\n<h4>\n<a id=\"objectkeysschema\" class=\"anchor\" href=\"#objectkeysschema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.keys([schema])</code>\n</h4>\n<p>Sets or extends the allowed object keys where:</p>\n<ul>\n<li>\n<code>schema</code> - optional object where each key is assigned a <strong>joi</strong> type object. If <code>schema</code> is <code>{}</code> no keys allowed.\nIf <code>schema</code> is <code>null</code> or <code>undefined</code>, any key allowed. If <code>schema</code> is an object with keys, the keys are added to any\npreviously defined keys (but narrows the selection if all keys previously allowed). Defaults to 'undefined' which\nallows any child key.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">base</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n});\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Validate keys a, b and c.</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">extended</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">base</span>.<span class=\"pl-c1\">keys</span>({\n    c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>()\n});</pre></div>\n<p>Possible validation errors: <a href=\"#objectunknown\"><code>object.unknown</code></a></p>\n<h4>\n<a id=\"objectlengthlimit\" class=\"anchor\" href=\"#objectlengthlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.length(limit)</code>\n</h4>\n<p>Specifies the exact number of keys in the object where or a reference:</p>\n<ul>\n<li>\n<code>limit</code> - the number of object keys allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">length</span>(<span class=\"pl-c1\">5</span>);</pre></div>\n<p>Possible validation errors: <a href=\"#objectlength\"><code>object.length</code></a>, <a href=\"#objectref\"><code>object.ref</code></a></p>\n<h4>\n<a id=\"objectmaxlimit\" class=\"anchor\" href=\"#objectmaxlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.max(limit)</code>\n</h4>\n<p>Specifies the maximum number of keys in the object where:</p>\n<ul>\n<li>\n<code>limit</code> - the highest number of object keys allowed or a reference.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">10</span>);</pre></div>\n<p>Possible validation errors: <a href=\"#objectmax\"><code>object.max</code></a>, <a href=\"#objectref\"><code>object.ref</code></a></p>\n<h4>\n<a id=\"objectminlimit\" class=\"anchor\" href=\"#objectminlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.min(limit)</code>\n</h4>\n<p>Specifies the minimum number of keys in the object where:</p>\n<ul>\n<li>\n<code>limit</code> - the lowest number of keys allowed or a reference.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">2</span>);</pre></div>\n<p>Possible validation errors: <a href=\"#objectmin\"><code>object.min</code></a>, <a href=\"#objectref\"><code>object.ref</code></a></p>\n<h4>\n<a id=\"objectnandpeers-options\" class=\"anchor\" href=\"#objectnandpeers-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.nand(...peers, [options])</code>\n</h4>\n<p>Defines a relationship between keys where not all peers can be present at the same time where:</p>\n<ul>\n<li>\n<code>peers</code> - the key names of which if one present, the others may not all be present.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>separator</code> - overrides the default <code>.</code> hierarchy separator. Set to <code>false</code> to treat the <code>key</code> as a literal value.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}).<span class=\"pl-en\">nand</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Possible validation errors: <a href=\"#objectnand\"><code>object.nand</code></a></p>\n<h4>\n<a id=\"objectorpeers-options\" class=\"anchor\" href=\"#objectorpeers-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.or(...peers, [options])</code>\n</h4>\n<p>Defines a relationship between keys where one of the peers is required (and more than one is\nallowed) where:</p>\n<ul>\n<li>\n<code>peers</code> - the key names of which at least one must appear.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>separator</code> - overrides the default <code>.</code> hierarchy separator. Set to <code>false</code> to treat the <code>key</code> as a literal value.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}).<span class=\"pl-en\">or</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Possible validation errors: <a href=\"#objectmissing\"><code>object.missing</code></a></p>\n<h4>\n<a id=\"objectoxorpeers-options\" class=\"anchor\" href=\"#objectoxorpeers-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.oxor(...peers, [options])</code>\n</h4>\n<p>Defines an exclusive relationship between a set of keys where only one is allowed but none are\nrequired where:</p>\n<ul>\n<li>\n<code>peers</code> - the exclusive key names that must not appear together but where none are required.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>separator</code> - overrides the default <code>.</code> hierarchy separator. Set to <code>false</code> to treat the <code>key</code> as a literal value.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}).<span class=\"pl-en\">oxor</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Possible validation errors: <a href=\"#objectoxor\"><code>object.oxor</code></a></p>\n<h4>\n<a id=\"objectpatternpattern-schema-options\" class=\"anchor\" href=\"#objectpatternpattern-schema-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.pattern(pattern, schema, [options])</code>\n</h4>\n<p>Specify validation rules for unknown keys matching a pattern where:</p>\n<ul>\n<li>\n<code>pattern</code> - a pattern that can be either a regular expression or a <strong>joi</strong> schema that will be tested against the unknown key names. Note that if the pattern is a regular expression, for it to match the entire key name, it must begin with <code>^</code> and end with <code>$</code>.</li>\n<li>\n<code>schema</code> - the schema object matching keys must validate against.</li>\n<li>\n<code>options</code> - options settings:\n<ul>\n<li>\n<code>fallthrough</code> - if <code>true</code>, multiple matching patterns are tested against the key, otherwise once a pattern match is found, no other patterns are compared. Defaults to <code>false</code>.</li>\n<li>\n<code>matches</code> - a joi array schema used to validated the array of matching keys. For example, <code>Joi.object().pattern(/\\d/, Joi.boolean(), { matches: Joi.array().length(2) })</code> will require two matching keys. If the <code>matches</code> schema is not an array type schema, it will be converted to <code>Joi.array().items(matches)</code>. If the <code>matches</code> schema contains references, they are resolved against the ancestors as follows:\n<ul>\n<li>self - the array of matching keys (<code>Joi.ref('.length')</code>)</li>\n<li>parent - the object value containing the keys (<code>Joi.ref('a')</code>)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n}).<span class=\"pl-en\">pattern</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-c1\">\\w\\d</span><span class=\"pl-pds\">/</span></span>, <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>());\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> OR</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n}).<span class=\"pl-en\">pattern</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">2</span>).<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">5</span>), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>());</pre></div>\n<p>Possible validation errors: <a href=\"#objectpatternmatch\"><code>object.pattern.match</code></a></p>\n<h4>\n<a id=\"objectref\" class=\"anchor\" href=\"#objectref\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.ref()</code>\n</h4>\n<p>Requires the object to be a <strong>joi</strong> reference.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-en\">ref</span>();</pre></div>\n<p>Possible validation errors: <a href=\"#objectreftype\"><code>object.refType</code></a></p>\n<h4>\n<a id=\"objectrenamefrom-to-options\" class=\"anchor\" href=\"#objectrenamefrom-to-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.rename(from, to, [options])</code>\n</h4>\n<p>Renames a key to another name (deletes the renamed key) where:</p>\n<ul>\n<li>\n<code>from</code> - the original key name or a regular expression matching keys.</li>\n<li>\n<code>to</code> - the new key name. <code>to</code> can be set to a <a href=\"#templatetemplate-options\"><code>template</code></a> which is\nrendered at runtime using the current value, global context, and local context if <code>from</code> is a\nregular expression (e.g. the expression <code>/^(\\d+)$/</code> will match any all-digits keys with a capture\ngroup that is accessible in the template via <code>{#1}</code>).</li>\n<li>\n<code>options</code> - an optional object with the following optional keys:\n<ul>\n<li>\n<code>alias</code> - if <code>true</code>, does not delete the old key name, keeping both the new and old keys in place. Defaults to <code>false</code>.</li>\n<li>\n<code>multiple</code> - if <code>true</code>, allows renaming multiple keys to the same destination where the last rename wins. Defaults to <code>false</code>.</li>\n<li>\n<code>override</code> - if <code>true</code>, allows renaming a key over an existing key. Defaults to <code>false</code>.</li>\n<li>\n<code>ignoreUndefined</code> - if <code>true</code>, skip renaming of a key if it's undefined. Defaults to <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n<p>Keys are renamed before any other validation rules are applied. If <code>to</code> is a template that\nreferences the object own keys (e.g. <code>'{.prefix}-{#1}'</code>), the value of these keys is the raw\ninput value, not the value generated after validation.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">object</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n}).<span class=\"pl-en\">rename</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">await</span> <span class=\"pl-smi\">object</span>.<span class=\"pl-en\">validateAsync</span>({ b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span> });</pre></div>\n<p>Using a regular expression:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">regex</span> <span class=\"pl-k\">=</span><span class=\"pl-sr\"> <span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span>foobar<span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span>i</span>;\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  fooBar<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n}).<span class=\"pl-en\">rename</span>(regex, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>fooBar<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">await</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validateAsync</span>({ FooBar<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>});</pre></div>\n<p>Using a regular expression with template:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>()\n    .<span class=\"pl-en\">rename</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span>(<span class=\"pl-c1\">\\d</span><span class=\"pl-k\">+</span>)<span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span></span>, <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">template</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>x{#1}x<span class=\"pl-pds\">'</span></span>))\n    .<span class=\"pl-en\">pattern</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span>x<span class=\"pl-c1\">\\d</span><span class=\"pl-k\">+</span>x<span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span></span>, <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>());\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">input</span> <span class=\"pl-k\">=</span> {\n    <span class=\"pl-c1\">123</span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>x<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-c1\">1</span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>y<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-c1\">0</span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>z<span class=\"pl-pds\">'</span></span>,\n    x4x<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">value</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">compile</span>(schema).<span class=\"pl-en\">validateAsync</span>(input);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> value === { x123x: 'x', x1x: 'y', x0x: 'z', x4x: 'test' }</span></pre></div>\n<p>Possible validation errors: <a href=\"#objectrenamemultiple\"><code>object.rename.multiple</code></a>, <a href=\"#objectrenameoverride\"><code>object.rename.override</code></a></p>\n<h4>\n<a id=\"objectschematype\" class=\"anchor\" href=\"#objectschematype\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.schema([type])</code>\n</h4>\n<p>Requires the object to be a <strong>joi</strong> schema instance where:</p>\n<ul>\n<li>\n<code>type</code> - optional <strong>joi</strong> schema to require.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-en\">schema</span>();</pre></div>\n<p>Possible validation errors: <a href=\"#objectschema-1\"><code>object.schema</code></a></p>\n<h4>\n<a id=\"objectunknownallow\" class=\"anchor\" href=\"#objectunknownallow\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.unknown([allow])</code>\n</h4>\n<p>Overrides the handling of unknown keys for the scope of the current object only (does not apply to children) where:</p>\n<ul>\n<li>\n<code>allow</code> - if <code>false</code>, unknown keys are not allowed, otherwise unknown keys are ignored.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>() }).<span class=\"pl-en\">unknown</span>();</pre></div>\n<p>Possible validation errors: <a href=\"#objectunknown\"><code>object.unknown</code></a></p>\n<h4>\n<a id=\"objectwithkey-peers-options\" class=\"anchor\" href=\"#objectwithkey-peers-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.with(key, peers, [options])</code>\n</h4>\n<p>Requires the presence of other keys whenever the specified key is present where:</p>\n<ul>\n<li>\n<code>key</code> - the reference key.</li>\n<li>\n<code>peers</code> - the required peer key names that must appear together with <code>key</code>. <code>peers</code> can be a\nsingle string value or an array of string values.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>separator</code> - overrides the default <code>.</code> hierarchy separator. Set to <code>false</code> to treat the <code>key</code> as a literal value.</li>\n</ul>\n</li>\n</ul>\n<p>Note that unlike <a href=\"#objectandpeers-options\"><code>object.and()</code></a>, <code>with()</code> creates a dependency only between the <code>key</code> and each of the <code>peers</code>, not\nbetween the <code>peers</code> themselves.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}).<span class=\"pl-en\">with</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Possible validation errors: <a href=\"#objectwith\"><code>object.with</code></a></p>\n<h4>\n<a id=\"objectwithoutkey-peers-options\" class=\"anchor\" href=\"#objectwithoutkey-peers-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.without(key, peers, [options])</code>\n</h4>\n<p>Forbids the presence of other keys whenever the specified is present where:</p>\n<ul>\n<li>\n<code>key</code> - the reference key.</li>\n<li>\n<code>peers</code> - the forbidden peer key names that must not appear together with <code>key</code>. <code>peers</code> can be a\nsingle string value or an array of string values.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>separator</code> - overrides the default <code>.</code> hierarchy separator. Set to <code>false</code> to treat the <code>key</code> as a literal value.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}).<span class=\"pl-en\">without</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>]);</pre></div>\n<p>Possible validation errors: <a href=\"#objectwithout\"><code>object.without</code></a></p>\n<h4>\n<a id=\"objectxorpeers-options\" class=\"anchor\" href=\"#objectxorpeers-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.xor(...peers, [options])</code>\n</h4>\n<p>Defines an exclusive relationship between a set of keys where one of them is required but not at\nthe same time where:</p>\n<ul>\n<li>\n<code>peers</code> - the exclusive key names that must not appear together but where one of them is required.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>separator</code> - overrides the default <code>.</code> hierarchy separator. Set to <code>false</code> to treat the <code>key</code> as a literal value.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}).<span class=\"pl-en\">xor</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Possible validation errors: <a href=\"#objectxor\"><code>object.xor</code></a>, <a href=\"#objectmissing\"><code>object.missing</code></a></p>\n<h3>\n<a id=\"string\" class=\"anchor\" href=\"#string\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string</code>\n</h3>\n<p>Generates a schema object that matches a string data type.</p>\n<p><strong>Note that the empty string is not allowed by default and must be enabled with <code>allow('')</code>. Don't over think, just remember that the empty string is not a valid string by default. Also, don't ask to change it or argue why it doesn't make sense. This topic is closed.</strong></p>\n<p>To specify a default value in case of the empty string use:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n    .<span class=\"pl-en\">empty</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span>)\n    .<span class=\"pl-en\">default</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>default value<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>If the <code>convert</code> preference is <code>true</code> (the default value), a string will be converted using the specified modifiers\nfor <code>string.lowercase()</code>, <code>string.uppercase()</code>, <code>string.trim()</code>, and each replacement specified with <code>string.replace()</code>.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">1</span>).<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">10</span>);\n<span class=\"pl-k\">await</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validateAsync</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>12345<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Possible validation errors: <a href=\"#stringbase\"><code>string.base</code></a>, <a href=\"#stringempty\"><code>string.empty</code></a></p>\n<h4>\n<a id=\"stringalphanum\" class=\"anchor\" href=\"#stringalphanum\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.alphanum()</code>\n</h4>\n<p>Requires the string value to only contain a-z, A-Z, and 0-9.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">alphanum</span>();</pre></div>\n<p>Possible validation errors: <a href=\"#stringalphanum-1\"><code>string.alphanum</code></a></p>\n<h4>\n<a id=\"stringbase64options\" class=\"anchor\" href=\"#stringbase64options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.base64([options])</code>\n</h4>\n<p>Requires the string value to be a valid base64 string; does not check the decoded value.</p>\n<ul>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>paddingRequired</code> - if <code>true</code>, the string must be properly padded with the <code>=</code> characters. Defaults to <code>true</code>.</li>\n<li>\n<code>urlSafe</code> - if <code>true</code>, uses the URI-safe base64 format which replaces <code>+</code> with <code>-</code> and <code>\\</code> with <code>_</code>. Defaults to <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n<p>Padding characters are not required for decoding, as the number of missing bytes can be inferred from the number of digits. With that said, try to use padding if at all possible.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">base64</span>();\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>VE9PTUFOWVNFQ1JFVFM<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: \"value\" must be a valid base64 string</span>\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>VE9PTUFOWVNFQ1JFVFM=<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> No Error</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">paddingRequiredSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">base64</span>({ paddingRequired<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });\n<span class=\"pl-smi\">paddingRequiredSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>VE9PTUFOWVNFQ1JFVFM<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: \"value\" must be a valid base64 string</span>\n<span class=\"pl-smi\">paddingRequiredSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>VE9PTUFOWVNFQ1JFVFM=<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> No Error</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">paddingOptionalSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">base64</span>({ paddingRequired<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> });\n<span class=\"pl-smi\">paddingOptionalSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>VE9PTUFOWVNFQ1JFVFM<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> No Error</span>\n<span class=\"pl-smi\">paddingOptionalSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>VE9PTUFOWVNFQ1JFVFM=<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> No Error</span></pre></div>\n<p>Possible validation errors: <a href=\"#stringbase64\"><code>string.base64</code></a></p>\n<h4>\n<a id=\"stringcasedirection\" class=\"anchor\" href=\"#stringcasedirection\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.case(direction)</code>\n</h4>\n<p>Sets the required string case where:</p>\n<ul>\n<li>\n<code>direction</code> - can be either <code>'upper'</code> or <code>'lower'</code>.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">case</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lower<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Possible validation errors: <a href=\"#stringlowercase-1\"><code>string.lowercase</code></a> <a href=\"#stringuppercase-1\"><code>string.uppercase</code></a></p>\n<h4>\n<a id=\"stringcreditcard\" class=\"anchor\" href=\"#stringcreditcard\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.creditCard()</code>\n</h4>\n<p>Requires the number to be a credit card number (Using <a href=\"http://en.wikipedia.org/wiki/Luhn_algorithm\" rel=\"nofollow\">Luhn\nAlgorithm</a>).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">creditCard</span>();</pre></div>\n<p>Possible validation errors: <a href=\"#stringcreditcard-1\"><code>string.creditCard</code></a></p>\n<h4>\n<a id=\"stringdataurioptions\" class=\"anchor\" href=\"#stringdataurioptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.dataUri([options])</code>\n</h4>\n<p>Requires the string value to be a valid data URI string.</p>\n<ul>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>paddingRequired</code> - optional parameter defaulting to <code>true</code> which will require <code>=</code> padding if <code>true</code> or make padding optional if <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">dataUri</span>();\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>VE9PTUFOWVNFQ1JFVFM=<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: \"value\" must be a valid dataUri string</span>\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>data:image/png;base64,VE9PTUFOWVNFQ1JFVFM=<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> No Error</span></pre></div>\n<p>Possible validation errors: <a href=\"#stringdatauri\"><code>string.dataUri</code></a></p>\n<h4>\n<a id=\"stringdomainoptions\" class=\"anchor\" href=\"#stringdomainoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.domain([options])</code>\n</h4>\n<p>Requires the string value to be a valid domain name.</p>\n<ul>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>allowUnicode</code> - if <code>true</code>, Unicode characters are permitted. Defaults to <code>true</code>.</li>\n<li>\n<code>minDomainSegments</code> - Number of segments required for the domain. Defaults to <code>2</code>.</li>\n<li>\n<code>tlds</code> - options for TLD (top level domain) validation. By default, the TLD must be a valid\nname listed on the <a href=\"http://data.iana.org/TLD/tlds-alpha-by-domain.txt\" rel=\"nofollow\">IANA registry</a>. To\ndisable validation, set <code>tlds</code> to <code>false</code>. To customize how TLDs are validated, set one of\nthese:\n<ul>\n<li>\n<code>allow</code> - one of:\n<ul>\n<li>\n<code>true</code> to use the IANA list of registered TLDs. This is the default value.</li>\n<li>\n<code>false</code> to allow any TLD not listed in the <code>deny</code> list, if present.</li>\n<li>a <code>Set</code> or array of the allowed TLDs. Cannot be used together with <code>deny</code>.</li>\n</ul>\n</li>\n<li>\n<code>deny</code> - one of:\n<ul>\n<li>a <code>Set</code> or array of the forbidden TLDs. Cannot be used together with a custom <code>allow</code>\nlist.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">domain</span>();</pre></div>\n<p>Possible validation errors: <a href=\"#stringdomain\"><code>string.domain</code></a></p>\n<h4>\n<a id=\"stringemailoptions\" class=\"anchor\" href=\"#stringemailoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.email([options])</code>\n</h4>\n<p>Requires the string value to be a valid email address.</p>\n<ul>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>allowUnicode</code> - if <code>true</code>, Unicode characters are permitted. Defaults to <code>true</code>.</li>\n<li>\n<code>ignoreLength</code> - if <code>true</code>, ignore invalid email length errors. Defaults to <code>false</code>.</li>\n<li>\n<code>minDomainSegments</code> - Number of segments required for the domain. The default setting excludes\nsingle segment domains such as <code>example@io</code> which is a valid email but very uncommon. Defaults\nto <code>2</code>.</li>\n<li>\n<code>multiple</code> - if <code>true</code>, allows multiple email addresses in a single string, separated by <code>,</code>\nor the <code>separator</code> characters. Defaults to <code>false</code>.</li>\n<li>\n<code>separator</code> - when <code>multiple</code> is <code>true</code>, overrides the default <code>,</code> separator. String can be\na single character or multiple separator characters. Defaults to <code>','</code>.</li>\n<li>\n<code>tlds</code> - options for TLD (top level domain) validation. By default, the TLD must be a valid\nname listed on the <a href=\"http://data.iana.org/TLD/tlds-alpha-by-domain.txt\" rel=\"nofollow\">IANA registry</a>. To\ndisable validation, set <code>tlds</code> to <code>false</code>. To customize how TLDs are validated, set one of\nthese:\n<ul>\n<li>\n<code>allow</code> - one of:\n<ul>\n<li>\n<code>true</code> to use the IANA list of registered TLDs. This is the default value.</li>\n<li>\n<code>false</code> to allow any TLD not listed in the <code>deny</code> list, if present.</li>\n<li>a <code>Set</code> or array of the allowed TLDs. Cannot be used together with <code>deny</code>.</li>\n</ul>\n</li>\n<li>\n<code>deny</code> - one of:\n<ul>\n<li>a <code>Set</code> or array of the forbidden TLDs. Cannot be used together with a custom <code>allow</code>\nlist.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">email</span>();</pre></div>\n<p>Possible validation errors: <a href=\"#stringemail\"><code>string.email</code></a></p>\n<h4>\n<a id=\"stringguid---aliases-uuid\" class=\"anchor\" href=\"#stringguid---aliases-uuid\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.guid()</code> - aliases: <code>uuid</code>\n</h4>\n<p>Requires the string value to be a valid GUID.</p>\n<ul>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>version</code> - Specifies one or more acceptable versions. Can be an Array or String with the following values:\n<code>uuidv1</code>, <code>uuidv2</code>, <code>uuidv3</code>, <code>uuidv4</code>, or <code>uuidv5</code>. If no <code>version</code> is specified then it is assumed to be a generic <code>guid</code>\nwhich will not validate the version or variant of the guid and just check for general structure format.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">guid</span>({\n    version<span class=\"pl-k\">:</span> [\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span>uuidv4<span class=\"pl-pds\">'</span></span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span>uuidv5<span class=\"pl-pds\">'</span></span>\n    ]\n});</pre></div>\n<p>Possible validation errors: <a href=\"#stringguid\"><code>string.guid</code></a></p>\n<h4>\n<a id=\"stringhexoptions\" class=\"anchor\" href=\"#stringhexoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.hex([options])</code>\n</h4>\n<p>Requires the string value to be a valid hexadecimal string.</p>\n<ul>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>byteAligned</code> - Boolean specifying whether you want to check that the hexadecimal string is byte aligned. If <code>convert</code> is <code>true</code>, a <code>0</code> will be added in front of the string in case it needs to be aligned. Defaults to <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">hex</span>();</pre></div>\n<p>Possible validation errors: <a href=\"#stringhex\"><code>string.hex</code></a>, <a href=\"#stringhexalign\"><code>string.hexAlign</code></a></p>\n<h4>\n<a id=\"stringhostname\" class=\"anchor\" href=\"#stringhostname\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.hostname()</code>\n</h4>\n<p>Requires the string value to be a valid hostname as per <a href=\"http://tools.ietf.org/html/rfc1123\" rel=\"nofollow\">RFC1123</a>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">hostname</span>();</pre></div>\n<p>Possible validation errors: <a href=\"#stringhostname-1\"><code>string.hostname</code></a></p>\n<h4>\n<a id=\"stringinsensitive\" class=\"anchor\" href=\"#stringinsensitive\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.insensitive()</code>\n</h4>\n<p>Allows the value to match any value in the allowed list or disallowed list in a case insensitive comparison.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">insensitive</span>();</pre></div>\n<h4>\n<a id=\"stringipoptions\" class=\"anchor\" href=\"#stringipoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.ip([options])</code>\n</h4>\n<p>Requires the string value to be a valid ip address.</p>\n<ul>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>version</code> - One or more IP address versions to validate against. Valid values: <code>ipv4</code>, <code>ipv6</code>, <code>ipvfuture</code>\n</li>\n<li>\n<code>cidr</code> - Used to determine if a CIDR is allowed or not. Valid values: <code>optional</code>, <code>required</code>, <code>forbidden</code>\n</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> Accept only ipv4 and ipv6 addresses with a CIDR</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">ip</span>({\n  version<span class=\"pl-k\">:</span> [\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ipv4<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ipv6<span class=\"pl-pds\">'</span></span>\n  ],\n  cidr<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>required<span class=\"pl-pds\">'</span></span>\n});</pre></div>\n<p>Possible validation errors: <a href=\"#stringip\"><code>string.ip</code></a>, <a href=\"#stringipversion\"><code>string.ipVersion</code></a></p>\n<h4>\n<a id=\"stringisodate\" class=\"anchor\" href=\"#stringisodate\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.isoDate()</code>\n</h4>\n<p>Requires the string value to be in valid ISO 8601 date format.</p>\n<p>If the validation <code>convert</code> option is on (enabled by default), the string will be forced to\nsimplified extended ISO format (ISO 8601). Be aware that this operation uses javascript Date\nobject, which does not support the full ISO format, so a few formats might not pass when using\n<code>convert</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">isoDate</span>();\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>2018-11-28T18:25:32+00:00<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> No Error</span>\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>20181-11-28T18:25:32+00:00<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: must be a valid 8601 date</span>\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: must be a valid 8601 date</span></pre></div>\n<p>Possible validation errors: <a href=\"#stringisodate-1\"><code>string.isoDate</code></a></p>\n<h4>\n<a id=\"stringisoduration\" class=\"anchor\" href=\"#stringisoduration\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.isoDuration()</code>\n</h4>\n<p>Requires the string value to be in valid ISO 8601 duration format.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">isoDuration</span>();\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>P3Y6M4DT12H30M5S<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> No Error</span>\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>2018-11-28T18:25:32+00:00<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: must be a valid ISO 8601 duration</span>\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: must be a valid ISO 8601 duration</span></pre></div>\n<p>Possible validation errors: <a href=\"#stringisoduration-1\"><code>string.isoDuration</code></a></p>\n<h4>\n<a id=\"stringlengthlimit-encoding\" class=\"anchor\" href=\"#stringlengthlimit-encoding\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.length(limit, [encoding])</code>\n</h4>\n<p>Specifies the exact string length required where:</p>\n<ul>\n<li>\n<code>limit</code> - the required string length or a reference.</li>\n<li>\n<code>encoding</code> - if specified, the string length is calculated in bytes using the provided encoding.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">length</span>(<span class=\"pl-c1\">5</span>);</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  length<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(),\n  value<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">length</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>length<span class=\"pl-pds\">'</span></span>), <span class=\"pl-s\"><span class=\"pl-pds\">'</span>utf8<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p>Possible validation errors: <a href=\"#stringlength\"><code>string.length</code></a>, <a href=\"#stringref\"><code>string.ref</code></a></p>\n<h4>\n<a id=\"stringlowercase\" class=\"anchor\" href=\"#stringlowercase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.lowercase()</code>\n</h4>\n<p>Requires the string value to be all lowercase. If the validation <code>convert</code> option is on (enabled by default), the string\nwill be forced to lowercase.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">lowercase</span>();</pre></div>\n<p>Possible validation errors: <a href=\"#stringlowercase-1\"><code>string.lowercase</code></a></p>\n<h4>\n<a id=\"stringmaxlimit-encoding\" class=\"anchor\" href=\"#stringmaxlimit-encoding\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.max(limit, [encoding])</code>\n</h4>\n<p>Specifies the maximum number of string characters where:</p>\n<ul>\n<li>\n<code>limit</code> - the maximum number of string characters allowed or a reference.</li>\n<li>\n<code>encoding</code> - if specified, the string length is calculated in bytes using the provided encoding.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">10</span>);</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  max<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(),\n  value<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>max<span class=\"pl-pds\">'</span></span>), <span class=\"pl-s\"><span class=\"pl-pds\">'</span>utf8<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p>Possible validation errors: <a href=\"#stringmax\"><code>string.max</code></a>, <a href=\"#stringref\"><code>string.ref</code></a></p>\n<h4>\n<a id=\"stringminlimit-encoding\" class=\"anchor\" href=\"#stringminlimit-encoding\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.min(limit, [encoding])</code>\n</h4>\n<p>Specifies the minimum number string characters where:</p>\n<ul>\n<li>\n<code>limit</code> - the minimum number of string characters required or a reference.</li>\n<li>\n<code>encoding</code> - if specified, the string length is calculated in bytes using the provided encoding.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">2</span>);</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  min<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(),\n  value<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>min<span class=\"pl-pds\">'</span></span>), <span class=\"pl-s\"><span class=\"pl-pds\">'</span>utf8<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p>Possible validation errors: <a href=\"#stringmin\"><code>string.min</code></a>, <a href=\"#stringref\"><code>string.ref</code></a></p>\n<h4>\n<a id=\"stringnormalizeform\" class=\"anchor\" href=\"#stringnormalizeform\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.normalize([form])</code>\n</h4>\n<p>Requires the string value to be in a <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/normalize\" rel=\"nofollow\">Unicode normalized</a>\nform. If the validation <code>convert</code> option is on (enabled by default), the string will be normalized.</p>\n<ul>\n<li>\n<code>form</code> - The Unicode normalization form to use. Valid values: <code>NFC</code> [default], <code>NFD</code>, <code>NFKC</code>, <code>NFKD</code>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">normalize</span>(); <span class=\"pl-c\"><span class=\"pl-c\">//</span> defaults to NFC</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">normalize</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>NFC<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> canonical composition</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">normalize</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>NFD<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> canonical decomposition</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">normalize</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>NFKC<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> compatibility composition</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">normalize</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>NFKD<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> compatibility decomposition</span></pre></div>\n<p>Possible validation errors: <a href=\"#stringnormalize\"><code>string.normalize</code></a></p>\n<h4>\n<a id=\"stringpatternregex-name--options---aliases-regex\" class=\"anchor\" href=\"#stringpatternregex-name--options---aliases-regex\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.pattern(regex, [name | options])</code> - aliases: <code>regex</code>\n</h4>\n<p>Defines a pattern rule where:</p>\n<ul>\n<li>\n<code>regex</code> - a regular expression object the string value must match against. Note that if the pattern is a regular expression, for it to match the entire key name, it must begin with <code>^</code> and end with <code>$</code>.</li>\n<li>\n<code>name</code> - optional name for patterns (useful with multiple patterns).</li>\n<li>\n<code>options</code> - an optional configuration object with the following supported properties:\n<ul>\n<li>\n<code>name</code> - optional pattern name.</li>\n<li>\n<code>invert</code> - optional boolean flag. Defaults to <code>false</code> behavior. If specified as <code>true</code>, the\nprovided pattern will be disallowed instead of required.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">pattern</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span><span class=\"pl-c1\">[abc]</span><span class=\"pl-k\">+</span><span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">inlineNamedSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">pattern</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span><span class=\"pl-c1\">[<span class=\"pl-c1\">0-9</span>]</span><span class=\"pl-k\">+</span><span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>numbers<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">inlineNamedSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>alpha<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: \"value\" with value \"alpha\" fails to match the numbers pattern</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">namedSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">pattern</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span><span class=\"pl-c1\">[<span class=\"pl-c1\">0-9</span>]</span><span class=\"pl-k\">+</span><span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span></span>, { name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>numbers<span class=\"pl-pds\">'</span></span>});\n<span class=\"pl-smi\">namedSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>alpha<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: \"value\" with value \"alpha\" fails to match the numbers pattern</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">invertedSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">pattern</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span><span class=\"pl-c1\">[<span class=\"pl-c1\">a-z</span>]</span><span class=\"pl-k\">+</span><span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span></span>, { invert<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });\n<span class=\"pl-smi\">invertedSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lowercase<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: \"value\" with value \"lowercase\" matches the inverted pattern: [a-z]</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">invertedNamedSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">pattern</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span><span class=\"pl-c1\">[<span class=\"pl-c1\">a-z</span>]</span><span class=\"pl-k\">+</span><span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span></span>, { name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>alpha<span class=\"pl-pds\">'</span></span>, invert<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });\n<span class=\"pl-smi\">invertedNamedSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lowercase<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: \"value\" with value \"lowercase\" matches the inverted alpha pattern</span></pre></div>\n<p>Possible validation errors: <a href=\"#stringpatternbase\"><code>string.pattern.base</code></a>, <a href=\"#stringpatterninvertbase\"><code>string.pattern.invert.base</code></a>, <a href=\"#stringpatterninvertname\"><code>string.pattern.invert.name</code></a>, <a href=\"#stringpatternname\"><code>string.pattern.name</code></a></p>\n<h4>\n<a id=\"stringreplacepattern-replacement\" class=\"anchor\" href=\"#stringreplacepattern-replacement\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.replace(pattern, replacement)</code>\n</h4>\n<p>Replace characters matching the given <em>pattern</em> with the specified\n<em>replacement</em> string where:</p>\n<ul>\n<li>\n<code>pattern</code> - a regular expression object to match against, or a string of which <em>all</em> occurrences will be replaced.</li>\n<li>\n<code>replacement</code> - the string that will replace the pattern.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">replace</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span>b<span class=\"pl-pds\">/</span>gi</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>x<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">await</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validateAsync</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>abBc<span class=\"pl-pds\">'</span></span>);  <span class=\"pl-c\"><span class=\"pl-c\">//</span> return value will be 'axxc'</span></pre></div>\n<p>When <code>pattern</code> is a <em>string</em> all its occurrences will be replaced.</p>\n<h4>\n<a id=\"stringtoken\" class=\"anchor\" href=\"#stringtoken\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.token()</code>\n</h4>\n<p>Requires the string value to only contain a-z, A-Z, 0-9, and underscore _.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">token</span>();</pre></div>\n<p>Possible validation errors: <a href=\"#stringtoken-1\"><code>string.token</code></a></p>\n<h4>\n<a id=\"stringtrimenabled\" class=\"anchor\" href=\"#stringtrimenabled\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.trim([enabled])</code>\n</h4>\n<p>Requires the string value to contain no whitespace before or after. If the validation <code>convert</code> option is on (enabled by\ndefault), the string will be trimmed.</p>\n<p>Parameters are:</p>\n<ul>\n<li>\n<code>enabled</code> - optional parameter defaulting to <code>true</code> which allows you to reset the behavior of trim by providing a falsy value.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">trim</span>();\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">trim</span>(<span class=\"pl-c1\">false</span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> disable trim flag</span></pre></div>\n<p>Possible validation errors: <a href=\"#stringtrim\"><code>string.trim</code></a></p>\n<h4>\n<a id=\"stringtruncateenabled\" class=\"anchor\" href=\"#stringtruncateenabled\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.truncate([enabled])</code>\n</h4>\n<p>Specifies whether the <code>string.max()</code> limit should be used as a truncation.</p>\n<p>Parameters are:</p>\n<ul>\n<li>\n<code>enabled</code> - optional parameter defaulting to <code>true</code> which allows you to reset the behavior of truncate by providing a falsy value.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">5</span>).<span class=\"pl-en\">truncate</span>();</pre></div>\n<h4>\n<a id=\"stringuppercase\" class=\"anchor\" href=\"#stringuppercase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.uppercase()</code>\n</h4>\n<p>Requires the string value to be all uppercase. If the validation <code>convert</code> option is on (enabled by default), the string\nwill be forced to uppercase.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">uppercase</span>();</pre></div>\n<p>Possible validation errors: <a href=\"#stringuppercase-1\"><code>string.uppercase</code></a></p>\n<h4>\n<a id=\"stringurioptions\" class=\"anchor\" href=\"#stringurioptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.uri([options])</code>\n</h4>\n<p>Requires the string value to be a valid <a href=\"http://tools.ietf.org/html/rfc3986\" rel=\"nofollow\">RFC 3986</a> URI.</p>\n<ul>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>scheme</code> - Specifies one or more acceptable Schemes, should only include the scheme name. Can be an Array or String (strings are automatically escaped for use in a Regular Expression).</li>\n<li>\n<code>allowRelative</code> - Allow relative URIs. Defaults to <code>false</code>.</li>\n<li>\n<code>relativeOnly</code> - Restrict only relative URIs.  Defaults to <code>false</code>.</li>\n<li>\n<code>allowQuerySquareBrackets</code> - Allows unencoded square brackets inside the query string. This is <strong>NOT</strong> RFC 3986 compliant but query strings like <code>abc[]=123&amp;abc[]=456</code> are very common these days. Defaults to <code>false</code>.</li>\n<li>\n<code>domain</code> - Validate the domain component using the options specified in <a href=\"#stringdomainoptions\"><code>string.domain()</code></a>.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> Accept git or git http/https</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">uri</span>({\n  scheme<span class=\"pl-k\">:</span> [\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>git<span class=\"pl-pds\">'</span></span>,\n<span class=\"pl-sr\">    <span class=\"pl-pds\">/</span>git<span class=\"pl-cce\">\\+</span>https<span class=\"pl-k\">?</span><span class=\"pl-pds\">/</span></span>\n  ]\n});</pre></div>\n<p>Possible validation errors: <a href=\"#stringuri\"><code>string.uri</code></a>, <a href=\"#stringuricustomscheme\"><code>string.uriCustomScheme</code></a>, <a href=\"#stringurirelativeonly\"><code>string.uriRelativeOnly</code></a>, <a href=\"#stringdomain\"><code>string.domain</code></a></p>\n<h3>\n<a id=\"symbol\" class=\"anchor\" href=\"#symbol\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>symbol</code>\n</h3>\n<p>Generates a schema object that matches a <code>Symbol</code> data type.</p>\n<p>If the validation <code>convert</code> option is on (enabled by default), the mappings declared in <code>map()</code> will be tried for an eventual match.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">symbol</span>().<span class=\"pl-en\">map</span>({ <span class=\"pl-s\"><span class=\"pl-pds\">'</span>foo<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-c1\">Symbol</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>foo<span class=\"pl-pds\">'</span></span>), <span class=\"pl-s\"><span class=\"pl-pds\">'</span>bar<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-c1\">Symbol</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>bar<span class=\"pl-pds\">'</span></span>) });\n<span class=\"pl-k\">await</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validateAsync</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>foo<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Possible validation errors: <a href=\"#symbolbase\"><code>symbol.base</code></a></p>\n<h4>\n<a id=\"symbolmapmap\" class=\"anchor\" href=\"#symbolmapmap\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>symbol.map(map)</code>\n</h4>\n<p>Allows values to be transformed into <code>Symbol</code>s, where:</p>\n<ul>\n<li>\n<code>map</code> - mapping declaration that can be:\n<ul>\n<li>an object, where keys are strings, and values are <code>Symbol</code>s</li>\n<li>an array of arrays of length 2, where for each sub-array, the 1st element must be anything but an object, a function or a <code>Symbol</code>, and the 2nd element must be a Symbol</li>\n<li>a <code>Map</code>, following the same principles as the array above</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">symbol</span>().<span class=\"pl-en\">map</span>([\n    [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">Symbol</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>one<span class=\"pl-pds\">'</span></span>)],\n    [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>two<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">Symbol</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>two<span class=\"pl-pds\">'</span></span>)]\n]);</pre></div>\n<p>Possible validation errors: <a href=\"#symbolmap\"><code>symbol.map</code></a></p>\n<h2>\n<a id=\"extensions\" class=\"anchor\" href=\"#extensions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Extensions</h2>\n<p>The <a href=\"#extendextensions\"><code>extend()</code></a> method adds custom types to <strong>joi</strong>. Extensions can be :</p>\n<ul>\n<li>a single extension object</li>\n<li>a factory function generating an extension object</li>\n</ul>\n<p>Full documentation is upcoming.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Joi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/joi<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">custom</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">extend</span>((<span class=\"pl-smi\">joi</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">return</span> {\n        type<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>million<span class=\"pl-pds\">'</span></span>,\n        base<span class=\"pl-k\">:</span> <span class=\"pl-smi\">joi</span>.<span class=\"pl-en\">number</span>(),\n        messages<span class=\"pl-k\">:</span> {\n            <span class=\"pl-s\"><span class=\"pl-pds\">'</span>million.base<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>\"{{#label}}\" must be at least a million<span class=\"pl-pds\">'</span></span>,\n            <span class=\"pl-s\"><span class=\"pl-pds\">'</span>million.big<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>\"{{#label}}\" must be at least five millions<span class=\"pl-pds\">'</span></span>,\n            <span class=\"pl-s\"><span class=\"pl-pds\">'</span>million.round<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>\"{{#label}}\" must be a round number<span class=\"pl-pds\">'</span></span>,\n            <span class=\"pl-s\"><span class=\"pl-pds\">'</span>million.dividable<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>\"{{#label}}\" must be dividable by {{#q}}<span class=\"pl-pds\">'</span></span>\n        },\n        <span class=\"pl-en\">coerce</span>(<span class=\"pl-smi\">value</span>, <span class=\"pl-smi\">helpers</span>) {\n\n            <span class=\"pl-c\"><span class=\"pl-c\">//</span> Only called when prefs.convert is true</span>\n\n            <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">helpers</span>.<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">$_getRule</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>round<span class=\"pl-pds\">'</span></span>)) {\n                <span class=\"pl-k\">return</span> { value<span class=\"pl-k\">:</span> <span class=\"pl-c1\">Math</span>.<span class=\"pl-c1\">round</span>(value) };\n            }\n        },\n        <span class=\"pl-en\">validate</span>(<span class=\"pl-smi\">value</span>, <span class=\"pl-smi\">helpers</span>) {\n\n            <span class=\"pl-c\"><span class=\"pl-c\">//</span> Base validation regardless of the rules applied</span>\n\n            <span class=\"pl-k\">if</span> (value <span class=\"pl-k\">&lt;</span> <span class=\"pl-c1\">1000000</span>) {\n                <span class=\"pl-k\">return</span> { value, errors<span class=\"pl-k\">:</span> <span class=\"pl-smi\">helpers</span>.<span class=\"pl-en\">error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>million.base<span class=\"pl-pds\">'</span></span>) };\n            }\n\n            <span class=\"pl-c\"><span class=\"pl-c\">//</span> Check flags for global state</span>\n\n            <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">$_getFlag</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>big<span class=\"pl-pds\">'</span></span>) <span class=\"pl-k\">&amp;&amp;</span>\n                value <span class=\"pl-k\">&lt;</span> <span class=\"pl-c1\">5000000</span>) {\n\n                <span class=\"pl-k\">return</span> { value, errors<span class=\"pl-k\">:</span> <span class=\"pl-smi\">helpers</span>.<span class=\"pl-en\">error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>million.big<span class=\"pl-pds\">'</span></span>) };\n            }\n        },\n        rules<span class=\"pl-k\">:</span> {\n            big<span class=\"pl-k\">:</span> {\n                alias<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>large<span class=\"pl-pds\">'</span></span>,\n                <span class=\"pl-en\">method</span>() {\n\n                    <span class=\"pl-k\">return</span> <span class=\"pl-c1\">this</span>.<span class=\"pl-en\">$_setFlag</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>big<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">true</span>);\n                }\n            },\n            round<span class=\"pl-k\">:</span> {\n                convert<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>,              <span class=\"pl-c\"><span class=\"pl-c\">//</span> Dual rule: converts or validates</span>\n                <span class=\"pl-en\">method</span>() {\n\n                    <span class=\"pl-k\">return</span> <span class=\"pl-c1\">this</span>.<span class=\"pl-en\">$_addRule</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>round<span class=\"pl-pds\">'</span></span>);\n                },\n                <span class=\"pl-en\">validate</span>(<span class=\"pl-smi\">value</span>, <span class=\"pl-smi\">helpers</span>, <span class=\"pl-smi\">args</span>, <span class=\"pl-smi\">options</span>) {\n\n                    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Only called when prefs.convert is false (due to rule convert option)</span>\n\n                    <span class=\"pl-k\">if</span> (value <span class=\"pl-k\">%</span> <span class=\"pl-c1\">1</span> <span class=\"pl-k\">!==</span> <span class=\"pl-c1\">0</span>) {\n                        <span class=\"pl-k\">return</span> <span class=\"pl-smi\">helpers</span>.<span class=\"pl-en\">error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>million.round<span class=\"pl-pds\">'</span></span>);\n                    }\n                }\n            },\n            dividable<span class=\"pl-k\">:</span> {\n                multi<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>,                <span class=\"pl-c\"><span class=\"pl-c\">//</span> Rule supports multiple invocations</span>\n                <span class=\"pl-en\">method</span>(<span class=\"pl-smi\">q</span>) {\n\n                    <span class=\"pl-k\">return</span> <span class=\"pl-c1\">this</span>.<span class=\"pl-en\">$_addRule</span>({ name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>dividable<span class=\"pl-pds\">'</span></span>, args<span class=\"pl-k\">:</span> { q } });\n                },\n                args<span class=\"pl-k\">:</span> [\n                    {\n                        name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>q<span class=\"pl-pds\">'</span></span>,\n                        ref<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>,\n                        <span class=\"pl-en\">assert</span><span class=\"pl-k\">:</span> (<span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> <span class=\"pl-k\">typeof</span> value <span class=\"pl-k\">===</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>number<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">&amp;&amp;</span> <span class=\"pl-k\">!</span><span class=\"pl-c1\">isNaN</span>(value),\n                        message<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>must be a number<span class=\"pl-pds\">'</span></span>\n                    }\n                ],\n                <span class=\"pl-en\">validate</span>(<span class=\"pl-smi\">value</span>, <span class=\"pl-smi\">helpers</span>, <span class=\"pl-smi\">args</span>, <span class=\"pl-smi\">options</span>) {\n\n                    <span class=\"pl-k\">if</span> (value <span class=\"pl-k\">%</span> <span class=\"pl-smi\">args</span>.<span class=\"pl-smi\">q</span> <span class=\"pl-k\">===</span> <span class=\"pl-c1\">0</span>) {\n                        <span class=\"pl-k\">return</span> value;       <span class=\"pl-c\"><span class=\"pl-c\">//</span> Value is valid</span>\n                    }\n\n                    <span class=\"pl-k\">return</span> <span class=\"pl-smi\">helpers</span>.<span class=\"pl-en\">error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>million.dividable<span class=\"pl-pds\">'</span></span>, { q<span class=\"pl-k\">:</span> <span class=\"pl-smi\">args</span>.<span class=\"pl-smi\">q</span> });\n                }\n            },\n            even<span class=\"pl-k\">:</span> {\n                <span class=\"pl-en\">method</span>() {\n\n                    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Rule with only method used to alias another rule</span>\n\n                    <span class=\"pl-k\">return</span> <span class=\"pl-c1\">this</span>.<span class=\"pl-en\">dividable</span>(<span class=\"pl-c1\">2</span>);\n                }\n            }\n        }\n    };\n});\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">custom</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">custom</span>.<span class=\"pl-en\">million</span>().<span class=\"pl-en\">round</span>().<span class=\"pl-en\">dividable</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>)),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">custom</span>.<span class=\"pl-en\">number</span>(),\n    c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">custom</span>.<span class=\"pl-en\">million</span>().<span class=\"pl-en\">even</span>().<span class=\"pl-en\">dividable</span>(<span class=\"pl-c1\">7</span>),\n    d<span class=\"pl-k\">:</span> <span class=\"pl-smi\">custom</span>.<span class=\"pl-en\">million</span>().<span class=\"pl-en\">round</span>().<span class=\"pl-en\">prefs</span>({ convert<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> }),\n    e<span class=\"pl-k\">:</span> <span class=\"pl-smi\">custom</span>.<span class=\"pl-en\">million</span>().<span class=\"pl-en\">large</span>()\n});</pre></div>\n<h3>\n<a id=\"advanced-functions\" class=\"anchor\" href=\"#advanced-functions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Advanced functions</h3>\n<h4>\n<a id=\"_root\" class=\"anchor\" href=\"#_root\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>$_root</h4>\n<p>TODO</p>\n<h4>\n<a id=\"_super\" class=\"anchor\" href=\"#_super\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>$_super</h4>\n<p>TODO</p>\n<h4>\n<a id=\"_temp\" class=\"anchor\" href=\"#_temp\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>$_temp</h4>\n<p>TODO</p>\n<h4>\n<a id=\"_terms\" class=\"anchor\" href=\"#_terms\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>$_terms</h4>\n<p>TODO</p>\n<h4>\n<a id=\"_addruleoptions\" class=\"anchor\" href=\"#_addruleoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>$_addRule(options)</h4>\n<p>TODO</p>\n<h4>\n<a id=\"_compileschema-options\" class=\"anchor\" href=\"#_compileschema-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>$_compile(schema, options)</h4>\n<p>TODO</p>\n<h4>\n<a id=\"_createerrorcode-value-local-state-prefs-options\" class=\"anchor\" href=\"#_createerrorcode-value-local-state-prefs-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>$_createError(code, value, local, state, prefs, options)</h4>\n<p>TODO</p>\n<h4>\n<a id=\"_getflagname\" class=\"anchor\" href=\"#_getflagname\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>$_getFlag(name)</h4>\n<p>TODO</p>\n<h4>\n<a id=\"_getrulename\" class=\"anchor\" href=\"#_getrulename\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>$_getRule(name)</h4>\n<p>TODO</p>\n<h4>\n<a id=\"_maplabelspath\" class=\"anchor\" href=\"#_maplabelspath\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>$_mapLabels(path)</h4>\n<p>TODO</p>\n<h4>\n<a id=\"_matchvalue-state-prefs-overrides\" class=\"anchor\" href=\"#_matchvalue-state-prefs-overrides\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>$_match(value, state, prefs, overrides)</h4>\n<p>TODO</p>\n<h4>\n<a id=\"_modifyoptions\" class=\"anchor\" href=\"#_modifyoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>$_modify(options)</h4>\n<p>TODO</p>\n<h4>\n<a id=\"_mutaterebuild\" class=\"anchor\" href=\"#_mutaterebuild\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>$_mutateRebuild()</h4>\n<p>TODO</p>\n<h4>\n<a id=\"_mutateregisterschema-options\" class=\"anchor\" href=\"#_mutateregisterschema-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>$_mutateRegister(schema, options)</h4>\n<p>TODO</p>\n<h4>\n<a id=\"_propertyname\" class=\"anchor\" href=\"#_propertyname\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>$_property(name)</h4>\n<p>TODO</p>\n<h4>\n<a id=\"_reachpath\" class=\"anchor\" href=\"#_reachpath\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>$_reach(path)</h4>\n<p>TODO</p>\n<h4>\n<a id=\"_rootreferences\" class=\"anchor\" href=\"#_rootreferences\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>$_rootReferences()</h4>\n<p>TODO</p>\n<h4>\n<a id=\"_setflagname-value-options\" class=\"anchor\" href=\"#_setflagname-value-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>$_setFlag(name, value, options)</h4>\n<p>TODO</p>\n<h4>\n<a id=\"_validatevalue-state-prefs\" class=\"anchor\" href=\"#_validatevalue-state-prefs\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>$_validate(value, state, prefs)</h4>\n<p>TODO</p>\n<h2>\n<a id=\"errors\" class=\"anchor\" href=\"#errors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Errors</h2>\n<h3>\n<a id=\"validationerror\" class=\"anchor\" href=\"#validationerror\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>ValidationError</code>\n</h3>\n<p><strong>joi</strong> throws or returns <code>ValidationError</code> objects containing :</p>\n<ul>\n<li>\n<code>name</code> - <code>'ValidationError'</code>.</li>\n<li>\n<code>isJoi</code> - <code>true</code>.</li>\n<li>\n<code>details</code> - an array of errors :\n<ul>\n<li>\n<code>message</code> - string with a description of the error.</li>\n<li>\n<code>path</code> - ordered array where each element is the accessor to the value where the error happened.</li>\n<li>\n<code>type</code> - type of the error.</li>\n<li>\n<code>context</code> - object providing context of the error containing:\n<ul>\n<li>\n<code>key</code> - key of the value that erred, equivalent to the last element of <code>details.path</code>.</li>\n<li>\n<code>label</code> - label of the value that erred, or the <code>key</code> if any, or the default <code>messages.root</code>.</li>\n<li>\n<code>value</code> - the value that failed validation.</li>\n<li>other error specific properties as described for each error code.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>annotate()</code> - function that returns a string with an annotated version of the object pointing at\nthe places where errors occurred. Takes an optional parameter that, if truthy, will strip the\ncolors out of the output.</li>\n</ul>\n<h3>\n<a id=\"list-of-errors\" class=\"anchor\" href=\"#list-of-errors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>List of errors</h3>\n<h4>\n<a id=\"alternativesall\" class=\"anchor\" href=\"#alternativesall\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>alternatives.all</code>\n</h4>\n<p>The value did not match all of the alternative schemas.</p>\n<h4>\n<a id=\"alternativesany\" class=\"anchor\" href=\"#alternativesany\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>alternatives.any</code>\n</h4>\n<p>No alternative was found to test against the input due to try criteria.</p>\n<h4>\n<a id=\"alternativesmatch\" class=\"anchor\" href=\"#alternativesmatch\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>alternatives.match</code>\n</h4>\n<p>No alternative matched the input due to specific matching rules for at least one of the alternatives.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">details</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">object</span><span class=\"pl-k\">&gt;</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> An array of details for each error found while trying to match to each of the alternatives</span>\n    <span class=\"pl-en\">message</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The combined error messages</span>\n}</pre></div>\n<h4>\n<a id=\"alternativesone\" class=\"anchor\" href=\"#alternativesone\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>alternatives.one</code>\n</h4>\n<p>The value matched more than one alternative schema.</p>\n<h4>\n<a id=\"alternativestypes\" class=\"anchor\" href=\"#alternativestypes\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>alternatives.types</code>\n</h4>\n<p>The provided input did not match any of the allowed types.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">types</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The list of expected types</span>\n}</pre></div>\n<h4>\n<a id=\"anycustom\" class=\"anchor\" href=\"#anycustom\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.custom</code>\n</h4>\n<p>A custom validation method threw an exception.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">error</span>: <span class=\"pl-c1\">Error</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The error thrown</span>\n}</pre></div>\n<h4>\n<a id=\"anydefault\" class=\"anchor\" href=\"#anydefault\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.default</code>\n</h4>\n<p>If your <a href=\"#anydefaultvalue-description\"><code>any.default()</code></a> generator function throws error, you will have it here.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">error</span>: <span class=\"pl-c1\">Error</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Error generated during the default value function call</span>\n}</pre></div>\n<h4>\n<a id=\"anyfailover\" class=\"anchor\" href=\"#anyfailover\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.failover</code>\n</h4>\n<p>If your <a href=\"#anyfailovervalue-description\"><code>any.failover()</code></a> generator function throws error, you will have it here.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">error</span>: <span class=\"pl-c1\">Error</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Error generated during the failover value function call</span>\n}</pre></div>\n<h4>\n<a id=\"anyinvalid\" class=\"anchor\" href=\"#anyinvalid\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.invalid</code>\n</h4>\n<p>The value matched a value listed in the invalid values.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">invalids</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">any</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Contains the list of the invalid values that should be rejected</span>\n}</pre></div>\n<h4>\n<a id=\"anyonly-1\" class=\"anchor\" href=\"#anyonly-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.only</code>\n</h4>\n<p>Only some values were allowed, the input didn't match any of them.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">valids</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">any</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Contains the list of the valid values that were expected</span>\n}</pre></div>\n<h4>\n<a id=\"anyref\" class=\"anchor\" href=\"#anyref\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.ref</code>\n</h4>\n<p>A reference was used in rule argument and the value pointed to by that reference in the input is not valid.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">arg</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> The argument name</span>\n    <span class=\"pl-en\">reason</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> The reason the referenced value is invalid</span>\n    <span class=\"pl-en\">ref</span>: <span class=\"pl-smi\">Reference</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Reference used</span>\n}</pre></div>\n<h4>\n<a id=\"anyrequired\" class=\"anchor\" href=\"#anyrequired\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.required</code>\n</h4>\n<p>A required value wasn't present.</p>\n<h4>\n<a id=\"anyunknown\" class=\"anchor\" href=\"#anyunknown\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.unknown</code>\n</h4>\n<p>A value was present while it wasn't expected.</p>\n<h4>\n<a id=\"arraybase\" class=\"anchor\" href=\"#arraybase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.base</code>\n</h4>\n<p>The value is not of Array type or could not be cast to an Array from a string.</p>\n<h4>\n<a id=\"arrayexcludes\" class=\"anchor\" href=\"#arrayexcludes\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.excludes</code>\n</h4>\n<p>The array contains a value that is part of the exclusion list.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">pos</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Index where the value was found in the array</span>\n}</pre></div>\n<h4>\n<a id=\"arrayincludesrequiredboth\" class=\"anchor\" href=\"#arrayincludesrequiredboth\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.includesRequiredBoth</code>\n</h4>\n<p>Some values were expected to be present in the array and are missing. This error happens when we have a mix of labeled and unlabeled schemas.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">knownMisses</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Labels of all the missing values</span>\n    <span class=\"pl-en\">unknownMisees</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Count of missing values that didn't have a label</span>\n}</pre></div>\n<h4>\n<a id=\"arrayincludesrequiredknowns\" class=\"anchor\" href=\"#arrayincludesrequiredknowns\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.includesRequiredKnowns</code>\n</h4>\n<p>Some values were expected to be present in the array and are missing. This error happens when we only have labeled schemas.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">knownMisses</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Labels of all the missing values</span>\n}</pre></div>\n<h4>\n<a id=\"arrayincludesrequiredunknowns\" class=\"anchor\" href=\"#arrayincludesrequiredunknowns\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.includesRequiredUnknowns</code>\n</h4>\n<p>Some values were expected to be present in the array and are missing. This error happens when we only have unlabeled schemas.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">unknownMisees</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Count of missing values that didn't have a label</span>\n}</pre></div>\n<h4>\n<a id=\"arrayincludes\" class=\"anchor\" href=\"#arrayincludes\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.includes</code>\n</h4>\n<p>The value didn't match any of the allowed types for that array.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">pos</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Index where the value was found in the array</span>\n}</pre></div>\n<h4>\n<a id=\"arraylength\" class=\"anchor\" href=\"#arraylength\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.length</code>\n</h4>\n<p>The array is not of the expected length.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Length that was expected for this array</span>\n}</pre></div>\n<h4>\n<a id=\"arraymax\" class=\"anchor\" href=\"#arraymax\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.max</code>\n</h4>\n<p>The array has more elements than the maximum allowed.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Maximum length that was expected for this array</span>\n}</pre></div>\n<h4>\n<a id=\"arraymin\" class=\"anchor\" href=\"#arraymin\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.min</code>\n</h4>\n<p>The array has less elements than the minimum allowed.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Minimum length that was expected for this array</span>\n}</pre></div>\n<h4>\n<a id=\"arrayorderedlength\" class=\"anchor\" href=\"#arrayorderedlength\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.orderedLength</code>\n</h4>\n<p>Given an <a href=\"#arrayorderedtype\"><code>array.ordered()</code></a>, that array has more elements than it should.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">pos</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Index where the value was found in the array</span>\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Maximum length that was expected for this array</span>\n}</pre></div>\n<h4>\n<a id=\"arraysort\" class=\"anchor\" href=\"#arraysort\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.sort</code>\n</h4>\n<p>The array did not match the required sort order.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">order</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> 'ascending' or 'descending'</span>\n    <span class=\"pl-en\">by</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The object key used for comparison</span>\n}</pre></div>\n<h4>\n<a id=\"arraysortmismatching\" class=\"anchor\" href=\"#arraysortmismatching\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.sort.mismatching</code>\n</h4>\n<p>Failed sorting the array due to mismatching item types.</p>\n<h4>\n<a id=\"arraysortunsupported\" class=\"anchor\" href=\"#arraysortunsupported\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.sort.unsupported</code>\n</h4>\n<p>Failed sorting the array due to unsupported item types.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">type</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The unsupported array item type</span>\n}</pre></div>\n<h4>\n<a id=\"arraysparse\" class=\"anchor\" href=\"#arraysparse\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.sparse</code>\n</h4>\n<p>An <code>undefined</code> value was found in an array that shouldn't be sparse.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">pos</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Index where an undefined value was found in the array</span>\n}</pre></div>\n<h4>\n<a id=\"arrayunique\" class=\"anchor\" href=\"#arrayunique\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.unique</code>\n</h4>\n<p>A duplicate value was found in an array.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">pos</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Index where the duplicate value was found in the array</span>\n    <span class=\"pl-en\">dupePos</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Index where the first appearance of the duplicate value was found in the array</span>\n    <span class=\"pl-en\">dupeValue</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Value with which the duplicate was met</span>\n}</pre></div>\n<h4>\n<a id=\"arrayhasknown\" class=\"anchor\" href=\"#arrayhasknown\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.hasKnown</code>\n</h4>\n<p>The schema on an <a href=\"#arrayhas\"><code>array.has()</code></a> was not found in the array. This error happens when the schema is labeled.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">patternLabel</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label of assertion schema</span>\n}</pre></div>\n<h4>\n<a id=\"arrayhasunknown\" class=\"anchor\" href=\"#arrayhasunknown\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.hasUnknown</code>\n</h4>\n<p>The schema on an <a href=\"#arrayhas\"><code>array.has()</code></a> was not found in the array. This error happens when the schema is unlabeled.</p>\n<h4>\n<a id=\"binarybase\" class=\"anchor\" href=\"#binarybase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>binary.base</code>\n</h4>\n<p>The value is either not a Buffer or could not be cast to a Buffer from a string.</p>\n<h4>\n<a id=\"binarylength\" class=\"anchor\" href=\"#binarylength\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>binary.length</code>\n</h4>\n<p>The buffer was not of the specified length.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Length that was expected for this buffer</span>\n}</pre></div>\n<h4>\n<a id=\"binarymax\" class=\"anchor\" href=\"#binarymax\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>binary.max</code>\n</h4>\n<p>The buffer contains more bytes than expected.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Maximum length that was expected for this buffer</span>\n}</pre></div>\n<h4>\n<a id=\"binarymin\" class=\"anchor\" href=\"#binarymin\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>binary.min</code>\n</h4>\n<p>The buffer contains less bytes than expected.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Minimum length that was expected for this buffer</span>\n}</pre></div>\n<h4>\n<a id=\"booleanbase\" class=\"anchor\" href=\"#booleanbase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>boolean.base</code>\n</h4>\n<p>The value is either not a boolean or could not be cast to a boolean from one of the truthy or falsy values.</p>\n<h4>\n<a id=\"datebase\" class=\"anchor\" href=\"#datebase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.base</code>\n</h4>\n<p>The value is either not a date or could not be cast to a date from a string or a number.</p>\n<h4>\n<a id=\"dateformat\" class=\"anchor\" href=\"#dateformat\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.format</code>\n</h4>\n<p>The date does not match the required format.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">format</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The required format</span>\n}</pre></div>\n<h4>\n<a id=\"dategreater\" class=\"anchor\" href=\"#dategreater\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.greater</code>\n</h4>\n<p>The date is over the limit that you set.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-c1\">Date</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Maximum date</span>\n}</pre></div>\n<h4>\n<a id=\"dateless\" class=\"anchor\" href=\"#dateless\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.less</code>\n</h4>\n<p>The date is under the limit that you set.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-c1\">Date</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Minimum date</span>\n}</pre></div>\n<h4>\n<a id=\"datemax\" class=\"anchor\" href=\"#datemax\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.max</code>\n</h4>\n<p>The date is over or equal to the limit that you set.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-c1\">Date</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Maximum date</span>\n}</pre></div>\n<h4>\n<a id=\"datemin\" class=\"anchor\" href=\"#datemin\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.min</code>\n</h4>\n<p>The date is under or equal to the limit that you set.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-c1\">Date</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Minimum date</span>\n}</pre></div>\n<h4>\n<a id=\"datestrict\" class=\"anchor\" href=\"#datestrict\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.strict</code>\n</h4>\n<p>Occurs when the input is not a Date type and <code>convert</code> is disabled.</p>\n<h4>\n<a id=\"functionarity\" class=\"anchor\" href=\"#functionarity\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>function.arity</code>\n</h4>\n<p>The number of arguments for the function doesn't match the required number.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">n</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Expected arity</span>\n}</pre></div>\n<h4>\n<a id=\"functionclass\" class=\"anchor\" href=\"#functionclass\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>function.class</code>\n</h4>\n<p>The input is not a JavaScript class.</p>\n<h4>\n<a id=\"functionmaxarity\" class=\"anchor\" href=\"#functionmaxarity\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>function.maxArity</code>\n</h4>\n<p>The number of arguments for the function is over the required number.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">n</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Maximum expected arity</span>\n}</pre></div>\n<h4>\n<a id=\"functionminarity\" class=\"anchor\" href=\"#functionminarity\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>function.minArity</code>\n</h4>\n<p>The number of arguments for the function is under the required number.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">n</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Minimum expected arity</span>\n}</pre></div>\n<h4>\n<a id=\"numberbase\" class=\"anchor\" href=\"#numberbase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.base</code>\n</h4>\n<p>The value is not a number or could not be cast to a number.</p>\n<h4>\n<a id=\"numbergreater\" class=\"anchor\" href=\"#numbergreater\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.greater</code>\n</h4>\n<p>The number is lower or equal to the limit that you set.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Minimum value that was expected for this number</span>\n}</pre></div>\n<h4>\n<a id=\"numberinfinity\" class=\"anchor\" href=\"#numberinfinity\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.infinity</code>\n</h4>\n<p>The number is <code>Infinity</code> or <code>-Infinity</code>.</p>\n<h4>\n<a id=\"numberinteger-1\" class=\"anchor\" href=\"#numberinteger-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.integer</code>\n</h4>\n<p>The number is not a valid integer.</p>\n<h4>\n<a id=\"numberless\" class=\"anchor\" href=\"#numberless\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.less</code>\n</h4>\n<p>The number is higher or equal to the limit that you set.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Maximum value that was expected for this number</span>\n}</pre></div>\n<h4>\n<a id=\"numbermax\" class=\"anchor\" href=\"#numbermax\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.max</code>\n</h4>\n<p>The number is higher than the limit that you set.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Maximum value that was expected for this number</span>\n}</pre></div>\n<h4>\n<a id=\"numbermin\" class=\"anchor\" href=\"#numbermin\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.min</code>\n</h4>\n<p>The number is lower than the limit that you set.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Minimum value that was expected for this number</span>\n}</pre></div>\n<h4>\n<a id=\"numbermultiple\" class=\"anchor\" href=\"#numbermultiple\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.multiple</code>\n</h4>\n<p>The number could not be divided by the multiple you provided.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">multiple</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The number of which the input is supposed to be a multiple of</span>\n}</pre></div>\n<h4>\n<a id=\"numbernegative-1\" class=\"anchor\" href=\"#numbernegative-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.negative</code>\n</h4>\n<p>The number was positive.</p>\n<h4>\n<a id=\"numberport-1\" class=\"anchor\" href=\"#numberport-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.port</code>\n</h4>\n<p>The number didn't look like a port number.</p>\n<h4>\n<a id=\"numberpositive-1\" class=\"anchor\" href=\"#numberpositive-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.positive</code>\n</h4>\n<p>The number was negative.</p>\n<h4>\n<a id=\"numberprecision\" class=\"anchor\" href=\"#numberprecision\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.precision</code>\n</h4>\n<p>The number didn't have the required precision.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The precision that it should have had</span>\n}</pre></div>\n<h4>\n<a id=\"numberunsafe\" class=\"anchor\" href=\"#numberunsafe\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.unsafe</code>\n</h4>\n<p>The number is not within the safe range of JavaScript numbers.</p>\n<h4>\n<a id=\"objectunknown\" class=\"anchor\" href=\"#objectunknown\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.unknown</code>\n</h4>\n<p>An unexpected property was found in the object.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">child</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Property that is unexpected</span>\n}</pre></div>\n<h4>\n<a id=\"objectand\" class=\"anchor\" href=\"#objectand\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.and</code>\n</h4>\n<p>The AND condition between the properties you specified was not satisfied in that object.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">present</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of properties that are set</span>\n    <span class=\"pl-en\">presentWithLabels</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of labels for the properties that are set</span>\n    <span class=\"pl-en\">missing</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of properties that are not set</span>\n    <span class=\"pl-en\">missingWithLabels</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of labels for the properties that are not set</span>\n}</pre></div>\n<h4>\n<a id=\"objectassert\" class=\"anchor\" href=\"#objectassert\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.assert</code>\n</h4>\n<p>The schema on an <a href=\"#objectassertref-schema-message\"><code>object.assert()</code></a> failed to validate.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">subject</span>: <span class=\"pl-smi\">object</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> The assertion subject. When it is a reference, use subject.key for the display path.</span>\n    <span class=\"pl-en\">message</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Custom message when provided</span>\n}</pre></div>\n<h4>\n<a id=\"objectbase\" class=\"anchor\" href=\"#objectbase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.base</code>\n</h4>\n<p>The value is not of the expected type.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">type</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The expected type</span>\n}</pre></div>\n<h4>\n<a id=\"objectlength\" class=\"anchor\" href=\"#objectlength\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.length</code>\n</h4>\n<p>The number of keys for this object is not of the expected length.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Number of keys that was expected for this object</span>\n}</pre></div>\n<h4>\n<a id=\"objectmax\" class=\"anchor\" href=\"#objectmax\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.max</code>\n</h4>\n<p>The number of keys for this object is over or equal to the limit that you set.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Maximum number of keys</span>\n}</pre></div>\n<h4>\n<a id=\"objectmin\" class=\"anchor\" href=\"#objectmin\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.min</code>\n</h4>\n<p>The number of keys for this object is under or equal to the limit that you set.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Minimum number of keys</span>\n}</pre></div>\n<h4>\n<a id=\"objectmissing\" class=\"anchor\" href=\"#objectmissing\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.missing</code>\n</h4>\n<p>The OR or XOR condition between the properties you specified was not satisfied in that object, none of it were set.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">peers</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of properties were none of it was set</span>\n    <span class=\"pl-en\">peersWithLabels</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of labels for the properties were none of it was set</span>\n}</pre></div>\n<h4>\n<a id=\"objectnand\" class=\"anchor\" href=\"#objectnand\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.nand</code>\n</h4>\n<p>The NAND condition between the properties you specified was not satisfied in that object.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">main</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> One of the properties that was present</span>\n    <span class=\"pl-en\">mainWithLabel</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> The label of the `main` property</span>\n    <span class=\"pl-en\">peers</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of the other properties that were present</span>\n    <span class=\"pl-en\">peersWithLabels</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of the labels of the other properties that were present</span>\n}</pre></div>\n<h4>\n<a id=\"objectpatternmatch\" class=\"anchor\" href=\"#objectpatternmatch\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.pattern.match</code>\n</h4>\n<p>The object keys failed to match a pattern's matches requirement.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">details</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">object</span><span class=\"pl-k\">&gt;</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> An array of details for each error found while trying to match to each of the alternatives</span>\n    <span class=\"pl-en\">message</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> The combined error messages</span>\n    <span class=\"pl-en\">matches</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span>  <span class=\"pl-c\"><span class=\"pl-c\">//</span> The matching keys</span>\n}</pre></div>\n<h4>\n<a id=\"objectreftype\" class=\"anchor\" href=\"#objectreftype\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.refType</code>\n</h4>\n<p>The object is not a <a href=\"#refkey-options\"><code>Joi.ref()</code></a>.</p>\n<h4>\n<a id=\"objectrenamemultiple\" class=\"anchor\" href=\"#objectrenamemultiple\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.rename.multiple</code>\n</h4>\n<p>Another rename was already done to the same target property.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">from</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Origin property name of the rename</span>\n    <span class=\"pl-en\">to</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Target property of the rename</span>\n    <span class=\"pl-en\">pattern</span>: <span class=\"pl-smi\">boolean</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Indicates if the rename source was a pattern (regular expression)</span>\n}</pre></div>\n<h4>\n<a id=\"objectrenameoverride\" class=\"anchor\" href=\"#objectrenameoverride\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.rename.override</code>\n</h4>\n<p>The target property already exists and you disallowed overrides.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">from</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Origin property name of the rename</span>\n    <span class=\"pl-en\">to</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Target property of the rename</span>\n    <span class=\"pl-en\">pattern</span>: <span class=\"pl-smi\">boolean</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Indicates if the rename source was a pattern (regular expression)</span>\n}</pre></div>\n<h4>\n<a id=\"objectschema\" class=\"anchor\" href=\"#objectschema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.schema</code>\n</h4>\n<p>The object was not a <strong>joi</strong> schema.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">type</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The required schema</span>\n}</pre></div>\n<h4>\n<a id=\"objectinstance\" class=\"anchor\" href=\"#objectinstance\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.instance</code>\n</h4>\n<p>The object is not of the type you specified.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">type</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Type name the object should have been</span>\n}</pre></div>\n<h4>\n<a id=\"objectwith\" class=\"anchor\" href=\"#objectwith\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.with</code>\n</h4>\n<p>Property that should have been present at the same time as another one was missing.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">main</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Property that triggered the check</span>\n    <span class=\"pl-en\">mainWithLabel</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label of the property that triggered the check</span>\n    <span class=\"pl-en\">peer</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Property that was missing</span>\n    <span class=\"pl-en\">peerWithLabels</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label of the other property that was missing</span>\n}</pre></div>\n<h4>\n<a id=\"objectwithout\" class=\"anchor\" href=\"#objectwithout\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.without</code>\n</h4>\n<p>Property that should have been absent at the same time as another one was present.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">main</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Property that triggered the check</span>\n    <span class=\"pl-en\">mainWithLabel</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label of the property that triggered the check</span>\n    <span class=\"pl-en\">peer</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Property that was present</span>\n    <span class=\"pl-en\">peerWithLabels</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label of the other property that was present</span>\n}</pre></div>\n<h4>\n<a id=\"objectxor\" class=\"anchor\" href=\"#objectxor\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.xor</code>\n</h4>\n<p>The XOR condition between the properties you specified was not satisfied in that object.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">peers</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of properties where none of it or too many of it was set</span>\n    <span class=\"pl-en\">peersWithLabels</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of labels for the properties where none of it or too many of it was set</span>\n}</pre></div>\n<h4>\n<a id=\"objectoxor\" class=\"anchor\" href=\"#objectoxor\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.oxor</code>\n</h4>\n<p>The optional XOR condition between the properties you specified was not satisfied in that object.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">peers</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of properties where too many of it was set</span>\n    <span class=\"pl-en\">peersWithLabels</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of labels for the properties where too many of it was set</span>\n}</pre></div>\n<h4>\n<a id=\"stringalphanum-1\" class=\"anchor\" href=\"#stringalphanum-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.alphanum</code>\n</h4>\n<p>The string doesn't only contain alphanumeric characters.</p>\n<h4>\n<a id=\"stringbase64\" class=\"anchor\" href=\"#stringbase64\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.base64</code>\n</h4>\n<p>The string isn't a valid base64 string.</p>\n<h4>\n<a id=\"stringbase\" class=\"anchor\" href=\"#stringbase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.base</code>\n</h4>\n<p>The input is not a string.</p>\n<h4>\n<a id=\"stringcreditcard-1\" class=\"anchor\" href=\"#stringcreditcard-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.creditCard</code>\n</h4>\n<p>The string is not a valid credit card number.</p>\n<h4>\n<a id=\"stringdatauri\" class=\"anchor\" href=\"#stringdatauri\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.dataUri</code>\n</h4>\n<p>The string is not a valid data URI.</p>\n<h4>\n<a id=\"stringdomain\" class=\"anchor\" href=\"#stringdomain\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.domain</code>\n</h4>\n<p>The string is not a valid domain name.</p>\n<h4>\n<a id=\"stringemail\" class=\"anchor\" href=\"#stringemail\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.email</code>\n</h4>\n<p>The string is not a valid e-mail.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">invalids</span>: [<span class=\"pl-smi\">string</span>] <span class=\"pl-c\"><span class=\"pl-c\">//</span> Array of invalid emails</span>\n}</pre></div>\n<h4>\n<a id=\"stringempty\" class=\"anchor\" href=\"#stringempty\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.empty</code>\n</h4>\n<p>When an empty string is found and denied by invalid values.</p>\n<h4>\n<a id=\"stringguid\" class=\"anchor\" href=\"#stringguid\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.guid</code>\n</h4>\n<p>The string is not a valid GUID.</p>\n<h4>\n<a id=\"stringhexalign\" class=\"anchor\" href=\"#stringhexalign\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.hexAlign</code>\n</h4>\n<p>The string contains hexadecimal characters but they are not byte-aligned.</p>\n<h4>\n<a id=\"stringhex\" class=\"anchor\" href=\"#stringhex\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.hex</code>\n</h4>\n<p>The string is not a valid hexadecimal string.</p>\n<h4>\n<a id=\"stringhostname-1\" class=\"anchor\" href=\"#stringhostname-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.hostname</code>\n</h4>\n<p>The string is not a valid hostname.</p>\n<h4>\n<a id=\"stringipversion\" class=\"anchor\" href=\"#stringipversion\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.ipVersion</code>\n</h4>\n<p>The string is not a valid IP address considering the provided constraints.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">cidr</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> CIDR used for the validation</span>\n    <span class=\"pl-en\">version</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of IP version accepted</span>\n}</pre></div>\n<h4>\n<a id=\"stringip\" class=\"anchor\" href=\"#stringip\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.ip</code>\n</h4>\n<p>The string is not a valid IP address.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">cidr</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> CIDR used for the validation</span>\n}</pre></div>\n<h4>\n<a id=\"stringisodate-1\" class=\"anchor\" href=\"#stringisodate-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.isoDate</code>\n</h4>\n<p>The string is not a valid ISO date string.</p>\n<h4>\n<a id=\"stringisoduration-1\" class=\"anchor\" href=\"#stringisoduration-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.isoDuration</code>\n</h4>\n<p>The string must be a valid ISO 8601 duration.</p>\n<h4>\n<a id=\"stringlength\" class=\"anchor\" href=\"#stringlength\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.length</code>\n</h4>\n<p>The string is not of the expected length.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Length that was expected for this string</span>\n    <span class=\"pl-en\">encoding</span>: <span class=\"pl-c1\">undefined</span> <span class=\"pl-k\">|</span> <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Encoding specified for the check if any</span>\n}</pre></div>\n<h4>\n<a id=\"stringlowercase-1\" class=\"anchor\" href=\"#stringlowercase-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.lowercase</code>\n</h4>\n<p>The string isn't all lower-cased.</p>\n<h4>\n<a id=\"stringmax\" class=\"anchor\" href=\"#stringmax\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.max</code>\n</h4>\n<p>The string is larger than expected.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Maximum length that was expected for this string</span>\n    <span class=\"pl-en\">encoding</span>: <span class=\"pl-c1\">undefined</span> <span class=\"pl-k\">|</span> <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Encoding specified for the check if any</span>\n}</pre></div>\n<h4>\n<a id=\"stringmin\" class=\"anchor\" href=\"#stringmin\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.min</code>\n</h4>\n<p>The string is smaller than expected.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Minimum length that was expected for this string</span>\n    <span class=\"pl-en\">encoding</span>: <span class=\"pl-c1\">undefined</span> <span class=\"pl-k\">|</span> <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Encoding specified for the check if any</span>\n}</pre></div>\n<h4>\n<a id=\"stringnormalize\" class=\"anchor\" href=\"#stringnormalize\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.normalize</code>\n</h4>\n<p>The string isn't valid in regards of the normalization form expected.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">form</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Normalization form that is expected</span>\n}</pre></div>\n<h4>\n<a id=\"stringpatternbase\" class=\"anchor\" href=\"#stringpatternbase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.pattern.base</code>\n</h4>\n<p>The string didn't match the regular expression.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">name</span>: <span class=\"pl-c1\">undefined</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Undefined since the regular expression has no name</span>\n    <span class=\"pl-en\">pattern</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Regular expression</span>\n}</pre></div>\n<h4>\n<a id=\"stringpatternname\" class=\"anchor\" href=\"#stringpatternname\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.pattern.name</code>\n</h4>\n<p>The string didn't match the named regular expression.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">name</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Name of the regular expression</span>\n    <span class=\"pl-en\">pattern</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Regular expression</span>\n}</pre></div>\n<h4>\n<a id=\"stringpatterninvertbase\" class=\"anchor\" href=\"#stringpatterninvertbase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.pattern.invert.base</code>\n</h4>\n<p>The string matched the regular expression while it shouldn't.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">name</span>: <span class=\"pl-c1\">undefined</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Undefined since the regular expression has no name</span>\n    <span class=\"pl-en\">pattern</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Regular expression</span>\n}</pre></div>\n<h4>\n<a id=\"stringpatterninvertname\" class=\"anchor\" href=\"#stringpatterninvertname\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.pattern.invert.name</code>\n</h4>\n<p>The string matched the named regular expression while it shouldn't.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">name</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Name of the regular expression</span>\n    <span class=\"pl-en\">pattern</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Regular expression</span>\n}</pre></div>\n<h4>\n<a id=\"stringtoken-1\" class=\"anchor\" href=\"#stringtoken-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.token</code>\n</h4>\n<p>The string isn't a token.</p>\n<h4>\n<a id=\"stringtrim\" class=\"anchor\" href=\"#stringtrim\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.trim</code>\n</h4>\n<p>The string contains whitespace around it.</p>\n<h4>\n<a id=\"stringuppercase-1\" class=\"anchor\" href=\"#stringuppercase-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.uppercase</code>\n</h4>\n<p>The string isn't all upper-cased.</p>\n<h4>\n<a id=\"stringuri\" class=\"anchor\" href=\"#stringuri\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.uri</code>\n</h4>\n<p>The string isn't a valid URI.</p>\n<h4>\n<a id=\"stringuricustomscheme\" class=\"anchor\" href=\"#stringuricustomscheme\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.uriCustomScheme</code>\n</h4>\n<p>The string isn't a valid URI considering the custom schemes.</p>\n<p>Additional local context properties:</p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">scheme</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Scheme prefix that is expected in the URI</span>\n}</pre></div>\n<h4>\n<a id=\"stringurirelativeonly\" class=\"anchor\" href=\"#stringurirelativeonly\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.uriRelativeOnly</code>\n</h4>\n<p>The string is a valid relative URI.</p>\n<h4>\n<a id=\"symbolbase\" class=\"anchor\" href=\"#symbolbase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>symbol.base</code>\n</h4>\n<p>The input is not a Symbol.</p>\n<h4>\n<a id=\"symbolmap\" class=\"anchor\" href=\"#symbolmap\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>symbol.map</code>\n</h4>\n<p>The input is not a Symbol or could not be converted to one.</p>\n","intro":"### Introduction\n\n**joi** lets you describe your data using a simple, intuitive, and readable language. Like the rest of the [hapi ecosystem](https://hapi.dev) it fits in, **joi** allows you to describe your data for both input and output validation, as part of a hapi HTTP server or standalone.\n","example":"#### Example\n\n```js\nconst Joi = require('@hapi/joi');\n\nconst schema = Joi.object({\n    username: Joi.string()\n        .alphanum()\n        .min(3)\n        .max(30)\n        .required(),\n\n    password: Joi.string()\n        .pattern(/^[a-zA-Z0-9]{3,30}$/),\n\n    repeat_password: Joi.ref('password'),\n\n    access_token: [\n        Joi.string(),\n        Joi.number()\n    ],\n\n    birth_year: Joi.number()\n        .integer()\n        .min(1900)\n        .max(2013),\n\n    email: Joi.string()\n        .email({ minDomainSegments: 2, tlds: { allow: ['com', 'net'] } })\n})\n    .with('username', 'birth_year')\n    .xor('password', 'access_token')\n    .with('password', 'repeat_password');\n\n\nschema.validate({ username: 'abc', birth_year: 1994 });\n// -> { value: { username: 'abc', birth_year: 1994 } }\n\nschema.validate({});\n// -> { value: {}, error: '\"username\" is required' }\n\n// Also -\n\ntry {\n    const value = await schema.validateAsync({ username: 'abc', birth_year: 1994 });\n}\ncatch (err) { }\n```\n\nThe above schema defines the following constraints:\n* `username`\n    * a required string\n    * must contain only alphanumeric characters\n    * at least 3 characters long but no more than 30\n    * must be accompanied by `birth_year`\n* `password`\n    * an optional string\n    * must satisfy the custom regex pattern\n    * cannot appear together with `access_token`\n    * must be accompanied by `repeat_password` and equal to it\n* `access_token`\n    * an optional, unconstrained string or number\n* `birth_year`\n    * an integer between 1900 and 2013\n* `email`\n    * a valid email address string\n    * must have two domain parts e.g. `example.com`\n    * TLD must be `.com` or `.net`\n","usage":"### General Usage\n\nUsage is a two steps process:\n\nFirst, a schema is constructed using the provided types and constraints:\n\n```js\nconst schema = Joi.object({\n    a: Joi.string()\n});\n```\n\nNote that **joi** schema objects are immutable which means every additional rule added (e.g.\n`.min(5)`) will return a new schema object.\n\nSecond, the value is validated against the defined schema:\n\n```js\nconst { error, value } = schema.validate({ a: 'a string' });\n```\n\nIf the input is valid, then the `error` will be `undefined`. If the input is invalid, `error` is assigned\na [`ValidationError`](https://github.com/hapijs/joi/blob/master/API.md#validationerror) object\nproviding more information.\n\nThe schema can be a plain JavaScript object where every key is assigned a **joi** type, or it can be a **joi** type directly:\n\n```js\nconst schema = Joi.string().min(10);\n```\n\nIf the schema is a **joi** type, the `schema.validate(value)` can be called directly on the type. When passing a non-type schema object,\nthe module converts it internally to an object() type equivalent to:\n\n```js\nconst schema = Joi.object().keys({\n    a: Joi.string()\n});\n```\n\nWhen validating a schema:\n\n* Values (or keys in case of objects) are optional by default.\n\n    ```js\n    Joi.string().validate(undefined); // validates fine\n    ```\n\n    To disallow this behavior, you can either set the schema as `required()`, or set `presence` to `\"required\"` when passing `options`:\n\n    ```js\n    Joi.string().required().validate(undefined);\n    // or\n    Joi.string().validate(undefined, /* options */ { presence: \"required\" });\n    ```\n\n* Strings are utf-8 encoded by default.\n* Rules are defined in an additive fashion and evaluated in order, first the inclusive rules, then the exclusive rules.\n","faq":"","license":"BSD"},"12.1.0":{"menu":"  - [`version`](#version)\n  - [`validate()`](#validatevalue-schema-options-callback)\n  - [`compile()`](#compileschema)\n  - [`assert()`](#assertvalue-schema-message)\n  - [`attempt()`](#attemptvalue-schema-message)\n  - [`ref()`](#refkey-options)\n  - [`isRef()`](#isrefref)\n  - [`reach()`](#reachschema-path)\n  - [`defaults()`](#defaultsfn)\n  - [`extend()`](#extendextension)\n    - [Terms](#terms)\n    - [Extension](#extension)\n    - [npm note](#npm-note)\n    - [Examples](#examples)\n  - [`any`](#any)\n    - [`schemaType`](#schematype)\n    - [`any.validate()`](#anyvalidatevalue-options-callback)\n    - [`any.allow()`](#anyallowvalue)\n    - [`any.valid()` - aliases: `only`, `equal`](#anyvalidvalue---aliases-only-equal)\n    - [`any.invalid()` - aliases: `disallow`, `not`](#anyinvalidvalue---aliases-disallow-not)\n    - [`any.required()` - aliases: `exist`](#anyrequired---aliases-exist)\n    - [`any.optional()`](#anyoptional)\n    - [`any.forbidden()`](#anyforbidden)\n    - [`any.strip()`](#anystrip)\n    - [`any.description()`](#anydescriptiondesc)\n    - [`any.notes()`](#anynotesnotes)\n    - [`any.tags()`](#anytagstags)\n    - [`any.meta()`](#anymetameta)\n    - [`any.example()`](#anyexamplevalue)\n    - [`any.unit()`](#anyunitname)\n    - [`any.options()`](#anyoptionsoptions)\n    - [`any.strict()`](#anystrictisstrict)\n    - [`any.default()`](#anydefaultvalue-description)\n    - [`any.concat()`](#anyconcatschema)\n    - [`any.when()`](#anywhencondition-options)\n    - [`any.label()`](#anylabelname)\n    - [`any.raw()`](#anyrawisraw)\n    - [`any.empty()`](#anyemptyschema)\n    - [`any.error()`](#anyerrorerr)\n  - [`array` - inherits from `Any`](#array---inherits-from-any)\n    - [`array.sparse()`](#arraysparseenabled)\n    - [`array.single()`](#arraysingleenabled)\n    - [`array.items()`](#arrayitemstype)\n    - [`array.ordered()`](#arrayorderedtype)\n    - [`array.min()`](#arrayminlimit)\n    - [`array.max()`](#arraymaxlimit)\n    - [`array.length()`](#arraylengthlimit)\n    - [`array.unique()`](#arrayuniquecomparator)\n  - [`boolean` - inherits from `Any`](#boolean---inherits-from-any)\n    - [`boolean.truthy()`](#booleantruthyvalue)\n    - [`boolean.falsy()`](#booleanfalsyvalue)\n    - [`boolean.insensitive()`](#booleaninsensitiveenabled)\n  - [`binary` - inherits from `Any`](#binary---inherits-from-any)\n    - [`binary.encoding()`](#binaryencodingencoding)\n    - [`binary.min()`](#binaryminlimit)\n    - [`binary.max()`](#binarymaxlimit)\n    - [`binary.length()`](#binarylengthlimit)\n  - [`date` - inherits from `Any`](#date---inherits-from-any)\n    - [`date.min()`](#datemindate)\n    - [`date.max()`](#datemaxdate)\n    - [`date.iso()`](#dateiso)\n    - [`date.timestamp()`](#datetimestamptype)\n  - [`func` - inherits from `Any`](#func---inherits-from-any)\n    - [`func.arity()`](#funcarityn)\n    - [`func.minArity()`](#funcminarityn)\n    - [`func.maxArity()`](#funcmaxarityn)\n    - [`func.class()`](#funcclass)\n    - [`func.ref()`](#funcref)\n  - [`number` - inherits from `Any`](#number---inherits-from-any)\n    - [`number.min()`](#numberminlimit)\n    - [`number.max()`](#numbermaxlimit)\n    - [`number.greater()`](#numbergreaterlimit)\n    - [`number.less()`](#numberlesslimit)\n    - [`number.integer()`](#numberinteger)\n    - [`number.precision()`](#numberprecisionlimit)\n    - [`number.multiple()`](#numbermultiplebase)\n    - [`number.positive()`](#numberpositive)\n    - [`number.negative()`](#numbernegative)\n  - [`object` - inherits from `Any`](#object---inherits-from-any)\n    - [`object.keys()`](#objectkeysschema)\n      - [`{} notation`](#-notation)\n      - [`Joi.object() notation`](#joiobjectschema-notation)\n      - [`Joi.object() notation`](#joiobjectkeysschema-notation)\n    - [`object.min()`](#objectminlimit)\n    - [`object.max()`](#objectmaxlimit)\n    - [`object.length()`](#objectlengthlimit)\n    - [`object.pattern()`](#objectpatternregex-schema)\n    - [`object.and()`](#objectandpeers)\n    - [`object.nand()`](#objectnandpeers)\n    - [`object.or()`](#objectorpeers)\n    - [`object.xor()`](#objectxorpeers)\n    - [`object.with()`](#objectwithkey-peers)\n    - [`object.without()`](#objectwithoutkey-peers)\n    - [`object.rename()`](#objectrenamefrom-to-options)\n    - [`object.assert()`](#objectassertref-schema-message)\n    - [`object.unknown()`](#objectunknownallow)\n    - [`object.type()`](#objecttypeconstructor-name)\n    - [`object.schema()`](#objectschema)\n    - [`object.requiredKeys()`](#objectrequiredkeyschildren)\n    - [`object.optionalKeys()`](#objectoptionalkeyschildren)\n    - [`object.forbiddenKeys()`](#objectforbiddenkeyschildren)\n  - [`string` - inherits from `Any`](#string---inherits-from-any)\n    - [`string.insensitive()`](#stringinsensitive)\n    - [`string.min()`](#stringminlimit-encoding)\n    - [`string.max()`](#stringmaxlimit-encoding)\n    - [`string.truncate()`](#stringtruncateenabled)\n    - [`string.creditCard()`](#stringcreditcard)\n    - [`string.length()`](#stringlengthlimit-encoding)\n    - [`string.regex()`](#stringregexpattern-name--options)\n    - [`string.replace()`](#stringreplacepattern-replacement)\n    - [`string.alphanum()`](#stringalphanum)\n    - [`string.token()`](#stringtoken)\n    - [`string.email()`](#stringemailoptions)\n    - [`string.ip()`](#stringipoptions)\n    - [`string.uri()`](#stringurioptions)\n    - [`string.guid()` - aliases: `uuid`](#stringguid---aliases-uuid)\n    - [`string.hex()`](#stringhex)\n    - [`string.base64()`](#stringbase64options)\n    - [`string.hostname()`](#stringhostname)\n    - [`string.normalize()`](#stringnormalizeform)\n    - [`string.lowercase()`](#stringlowercase)\n    - [`string.uppercase()`](#stringuppercase)\n    - [`string.trim()`](#stringtrim)\n    - [`string.isoDate()`](#stringisodate)\n  - [`alternatives` - inherits from `Any`](#alternatives---inherits-from-any)\n    - [`alternatives.try()`](#alternativestryschemas)\n    - [`alternatives.when()`](#alternativeswhencondition-options)\n  - [`lazy()` - inherits from `Any`](#lazyfn---inherits-from-any)\n- [Errors](#errors)","api":"<h3>\n<a id=\"version\" class=\"anchor\" href=\"#version\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>version</code>\n</h3>\n<p>Property showing the current version of joi being used.</p>\n<h3>\n<a id=\"validatevalue-schema-options-callback\" class=\"anchor\" href=\"#validatevalue-schema-options-callback\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>validate(value, schema, [options], [callback])</code>\n</h3>\n<p>Validates a value using the given schema and options where:</p>\n<ul>\n<li>\n<code>value</code> - the value being validated.</li>\n<li>\n<code>schema</code> - the validation schema. Can be a <strong>joi</strong> type object or a plain object where every key is assigned a <strong>joi</strong> type object using <a href=\"#compileschema\"><code>Joi.compile</code></a> (be careful of the cost of compiling repeatedly the same schemas).</li>\n<li>\n<code>options</code> - an optional object with the following optional keys:\n<ul>\n<li>\n<code>abortEarly</code> - when <code>true</code>, stops validation on the first error, otherwise returns all the errors found. Defaults to <code>true</code>.</li>\n<li>\n<code>convert</code> - when <code>true</code>, attempts to cast values to the required types (e.g. a string to a number). Defaults to <code>true</code>.</li>\n<li>\n<code>allowUnknown</code> - when <code>true</code>, allows object to contain unknown keys which are ignored. Defaults to <code>false</code>.</li>\n<li>\n<code>skipFunctions</code> - when <code>true</code>, ignores unknown keys with a function value. Defaults to <code>false</code>.</li>\n<li>\n<code>stripUnknown</code> - remove unknown elements from objects and arrays. Defaults to <code>false</code>.\n<ul>\n<li>when <code>true</code>, all unknown elements will be removed.</li>\n<li>when an <code>object</code> :\n<ul>\n<li>\n<code>arrays</code> - set to <code>true</code> to remove unknown items from arrays.</li>\n<li>\n<code>objects</code> - set to <code>true</code> to remove unknown keys from objects.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>language</code> - overrides individual error messages. Defaults to no override (<code>{}</code>). Messages apply the following rules :\n<ul>\n<li>variables are put between curly braces like <code>{{var}}</code>, if prefixed by a <code>!</code> like <code>{{!var}}</code>, it will be html escaped if the option <code>escapeHtml</code> is also set to <code>true</code>\n</li>\n<li>strings are always preceeded by the key name, unless a <code>{{key}}</code> is found elsewhere or if the string is prefixed by a <code>!!</code>\n</li>\n<li>when <code>'label'</code> is set, it overrides the key name in the error message</li>\n<li>to better understand the structure of the language, it's advised to have a look at the existing messages you want to override <a href=\"lib/language.js\">here</a>\n</li>\n</ul>\n</li>\n<li>\n<code>presence</code> - sets the default presence requirements. Supported modes: <code>'optional'</code>, <code>'required'</code>, and <code>'forbidden'</code>.\nDefaults to <code>'optional'</code>.</li>\n<li>\n<code>context</code> - provides an external data set to be used in <a href=\"#refkey-options\">references</a>. Can only be set as an external option to\n<code>validate()</code> and not using <code>any.options()</code>.</li>\n<li>\n<code>noDefaults</code> - when <code>true</code>, do not apply default values. Defaults to <code>false</code>.</li>\n<li>\n<code>escapeHtml</code> - when <code>true</code>, error message templates will escape special characters to HTML entities, for security purposes. Defaults to <code>false</code>.</li>\n</ul>\n</li>\n<li>\n<code>callback</code> - the optional synchronous callback method using the signature <code>function(err, value)</code> where:\n<ul>\n<li>\n<code>err</code> - if validation failed, the <a href=\"#errors\">error</a> reason, otherwise <code>null</code>.</li>\n<li>\n<code>value</code> - the validated value with any type conversions and other modifiers applied (the input is left unchanged). <code>value</code> can be\nincomplete if validation failed and <code>abortEarly</code> is <code>true</code>. If callback is not provided, then returns an object with <a href=\"#errors\">error</a>\nand value properties.</li>\n</ul>\n</li>\n</ul>\n<p>When used without a callback, this function returns a Promise-like object that can be used as a promise, or as a simple object like in the below examples.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">value</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>123<span class=\"pl-pds\">'</span></span>\n};\n\n<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">validate</span>(value, schema, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { });\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> err -&gt; null</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> value.a -&gt; 123 (number, not string)</span>\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> or</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">result</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">validate</span>(value, schema);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> result.error -&gt; null</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> result.value -&gt; { \"a\" : 123 }</span>\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> or</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">promise</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">validate</span>(value, schema);\n<span class=\"pl-smi\">promise</span>.<span class=\"pl-c1\">then</span>((<span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> {\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> value -&gt; { \"a\" : 123 }</span>\n});</pre></div>\n<h3>\n<a id=\"compileschema\" class=\"anchor\" href=\"#compileschema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>compile(schema)</code>\n</h3>\n<p>Converts literal schema definition to <strong>joi</strong> schema object (or returns the same back if already a <strong>joi</strong> schema object) where:</p>\n<ul>\n<li>\n<code>schema</code> - the schema definition to compile.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">definition</span> <span class=\"pl-k\">=</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>key<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">5</span>, { a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>, b<span class=\"pl-k\">:</span> [<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span>a<span class=\"pl-pds\">/</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>boom<span class=\"pl-pds\">'</span></span>] }];\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">compile</span>(definition);\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Same as:</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">alternatives</span>().<span class=\"pl-en\">try</span>([\n    <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>key<span class=\"pl-pds\">'</span></span>),\n    <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-c1\">5</span>),\n    <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n        a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-c1\">true</span>),\n        b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">alternatives</span>().<span class=\"pl-en\">try</span>([\n            <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">regex</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span>a<span class=\"pl-pds\">/</span></span>),\n            <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>boom<span class=\"pl-pds\">'</span></span>)\n        ])\n    })\n]);</pre></div>\n<h3>\n<a id=\"assertvalue-schema-message\" class=\"anchor\" href=\"#assertvalue-schema-message\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>assert(value, schema, [message])</code>\n</h3>\n<p>Validates a value against a schema and <a href=\"#errors\">throws</a> if validation fails where:</p>\n<ul>\n<li>\n<code>value</code> - the value to validate.</li>\n<li>\n<code>schema</code> - the validation schema. Can be a <strong>joi</strong> type object or a plain object where every key is assigned a <strong>joi</strong> type object using <a href=\"#compileschema\"><code>Joi.compile</code></a> (be careful of the cost of compiling repeatedly the same schemas).</li>\n<li>\n<code>message</code> - optional message string prefix added in front of the error message. may also be an Error object.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">assert</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>x<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>());</pre></div>\n<h3>\n<a id=\"attemptvalue-schema-message\" class=\"anchor\" href=\"#attemptvalue-schema-message\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>attempt(value, schema, [message])</code>\n</h3>\n<p>Validates a value against a schema, returns valid object, and <a href=\"#errors\">throws</a> if validation fails where:</p>\n<ul>\n<li>\n<code>value</code> - the value to validate.</li>\n<li>\n<code>schema</code> - the validation schema. Can be a <strong>joi</strong> type object or a plain object where every key is assigned a <strong>joi</strong> type object using <a href=\"#compileschema\"><code>Joi.compile</code></a> (be careful of the cost of compiling repeatedly the same schemas).</li>\n<li>\n<code>message</code> - optional message string prefix added in front of the error message. may also be an Error object.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">attempt</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>x<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> throws error</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">result</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">attempt</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>4<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> result -&gt; 4</span></pre></div>\n<h3>\n<a id=\"refkey-options\" class=\"anchor\" href=\"#refkey-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>ref(key, [options])</code>\n</h3>\n<p>Generates a reference to the value of the named key. References are resolved at validation time and in order of dependency\nso that if one key validation depends on another, the dependent key is validated second after the reference is validated.\nReferences support the following arguments:</p>\n<ul>\n<li>\n<code>key</code> - the reference target. References cannot point up the object tree, only to sibling keys, but they can point to\ntheir siblings' children (e.g. 'a.b.c') using the <code>.</code> separator. If a <code>key</code> starts with <code>$</code> is signifies a context reference\nwhich is looked up in the <code>context</code> option object.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>separator</code> - overrides the default <code>.</code> hierarchy separator.</li>\n<li>\n<code>contextPrefix</code> - overrides the default <code>$</code> context prefix signifier.</li>\n<li>Other options can also be passed based on what <a href=\"https://github.com/hapijs/hoek/blob/master/API.md#reachobj-chain-options\"><code>Hoek.reach</code></a> supports.</li>\n</ul>\n</li>\n</ul>\n<p>Note that references can only be used where explicitly supported such as in <code>valid()</code> or <code>invalid()</code> rules. If upwards\n(parents) references are needed, use <a href=\"#objectassertref-schema-message\"><code>object.assert()</code></a>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b.c<span class=\"pl-pds\">'</span></span>),\n    b<span class=\"pl-k\">:</span> {\n        c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n    },\n    c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>$x<span class=\"pl-pds\">'</span></span>)\n});\n\n<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">validate</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span>, b<span class=\"pl-k\">:</span> { c<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span> } }, schema, { context<span class=\"pl-k\">:</span> { x<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span> } }, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> {});</pre></div>\n<h3>\n<a id=\"isrefref\" class=\"anchor\" href=\"#isrefref\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>isRef(ref)</code>\n</h3>\n<p>Checks whether or not the provided argument is a reference.\nIt's especially useful if you want to post-process error messages.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">ref</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">isRef</span>(ref); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns true</span></pre></div>\n<h3>\n<a id=\"reachschema-path\" class=\"anchor\" href=\"#reachschema-path\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>reach(schema, path)</code>\n</h3>\n<p>Get a sub-schema of an existing schema based on a path. Path separator is a dot (<code>.</code>).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({ foo<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({ bar<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>() }) });\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">number</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">reach</span>(schema, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>foo.bar<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h3>\n<a id=\"defaultsfn\" class=\"anchor\" href=\"#defaultsfn\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>defaults(fn)</code>\n</h3>\n<p>Creates a new Joi instance that will apply defaults onto newly created schemas through the use of the <code>fn</code> function that takes exactly one argument, the schema being created.</p>\n<p>The function must always return a schema, even if untransformed.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">defaultJoi</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">defaults</span>((<span class=\"pl-smi\">schema</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">switch</span> (<span class=\"pl-smi\">schema</span>.<span class=\"pl-smi\">schemaType</span>) {\n        <span class=\"pl-k\">case</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>string<span class=\"pl-pds\">'</span></span>:\n            <span class=\"pl-k\">return</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">allow</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span>);\n        <span class=\"pl-k\">case</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>object<span class=\"pl-pds\">'</span></span>:\n            <span class=\"pl-k\">return</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">1</span>);\n        <span class=\"pl-k\">default</span>:\n            <span class=\"pl-k\">return</span> schema;\n    }\n});\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">defaultJoi</span>.<span class=\"pl-c1\">object</span>(); <span class=\"pl-c\"><span class=\"pl-c\">//</span> Equivalent to a Joi.object().min(1)</span></pre></div>\n<h3>\n<a id=\"extendextension\" class=\"anchor\" href=\"#extendextension\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>extend(extension)</code>\n</h3>\n<p>Creates a new Joi instance customized with the extension(s) you provide included.</p>\n<p>It is <strong>important</strong> to understand that original Joi library is not modified by this.</p>\n<h4>\n<a id=\"terms\" class=\"anchor\" href=\"#terms\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Terms</h4>\n<p>The extension makes use of some common structures that need to be described prior :</p>\n<ul>\n<li>\n<code>value</code> - the value being processed by Joi.</li>\n<li>\n<code>state</code> - an object containing the current context of validation.\n<ul>\n<li>\n<code>key</code> - the key of the current value.</li>\n<li>\n<code>path</code> - the full path of the current value.</li>\n<li>\n<code>parent</code> - the potential parent of the current value.</li>\n</ul>\n</li>\n<li>\n<code>options</code> - options object provided through <a href=\"#anyoptionsoptions\"><code>any().options()</code></a> or <a href=\"#validatevalue-schema-options-callback\"><code>Joi.validate()</code></a>.</li>\n</ul>\n<h4>\n<a id=\"extension\" class=\"anchor\" href=\"#extension\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Extension</h4>\n<p><code>extension</code> can be :</p>\n<ul>\n<li>a single extension object</li>\n<li>a factory function generating an extension object</li>\n<li>or an array of those</li>\n</ul>\n<p>Extension objects use the following parameters :</p>\n<ul>\n<li>\n<code>name</code> - name of the new type you are defining, this can be an existing type. <strong>Required</strong>.</li>\n<li>\n<code>base</code> - an existing Joi schema to base your type upon. Defaults to <code>Joi.any()</code>.</li>\n<li>\n<code>coerce</code> - an optional function that runs before the base, usually serves when you want to coerce values of a different type than your base. It takes 3 arguments <code>value</code>, <code>state</code> and <code>options</code>.</li>\n<li>\n<code>pre</code> - an optional function that runs first in the validation chain, usually serves when you need to cast values. It takes 3 arguments <code>value</code>, <code>state</code> and <code>options</code>.</li>\n<li>\n<code>language</code> - an optional object to add error definitions. Every key will be prefixed by the type name.</li>\n<li>\n<code>describe</code> - an optional function taking the fully formed description to post-process it.</li>\n<li>\n<code>rules</code> - an optional array of rules to add.\n<ul>\n<li>\n<code>name</code> - name of the new rule. <strong>Required</strong>.</li>\n<li>\n<code>params</code> - an optional object containing Joi schemas of each parameter ordered. You can also pass a single Joi schema as long as it is a <code>Joi.object()</code>, of course some methods such as <code>pattern</code> or <code>rename</code> won't be useful or won't work at all in this given context.</li>\n<li>\n<code>setup</code> - an optional function that takes an object with the provided parameters to allow for internals manipulation of the schema when a rule is set, you can optionally return a new Joi schema that will be taken as the new schema instance. At least one of <code>setup</code> or <code>validate</code> <strong>must</strong> be provided.</li>\n<li>\n<code>validate</code> - an optional function to validate values that takes 4 parameters <code>params</code>, <code>value</code>, <code>state</code> and <code>options</code>. At least one of <code>setup</code> or <code>validate</code> <strong>must</strong> be provided.</li>\n<li>\n<code>description</code> - an optional string or function taking the parameters as argument to describe what the rule is doing.</li>\n</ul>\n</li>\n</ul>\n<p>Factory functions are advised if you intend to publish your extensions for others to use, because they are capable of using an extended joi being built, thus avoiding any erasure when using multiple extensions at the same time. See an example of a factory function in the section below.</p>\n<h4>\n<a id=\"npm-note\" class=\"anchor\" href=\"#npm-note\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>npm note</h4>\n<p>If you publish your extension on npm, make sure to add <code>joi</code> and <code>extension</code> as keywords so that it's discoverable more easily.</p>\n<h4>\n<a id=\"examples\" class=\"anchor\" href=\"#examples\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Examples</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Joi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@commercial/joi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">customJoi</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">extend</span>((<span class=\"pl-smi\">joi</span>) <span class=\"pl-k\">=&gt;</span> ({\n    base<span class=\"pl-k\">:</span> <span class=\"pl-smi\">joi</span>.<span class=\"pl-en\">number</span>(),\n    name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>number<span class=\"pl-pds\">'</span></span>,\n    language<span class=\"pl-k\">:</span> {\n        round<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>needs to be a rounded number<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Used below as 'number.round'</span>\n        dividable<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>needs to be dividable by {{q}}<span class=\"pl-pds\">'</span></span>\n    },\n    <span class=\"pl-en\">pre</span>(<span class=\"pl-smi\">value</span>, <span class=\"pl-smi\">state</span>, <span class=\"pl-smi\">options</span>) {\n\n        <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">options</span>.<span class=\"pl-smi\">convert</span> <span class=\"pl-k\">&amp;&amp;</span> <span class=\"pl-c1\">this</span>.<span class=\"pl-smi\">_flags</span>.<span class=\"pl-smi\">round</span>) {\n            <span class=\"pl-k\">return</span> <span class=\"pl-c1\">Math</span>.<span class=\"pl-c1\">round</span>(value); <span class=\"pl-c\"><span class=\"pl-c\">//</span> Change the value</span>\n        }\n\n        <span class=\"pl-k\">return</span> value; <span class=\"pl-c\"><span class=\"pl-c\">//</span> Keep the value as it was</span>\n    },\n    rules<span class=\"pl-k\">:</span> [\n        {\n            name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>round<span class=\"pl-pds\">'</span></span>,\n            <span class=\"pl-en\">setup</span>(<span class=\"pl-smi\">params</span>) {\n\n                <span class=\"pl-c1\">this</span>.<span class=\"pl-smi\">_flags</span>.<span class=\"pl-smi\">round</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">true</span>; <span class=\"pl-c\"><span class=\"pl-c\">//</span> Set a flag for later use</span>\n            },\n            <span class=\"pl-en\">validate</span>(<span class=\"pl-smi\">params</span>, <span class=\"pl-smi\">value</span>, <span class=\"pl-smi\">state</span>, <span class=\"pl-smi\">options</span>) {\n\n                <span class=\"pl-k\">if</span> (value <span class=\"pl-k\">%</span> <span class=\"pl-c1\">1</span> <span class=\"pl-k\">!==</span> <span class=\"pl-c1\">0</span>) {\n                    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Generate an error, state and options need to be passed</span>\n                    <span class=\"pl-k\">return</span> <span class=\"pl-c1\">this</span>.<span class=\"pl-en\">createError</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>number.round<span class=\"pl-pds\">'</span></span>, { v<span class=\"pl-k\">:</span> value }, state, options);\n                }\n\n                <span class=\"pl-k\">return</span> value; <span class=\"pl-c\"><span class=\"pl-c\">//</span> Everything is OK</span>\n            }\n        },\n        {\n            name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>dividable<span class=\"pl-pds\">'</span></span>,\n            params<span class=\"pl-k\">:</span> {\n                q<span class=\"pl-k\">:</span> <span class=\"pl-smi\">joi</span>.<span class=\"pl-en\">alternatives</span>([<span class=\"pl-smi\">joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>(), <span class=\"pl-smi\">joi</span>.<span class=\"pl-en\">func</span>().<span class=\"pl-en\">ref</span>()])\n            },\n            <span class=\"pl-en\">validate</span>(<span class=\"pl-smi\">params</span>, <span class=\"pl-smi\">value</span>, <span class=\"pl-smi\">state</span>, <span class=\"pl-smi\">options</span>) {\n\n                <span class=\"pl-k\">if</span> (value <span class=\"pl-k\">%</span> <span class=\"pl-smi\">params</span>.<span class=\"pl-smi\">q</span> <span class=\"pl-k\">!==</span> <span class=\"pl-c1\">0</span>) {\n                    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Generate an error, state and options need to be passed, q is used in the language</span>\n                    <span class=\"pl-k\">return</span> <span class=\"pl-c1\">this</span>.<span class=\"pl-en\">createError</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>number.dividable<span class=\"pl-pds\">'</span></span>, { v<span class=\"pl-k\">:</span> value, q<span class=\"pl-k\">:</span> <span class=\"pl-smi\">params</span>.<span class=\"pl-smi\">q</span> }, state, options);\n                }\n\n                <span class=\"pl-k\">return</span> value; <span class=\"pl-c\"><span class=\"pl-c\">//</span> Everything is OK</span>\n            }\n        }\n    ]\n}));\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">customJoi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">round</span>().<span class=\"pl-en\">dividable</span>(<span class=\"pl-c1\">3</span>);</pre></div>\n<h3>\n<a id=\"any\" class=\"anchor\" href=\"#any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any</code>\n</h3>\n<p>Generates a schema object that matches any data type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">any</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>();\n<span class=\"pl-smi\">any</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { });</pre></div>\n<h4>\n<a id=\"schematype\" class=\"anchor\" href=\"#schematype\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>schemaType</code>\n</h4>\n<p>Gets the type of the schema.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>();\n\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-smi\">schemaType</span> <span class=\"pl-k\">===</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>string<span class=\"pl-pds\">'</span></span>;   <span class=\"pl-c\"><span class=\"pl-c\">//</span> === true</span></pre></div>\n<h4>\n<a id=\"anyvalidatevalue-options-callback\" class=\"anchor\" href=\"#anyvalidatevalue-options-callback\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.validate(value, [options], [callback])</code>\n</h4>\n<p>Validates a value using the schema and options where:</p>\n<ul>\n<li>\n<code>value</code> - the value being validated.</li>\n<li>\n<code>options</code> - an object with the same optional keys as <a href=\"#validatevalue-schema-options-callback\"><code>Joi.validate(value, schema, options, callback)</code></a>.</li>\n<li>\n<code>callback</code> - an optional synchronous callback method using the the same signature as <a href=\"#validatevalue-schema-options-callback\"><code>Joi.validate(value, schema, options, callback)</code></a>.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n});\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">value</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>123<span class=\"pl-pds\">'</span></span>\n};\n\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(value, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { });\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> err -&gt; null</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> value.a -&gt; 123 (number, not string)</span>\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> or</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">result</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(value);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> result.error -&gt; null</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> result.value -&gt; { \"a\" : 123 }</span>\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> or</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">promise</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(value);</pre></div>\n<h4>\n<a id=\"anyallowvalue\" class=\"anchor\" href=\"#anyallowvalue\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.allow(value)</code>\n</h4>\n<p>Whitelists a value where:</p>\n<ul>\n<li>\n<code>value</code> - the allowed value which can be of any type and will be matched against the validated value before applying any other rules.\n<code>value</code> can be an array of values, or multiple values can be passed as individual arguments. <code>value</code> supports <a href=\"#refkey-options\">references</a>.</li>\n</ul>\n<p>Note that this whitelist of allowed values is in <em>addition</em> to any other permitted values.\nTo create an exclusive whitelist of values, see <a href=\"#anyvalidvalue\"><code>any.valid(value)</code></a>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">allow</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">allow</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>B<span class=\"pl-pds\">'</span></span>),\n    c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">allow</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>c<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>C<span class=\"pl-pds\">'</span></span>])\n};</pre></div>\n<h4>\n<a id=\"anyvalidvalue---aliases-only-equal\" class=\"anchor\" href=\"#anyvalidvalue---aliases-only-equal\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.valid(value)</code> - aliases: <code>only</code>, <code>equal</code>\n</h4>\n<p>Adds the provided values into the allowed whitelist and marks them as the only valid values allowed where:</p>\n<ul>\n<li>\n<code>value</code> - the allowed value which can be of any type and will be matched against the validated value before applying any other rules.\n<code>value</code> can be an array of values, or multiple values can be passed as individual arguments. <code>value</code> supports <a href=\"#refkey-options\">references</a>.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>B<span class=\"pl-pds\">'</span></span>),\n    c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">valid</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>c<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>C<span class=\"pl-pds\">'</span></span>])\n};</pre></div>\n<h4>\n<a id=\"anyinvalidvalue---aliases-disallow-not\" class=\"anchor\" href=\"#anyinvalidvalue---aliases-disallow-not\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.invalid(value)</code> - aliases: <code>disallow</code>, <code>not</code>\n</h4>\n<p>Blacklists a value where:</p>\n<ul>\n<li>\n<code>value</code> - the forbidden value which can be of any type and will be matched against the validated value before applying any other rules.\n<code>value</code> can be an array of values, or multiple values can be passed as individual arguments. <code>value</code> supports <a href=\"#refkey-options\">references</a>.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">invalid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">invalid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>B<span class=\"pl-pds\">'</span></span>),\n    c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">invalid</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>c<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>C<span class=\"pl-pds\">'</span></span>])\n};</pre></div>\n<h4>\n<a id=\"anyrequired---aliases-exist\" class=\"anchor\" href=\"#anyrequired---aliases-exist\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.required()</code> - aliases: <code>exist</code>\n</h4>\n<p>Marks a key as required which will not allow <code>undefined</code> as value. All keys are optional by default.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">required</span>();</pre></div>\n<h4>\n<a id=\"anyoptional\" class=\"anchor\" href=\"#anyoptional\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.optional()</code>\n</h4>\n<p>Marks a key as optional which will allow <code>undefined</code> as values. Used to annotate the schema for readability as all keys are optional by default.</p>\n<p>Note: this does not allow a <code>null</code> value. To do that, use <a href=\"#anyallowvalue\"><code>any.allow(value)</code></a>. Or both!</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">optional</span>();</pre></div>\n<h4>\n<a id=\"anyforbidden\" class=\"anchor\" href=\"#anyforbidden\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.forbidden()</code>\n</h4>\n<p>Marks a key as forbidden which will not allow any value except <code>undefined</code>. Used to explicitly forbid keys.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">forbidden</span>()\n};</pre></div>\n<h4>\n<a id=\"anystrip\" class=\"anchor\" href=\"#anystrip\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.strip()</code>\n</h4>\n<p>Marks a key to be removed from a resulting object or array after validation. Used to sanitize output.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    username<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n    password<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">strip</span>()\n});\n\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>({ username<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>, password<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>hunter2<span class=\"pl-pds\">'</span></span> }, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> {\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> value = { username: 'test' }</span>\n});\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">strip</span>());\n\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>one<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>two<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">true</span>, <span class=\"pl-c1\">false</span>, <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>], (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> {\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> value = ['one', 'two']</span>\n});</pre></div>\n<h4>\n<a id=\"anydescriptiondesc\" class=\"anchor\" href=\"#anydescriptiondesc\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.description(desc)</code>\n</h4>\n<p>Annotates the key where:</p>\n<ul>\n<li>\n<code>desc</code> - the description string.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-c1\">description</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>this key will match anything you give it<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"anynotesnotes\" class=\"anchor\" href=\"#anynotesnotes\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.notes(notes)</code>\n</h4>\n<p>Annotates the key where:</p>\n<ul>\n<li>\n<code>notes</code> - the notes string or array of strings.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">notes</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>this is special<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>this is important<span class=\"pl-pds\">'</span></span>]);</pre></div>\n<h4>\n<a id=\"anytagstags\" class=\"anchor\" href=\"#anytagstags\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.tags(tags)</code>\n</h4>\n<p>Annotates the key where:</p>\n<ul>\n<li>\n<code>tags</code> - the tag string or array of strings.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-c1\">tags</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>api<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>user<span class=\"pl-pds\">'</span></span>]);</pre></div>\n<h4>\n<a id=\"anymetameta\" class=\"anchor\" href=\"#anymetameta\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.meta(meta)</code>\n</h4>\n<p>Attaches metadata to the key where:</p>\n<ul>\n<li>\n<code>meta</code> - the meta object to attach.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">meta</span>({ index<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });</pre></div>\n<h4>\n<a id=\"anyexamplevalue\" class=\"anchor\" href=\"#anyexamplevalue\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.example(value)</code>\n</h4>\n<p>Annotates the key where:</p>\n<ul>\n<li>\n<code>value</code> - an example value.</li>\n</ul>\n<p>If the example fails to pass validation, the function will throw.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">4</span>).<span class=\"pl-en\">example</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>abcd<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"anyunitname\" class=\"anchor\" href=\"#anyunitname\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.unit(name)</code>\n</h4>\n<p>Annotates the key where:</p>\n<ul>\n<li>\n<code>name</code> - the unit name of the value.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">unit</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>milliseconds<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"anyoptionsoptions\" class=\"anchor\" href=\"#anyoptionsoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.options(options)</code>\n</h4>\n<p>Overrides the global <code>validate()</code> options for the current key and any sub-key where:</p>\n<ul>\n<li>\n<code>options</code> - an object with the same optional keys as <a href=\"#validatevalue-schema-options-callback\"><code>Joi.validate(value, schema, options, callback)</code></a>.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-c1\">options</span>({ convert<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> });</pre></div>\n<h4>\n<a id=\"anystrictisstrict\" class=\"anchor\" href=\"#anystrictisstrict\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.strict(isStrict)</code>\n</h4>\n<p>Strict mode sets the <code>options.convert</code> options to <code>false</code> which prevent type casting for the current key and any child keys.</p>\n<ul>\n<li>\n<code>isStrict</code> - whether strict mode is enabled or not. Defaults to true.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">strict</span>();</pre></div>\n<h4>\n<a id=\"anydefaultvalue-description\" class=\"anchor\" href=\"#anydefaultvalue-description\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.default([value, [description]])</code>\n</h4>\n<p>Sets a default value if the original value is undefined where:</p>\n<ul>\n<li>\n<code>value</code> - the value.\n<ul>\n<li>\n<code>value</code> supports <a href=\"#refkey-options\">references</a>.</li>\n<li>\n<code>value</code> may also be a function which returns the default value. If <code>value</code> is specified as a function that accepts a single parameter, that parameter will be a context object that can be used to derive the resulting value.\n<ul>\n<li>Use a function when setting a dynamic value, such as the current time. Ex: <code>default(Date.now, 'time of creation')</code>\n</li>\n<li>\n<strong>Caution: this clones the object</strong>, which incurs some overhead so if you don't need access to the context define your method so that it does not accept any parameters.</li>\n</ul>\n</li>\n<li>without any <code>value</code>, <code>default</code> has no effect, except for <code>object</code> that will then create nested defaults (applying inner defaults of that object).</li>\n</ul>\n</li>\n</ul>\n<p>Note that if <code>value</code> is an object, any changes to the object after <code>default()</code> is called will change the reference\nand any future assignment.</p>\n<p>Additionally, when specifying a method you must either have a <code>description</code> property on your method or the second parameter is required.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">generateUsername</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">context</span>) <span class=\"pl-k\">=&gt;</span> {\n\n  <span class=\"pl-k\">return</span> <span class=\"pl-smi\">context</span>.<span class=\"pl-smi\">firstname</span>.<span class=\"pl-c1\">toLowerCase</span>() <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>-<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">context</span>.<span class=\"pl-smi\">lastname</span>.<span class=\"pl-c1\">toLowerCase</span>();\n};\n<span class=\"pl-smi\">generateUsername</span>.<span class=\"pl-c1\">description</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>generated username<span class=\"pl-pds\">'</span></span>;\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    username<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">default</span>(generateUsername),\n    firstname<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n    lastname<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n    created<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">default</span>(<span class=\"pl-c1\">Date</span>.<span class=\"pl-smi\">now</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>time of creation<span class=\"pl-pds\">'</span></span>),\n    status<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">default</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>registered<span class=\"pl-pds\">'</span></span>)\n};\n\n<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">validate</span>({\n    firstname<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Jane<span class=\"pl-pds\">'</span></span>,\n    lastname<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Doe<span class=\"pl-pds\">'</span></span>\n}, schema, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> value.status === 'registered'</span>\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> value.username === 'jane-doe'</span>\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> value.created will be the time of validation</span>\n});</pre></div>\n<h4>\n<a id=\"anyconcatschema\" class=\"anchor\" href=\"#anyconcatschema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.concat(schema)</code>\n</h4>\n<p>Returns a new type that is the result of adding the rules of one type to another where:</p>\n<ul>\n<li>\n<code>schema</code> - a <strong>joi</strong> type to merge into the current schema. Can only be of the same type as the context type or <code>any</code>. If applied to an <code>any</code> type, the schema can be any other schema.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">a</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">b</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">ab</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">a</span>.<span class=\"pl-c1\">concat</span>(b);</pre></div>\n<h4>\n<a id=\"anywhencondition-options\" class=\"anchor\" href=\"#anywhencondition-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.when(condition, options)</code>\n</h4>\n<p>Converts the type into an <a href=\"#alternatives\"><code>alternatives</code></a> type where the conditions are merged into the type definition where:</p>\n<ul>\n<li>\n<code>condition</code> - the key name or <a href=\"#refkey-options\">reference</a>, or a schema.</li>\n<li>\n<code>options</code> - an object with:\n<ul>\n<li>\n<code>is</code> - the required condition <strong>joi</strong> type. Anything that is not a joi schema will be converted using <a href=\"#compileschema\">Joi.compile</a>. Forbidden when <code>condition</code> is a schema.</li>\n<li>\n<code>then</code> - the alternative schema type if the condition is true. Required if <code>otherwise</code> is missing.</li>\n<li>\n<code>otherwise</code> - the alternative schema type if the condition is false. Required if <code>then</code> is missing.</li>\n</ul>\n</li>\n</ul>\n<p>Note: by default, the <code>is</code> condition schema allows for <code>undefined</code> values. Use <code>.required()</code> to override.\nFor example, use <code>is: Joi.number().required()</code> to guarantee that a joi reference exists and is a number.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>x<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, { is<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">exist</span>(), then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>y<span class=\"pl-pds\">'</span></span>), otherwise<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>z<span class=\"pl-pds\">'</span></span>) }),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n};</pre></div>\n<p>Or with a schema:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>x<span class=\"pl-pds\">'</span></span>),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}).<span class=\"pl-en\">when</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({ b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">exist</span>() }).<span class=\"pl-en\">unknown</span>(), {\n    then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n        a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>y<span class=\"pl-pds\">'</span></span>)\n    }),\n    otherwise<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n        a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>z<span class=\"pl-pds\">'</span></span>)\n    }) \n});</pre></div>\n<p>Note that this style is much more useful when your whole schema depends on the value of one of its property, or if you find yourself repeating the check for many keys of an object.</p>\n<p>Alternatively, if you want to specify a specific type such as <code>string</code>, <code>array</code>, etc, you can do so like this:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>other<span class=\"pl-pds\">'</span></span>),\n    other<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n        .<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, { is<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>other<span class=\"pl-pds\">'</span></span>, then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">required</span>() }),\n};</pre></div>\n<p>If you need to validate a child key inside a nested object based on a sibling's value, you can do so like this:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">required</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>()\n        .<span class=\"pl-c1\">keys</span>({\n            c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n            d<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>()\n        })\n        .<span class=\"pl-en\">required</span>()\n        .<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, {\n            is<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>,\n            then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({ c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">required</span>() })\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> b.c is required only when a is true</span>\n        })\n});</pre></div>\n<p>If you want to validate one key based on the existence of another key, you can do so like the following (notice the use of <code>required()</code>):</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    min<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>max<span class=\"pl-pds\">'</span></span>, {\n        is<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>(),\n        then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">less</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>max<span class=\"pl-pds\">'</span></span>)),\n    }),\n    max<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>min<span class=\"pl-pds\">'</span></span>, {\n        is<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>(),\n        then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">greater</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>min<span class=\"pl-pds\">'</span></span>)),\n    }),\n});</pre></div>\n<h4>\n<a id=\"anylabelname\" class=\"anchor\" href=\"#anylabelname\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.label(name)</code>\n</h4>\n<p>Overrides the key name in error messages.</p>\n<ul>\n<li>\n<code>name</code> - the name of the key.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    first_name<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">label</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>First Name<span class=\"pl-pds\">'</span></span>)\n};</pre></div>\n<h4>\n<a id=\"anyrawisraw\" class=\"anchor\" href=\"#anyrawisraw\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.raw(isRaw)</code>\n</h4>\n<p>Outputs the original untouched value instead of the casted value.</p>\n<ul>\n<li>\n<code>isRaw</code> - whether to enable raw mode or not. Defaults to true.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">timestampSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">timestamp</span>();\n<span class=\"pl-smi\">timestampSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>12376834097810<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> { error: null, value: Sat Mar 17 2362 04:28:17 GMT-0500 (CDT) }</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">rawTimestampSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">timestamp</span>().<span class=\"pl-en\">raw</span>();\n<span class=\"pl-smi\">rawTimestampSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>12376834097810<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> { error: null, value: '12376834097810' }</span></pre></div>\n<h4>\n<a id=\"anyemptyschema\" class=\"anchor\" href=\"#anyemptyschema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.empty(schema)</code>\n</h4>\n<p>Considers anything that matches the schema to be empty (<code>undefined</code>).</p>\n<ul>\n<li>\n<code>schema</code> - any object or joi schema to match. An undefined schema unsets that rule.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">let</span> schema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">empty</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns { error: null, value: undefined }</span>\nschema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">empty</span>();\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns { error: \"value\" is not allowed to be empty, value: '' }</span></pre></div>\n<h4>\n<a id=\"anyerrorerr\" class=\"anchor\" href=\"#anyerrorerr\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.error(err)</code>\n</h4>\n<p>Overrides the default joi error with a custom error if the rule fails where:</p>\n<ul>\n<li>\n<code>err</code> can be:\n<ul>\n<li>an instance of <code>Error</code> - the override error.</li>\n<li>a <code>function(errors)</code>, taking an array of errors as argument, where it must either:\n<ul>\n<li>return a <code>string</code> - substitutes the error message with this text</li>\n<li>return a single <code>object</code> or an <code>Array</code> of it, where:\n<ul>\n<li>\n<code>type</code> - optional parameter providing the type of the error (eg. <code>number.min</code>).</li>\n<li>\n<code>message</code> - optional parameter if <code>template</code> is provided, containing the text of the error.</li>\n<li>\n<code>template</code> - optional parameter if <code>message</code> is provided, containing a template string, using the same format as usual joi language errors.</li>\n<li>\n<code>context</code> - optional parameter, to provide context to your error if you are using the <code>template</code>.</li>\n</ul>\n</li>\n<li>return an <code>Error</code> - same as when you directly provide an <code>Error</code>, but you can customize the error message based on the errors.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Note that if you provide an <code>Error</code>, it will be returned as-is, unmodified and undecorated with any of the\nnormal joi error properties. If validation fails and another error is found before the error\noverride, that error will be returned and the override will be ignored (unless the <code>abortEarly</code>\noption has been set to <code>false</code>).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">let</span> schema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">error</span>(<span class=\"pl-k\">new</span> <span class=\"pl-en\">Error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Was REALLY expecting a string<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-c1\">3</span>);     <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns error.message === 'Was REALLY expecting a string'</span>\n\n<span class=\"pl-k\">let</span> schema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    foo<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">0</span>).<span class=\"pl-en\">error</span>(() <span class=\"pl-k\">=&gt;</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>\"foo\" requires a positive number<span class=\"pl-pds\">'</span></span>)\n});\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>({ foo<span class=\"pl-k\">:</span> <span class=\"pl-k\">-</span><span class=\"pl-c1\">2</span> });    <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns error.message === 'child \"foo\" fails because [\"foo\" requires a positive number]'</span>\n\n<span class=\"pl-k\">let</span> schema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    foo<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">0</span>).<span class=\"pl-en\">error</span>((<span class=\"pl-smi\">errors</span>) <span class=\"pl-k\">=&gt;</span> {\n\n        <span class=\"pl-k\">return</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>found errors with <span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">errors</span>.<span class=\"pl-en\">map</span>((<span class=\"pl-smi\">err</span>) <span class=\"pl-k\">=&gt;</span> <span class=\"pl-s\"><span class=\"pl-pds\">`</span><span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-smi\">err</span>.<span class=\"pl-c1\">type</span><span class=\"pl-pse\">}</span></span>(<span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-smi\">err</span>.<span class=\"pl-smi\">context</span>.<span class=\"pl-smi\">limit</span><span class=\"pl-pse\">}</span></span>) with value <span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-smi\">err</span>.<span class=\"pl-smi\">context</span>.<span class=\"pl-c1\">value</span><span class=\"pl-pse\">}</span></span><span class=\"pl-pds\">`</span></span>).<span class=\"pl-c1\">join</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span> and <span class=\"pl-pds\">'</span></span>);\n    })\n});\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>({ foo<span class=\"pl-k\">:</span> <span class=\"pl-k\">-</span><span class=\"pl-c1\">2</span> });    <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns error.message === 'child \"foo\" fails because [found errors with number.min(0) with value -2]'</span>\n\n<span class=\"pl-k\">let</span> schema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    foo<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">0</span>).<span class=\"pl-en\">error</span>((<span class=\"pl-smi\">errors</span>) <span class=\"pl-k\">=&gt;</span> {\n\n        <span class=\"pl-k\">return</span> {\n            template<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>contains {{errors}} errors, here is the list : {{codes}}<span class=\"pl-pds\">'</span></span>,\n            context<span class=\"pl-k\">:</span> {\n                errors<span class=\"pl-k\">:</span> <span class=\"pl-smi\">errors</span>.<span class=\"pl-c1\">length</span>,\n                codes<span class=\"pl-k\">:</span> <span class=\"pl-smi\">errors</span>.<span class=\"pl-en\">map</span>((<span class=\"pl-smi\">err</span>) <span class=\"pl-k\">=&gt;</span> <span class=\"pl-smi\">err</span>.<span class=\"pl-c1\">type</span>)\n            }\n        };\n    })\n});\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>({ foo<span class=\"pl-k\">:</span> <span class=\"pl-k\">-</span><span class=\"pl-c1\">2</span> });    <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns error.message === 'child \"foo\" fails because [\"foo\" contains 1 errors, here is the list : [number.min]]'</span></pre></div>\n<p>Note that if you want to intercept errors on nested structures such as objects and arrays, you will also get a nested structure to explore the children errors, going one level down through the <code>err.context.reason</code> property.</p>\n<p>If you want a full substitution of the error system, you can hook at the root and render that <code>errors</code> array with whatever templating system you want, just be aware that you will have to crawl the nested errors for the information you want to actually show.</p>\n<h3>\n<a id=\"array---inherits-from-any\" class=\"anchor\" href=\"#array---inherits-from-any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array</code> - inherits from <code>Any</code>\n</h3>\n<p>Generates a schema object that matches an array data type. Note that undefined values inside arrays are not allowed by\ndefault but can be by using <code>sparse()</code>. If the validation <code>convert</code> option is on (enabled by default), a string will be\nconverted to an <code>array</code> if specified via <code>JSON.parse()</code>. Also, if <code>convert</code> <code>array.single()</code> are both on, then when a\nsingle value is specified it will be converted to an <code>array</code>.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">array</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-smi\">array</span>.<span class=\"pl-en\">validate</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>], (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { });</pre></div>\n<h4>\n<a id=\"arraysparseenabled\" class=\"anchor\" href=\"#arraysparseenabled\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.sparse([enabled])</code>\n</h4>\n<p>Allows this array to be sparse. <code>enabled</code> can be used with a falsy value to go back to the default behavior.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">let</span> schema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">sparse</span>(); <span class=\"pl-c\"><span class=\"pl-c\">//</span> undefined values are now allowed</span>\nschema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">sparse</span>(<span class=\"pl-c1\">false</span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> undefined values are now denied</span></pre></div>\n<h4>\n<a id=\"arraysingleenabled\" class=\"anchor\" href=\"#arraysingleenabled\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.single([enabled])</code>\n</h4>\n<p>Allows single values to be checked against rules as if it were provided as an array.</p>\n<p><code>enabled</code> can be used with a falsy value to go back to the default behavior.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()).<span class=\"pl-en\">single</span>();\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>([<span class=\"pl-c1\">4</span>]); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns `{ error: null, value: [ 4 ] }`</span>\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-c1\">4</span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns `{ error: null, value: [ 4 ] }`</span></pre></div>\n<h4>\n<a id=\"arrayitemstype\" class=\"anchor\" href=\"#arrayitemstype\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.items(type)</code>\n</h4>\n<p>Lists the types allowed for the array values where:</p>\n<ul>\n<li>\n<code>type</code> - a <strong>joi</strong> schema object to validate each array item against. <code>type</code> can be an array of values, or multiple values can be passed as individual arguments.</li>\n</ul>\n<p>If a given type is <code>.required()</code> then there must be a matching item in the array.\nIf a type is <code>.forbidden()</code> then it cannot appear in the array.\nRequired items can be added multiple times to signify that multiple items must be found.\nErrors will contain the number of items that didn't match. Any unmatched item having a <a href=\"#anylabelname\">label</a> will be mentioned explicitly.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> array may contain strings and numbers</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> array must contain at least two strings</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>not allowed<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">forbidden</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> array may contain strings, but none of those strings can match 'not allowed'</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">label</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>My string<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">required</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> If this fails it can result in `[ValidationError: \"value\" does not contain [My string] and 1 other required value(s)]`</span></pre></div>\n<h4>\n<a id=\"arrayorderedtype\" class=\"anchor\" href=\"#arrayorderedtype\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.ordered(type)</code>\n</h4>\n<p>Lists the types in sequence order for the array values where:</p>\n<ul>\n<li>\n<code>type</code> - a <strong>joi</strong> schema object to validate against each array item in sequence order. <code>type</code> can be an array of values, or multiple values can be passed as individual arguments.</li>\n</ul>\n<p>If a given type is <code>.required()</code> then there must be a matching item with the same index position in the array.\nErrors will contain the number of items that didn't match. Any unmatched item having a <a href=\"#anylabelname\">label</a> will be mentioned explicitly.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">ordered</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> array must have first item as string and second item as number</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">ordered</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>()).<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> array must have first item as string and 1 or more subsequent items as number</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">ordered</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> array must have first item as string and optionally second item as number</span></pre></div>\n<h4>\n<a id=\"arrayminlimit\" class=\"anchor\" href=\"#arrayminlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.min(limit)</code>\n</h4>\n<p>Specifies the minimum number of items in the array where:</p>\n<ul>\n<li>\n<code>limit</code> - the lowest number of array items allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">2</span>);</pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  limit<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">integer</span>().<span class=\"pl-en\">required</span>(),\n  numbers<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>limit<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<h4>\n<a id=\"arraymaxlimit\" class=\"anchor\" href=\"#arraymaxlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.max(limit)</code>\n</h4>\n<p>Specifies the maximum number of items in the array where:</p>\n<ul>\n<li>\n<code>limit</code> - the highest number of array items allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">10</span>);</pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  limit<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">integer</span>().<span class=\"pl-en\">required</span>(),\n  numbers<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>limit<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<h4>\n<a id=\"arraylengthlimit\" class=\"anchor\" href=\"#arraylengthlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.length(limit)</code>\n</h4>\n<p>Specifies the exact number of items in the array where:</p>\n<ul>\n<li>\n<code>limit</code> - the number of array items allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-c1\">length</span>(<span class=\"pl-c1\">5</span>);</pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  limit<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">integer</span>().<span class=\"pl-en\">required</span>(),\n  numbers<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-c1\">length</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>limit<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<h4>\n<a id=\"arrayuniquecomparator\" class=\"anchor\" href=\"#arrayuniquecomparator\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.unique([comparator])</code>\n</h4>\n<p>Requires the array values to be unique.</p>\n<p>You can provide a custom <code>comparator</code> that is either :</p>\n<ul>\n<li>a function that takes 2 parameters to compare. This function should return whether the 2 parameters are equal or not, you are also <strong>responsible</strong> for this function not to fail, any <code>Error</code> would bubble out of Joi.</li>\n<li>a string in dot notation representing the path of the element to do uniqueness check on. Any missing path will be considered undefined, and can as well only exist once.</li>\n</ul>\n<p>Note: remember that if you provide a custom comparator function, different types can be passed as parameter depending on the rules you set on items.</p>\n<p>Be aware that a deep equality is performed on elements of the array having a type of <code>object</code>, a performance penalty is to be expected for this kind of operation.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">unique</span>();</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">unique</span>((<span class=\"pl-smi\">a</span>, <span class=\"pl-smi\">b</span>) <span class=\"pl-k\">=&gt;</span> <span class=\"pl-smi\">a</span>.<span class=\"pl-smi\">property</span> <span class=\"pl-k\">===</span> <span class=\"pl-smi\">b</span>.<span class=\"pl-smi\">property</span>);</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">unique</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customer.id<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h3>\n<a id=\"boolean---inherits-from-any\" class=\"anchor\" href=\"#boolean---inherits-from-any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>boolean</code> - inherits from <code>Any</code>\n</h3>\n<p>Generates a schema object that matches a boolean data type. Can also be called via <code>bool()</code>. If the validation <code>convert</code>\noption is on (enabled by default), a string (either \"true\" or \"false\") will be converted to a <code>boolean</code> if specified.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">boolean</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>();\n<span class=\"pl-smi\">boolean</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-c1\">true</span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { }); <span class=\"pl-c\"><span class=\"pl-c\">//</span> Valid</span>\n\n<span class=\"pl-smi\">boolean</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-c1\">1</span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { }); <span class=\"pl-c\"><span class=\"pl-c\">//</span> Invalid</span></pre></div>\n<h4>\n<a id=\"booleantruthyvalue\" class=\"anchor\" href=\"#booleantruthyvalue\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>boolean.truthy(value)</code>\n</h4>\n<p>Allows for additional values to be considered valid booleans by converting them to <code>true</code> during validation. Accepts a value or an array of values.</p>\n<p>String comparisons are by default case insensitive, see <a href=\"#booleaninsensitiveenabled\"><code>boolean.insensitive()</code></a> to change this behavior.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">boolean</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">truthy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Y<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">boolean</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Y<span class=\"pl-pds\">'</span></span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { }); <span class=\"pl-c\"><span class=\"pl-c\">//</span> Valid</span></pre></div>\n<h4>\n<a id=\"booleanfalsyvalue\" class=\"anchor\" href=\"#booleanfalsyvalue\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>boolean.falsy(value)</code>\n</h4>\n<p>Allows for additional values to be considered valid booleans by converting them to <code>false</code> during validation. Accepts a value or an array of values.</p>\n<p>String comparisons are by default case insensitive, see <a href=\"#booleaninsensitiveenabled\"><code>boolean.insensitive()</code></a> to change this behavior.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">boolean</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">falsy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>N<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">boolean</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>N<span class=\"pl-pds\">'</span></span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { }); <span class=\"pl-c\"><span class=\"pl-c\">//</span> Valid</span></pre></div>\n<h4>\n<a id=\"booleaninsensitiveenabled\" class=\"anchor\" href=\"#booleaninsensitiveenabled\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>boolean.insensitive([enabled])</code>\n</h4>\n<p>Allows the values provided to <code>truthy</code> and <code>falsy</code> as well as the <code>\"true\"</code> and <code>\"false\"</code> default conversion (when not in <code>strict()</code> mode) to be matched in a case insensitive manner.</p>\n<p>Parameters are:</p>\n<ul>\n<li>\n<code>enabled</code> - optional parameter defaulting to <code>true</code> which allows you to reset the behavior of <code>insensitive</code> by providing a falsy value.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">truthy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>yes<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">falsy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>no<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">insensitive</span>(<span class=\"pl-c1\">false</span>);</pre></div>\n<h3>\n<a id=\"binary---inherits-from-any\" class=\"anchor\" href=\"#binary---inherits-from-any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>binary</code> - inherits from <code>Any</code>\n</h3>\n<p>Generates a schema object that matches a Buffer data type. If the validation <code>convert</code> option is on (enabled by default), a string\nwill be converted to a Buffer if specified.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">binary</span>();</pre></div>\n<h4>\n<a id=\"binaryencodingencoding\" class=\"anchor\" href=\"#binaryencodingencoding\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>binary.encoding(encoding)</code>\n</h4>\n<p>Sets the string encoding format if a string input is converted to a buffer where:</p>\n<ul>\n<li>\n<code>encoding</code> - the encoding scheme.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">binary</span>().<span class=\"pl-c1\">encoding</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>base64<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"binaryminlimit\" class=\"anchor\" href=\"#binaryminlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>binary.min(limit)</code>\n</h4>\n<p>Specifies the minimum length of the buffer where:</p>\n<ul>\n<li>\n<code>limit</code> - the lowest size of the buffer.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">binary</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">2</span>);</pre></div>\n<h4>\n<a id=\"binarymaxlimit\" class=\"anchor\" href=\"#binarymaxlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>binary.max(limit)</code>\n</h4>\n<p>Specifies the maximum length of the buffer where:</p>\n<ul>\n<li>\n<code>limit</code> - the highest size of the buffer.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">binary</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">10</span>);</pre></div>\n<h4>\n<a id=\"binarylengthlimit\" class=\"anchor\" href=\"#binarylengthlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>binary.length(limit)</code>\n</h4>\n<p>Specifies the exact length of the buffer:</p>\n<ul>\n<li>\n<code>limit</code> - the size of buffer allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">binary</span>().<span class=\"pl-c1\">length</span>(<span class=\"pl-c1\">5</span>);</pre></div>\n<h3>\n<a id=\"date---inherits-from-any\" class=\"anchor\" href=\"#date---inherits-from-any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date</code> - inherits from <code>Any</code>\n</h3>\n<p>Generates a schema object that matches a date type (as well as a JavaScript date string or number of milliseconds). If\nthe validation <code>convert</code> option is on (enabled by default), a string or number will be converted to a Date if specified.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">date</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>();\n<span class=\"pl-smi\">date</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>12-21-2012<span class=\"pl-pds\">'</span></span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { });</pre></div>\n<h4>\n<a id=\"datemindate\" class=\"anchor\" href=\"#datemindate\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.min(date)</code>\n</h4>\n<p>Specifies the oldest date allowed where:</p>\n<ul>\n<li>\n<code>date</code> - the oldest date allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>1-1-1974<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Notes: <code>'now'</code> can be passed in lieu of <code>date</code> so as to always compare relatively to the current date, allowing to explicitly ensure a date is either in the past or in the future.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>now<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  from<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">required</span>(),\n  to<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>from<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<h4>\n<a id=\"datemaxdate\" class=\"anchor\" href=\"#datemaxdate\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.max(date)</code>\n</h4>\n<p>Specifies the latest date allowed where:</p>\n<ul>\n<li>\n<code>date</code> - the latest date allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>12-31-2020<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Notes: <code>'now'</code> can be passed in lieu of <code>date</code> so as to always compare relatively to the current date, allowing to explicitly ensure a date is either in the past or in the future.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>now<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  from<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>to<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>(),\n  to<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">required</span>()\n});</pre></div>\n<h4>\n<a id=\"dateiso\" class=\"anchor\" href=\"#dateiso\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.iso()</code>\n</h4>\n<p>Requires the string value to be in valid ISO 8601 date format.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">iso</span>();</pre></div>\n<h4>\n<a id=\"datetimestamptype\" class=\"anchor\" href=\"#datetimestamptype\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.timestamp([type])</code>\n</h4>\n<p>Requires the value to be a timestamp interval from <a href=\"https://en.wikipedia.org/wiki/Unix_time\" rel=\"nofollow\">Unix Time</a>.</p>\n<ul>\n<li>\n<code>type</code> - the type of timestamp (allowed values are <code>unix</code> or <code>javascript</code> [default])</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">timestamp</span>(); <span class=\"pl-c\"><span class=\"pl-c\">//</span> defaults to javascript timestamp</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">timestamp</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>javascript<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> also, for javascript timestamp (milliseconds)</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">timestamp</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>unix<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> for unix timestamp (seconds)</span></pre></div>\n<h3>\n<a id=\"func---inherits-from-any\" class=\"anchor\" href=\"#func---inherits-from-any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>func</code> - inherits from <code>Any</code>\n</h3>\n<p>Generates a schema object that matches a function type.</p>\n<p>Supports the same methods of the <a href=\"#object\"><code>object()</code></a> type. Note that validating a function keys will cause the function\nto be cloned. While the function will retain its prototype and closure, it will lose its <code>length</code> property value (will be\nset to <code>0</code>).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">func</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">func</span>();\n<span class=\"pl-smi\">func</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-k\">function</span> () {}, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { });</pre></div>\n<h4>\n<a id=\"funcarityn\" class=\"anchor\" href=\"#funcarityn\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>func.arity(n)</code>\n</h4>\n<p>Specifies the arity of the function where:</p>\n<ul>\n<li>\n<code>n</code> - the arity expected.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">func</span>().<span class=\"pl-en\">arity</span>(<span class=\"pl-c1\">2</span>);</pre></div>\n<h4>\n<a id=\"funcminarityn\" class=\"anchor\" href=\"#funcminarityn\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>func.minArity(n)</code>\n</h4>\n<p>Specifies the minimal arity of the function where:</p>\n<ul>\n<li>\n<code>n</code> - the minimal arity expected.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">func</span>().<span class=\"pl-en\">minArity</span>(<span class=\"pl-c1\">1</span>);</pre></div>\n<h4>\n<a id=\"funcmaxarityn\" class=\"anchor\" href=\"#funcmaxarityn\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>func.maxArity(n)</code>\n</h4>\n<p>Specifies the maximal arity of the function where:</p>\n<ul>\n<li>\n<code>n</code> - the maximum arity expected.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">func</span>().<span class=\"pl-en\">maxArity</span>(<span class=\"pl-c1\">3</span>);</pre></div>\n<h4>\n<a id=\"funcclass\" class=\"anchor\" href=\"#funcclass\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>func.class()</code>\n</h4>\n<p>Requires the function to be a class.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">func</span>().<span class=\"pl-en\">class</span>();</pre></div>\n<h4>\n<a id=\"funcref\" class=\"anchor\" href=\"#funcref\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>func.ref()</code>\n</h4>\n<p>Requires the function to be a Joi reference.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">func</span>().<span class=\"pl-en\">ref</span>();</pre></div>\n<h3>\n<a id=\"number---inherits-from-any\" class=\"anchor\" href=\"#number---inherits-from-any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number</code> - inherits from <code>Any</code>\n</h3>\n<p>Generates a schema object that matches a number data type (as well as strings that can be converted to numbers). If the\nvalidation <code>convert</code> option is on (enabled by default), a string will be converted to a <code>number</code> if specified. Also, if\n<code>convert</code> is on and <code>number.precision()</code> is used, the value will be converted to the specified <code>precision</code> as well.</p>\n<p><code>Infinity</code> and <code>-Infinity</code> are invalid by default, you can change that behavior by calling <code>allow(Infinity, -Infinity)</code>.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">number</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>();\n<span class=\"pl-smi\">number</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-c1\">5</span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { });</pre></div>\n<h4>\n<a id=\"numberminlimit\" class=\"anchor\" href=\"#numberminlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.min(limit)</code>\n</h4>\n<p>Specifies the minimum value where:</p>\n<ul>\n<li>\n<code>limit</code> - the minimum value allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">2</span>);</pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  min<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>(),\n  max<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>min<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<h4>\n<a id=\"numbermaxlimit\" class=\"anchor\" href=\"#numbermaxlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.max(limit)</code>\n</h4>\n<p>Specifies the maximum value where:</p>\n<ul>\n<li>\n<code>limit</code> - the maximum value allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">10</span>);</pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  min<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>max<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>(),\n  max<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>()\n});</pre></div>\n<h4>\n<a id=\"numbergreaterlimit\" class=\"anchor\" href=\"#numbergreaterlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.greater(limit)</code>\n</h4>\n<p>Specifies that the value must be greater than <code>limit</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">greater</span>(<span class=\"pl-c1\">5</span>);</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  min<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>(),\n  max<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">greater</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>min<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<h4>\n<a id=\"numberlesslimit\" class=\"anchor\" href=\"#numberlesslimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.less(limit)</code>\n</h4>\n<p>Specifies that the value must be less than <code>limit</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">less</span>(<span class=\"pl-c1\">10</span>);</pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  min<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">less</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>max<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>(),\n  max<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>()\n});</pre></div>\n<h4>\n<a id=\"numberinteger\" class=\"anchor\" href=\"#numberinteger\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.integer()</code>\n</h4>\n<p>Requires the number to be an integer (no floating point).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">integer</span>();</pre></div>\n<h4>\n<a id=\"numberprecisionlimit\" class=\"anchor\" href=\"#numberprecisionlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.precision(limit)</code>\n</h4>\n<p>Specifies the maximum number of decimal places where:</p>\n<ul>\n<li>\n<code>limit</code> - the maximum number of decimal places allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">precision</span>(<span class=\"pl-c1\">2</span>);</pre></div>\n<h4>\n<a id=\"numbermultiplebase\" class=\"anchor\" href=\"#numbermultiplebase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.multiple(base)</code>\n</h4>\n<p>Specifies that the value must be a multiple of <code>base</code>:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-c1\">multiple</span>(<span class=\"pl-c1\">3</span>);</pre></div>\n<p>Notes: <code>Joi.number.multiple(base)</code> <em>uses the modulo operator (%) to determine if a number is multiple of another number.\nTherefore, it has the normal limitations of Javascript modulo operator. The results with decimal/floats maybe incorrect.</em></p>\n<h4>\n<a id=\"numberpositive\" class=\"anchor\" href=\"#numberpositive\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.positive()</code>\n</h4>\n<p>Requires the number to be positive.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">positive</span>();</pre></div>\n<h4>\n<a id=\"numbernegative\" class=\"anchor\" href=\"#numbernegative\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.negative()</code>\n</h4>\n<p>Requires the number to be negative.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">negative</span>();</pre></div>\n<h3>\n<a id=\"object---inherits-from-any\" class=\"anchor\" href=\"#object---inherits-from-any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object</code> - inherits from <code>Any</code>\n</h3>\n<p>Generates a schema object that matches an object data type (as well as JSON strings that parsed into objects). Defaults\nto allowing any child key. If the validation <code>convert</code> option is on (enabled by default), a string will be converted to\nan <code>object</code> if specified via <code>JSON.parse()</code>.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">object</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">1</span>).<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">10</span>).<span class=\"pl-en\">integer</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>some string<span class=\"pl-pds\">'</span></span>\n});\n\n<span class=\"pl-smi\">object</span>.<span class=\"pl-en\">validate</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span> }, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { });</pre></div>\n<h4>\n<a id=\"objectkeysschema\" class=\"anchor\" href=\"#objectkeysschema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.keys([schema])</code>\n</h4>\n<p>Sets or extends the allowed object keys where:</p>\n<ul>\n<li>\n<code>schema</code> - optional object where each key is assigned a <strong>joi</strong> type object. If <code>schema</code> is <code>{}</code> no keys allowed.\nIf <code>schema</code> is <code>null</code> or <code>undefined</code>, any key allowed. If <code>schema</code> is an object with keys, the keys are added to any\npreviously defined keys (but narrows the selection if all keys previously allowed). Defaults to 'undefined' which\nallows any child key.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">base</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n});\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Validate keys a, b and c.</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">extended</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">base</span>.<span class=\"pl-c1\">keys</span>({\n    c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>()\n});</pre></div>\n<p>Notes: We have three different ways to define a schema for performing a validation</p>\n<ul>\n<li>Using the plain JS object notation:</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n};</pre></div>\n<ul>\n<li>Using the <code>Joi.object([schema])</code> notation</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n});</pre></div>\n<ul>\n<li>Using the <code>Joi.object().keys([schema])</code> notation</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n});</pre></div>\n<p>While all these three objects defined above will result in the same validation object, there are some differences in using one or another:</p>\n<h5>\n<a id=\"-notation\" class=\"anchor\" href=\"#-notation\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>{} notation</code>\n</h5>\n<p>When using the <code>{}</code> notation, you are just defining a plain JS object, which isn't a schema object.\nYou can pass it to the validation method but you can't call <code>validate()</code> method of the object because it's just a plain JS object.</p>\n<p>Besides, passing the <code>{}</code> object to the <code>validate()</code> method each time, will perform an expensive schema compilation operation on every validation.</p>\n<h5>\n<a id=\"joiobjectschema-notation\" class=\"anchor\" href=\"#joiobjectschema-notation\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Joi.object([schema]) notation</code>\n</h5>\n<p>Using <code>Joi.object([schema])</code> will return a schema object, so you can call the <code>validate()</code> method directly, e.g:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>()\n});\n\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-c1\">true</span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> {\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>err: <span class=\"pl-pds\">'</span></span>, err);\n});</pre></div>\n<p>When you use <code>Joi.object([schema])</code>, it gets compiled the first time, so you can pass it to the <code>validate()</code> method multiple times and no overhead is added.</p>\n<p>Another benefits of using <code>Joi.object([schema])</code> instead of a plain JS object is that you can set any options on the object like allowing unknown keys, e.g:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    arg<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>firstname<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>lastname<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>title<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>company<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>jobtitle<span class=\"pl-pds\">'</span></span>),\n    value<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n}).<span class=\"pl-en\">pattern</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span>firstname<span class=\"pl-k\">|</span>lastname<span class=\"pl-pds\">/</span></span>, <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">2</span>));</pre></div>\n<h5>\n<a id=\"joiobjectkeysschema-notation\" class=\"anchor\" href=\"#joiobjectkeysschema-notation\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Joi.object().keys([schema]) notation</code>\n</h5>\n<p>This is basically the same as <code>Joi.object([schema])</code>, but using <code>Joi.object().keys([schema])</code> is more useful when you want to add more keys (e.g. call <code>keys()</code> multiple times). If you are only adding one set of keys, you can skip the <code>keys()</code> method and just use <code>object()</code> directly.</p>\n<p>Some people like to use <code>keys()</code> to make the code more explicit (this is style only).</p>\n<h4>\n<a id=\"objectminlimit\" class=\"anchor\" href=\"#objectminlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.min(limit)</code>\n</h4>\n<p>Specifies the minimum number of keys in the object where:</p>\n<ul>\n<li>\n<code>limit</code> - the lowest number of keys allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">2</span>);</pre></div>\n<h4>\n<a id=\"objectmaxlimit\" class=\"anchor\" href=\"#objectmaxlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.max(limit)</code>\n</h4>\n<p>Specifies the maximum number of keys in the object where:</p>\n<ul>\n<li>\n<code>limit</code> - the highest number of object keys allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">10</span>);</pre></div>\n<h4>\n<a id=\"objectlengthlimit\" class=\"anchor\" href=\"#objectlengthlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.length(limit)</code>\n</h4>\n<p>Specifies the exact number of keys in the object where:</p>\n<ul>\n<li>\n<code>limit</code> - the number of object keys allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">length</span>(<span class=\"pl-c1\">5</span>);</pre></div>\n<h4>\n<a id=\"objectpatternregex-schema\" class=\"anchor\" href=\"#objectpatternregex-schema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.pattern(regex, schema)</code>\n</h4>\n<p>Specify validation rules for unknown keys matching a pattern where:</p>\n<ul>\n<li>\n<code>regex</code> - a regular expression tested against the unknown key names.</li>\n<li>\n<code>schema</code> - the schema object matching keys must validate against.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n}).<span class=\"pl-en\">pattern</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-c1\">\\w\\d</span><span class=\"pl-pds\">/</span></span>, <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>());</pre></div>\n<h4>\n<a id=\"objectandpeers\" class=\"anchor\" href=\"#objectandpeers\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.and(peers)</code>\n</h4>\n<p>Defines an all-or-nothing relationship between keys where if one of the peers is present, all of them are required as\nwell where:</p>\n<ul>\n<li>\n<code>peers</code> - the key names of which if one present, all are required. <code>peers</code> can be a single string value, an\narray of string values, or each peer provided as an argument.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}).<span class=\"pl-en\">and</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"objectnandpeers\" class=\"anchor\" href=\"#objectnandpeers\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.nand(peers)</code>\n</h4>\n<p>Defines a relationship between keys where not all peers can be present at the\nsame time where:</p>\n<ul>\n<li>\n<code>peers</code> - the key names of which if one present, the others may not all be present. <code>peers</code> can be a single string value, an\narray of string values, or each peer provided as an argument.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}).<span class=\"pl-en\">nand</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"objectorpeers\" class=\"anchor\" href=\"#objectorpeers\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.or(peers)</code>\n</h4>\n<p>Defines a relationship between keys where one of the peers is required (and more than one is allowed) where:</p>\n<ul>\n<li>\n<code>peers</code> - the key names of which at least one must appear. <code>peers</code> can be a single string value, an\narray of string values, or each peer provided as an argument.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}).<span class=\"pl-en\">or</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"objectxorpeers\" class=\"anchor\" href=\"#objectxorpeers\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.xor(peers)</code>\n</h4>\n<p>Defines an exclusive relationship between a set of keys where one of them is required but not at the same time where:</p>\n<ul>\n<li>\n<code>peers</code> - the exclusive key names that must not appear together but where one of them is required. <code>peers</code> can be a single string value, an\narray of string values, or each peer provided as an argument.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}).<span class=\"pl-en\">xor</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"objectwithkey-peers\" class=\"anchor\" href=\"#objectwithkey-peers\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.with(key, peers)</code>\n</h4>\n<p>Requires the presence of other keys whenever the specified key is present where:</p>\n<ul>\n<li>\n<code>key</code> - the reference key.</li>\n<li>\n<code>peers</code> - the required peer key names that must appear together with <code>key</code>. <code>peers</code> can be a single string value or an array of string values.</li>\n</ul>\n<p>Note that unlike <a href=\"#objectandpeers\"><code>object.and()</code></a>, <code>with()</code> creates a dependency only between the <code>key</code> and each of the <code>peers</code>, not\nbetween the <code>peers</code> themselves.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}).<span class=\"pl-en\">with</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"objectwithoutkey-peers\" class=\"anchor\" href=\"#objectwithoutkey-peers\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.without(key, peers)</code>\n</h4>\n<p>Forbids the presence of other keys whenever the specified is present where:</p>\n<ul>\n<li>\n<code>key</code> - the reference key.</li>\n<li>\n<code>peers</code> - the forbidden peer key names that must not appear together with <code>key</code>. <code>peers</code> can be a single string value or an array of string values.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}).<span class=\"pl-en\">without</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>]);</pre></div>\n<h4>\n<a id=\"objectrenamefrom-to-options\" class=\"anchor\" href=\"#objectrenamefrom-to-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.rename(from, to, [options])</code>\n</h4>\n<p>Renames a key to another name (deletes the renamed key) where:</p>\n<ul>\n<li>\n<code>from</code> - the original key name or a regular expression matching keys.</li>\n<li>\n<code>to</code> - the new key name.</li>\n<li>\n<code>options</code> - an optional object with the following optional keys:\n<ul>\n<li>\n<code>alias</code> - if <code>true</code>, does not delete the old key name, keeping both the new and old keys in place. Defaults to <code>false</code>.</li>\n<li>\n<code>multiple</code> - if <code>true</code>, allows renaming multiple keys to the same destination where the last rename wins. Defaults to <code>false</code>.</li>\n<li>\n<code>override</code> - if <code>true</code>, allows renaming a key over an existing key. Defaults to <code>false</code>.</li>\n<li>\n<code>ignoreUndefined</code> - if <code>true</code>, skip renaming of a key if it's undefined. Defaults to <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n<p>Keys are renamed before any other validation rules are applied.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">object</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n}).<span class=\"pl-en\">rename</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">object</span>.<span class=\"pl-en\">validate</span>({ b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span> }, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { });</pre></div>\n<p>It can also rename keys using a regular expression:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">regex</span> <span class=\"pl-k\">=</span><span class=\"pl-sr\"> <span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span>foobar<span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span>i</span>;\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n  fooBar<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n}).<span class=\"pl-en\">rename</span>(regex, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>fooBar<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>({ FooBar<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>}, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> {});</pre></div>\n<h4>\n<a id=\"objectassertref-schema-message\" class=\"anchor\" href=\"#objectassertref-schema-message\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.assert(ref, schema, [message])</code>\n</h4>\n<p>Verifies an assertion where:</p>\n<ul>\n<li>\n<code>ref</code> - the key name or <a href=\"#refkey-options\">reference</a>.</li>\n<li>\n<code>schema</code> - the validation rules required to satisfy the assertion. If the <code>schema</code> includes references, they are resolved against\nthe object value, not the value of the <code>ref</code> target.</li>\n<li>\n<code>message</code> - optional human-readable message used when the assertion fails. Defaults to 'failed to pass the assertion test'.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> {\n        b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n        c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n    },\n    d<span class=\"pl-k\">:</span> {\n        e<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n    }\n}).<span class=\"pl-en\">assert</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>d.e<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a.c<span class=\"pl-pds\">'</span></span>), <span class=\"pl-s\"><span class=\"pl-pds\">'</span>equal to a.c<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"objectunknownallow\" class=\"anchor\" href=\"#objectunknownallow\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.unknown([allow])</code>\n</h4>\n<p>Overrides the handling of unknown keys for the scope of the current object only (does not apply to children) where:</p>\n<ul>\n<li>\n<code>allow</code> - if <code>false</code>, unknown keys are not allowed, otherwise unknown keys are ignored.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>() }).<span class=\"pl-en\">unknown</span>();</pre></div>\n<h4>\n<a id=\"objecttypeconstructor-name\" class=\"anchor\" href=\"#objecttypeconstructor-name\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.type(constructor, [name])</code>\n</h4>\n<p>Requires the object to be an instance of a given constructor where:</p>\n<ul>\n<li>\n<code>constructor</code> - the constructor function that the object must be an instance of.</li>\n<li>\n<code>name</code> - an alternate name to use in validation errors. This is useful when the constructor function does not have a name.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">type</span>(<span class=\"pl-c1\">RegExp</span>);</pre></div>\n<h4>\n<a id=\"objectschema\" class=\"anchor\" href=\"#objectschema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.schema()</code>\n</h4>\n<p>Requires the object to be a Joi schema instance.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-en\">schema</span>();</pre></div>\n<h4>\n<a id=\"objectrequiredkeyschildren\" class=\"anchor\" href=\"#objectrequiredkeyschildren\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.requiredKeys(children)</code>\n</h4>\n<p>Sets the specified children to required.</p>\n<ul>\n<li>\n<code>children</code> - can be a single string value, an array of string values, or each child provided as an argument.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({ a<span class=\"pl-k\">:</span> { b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>() }, c<span class=\"pl-k\">:</span> { d<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>() } });\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">requiredSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">requiredKeys</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a.b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>c<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>c.d<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Note that in this example <code>''</code> means the current object, <code>a</code> is not required but <code>b</code> is, as well as <code>c</code> and <code>d</code>.</p>\n<h4>\n<a id=\"objectoptionalkeyschildren\" class=\"anchor\" href=\"#objectoptionalkeyschildren\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.optionalKeys(children)</code>\n</h4>\n<p>Sets the specified children to optional.</p>\n<ul>\n<li>\n<code>children</code> - can be a single string value, an array of string values, or each child provided as an argument.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({ a<span class=\"pl-k\">:</span> { b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>() }, c<span class=\"pl-k\">:</span> { d<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>() } });\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">optionalSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">optionalKeys</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a.b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>c.d<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>The behavior is exactly the same as <code>requiredKeys</code>.</p>\n<h4>\n<a id=\"objectforbiddenkeyschildren\" class=\"anchor\" href=\"#objectforbiddenkeyschildren\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.forbiddenKeys(children)</code>\n</h4>\n<p>Sets the specified children to forbidden.</p>\n<ul>\n<li>\n<code>children</code> - can be a single string value, an array of string values, or each child provided as an argument.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({ a<span class=\"pl-k\">:</span> { b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>() }, c<span class=\"pl-k\">:</span> { d<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>() } });\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">optionalSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">forbiddenKeys</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a.b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>c.d<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>The behavior is exactly the same as <code>requiredKeys</code>.</p>\n<h3>\n<a id=\"string---inherits-from-any\" class=\"anchor\" href=\"#string---inherits-from-any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string</code> - inherits from <code>Any</code>\n</h3>\n<p>Generates a schema object that matches a string data type. Note that empty strings are not allowed by default and must\nbe enabled with <code>allow('')</code>. However, if you want to specify a default value in case of empty string you have to use a\ndifferent pattern: <code>Joi.string().empty('').default('default value')</code>. This tells Joi that the empty string should be\nconsidered as an empty value (instead of invalid) and which value to use as default.</p>\n<p>If the validation <code>convert</code> option is on (enabled by default), a string will be converted using the specified modifiers\nfor <code>string.lowercase()</code>, <code>string.uppercase()</code>, <code>string.trim()</code>, and each replacement specified with <code>string.replace()</code>.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">1</span>).<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">10</span>);\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>12345<span class=\"pl-pds\">'</span></span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { });</pre></div>\n<h4>\n<a id=\"stringinsensitive\" class=\"anchor\" href=\"#stringinsensitive\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.insensitive()</code>\n</h4>\n<p>Allows the value to match any whitelist of blacklist item in a case insensitive comparison.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">insensitive</span>();</pre></div>\n<h4>\n<a id=\"stringminlimit-encoding\" class=\"anchor\" href=\"#stringminlimit-encoding\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.min(limit, [encoding])</code>\n</h4>\n<p>Specifies the minimum number string characters where:</p>\n<ul>\n<li>\n<code>limit</code> - the minimum number of string characters required.</li>\n<li>\n<code>encoding</code> - is specified, the string length is calculated in bytes using the provided encoding.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">2</span>);</pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  min<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(),\n  value<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>min<span class=\"pl-pds\">'</span></span>), <span class=\"pl-s\"><span class=\"pl-pds\">'</span>utf8<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<h4>\n<a id=\"stringmaxlimit-encoding\" class=\"anchor\" href=\"#stringmaxlimit-encoding\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.max(limit, [encoding])</code>\n</h4>\n<p>Specifies the maximum number of string characters where:</p>\n<ul>\n<li>\n<code>limit</code> - the maximum number of string characters allowed.</li>\n<li>\n<code>encoding</code> - if specified, the string length is calculated in bytes using the provided encoding.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">10</span>);</pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  max<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(),\n  value<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>max<span class=\"pl-pds\">'</span></span>), <span class=\"pl-s\"><span class=\"pl-pds\">'</span>utf8<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<h4>\n<a id=\"stringtruncateenabled\" class=\"anchor\" href=\"#stringtruncateenabled\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.truncate([enabled])</code>\n</h4>\n<p>Specifies whether the <code>string.max()</code> limit should be used as a truncation.</p>\n<p>Parameters are:</p>\n<ul>\n<li>\n<code>enabled</code> - optional parameter defaulting to <code>true</code> which allows you to reset the behavior of truncate by providing a falsy value.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">5</span>).<span class=\"pl-en\">truncate</span>();</pre></div>\n<h4>\n<a id=\"stringcreditcard\" class=\"anchor\" href=\"#stringcreditcard\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.creditCard()</code>\n</h4>\n<p>Requires the number to be a credit card number (Using <a href=\"http://en.wikipedia.org/wiki/Luhn_algorithm\" rel=\"nofollow\">Lunh\nAlgorithm</a>).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">creditCard</span>();</pre></div>\n<h4>\n<a id=\"stringlengthlimit-encoding\" class=\"anchor\" href=\"#stringlengthlimit-encoding\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.length(limit, [encoding])</code>\n</h4>\n<p>Specifies the exact string length required where:</p>\n<ul>\n<li>\n<code>limit</code> - the required string length.</li>\n<li>\n<code>encoding</code> - is specified, the string length is calculated in bytes using the provided encoding.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">length</span>(<span class=\"pl-c1\">5</span>);</pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  length<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(),\n  value<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">length</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>length<span class=\"pl-pds\">'</span></span>), <span class=\"pl-s\"><span class=\"pl-pds\">'</span>utf8<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<h4>\n<a id=\"stringregexpattern-name--options\" class=\"anchor\" href=\"#stringregexpattern-name--options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.regex(pattern, [name | options])</code>\n</h4>\n<p>Defines a regular expression rule where:</p>\n<ul>\n<li>\n<code>pattern</code> - a regular expression object the string value must match against.</li>\n<li>\n<code>name</code> - optional name for patterns (useful with multiple patterns).</li>\n<li>\n<code>options</code> - an optional configuration object with the following supported properties:\n<ul>\n<li>\n<code>name</code> - optional pattern name.</li>\n<li>\n<code>invert</code> - optional boolean flag. Defaults to <code>false</code> behavior. If specified as <code>true</code>, the provided pattern will be disallowed instead of required.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">regex</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span><span class=\"pl-c1\">[abc]</span><span class=\"pl-k\">+</span><span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">inlineNamedSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">regex</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span><span class=\"pl-c1\">[<span class=\"pl-c1\">0-9</span>]</span><span class=\"pl-k\">+</span><span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>numbers<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">inlineNamedSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>alpha<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: \"value\" with value \"alpha\" fails to match the numbers pattern</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">namedSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">regex</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span><span class=\"pl-c1\">[<span class=\"pl-c1\">0-9</span>]</span><span class=\"pl-k\">+</span><span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span></span>, { name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>numbers<span class=\"pl-pds\">'</span></span>});\n<span class=\"pl-smi\">namedSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>alpha<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: \"value\" with value \"alpha\" fails to match the numbers pattern</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">invertedSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">regex</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span><span class=\"pl-c1\">[<span class=\"pl-c1\">a-z</span>]</span><span class=\"pl-k\">+</span><span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span></span>, { invert<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });\n<span class=\"pl-smi\">invertedSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lowercase<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: \"value\" with value \"lowercase\" matches the inverted pattern: [a-z]</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">invertedNamedSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">regex</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span><span class=\"pl-c1\">[<span class=\"pl-c1\">a-z</span>]</span><span class=\"pl-k\">+</span><span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span></span>, { name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>alpha<span class=\"pl-pds\">'</span></span>, invert<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });\n<span class=\"pl-smi\">invertedNamedSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lowercase<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: \"value\" with value \"lowercase\" matches the inverted alpha pattern</span></pre></div>\n<h4>\n<a id=\"stringreplacepattern-replacement\" class=\"anchor\" href=\"#stringreplacepattern-replacement\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.replace(pattern, replacement)</code>\n</h4>\n<p>Replace characters matching the given <em>pattern</em> with the specified\n<em>replacement</em> string where:</p>\n<ul>\n<li>\n<code>pattern</code> - a regular expression object to match against, or a string of which <em>all</em> occurrences will be replaced.</li>\n<li>\n<code>replacement</code> - the string that will replace the pattern.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">replace</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span>b<span class=\"pl-pds\">/</span>gi</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>x<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>abBc<span class=\"pl-pds\">'</span></span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> {\n  <span class=\"pl-c\"><span class=\"pl-c\">//</span> here value will be 'axxc'</span>\n});</pre></div>\n<p>When <code>pattern</code> is a <em>string</em> all its occurrences will be replaced.</p>\n<h4>\n<a id=\"stringalphanum\" class=\"anchor\" href=\"#stringalphanum\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.alphanum()</code>\n</h4>\n<p>Requires the string value to only contain a-z, A-Z, and 0-9.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">alphanum</span>();</pre></div>\n<h4>\n<a id=\"stringtoken\" class=\"anchor\" href=\"#stringtoken\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.token()</code>\n</h4>\n<p>Requires the string value to only contain a-z, A-Z, 0-9, and underscore _.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">token</span>();</pre></div>\n<h4>\n<a id=\"stringemailoptions\" class=\"anchor\" href=\"#stringemailoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.email([options])</code>\n</h4>\n<p>Requires the string value to be a valid email address.</p>\n<ul>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>allowUnicode</code> - if <code>true</code>, Unicode characters are permitted. Defaults to <code>true</code>.</li>\n<li>\n<code>minDomainSegments</code> - Number of segments required for the domain. Be careful since some\ndomains, such as <code>io</code>, directly allow email.</li>\n<li>\n<code>tlds</code> - options for TLD (top level domain) validation. By default, the TLD must be a valid\nname listed on the <a href=\"http://data.iana.org/TLD/tlds-alpha-by-domain.txt\" rel=\"nofollow\">IANA registry</a>. To\ndisable validation, set <code>tlds</code> to <code>false</code>. To customize how TLDs are validated, set one of\nthese:\n<ul>\n<li>\n<code>allow</code> - one of:\n<ul>\n<li>\n<code>true</code> to use the IANA list of registered TLDs. This is the default value.</li>\n<li>\n<code>false</code> to allow any TLD not listed in the <code>deny</code> list, if present.</li>\n<li>a <code>Set</code> or array of the allowed TLDs. Cannot be used together with <code>deny</code>.</li>\n</ul>\n</li>\n<li>\n<code>deny</code> - one of:\n<ul>\n<li>a <code>Set</code> or array of the forbidden TLDs. Cannot be used together with a custom <code>allow</code>\nlist.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">email</span>();</pre></div>\n<h4>\n<a id=\"stringipoptions\" class=\"anchor\" href=\"#stringipoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.ip([options])</code>\n</h4>\n<p>Requires the string value to be a valid ip address.</p>\n<ul>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>version</code> - One or more IP address versions to validate against. Valid values: <code>ipv4</code>, <code>ipv6</code>, <code>ipvfuture</code>\n</li>\n<li>\n<code>cidr</code> - Used to determine if a CIDR is allowed or not. Valid values: <code>optional</code>, <code>required</code>, <code>forbidden</code>\n</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> Accept only ipv4 and ipv6 addresses with a CIDR</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">ip</span>({\n  version<span class=\"pl-k\">:</span> [\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ipv4<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ipv6<span class=\"pl-pds\">'</span></span>\n  ],\n  cidr<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>required<span class=\"pl-pds\">'</span></span>\n});</pre></div>\n<h4>\n<a id=\"stringurioptions\" class=\"anchor\" href=\"#stringurioptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.uri([options])</code>\n</h4>\n<p>Requires the string value to be a valid <a href=\"http://tools.ietf.org/html/rfc3986\" rel=\"nofollow\">RFC 3986</a> URI.</p>\n<ul>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>scheme</code> - Specifies one or more acceptable Schemes, should only include the scheme name. Can be an Array or String (strings are automatically escaped for use in a Regular Expression).</li>\n<li>\n<code>allowRelative</code> - Allow relative URIs. Defaults to <code>false</code>.</li>\n<li>\n<code>relativeOnly</code> - Restrict only relative URIs.  Defaults to <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> Accept git or git http/https</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">uri</span>({\n  scheme<span class=\"pl-k\">:</span> [\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>git<span class=\"pl-pds\">'</span></span>,\n<span class=\"pl-sr\">    <span class=\"pl-pds\">/</span>git<span class=\"pl-cce\">\\+</span>https<span class=\"pl-k\">?</span><span class=\"pl-pds\">/</span></span>\n  ]\n});</pre></div>\n<h4>\n<a id=\"stringguid---aliases-uuid\" class=\"anchor\" href=\"#stringguid---aliases-uuid\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.guid()</code> - aliases: <code>uuid</code>\n</h4>\n<p>Requires the string value to be a valid GUID.</p>\n<ul>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>version</code> - Specifies one or more acceptable versions. Can be an Array or String with the following values:\n<code>uuidv1</code>, <code>uuidv2</code>, <code>uuidv3</code>, <code>uuidv4</code>, or <code>uuidv5</code>. If no <code>version</code> is specified then it is assumed to be a generic <code>guid</code>.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">guid</span>({\n    version<span class=\"pl-k\">:</span> [\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span>uuidv4<span class=\"pl-pds\">'</span></span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span>uuidv5<span class=\"pl-pds\">'</span></span>\n    ]\n});</pre></div>\n<h4>\n<a id=\"stringhex\" class=\"anchor\" href=\"#stringhex\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.hex()</code>\n</h4>\n<p>Requires the string value to be a valid hexadecimal string.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">hex</span>();</pre></div>\n<h4>\n<a id=\"stringbase64options\" class=\"anchor\" href=\"#stringbase64options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.base64([options])</code>\n</h4>\n<p>Requires the string value to be a valid base64 string; does not check the decoded value.</p>\n<ul>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>paddingRequired</code> - optional parameter defaulting to <code>true</code> which will require <code>=</code> padding if <code>true</code> or make padding optional if <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n<p>Padding characters are not required for decoding, as the number of missing bytes can be inferred from the number of digits. With that said, try to use padding if at all possible.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">base64</span>();\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>VE9PTUFOWVNFQ1JFVFM<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: \"value\" must be a valid base64 string</span>\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>VE9PTUFOWVNFQ1JFVFM=<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> No Error</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">paddingRequiredSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">base64</span>({ paddingRequired<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });\n<span class=\"pl-smi\">paddingRequiredSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>VE9PTUFOWVNFQ1JFVFM<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: \"value\" must be a valid base64 string</span>\n<span class=\"pl-smi\">paddingRequiredSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>VE9PTUFOWVNFQ1JFVFM=<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> No Error</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">paddingOptionalSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">base64</span>({ paddingRequired<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> });\n<span class=\"pl-smi\">paddingOptionalSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>VE9PTUFOWVNFQ1JFVFM<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> No Error</span>\n<span class=\"pl-smi\">paddingOptionalSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>VE9PTUFOWVNFQ1JFVFM=<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> No Error</span></pre></div>\n<h4>\n<a id=\"stringhostname\" class=\"anchor\" href=\"#stringhostname\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.hostname()</code>\n</h4>\n<p>Requires the string value to be a valid hostname as per <a href=\"http://tools.ietf.org/html/rfc1123\" rel=\"nofollow\">RFC1123</a>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">hostname</span>();</pre></div>\n<h4>\n<a id=\"stringnormalizeform\" class=\"anchor\" href=\"#stringnormalizeform\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.normalize([form])</code>\n</h4>\n<p>Requires the string value to be in a <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/normalize\" rel=\"nofollow\">unicode normalized</a>\nform. If the validation <code>convert</code> option is on (enabled by default), the string will be normalized.</p>\n<ul>\n<li>\n<code>form</code> - The unicode normalization form to use. Valid values: <code>NFC</code> [default], <code>NFD</code>, <code>NFKC</code>, <code>NFKD</code>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">normalize</span>(); <span class=\"pl-c\"><span class=\"pl-c\">//</span> defaults to NFC</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">normalize</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>NFC<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> canonical composition</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">normalize</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>NFD<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> canonical decomposition</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">normalize</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>NFKC<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> compatibility composition</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">normalize</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>NFKD<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> compatibility decomposition</span></pre></div>\n<h4>\n<a id=\"stringlowercase\" class=\"anchor\" href=\"#stringlowercase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.lowercase()</code>\n</h4>\n<p>Requires the string value to be all lowercase. If the validation <code>convert</code> option is on (enabled by default), the string\nwill be forced to lowercase.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">lowercase</span>();</pre></div>\n<h4>\n<a id=\"stringuppercase\" class=\"anchor\" href=\"#stringuppercase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.uppercase()</code>\n</h4>\n<p>Requires the string value to be all uppercase. If the validation <code>convert</code> option is on (enabled by default), the string\nwill be forced to uppercase.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">uppercase</span>();</pre></div>\n<h4>\n<a id=\"stringtrim\" class=\"anchor\" href=\"#stringtrim\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.trim()</code>\n</h4>\n<p>Requires the string value to contain no whitespace before or after. If the validation <code>convert</code> option is on (enabled by\ndefault), the string will be trimmed.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">trim</span>();</pre></div>\n<h4>\n<a id=\"stringisodate\" class=\"anchor\" href=\"#stringisodate\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.isoDate()</code>\n</h4>\n<p>Requires the string value to be in valid ISO 8601 date format.\nIf the validation <code>convert</code> option is on (enabled by default), the string will be forced to simplified extended ISO format (ISO 8601). Be aware that this operation uses javascript Date object, which does not support the full ISO format, so a few formats might not pass when using <code>convert</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">isoDate</span>();</pre></div>\n<h3>\n<a id=\"alternatives---inherits-from-any\" class=\"anchor\" href=\"#alternatives---inherits-from-any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>alternatives</code> - inherits from <code>Any</code>\n</h3>\n<p>Generates a type that will match one of the provided alternative schemas via the <a href=\"#alternativestryschemas\"><code>try()</code></a>\nmethod. If no schemas are added, the type will not match any value except for <code>undefined</code>.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<p>Alternatives can be expressed using the shorter <code>[]</code> notation.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">alt</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">alternatives</span>().<span class=\"pl-en\">try</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>());\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Same as [Joi.number(), Joi.string()]</span></pre></div>\n<h4>\n<a id=\"alternativestryschemas\" class=\"anchor\" href=\"#alternativestryschemas\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>alternatives.try(schemas)</code>\n</h4>\n<p>Adds an alternative schema type for attempting to match against the validated value where:</p>\n<ul>\n<li>\n<code>schema</code> - an array of alternative <strong>joi</strong> types. Also supports providing each type as a separate argument.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">alt</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">alternatives</span>().<span class=\"pl-en\">try</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>());\n<span class=\"pl-smi\">alt</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { });</pre></div>\n<h4>\n<a id=\"alternativeswhencondition-options\" class=\"anchor\" href=\"#alternativeswhencondition-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>alternatives.when(condition, options)</code>\n</h4>\n<p>Adds a conditional alternative schema type, either based on another key (not the same as <code>any.when()</code>) value, or a\nschema peeking into the current value, where:</p>\n<ul>\n<li>\n<code>condition</code> - the key name or <a href=\"#refkey-options\">reference</a>, or a schema.</li>\n<li>\n<code>options</code> - an object with:\n<ul>\n<li>\n<code>is</code> - the required condition <strong>joi</strong> type. Forbidden when <code>condition</code> is a schema.</li>\n<li>\n<code>then</code> - the alternative schema type to <strong>try</strong> if the condition is true. Required if <code>otherwise</code> is missing.</li>\n<li>\n<code>otherwise</code> - the alternative schema type to <strong>try</strong> if the condition is false. Required if <code>then</code> is missing.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">alternatives</span>().<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, { is<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span>, then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(), otherwise<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>() }),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n};</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">alternatives</span>().<span class=\"pl-en\">when</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({ b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span> }).<span class=\"pl-en\">unknown</span>(), {\n    then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n        a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n        b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n    }),\n    otherwise<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n        a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>(),\n        b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n    })\n});</pre></div>\n<p>Note that <code>when()</code> only adds additional alternatives to try and does not impact the overall type. Setting\na <code>required()</code> rule on a single alternative will not apply to the overall key. For example,\nthis definition of <code>a</code>:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">alternatives</span>().<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, { is<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>, then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">required</span>() }),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>()\n};</pre></div>\n<p>Does not turn <code>a</code> into a required key when <code>b</code> is <code>true</code>. Instead, it tells the validator to try and match the\nvalue to anything that's not <code>undefined</code>. However, since <code>Joi.alternatives()</code> by itself allows <code>undefined</code>, the rule\ndoes not accomplish turning <code>a</code> to a required value. This rule is the same as <code>Joi.alternatives([Joi.required()])</code>\nwhen <code>b</code> is <code>true</code> which will allow any value including <code>undefined</code>.</p>\n<p>To accomplish the desired result above use:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, { is<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>, then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">required</span>() }),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>()\n};</pre></div>\n<h3>\n<a id=\"lazyfn---inherits-from-any\" class=\"anchor\" href=\"#lazyfn---inherits-from-any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>lazy(fn)</code> - inherits from <code>Any</code>\n</h3>\n<p>Generates a placeholder schema for a schema that you would provide with the <code>fn</code>.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<p>This is mostly useful for recursive schemas, like :</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Person</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    firstName<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(),\n    lastName<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(),\n    children<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">lazy</span>(() <span class=\"pl-k\">=&gt;</span> Person).<span class=\"pl-c1\">description</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Person schema<span class=\"pl-pds\">'</span></span>))\n});</pre></div>\n<h2>\n<a id=\"errors\" class=\"anchor\" href=\"#errors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Errors</h2>\n<p>Joi throws classical javascript <code>Error</code>s containing :</p>\n<ul>\n<li>\n<code>name</code> - <code>'ValidationError'</code>.</li>\n<li>\n<code>isJoi</code> - <code>true</code>.</li>\n<li>\n<code>details</code> - an array of errors :\n<ul>\n<li>\n<code>message</code> - string with a description of the error.</li>\n<li>\n<code>path</code> - ordered array where each element is the accessor to the value where the error happened.</li>\n<li>\n<code>type</code> - type of the error.</li>\n<li>\n<code>context</code> - object providing context of the error containing at least:\n<ul>\n<li>\n<code>key</code> - key of the value that errored, equivalent to the last element of <code>details.path</code>.</li>\n<li>\n<code>label</code> - label of the value that errored, or the <code>key</code> if any, or the default <code>language.root</code>.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>annotate</code> - function that returns a string with an annotated version of the object pointing at the places where errors occurred. Takes an optional parameter that, if truthy, will strip the colors out of the output.</li>\n<li>\n<code>_object</code> - the original object to validate.</li>\n</ul>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"},"15.1.1":{"menu":"  - [`version`](#version)\n  - [`validate()`](#validatevalue-schema-options-callback)\n  - [`compile()`](#compileschema)\n  - [`describe()`](#describeschema)\n  - [`assert()`](#assertvalue-schema-message)\n  - [`attempt()`](#attemptvalue-schema-message)\n  - [`ref()`](#refkey-options)\n  - [`isRef()`](#isrefref)\n  - [`reach()`](#reachschema-path)\n  - [`defaults()`](#defaultsfn)\n  - [`bind()`](#bind)\n  - [`extend()`](#extendextension)\n    - [Terms](#terms)\n    - [Extension](#extension)\n    - [npm note](#npm-note)\n    - [Examples](#examples)\n  - [`any`](#any)\n    - [`schemaType`](#schematype)\n    - [`any.validate()`](#anyvalidatevalue-options-callback)\n    - [`any.allow()`](#anyallowvalue)\n    - [`any.valid()` - aliases: `only`, `equal`](#anyvalidvalue---aliases-only-equal)\n    - [`any.invalid()` - aliases: `disallow`, `not`](#anyinvalidvalue---aliases-disallow-not)\n    - [`any.required()` - aliases: `exist`](#anyrequired---aliases-exist)\n    - [`any.optional()`](#anyoptional)\n    - [`any.forbidden()`](#anyforbidden)\n    - [`any.strip()`](#anystrip)\n    - [`any.description()`](#anydescriptiondesc)\n    - [`any.notes()`](#anynotesnotes)\n    - [`any.tags()`](#anytagstags)\n    - [`any.meta()`](#anymetameta)\n    - [`any.example()`](#anyexamplevalues)\n    - [`any.unit()`](#anyunitname)\n    - [`any.options()`](#anyoptionsoptions)\n    - [`any.strict()`](#anystrictisstrict)\n    - [`any.default()`](#anydefaultvalue-description)\n    - [`any.concat()`](#anyconcatschema)\n    - [`any.when()`](#anywhencondition-options)\n    - [`any.label()`](#anylabelname)\n    - [`any.raw()`](#anyrawisraw)\n    - [`any.empty()`](#anyemptyschema)\n    - [`any.error()`](#anyerrorerr-options)\n    - [`any.describe()`](#anydescribe)\n  - [`array` - inherits from `Any`](#array---inherits-from-any)\n    - [`array.sparse()`](#arraysparseenabled)\n    - [`array.single()`](#arraysingleenabled)\n    - [`array.items()`](#arrayitemstype)\n    - [`array.ordered()`](#arrayorderedtype)\n    - [`array.min()`](#arrayminlimit)\n    - [`array.max()`](#arraymaxlimit)\n    - [`array.length()`](#arraylengthlimit)\n    - [`array.unique()`](#arrayuniquecomparator-options)\n    - [`array.has()`](#arrayhasschema)\n  - [`boolean` - inherits from `Any`](#boolean---inherits-from-any)\n    - [`boolean.truthy()`](#booleantruthyvalue)\n    - [`boolean.falsy()`](#booleanfalsyvalue)\n    - [`boolean.insensitive()`](#booleaninsensitiveenabled)\n  - [`binary` - inherits from `Any`](#binary---inherits-from-any)\n    - [`binary.encoding()`](#binaryencodingencoding)\n    - [`binary.min()`](#binaryminlimit)\n    - [`binary.max()`](#binarymaxlimit)\n    - [`binary.length()`](#binarylengthlimit)\n  - [`date` - inherits from `Any`](#date---inherits-from-any)\n    - [`date.min()`](#datemindate)\n    - [`date.max()`](#datemaxdate)\n    - [`date.greater()`](#dategreaterdate)\n    - [`date.less()`](#datelessdate)\n    - [`date.iso()`](#dateiso)\n    - [`date.timestamp()`](#datetimestamptype)\n  - [`func` - inherits from `Any`](#func---inherits-from-any)\n    - [`func.arity()`](#funcarityn)\n    - [`func.minArity()`](#funcminarityn)\n    - [`func.maxArity()`](#funcmaxarityn)\n    - [`func.class()`](#funcclass)\n    - [`func.ref()`](#funcref)\n  - [`number` - inherits from `Any`](#number---inherits-from-any)\n    - [`number.unsafe()`](#numberunsafeenabled)\n    - [`number.min()`](#numberminlimit)\n    - [`number.max()`](#numbermaxlimit)\n    - [`number.greater()`](#numbergreaterlimit)\n    - [`number.less()`](#numberlesslimit)\n    - [`number.integer()`](#numberinteger)\n    - [`number.precision()`](#numberprecisionlimit)\n    - [`number.multiple()`](#numbermultiplebase)\n    - [`number.positive()`](#numberpositive)\n    - [`number.negative()`](#numbernegative)\n    - [`number.port()`](#numberport)\n  - [`object` - inherits from `Any`](#object---inherits-from-any)\n    - [`object.keys()`](#objectkeysschema)\n      - [`{} notation`](#-notation)\n      - [`Joi.object() notation`](#joiobjectschema-notation)\n      - [`Joi.object() notation`](#joiobjectkeysschema-notation)\n    - [`object.append()`](#objectappendschema)\n    - [`object.min()`](#objectminlimit)\n    - [`object.max()`](#objectmaxlimit)\n    - [`object.length()`](#objectlengthlimit)\n    - [`object.pattern()`](#objectpatternpattern-schema)\n    - [`object.and()`](#objectandpeers)\n    - [`object.nand()`](#objectnandpeers)\n    - [`object.or()`](#objectorpeers)\n    - [`object.xor()`](#objectxorpeers)\n    - [`object.oxor()`](#objectoxorpeers)\n    - [`object.with()`](#objectwithkey-peers)\n    - [`object.without()`](#objectwithoutkey-peers)\n    - [`object.rename()`](#objectrenamefrom-to-options)\n    - [`object.assert()`](#objectassertref-schema-message)\n    - [`object.unknown()`](#objectunknownallow)\n    - [`object.type()`](#objecttypeconstructor-name)\n    - [`object.schema()`](#objectschema)\n    - [`object.requiredKeys()`](#objectrequiredkeyschildren)\n    - [`object.optionalKeys()`](#objectoptionalkeyschildren)\n    - [`object.forbiddenKeys()`](#objectforbiddenkeyschildren)\n  - [`string` - inherits from `Any`](#string---inherits-from-any)\n    - [`string.insensitive()`](#stringinsensitive)\n    - [`string.min()`](#stringminlimit-encoding)\n    - [`string.max()`](#stringmaxlimit-encoding)\n    - [`string.truncate()`](#stringtruncateenabled)\n    - [`string.creditCard()`](#stringcreditcard)\n    - [`string.length()`](#stringlengthlimit-encoding)\n    - [`string.regex()`](#stringregexpattern-name--options)\n    - [`string.replace()`](#stringreplacepattern-replacement)\n    - [`string.alphanum()`](#stringalphanum)\n    - [`string.token()`](#stringtoken)\n    - [`string.email()`](#stringemailoptions)\n    - [`string.ip()`](#stringipoptions)\n    - [`string.uri()`](#stringurioptions)\n    - [`string.guid()` - aliases: `uuid`](#stringguid---aliases-uuid)\n    - [`string.hex()`](#stringhexoptions)\n    - [`string.base64()`](#stringbase64options)\n    - [`string.dataUri()`](#stringdataurioptions)\n    - [`string.hostname()`](#stringhostname)\n    - [`string.normalize()`](#stringnormalizeform)\n    - [`string.lowercase()`](#stringlowercase)\n    - [`string.uppercase()`](#stringuppercase)\n    - [`string.trim()`](#stringtrimenabled)\n    - [`string.isoDate()`](#stringisodate)\n  - [`symbol` - inherits from `Any`](#symbol---inherits-from-any)\n    - [`symbol.map()`](#symbolmapmap)\n  - [`alternatives` - inherits from `Any`](#alternatives---inherits-from-any)\n    - [`alternatives.try()`](#alternativestryschemas)\n    - [`alternatives.when()`](#alternativeswhencondition-options)\n  - [`lazy()` - inherits from `Any`](#lazyfn-options---inherits-from-any)\n- [Errors](#errors)\n  - [List of errors](#list-of-errors)\n    - [`alternatives.base`](#alternativesbase)\n    - [`any.allowOnly`](#anyallowonly)\n    - [`any.default`](#anydefault)\n    - [`any.empty`](#anyempty)\n    - [`any.invalid`](#anyinvalid)\n    - [`any.required`](#anyrequired)\n    - [`any.unknown`](#anyunknown)\n    - [`array.base`](#arraybase)\n    - [`array.excludes`](#arrayexcludes)\n    - [`array.excludesSingle`](#arrayexcludessingle)\n    - [`array.includesRequiredBoth`](#arrayincludesrequiredboth)\n    - [`array.includesRequiredKnowns`](#arrayincludesrequiredknowns)\n    - [`array.includesRequiredUnknowns`](#arrayincludesrequiredunknowns)\n    - [`array.includes`](#arrayincludes)\n    - [`array.includesSingle`](#arrayincludessingle)\n    - [`array.length`](#arraylength)\n    - [`array.max`](#arraymax)\n    - [`array.min`](#arraymin)\n    - [`array.orderedLength`](#arrayorderedlength)\n    - [`array.ref`](#arrayref)\n    - [`array.sparse`](#arraysparse)\n    - [`array.unique`](#arrayunique)\n    - [`array.hasKnown`](#arrayhasknown)\n    - [`array.hasUnknown`](#arrayhasunknown)\n    - [`binary.base`](#binarybase)\n    - [`binary.length`](#binarylength)\n    - [`binary.max`](#binarymax)\n    - [`binary.min`](#binarymin)\n    - [`boolean.base`](#booleanbase)\n    - [`date.base`](#datebase)\n    - [`date.greater`](#dategreater)\n    - [`date.isoDate`](#dateisodate)\n    - [`date.less`](#dateless)\n    - [`date.max`](#datemax)\n    - [`date.min`](#datemin)\n    - [`date.ref`](#dateref)\n    - [`date.strict`](#datestrict)\n    - [`date.timestamp.javascript`](#datetimestampjavascript)\n    - [`date.timestamp.unix`](#datetimestampunix)\n    - [`function.arity`](#functionarity)\n    - [`function.base`](#functionbase)\n    - [`function.class`](#functionclass)\n    - [`function.maxArity`](#functionmaxarity)\n    - [`function.minArity`](#functionminarity)\n    - [`function.ref`](#functionref)\n    - [`lazy.base`](#lazybase)\n    - [`lazy.schema`](#lazyschema)\n    - [`number.base`](#numberbase)\n    - [`number.greater`](#numbergreater)\n    - [`number.integer`](#numberinteger)\n    - [`number.less`](#numberless)\n    - [`number.max`](#numbermax)\n    - [`number.min`](#numbermin)\n    - [`number.multiple`](#numbermultiple)\n    - [`number.negative`](#numbernegative)\n    - [`number.port`](#numberport)\n    - [`number.positive`](#numberpositive)\n    - [`number.precision`](#numberprecision)\n    - [`number.ref`](#numberref)\n    - [`number.unsafe`](#numberunsafe)\n    - [`object.allowUnknown`](#objectallowunknown)\n    - [`object.and`](#objectand)\n    - [`object.assert`](#objectassert)\n    - [`object.base`](#objectbase)\n    - [`object.length`](#objectlength)\n    - [`object.max`](#objectmax)\n    - [`object.min`](#objectmin)\n    - [`object.missing`](#objectmissing)\n    - [`object.nand`](#objectnand)\n    - [`object.rename.multiple`](#objectrenamemultiple)\n    - [`object.rename.override`](#objectrenameoverride)\n    - [`object.rename.regex.multiple`](#objectrenameregexmultiple)\n    - [`object.rename.regex.override`](#objectrenameregexoverride)\n    - [`object.schema`](#objectschema)\n    - [`object.type`](#objecttype)\n    - [`object.with`](#objectwith)\n    - [`object.without`](#objectwithout)\n    - [`object.xor`](#objectxor)\n    - [`object.oxor`](#objectoxor)\n    - [`string.alphanum`](#stringalphanum)\n    - [`string.base64`](#stringbase64)\n    - [`string.base`](#stringbase)\n    - [`string.creditCard`](#stringcreditcard)\n    - [`string.dataUri`](#stringdatauri)\n    - [`string.email`](#stringemail)\n    - [`string.guid`](#stringguid)\n    - [`string.hexAlign`](#stringhexalign)\n    - [`string.hex`](#stringhex)\n    - [`string.hostname`](#stringhostname)\n    - [`string.ipVersion`](#stringipversion)\n    - [`string.ip`](#stringip)\n    - [`string.isoDate`](#stringisodate)\n    - [`string.length`](#stringlength)\n    - [`string.lowercase`](#stringlowercase)\n    - [`string.max`](#stringmax)\n    - [`string.min`](#stringmin)\n    - [`string.normalize`](#stringnormalize)\n    - [`string.ref`](#stringref)\n    - [`string.regex.base`](#stringregexbase)\n    - [`string.regex.name`](#stringregexname)\n    - [`string.regex.invert.base`](#stringregexinvertbase)\n    - [`string.regex.invert.name`](#stringregexinvertname)\n    - [`string.token`](#stringtoken)\n    - [`string.trim`](#stringtrim)\n    - [`string.uppercase`](#stringuppercase)\n    - [`string.uri`](#stringuri)\n    - [`string.uriCustomScheme`](#stringuricustomscheme)\n    - [`string.uriRelativeOnly`](#stringurirelativeonly)\n    - [`symbol.base`](#symbolbase)\n    - [`symbol.map`](#symbolmap)","api":"<h3>\n<a id=\"version\" class=\"anchor\" href=\"#version\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>version</code>\n</h3>\n<p>Property showing the current version of joi being used.</p>\n<h3>\n<a id=\"validatevalue-schema-options-callback\" class=\"anchor\" href=\"#validatevalue-schema-options-callback\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>validate(value, schema, [options], [callback])</code>\n</h3>\n<p>Validates a value using the given schema and options where:</p>\n<ul>\n<li>\n<code>value</code> - the value being validated.</li>\n<li>\n<code>schema</code> - the validation schema. Can be a <strong>joi</strong> type object or a plain object where every key is assigned a <strong>joi</strong> type object using <a href=\"#compileschema\"><code>Joi.compile</code></a> (be careful of the cost of compiling repeatedly the same schemas).</li>\n<li>\n<code>options</code> - an optional object with the following optional keys:\n<ul>\n<li>\n<code>abortEarly</code> - when <code>true</code>, stops validation on the first error, otherwise returns all the errors found. Defaults to <code>true</code>.</li>\n<li>\n<code>convert</code> - when <code>true</code>, attempts to cast values to the required types (e.g. a string to a number). Defaults to <code>true</code>.</li>\n<li>\n<code>allowUnknown</code> - when <code>true</code>, allows object to contain unknown keys which are ignored. Defaults to <code>false</code>.</li>\n<li>\n<code>skipFunctions</code> - when <code>true</code>, ignores unknown keys with a function value. Defaults to <code>false</code>.</li>\n<li>\n<code>stripUnknown</code> - remove unknown elements from objects and arrays. Defaults to <code>false</code>.\n<ul>\n<li>when an <code>object</code> :\n<ul>\n<li>\n<code>arrays</code> - set to <code>true</code> to remove unknown items from arrays.</li>\n<li>\n<code>objects</code> - set to <code>true</code> to remove unknown keys from objects.</li>\n</ul>\n</li>\n<li>when <code>true</code>, it is equivalent to having <code>{ arrays: false, objects: true }</code>.</li>\n</ul>\n</li>\n<li>\n<code>language</code> - overrides individual error messages. Defaults to no override (<code>{}</code>). Messages apply the following rules :\n<ul>\n<li>variables are put between curly braces like <code>{{var}}</code>, if prefixed by a <code>!</code> like <code>{{!var}}</code>, it will be html escaped if the option <code>escapeHtml</code> is also set to <code>true</code>\n</li>\n<li>strings are always preceeded by the key name, unless a <code>{{label}}</code> is found elsewhere or if the string is prefixed by a <code>!!</code>\n</li>\n<li>to better understand the structure of the language, it's advised to have a look at the existing messages you want to override <a href=\"lib/language.js\">here</a>\n</li>\n</ul>\n</li>\n<li>\n<code>presence</code> - sets the default presence requirements. Supported modes: <code>'optional'</code>, <code>'required'</code>, and <code>'forbidden'</code>.\nDefaults to <code>'optional'</code>.</li>\n<li>\n<code>context</code> - provides an external data set to be used in <a href=\"#refkey-options\">references</a>. Can only be set as an external option to\n<code>validate()</code> and not using <code>any.options()</code>.</li>\n<li>\n<code>noDefaults</code> - when <code>true</code>, do not apply default values. Defaults to <code>false</code>.</li>\n<li>\n<code>escapeHtml</code> - when <code>true</code>, error message templates will escape special characters to HTML entities, for security purposes. Defaults to <code>false</code>.</li>\n</ul>\n</li>\n<li>\n<code>callback</code> - the optional synchronous callback method using the signature <code>function(err, value)</code> where:\n<ul>\n<li>\n<code>err</code> - if validation failed, the <a href=\"#errors\">error</a> reason, otherwise <code>null</code>.</li>\n<li>\n<code>value</code> - the validated value with any type conversions and other modifiers applied (the input is left unchanged). <code>value</code> can be\nincomplete if validation failed and <code>abortEarly</code> is <code>true</code>. If callback is not provided, then returns an object with <a href=\"#errors\">error</a>\nand value properties.</li>\n</ul>\n</li>\n</ul>\n<p>When used without a callback, this function returns a Promise-like object that can be used as a promise, or as a simple object like in the below examples.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">value</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>123<span class=\"pl-pds\">'</span></span>\n};\n\n<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">validate</span>(value, schema, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { });\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> err -&gt; null</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> value.a -&gt; 123 (number, not string)</span>\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> or</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">result</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">validate</span>(value, schema);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> result.error -&gt; null</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> result.value -&gt; { \"a\" : 123 }</span>\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> or</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">promise</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">validate</span>(value, schema);\n<span class=\"pl-smi\">promise</span>.<span class=\"pl-c1\">then</span>((<span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> {\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> value -&gt; { \"a\" : 123 }</span>\n});</pre></div>\n<h3>\n<a id=\"compileschema\" class=\"anchor\" href=\"#compileschema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>compile(schema)</code>\n</h3>\n<p>Converts literal schema definition to <strong>joi</strong> schema object (or returns the same back if already a <strong>joi</strong> schema object) where:</p>\n<ul>\n<li>\n<code>schema</code> - the schema definition to compile.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">definition</span> <span class=\"pl-k\">=</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>key<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">5</span>, { a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>, b<span class=\"pl-k\">:</span> [<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span>a<span class=\"pl-pds\">/</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>boom<span class=\"pl-pds\">'</span></span>] }];\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">compile</span>(definition);\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Same as:</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">alternatives</span>().<span class=\"pl-en\">try</span>([\n    <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>key<span class=\"pl-pds\">'</span></span>),\n    <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-c1\">5</span>),\n    <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n        a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-c1\">true</span>),\n        b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">alternatives</span>().<span class=\"pl-en\">try</span>([\n            <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">regex</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span>a<span class=\"pl-pds\">/</span></span>),\n            <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>boom<span class=\"pl-pds\">'</span></span>)\n        ])\n    })\n]);</pre></div>\n<h3>\n<a id=\"describeschema\" class=\"anchor\" href=\"#describeschema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>describe(schema)</code>\n</h3>\n<p>Returns an object that represents the internal configuration of a <strong>joi</strong> schema. Useful for debugging and exposing a schema's configuration to other systems, like valid values in a user interface.</p>\n<ul>\n<li>\n<code>schema</code> - the schema to describe.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">valid</span>([ <span class=\"pl-s\"><span class=\"pl-pds\">'</span>foo<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>bar<span class=\"pl-pds\">'</span></span> ]);\n\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">describe</span>(schema));</pre></div>\n<p>Results in:</p>\n<pre><code>{ type: 'any',\n  flags: { allowOnly: true },\n  valids: [ 'foo', 'bar' ] }\n</code></pre>\n<h3>\n<a id=\"assertvalue-schema-message\" class=\"anchor\" href=\"#assertvalue-schema-message\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>assert(value, schema, [message])</code>\n</h3>\n<p>Validates a value against a schema and <a href=\"#errors\">throws</a> if validation fails where:</p>\n<ul>\n<li>\n<code>value</code> - the value to validate.</li>\n<li>\n<code>schema</code> - the validation schema. Can be a <strong>joi</strong> type object or a plain object where every key is assigned a <strong>joi</strong> type object using <a href=\"#compileschema\"><code>Joi.compile</code></a> (be careful of the cost of compiling repeatedly the same schemas).</li>\n<li>\n<code>message</code> - optional message string prefix added in front of the error message. may also be an Error object.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">assert</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>x<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>());</pre></div>\n<h3>\n<a id=\"attemptvalue-schema-message\" class=\"anchor\" href=\"#attemptvalue-schema-message\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>attempt(value, schema, [message])</code>\n</h3>\n<p>Validates a value against a schema, returns valid object, and <a href=\"#errors\">throws</a> if validation fails where:</p>\n<ul>\n<li>\n<code>value</code> - the value to validate.</li>\n<li>\n<code>schema</code> - the validation schema. Can be a <strong>joi</strong> type object or a plain object where every key is assigned a <strong>joi</strong> type object using <a href=\"#compileschema\"><code>Joi.compile</code></a> (be careful of the cost of compiling repeatedly the same schemas).</li>\n<li>\n<code>message</code> - optional message string prefix added in front of the error message. may also be an Error object.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">attempt</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>x<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> throws error</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">result</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">attempt</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>4<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> result -&gt; 4</span></pre></div>\n<h3>\n<a id=\"refkey-options\" class=\"anchor\" href=\"#refkey-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>ref(key, [options])</code>\n</h3>\n<p>Generates a reference to the value of the named key. References are resolved at validation time and in order of dependency\nso that if one key validation depends on another, the dependent key is validated second after the reference is validated.\nReferences support the following arguments:</p>\n<ul>\n<li>\n<code>key</code> - the reference target. References cannot point up the object tree, only to sibling keys, but they can point to\ntheir siblings' children (e.g. 'a.b.c') using the <code>.</code> separator. If a <code>key</code> starts with <code>$</code> is signifies a context reference\nwhich is looked up in the <code>context</code> option object.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>separator</code> - overrides the default <code>.</code> hierarchy separator.</li>\n<li>\n<code>contextPrefix</code> - overrides the default <code>$</code> context prefix signifier.</li>\n<li>Other options can also be passed based on what <a href=\"https://github.com/hapijs/hoek/blob/master/API.md#reachobj-chain-options\"><code>Hoek.reach</code></a> supports.</li>\n</ul>\n</li>\n</ul>\n<p>Note that references can only be used where explicitly supported such as in <code>valid()</code> or <code>invalid()</code> rules. If upwards\n(parents) references are needed, use <a href=\"#objectassertref-schema-message\"><code>object.assert()</code></a>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b.c<span class=\"pl-pds\">'</span></span>),\n    b<span class=\"pl-k\">:</span> {\n        c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n    },\n    c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>$x<span class=\"pl-pds\">'</span></span>)\n});\n\n<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">validate</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span>, b<span class=\"pl-k\">:</span> { c<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span> } }, schema, { context<span class=\"pl-k\">:</span> { x<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span> } }, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> {});</pre></div>\n<h3>\n<a id=\"isrefref\" class=\"anchor\" href=\"#isrefref\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>isRef(ref)</code>\n</h3>\n<p>Checks whether or not the provided argument is a reference.\nIt's especially useful if you want to post-process error messages.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">ref</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">isRef</span>(ref); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns true</span></pre></div>\n<h3>\n<a id=\"reachschema-path\" class=\"anchor\" href=\"#reachschema-path\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>reach(schema, path)</code>\n</h3>\n<p>Get a sub-schema of an existing schema based on a <code>path</code> that can be either a string or an array of strings For string values path separator is a dot (<code>.</code>).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({ foo<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({ bar<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>() }) });\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">number</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">reach</span>(schema, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>foo.bar<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span>or</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">result</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">reach</span>(schema, [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>foo<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>bar<span class=\"pl-pds\">'</span></span>]); <span class=\"pl-c\"><span class=\"pl-c\">//</span>same as number</span></pre></div>\n<h3>\n<a id=\"defaultsfn\" class=\"anchor\" href=\"#defaultsfn\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>defaults(fn)</code>\n</h3>\n<p>Creates a new Joi instance that will apply defaults onto newly created schemas through the use of the <code>fn</code> function that takes exactly one argument, the schema being created.</p>\n<p>The function must always return a schema, even if untransformed.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">defaultJoi</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">defaults</span>((<span class=\"pl-smi\">schema</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">switch</span> (<span class=\"pl-smi\">schema</span>.<span class=\"pl-smi\">schemaType</span>) {\n        <span class=\"pl-k\">case</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>string<span class=\"pl-pds\">'</span></span>:\n            <span class=\"pl-k\">return</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">allow</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span>);\n        <span class=\"pl-k\">case</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>object<span class=\"pl-pds\">'</span></span>:\n            <span class=\"pl-k\">return</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">1</span>);\n        <span class=\"pl-k\">default</span>:\n            <span class=\"pl-k\">return</span> schema;\n    }\n});\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">defaultJoi</span>.<span class=\"pl-c1\">object</span>(); <span class=\"pl-c\"><span class=\"pl-c\">//</span> Equivalent to a Joi.object().min(1)</span></pre></div>\n<h3>\n<a id=\"bind\" class=\"anchor\" href=\"#bind\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>bind()</code>\n</h3>\n<p>By default, some Joi methods to function properly need to rely on the Joi instance they are attached to because they use <code>this</code> internally. So <code>Joi.string()</code> works but if you extract the function from it and call <code>string()</code> it won't. <code>bind()</code> creates a new Joi instance where all the functions relying on <code>this</code> are bound to the Joi instance.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> { <span class=\"pl-c1\">object</span>, <span class=\"pl-c1\">string</span> } <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/joi<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">bind</span>();\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-en\">object</span>({\n  property<span class=\"pl-k\">:</span> <span class=\"pl-en\">string</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">4</span>)\n});</pre></div>\n<h3>\n<a id=\"extendextension\" class=\"anchor\" href=\"#extendextension\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>extend(extension)</code>\n</h3>\n<p>Creates a new Joi instance customized with the extension(s) you provide included.</p>\n<p>It is <strong>important</strong> to understand that original Joi library is not modified by this.</p>\n<h4>\n<a id=\"terms\" class=\"anchor\" href=\"#terms\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Terms</h4>\n<p>The extension makes use of some common structures that need to be described prior :</p>\n<ul>\n<li>\n<code>value</code> - the value being processed by Joi.</li>\n<li>\n<code>state</code> - an object containing the current context of validation.\n<ul>\n<li>\n<code>key</code> - the key of the current value.</li>\n<li>\n<code>path</code> - the full path of the current value.</li>\n<li>\n<code>parent</code> - the potential parent of the current value.</li>\n</ul>\n</li>\n<li>\n<code>options</code> - options object provided through <a href=\"#anyoptionsoptions\"><code>any().options()</code></a> or <a href=\"#validatevalue-schema-options-callback\"><code>Joi.validate()</code></a>.</li>\n</ul>\n<h4>\n<a id=\"extension\" class=\"anchor\" href=\"#extension\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Extension</h4>\n<p><code>extension</code> can be :</p>\n<ul>\n<li>a single extension object</li>\n<li>a factory function generating an extension object</li>\n<li>or an array of those</li>\n</ul>\n<p>Extension objects use the following parameters :</p>\n<ul>\n<li>\n<code>name</code> - name of the new type you are defining, this can be an existing type. <strong>Required</strong>.</li>\n<li>\n<code>base</code> - an existing Joi schema to base your type upon. Defaults to <code>Joi.any()</code>.</li>\n<li>\n<code>coerce</code> - an optional function that runs before the base, usually serves when you want to coerce values of a different type than your base. It takes 3 arguments <code>value</code>, <code>state</code> and <code>options</code>.</li>\n<li>\n<code>pre</code> - an optional function that runs first in the validation chain, usually serves when you need to cast values. It takes 3 arguments <code>value</code>, <code>state</code> and <code>options</code>.</li>\n<li>\n<code>language</code> - an optional object to add error definitions. Every key will be prefixed by the type name.</li>\n<li>\n<code>describe</code> - an optional function taking the fully formed description to post-process it.</li>\n<li>\n<code>rules</code> - an optional array of rules to add.\n<ul>\n<li>\n<code>name</code> - name of the new rule. <strong>Required</strong>.</li>\n<li>\n<code>params</code> - an optional object containing Joi schemas of each parameter ordered. You can also pass a single Joi schema as long as it is a <code>Joi.object()</code>, of course some methods such as <code>pattern</code> or <code>rename</code> won't be useful or won't work at all in this given context.</li>\n<li>\n<code>setup</code> - an optional function that takes an object with the provided parameters to allow for internals manipulation of the schema when a rule is set, you can optionally return a new Joi schema that will be taken as the new schema instance. At least one of <code>setup</code> or <code>validate</code> <strong>must</strong> be provided.</li>\n<li>\n<code>validate</code> - an optional function to validate values that takes 4 parameters <code>params</code>, <code>value</code>, <code>state</code> and <code>options</code>. At least one of <code>setup</code> or <code>validate</code> <strong>must</strong> be provided.</li>\n<li>\n<code>description</code> - an optional string or function taking the parameters as argument to describe what the rule is doing.</li>\n</ul>\n</li>\n</ul>\n<p>Factory functions are advised if you intend to publish your extensions for others to use, because they are capable of using an extended joi being built, thus avoiding any erasure when using multiple extensions at the same time. See an example of a factory function in the section below.</p>\n<p>The <code>params</code> of <code>rules</code> rely on the fact that all engines, even though not stated in the ECMA specifications, preserve the order of object keys, this is a conscious choice to simplify the API for the end-user. If you ever see an engine misbehaving or are uncomfortable relying on this, you can use a single option object to describe your parameters, like:</p>\n<div class=\"highlight highlight-source-js\"><pre>params<span class=\"pl-k\">:</span> { options<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({ param1<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>(), param2<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>() }) }</pre></div>\n<p>To resolve referenced <code>params</code> in you <code>validate</code> or <code>setup</code> functions, you can use the following approach:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-en\">validate</span>(<span class=\"pl-smi\">params</span>, <span class=\"pl-smi\">value</span>, <span class=\"pl-smi\">state</span>, <span class=\"pl-smi\">options</span>) {\n  <span class=\"pl-k\">let</span> {foo} <span class=\"pl-k\">=</span> params;\n  <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">isRef</span>(foo)) {\n    foo <span class=\"pl-k\">=</span> <span class=\"pl-en\">foo</span>(<span class=\"pl-smi\">state</span>.<span class=\"pl-smi\">reference</span> <span class=\"pl-k\">||</span> <span class=\"pl-smi\">state</span>.<span class=\"pl-c1\">parent</span>, options);\n  }\n  <span class=\"pl-c\"><span class=\"pl-c\">//</span>...</span>\n}</pre></div>\n<p>Any of the <code>coerce</code>, <code>pre</code> and <code>validate</code> functions should use <code>this.createError(type, context, state, options[, flags])</code> to create and return errors.\nThis function potentially takes 5 arguments:</p>\n<ul>\n<li>\n<code>type</code> - the dotted type of the error matching predefined language elements or the ones defined in your extension. <strong>Required</strong>.</li>\n<li>\n<code>context</code> - a free-form object that can contain anything you want to provide context on regarding the error. This object's properties are inserted in the error message where bracketted placeholders are. <strong>Required</strong>.</li>\n<li>\n<code>state</code> - state that the validation was in, which contains the current key, path, parent if any, or reference if any. Usually you just have to pass the state you were given. <strong>Required</strong>.</li>\n<li>\n<code>options</code> - options that were used for the validation. Usually you just have to pass the options you were given. <strong>Required</strong>.</li>\n<li>\n<code>flags</code> - optional flags that you want to be shown for the error. Defaults to the schema's current flags.</li>\n</ul>\n<h4>\n<a id=\"npm-note\" class=\"anchor\" href=\"#npm-note\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>npm note</h4>\n<p>If you publish your extension on npm, make sure to add <code>joi</code> and <code>extension</code> as keywords so that it's discoverable more easily.</p>\n<h4>\n<a id=\"examples\" class=\"anchor\" href=\"#examples\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Examples</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Joi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/joi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">customJoi</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">extend</span>((<span class=\"pl-smi\">joi</span>) <span class=\"pl-k\">=&gt;</span> ({\n    base<span class=\"pl-k\">:</span> <span class=\"pl-smi\">joi</span>.<span class=\"pl-en\">number</span>(),\n    name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>number<span class=\"pl-pds\">'</span></span>,\n    language<span class=\"pl-k\">:</span> {\n        round<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>needs to be a rounded number<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Used below as 'number.round'</span>\n        dividable<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>needs to be dividable by {{q}}<span class=\"pl-pds\">'</span></span>\n    },\n    <span class=\"pl-en\">pre</span>(<span class=\"pl-smi\">value</span>, <span class=\"pl-smi\">state</span>, <span class=\"pl-smi\">options</span>) {\n\n        <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">options</span>.<span class=\"pl-smi\">convert</span> <span class=\"pl-k\">&amp;&amp;</span> <span class=\"pl-c1\">this</span>.<span class=\"pl-smi\">_flags</span>.<span class=\"pl-smi\">round</span>) {\n            <span class=\"pl-k\">return</span> <span class=\"pl-c1\">Math</span>.<span class=\"pl-c1\">round</span>(value); <span class=\"pl-c\"><span class=\"pl-c\">//</span> Change the value</span>\n        }\n\n        <span class=\"pl-k\">return</span> value; <span class=\"pl-c\"><span class=\"pl-c\">//</span> Keep the value as it was</span>\n    },\n    rules<span class=\"pl-k\">:</span> [\n        {\n            name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>round<span class=\"pl-pds\">'</span></span>,\n            <span class=\"pl-en\">setup</span>(<span class=\"pl-smi\">params</span>) {\n\n                <span class=\"pl-c1\">this</span>.<span class=\"pl-smi\">_flags</span>.<span class=\"pl-smi\">round</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">true</span>; <span class=\"pl-c\"><span class=\"pl-c\">//</span> Set a flag for later use</span>\n            },\n            <span class=\"pl-en\">validate</span>(<span class=\"pl-smi\">params</span>, <span class=\"pl-smi\">value</span>, <span class=\"pl-smi\">state</span>, <span class=\"pl-smi\">options</span>) {\n\n                <span class=\"pl-k\">if</span> (value <span class=\"pl-k\">%</span> <span class=\"pl-c1\">1</span> <span class=\"pl-k\">!==</span> <span class=\"pl-c1\">0</span>) {\n                    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Generate an error, state and options need to be passed</span>\n                    <span class=\"pl-k\">return</span> <span class=\"pl-c1\">this</span>.<span class=\"pl-en\">createError</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>number.round<span class=\"pl-pds\">'</span></span>, { v<span class=\"pl-k\">:</span> value }, state, options);\n                }\n\n                <span class=\"pl-k\">return</span> value; <span class=\"pl-c\"><span class=\"pl-c\">//</span> Everything is OK</span>\n            }\n        },\n        {\n            name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>dividable<span class=\"pl-pds\">'</span></span>,\n            params<span class=\"pl-k\">:</span> {\n                q<span class=\"pl-k\">:</span> <span class=\"pl-smi\">joi</span>.<span class=\"pl-en\">alternatives</span>([<span class=\"pl-smi\">joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>(), <span class=\"pl-smi\">joi</span>.<span class=\"pl-en\">func</span>().<span class=\"pl-en\">ref</span>()])\n            },\n            <span class=\"pl-en\">validate</span>(<span class=\"pl-smi\">params</span>, <span class=\"pl-smi\">value</span>, <span class=\"pl-smi\">state</span>, <span class=\"pl-smi\">options</span>) {\n\n                <span class=\"pl-k\">if</span> (value <span class=\"pl-k\">%</span> <span class=\"pl-smi\">params</span>.<span class=\"pl-smi\">q</span> <span class=\"pl-k\">!==</span> <span class=\"pl-c1\">0</span>) {\n                    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Generate an error, state and options need to be passed, q is used in the language</span>\n                    <span class=\"pl-k\">return</span> <span class=\"pl-c1\">this</span>.<span class=\"pl-en\">createError</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>number.dividable<span class=\"pl-pds\">'</span></span>, { v<span class=\"pl-k\">:</span> value, q<span class=\"pl-k\">:</span> <span class=\"pl-smi\">params</span>.<span class=\"pl-smi\">q</span> }, state, options);\n                }\n\n                <span class=\"pl-k\">return</span> value; <span class=\"pl-c\"><span class=\"pl-c\">//</span> Everything is OK</span>\n            }\n        }\n    ]\n}));\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">customJoi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">round</span>().<span class=\"pl-en\">dividable</span>(<span class=\"pl-c1\">3</span>);</pre></div>\n<h3>\n<a id=\"any\" class=\"anchor\" href=\"#any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any</code>\n</h3>\n<p>Generates a schema object that matches any data type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">any</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>();\n<span class=\"pl-smi\">any</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { });</pre></div>\n<h4>\n<a id=\"schematype\" class=\"anchor\" href=\"#schematype\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>schemaType</code>\n</h4>\n<p>Gets the type of the schema.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>();\n\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-smi\">schemaType</span> <span class=\"pl-k\">===</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>string<span class=\"pl-pds\">'</span></span>;   <span class=\"pl-c\"><span class=\"pl-c\">//</span> === true</span></pre></div>\n<h4>\n<a id=\"anyvalidatevalue-options-callback\" class=\"anchor\" href=\"#anyvalidatevalue-options-callback\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.validate(value, [options], [callback])</code>\n</h4>\n<p>Validates a value using the schema and options where:</p>\n<ul>\n<li>\n<code>value</code> - the value being validated.</li>\n<li>\n<code>options</code> - an object with the same optional keys as <a href=\"#validatevalue-schema-options-callback\"><code>Joi.validate(value, schema, options, callback)</code></a>.</li>\n<li>\n<code>callback</code> - an optional synchronous callback method using the the same signature as <a href=\"#validatevalue-schema-options-callback\"><code>Joi.validate(value, schema, options, callback)</code></a>.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n});\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">value</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>123<span class=\"pl-pds\">'</span></span>\n};\n\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(value, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { });\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> err -&gt; null</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> value.a -&gt; 123 (number, not string)</span>\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> or</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">result</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(value);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> result.error -&gt; null</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> result.value -&gt; { \"a\" : 123 }</span>\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> or</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">promise</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(value);</pre></div>\n<h4>\n<a id=\"anyallowvalue\" class=\"anchor\" href=\"#anyallowvalue\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.allow(value)</code>\n</h4>\n<p>Whitelists a value where:</p>\n<ul>\n<li>\n<code>value</code> - the allowed value which can be of any type and will be matched against the validated value before applying any other rules.\n<code>value</code> can be an array of values, or multiple values can be passed as individual arguments. <code>value</code> supports <a href=\"#refkey-options\">references</a>.</li>\n</ul>\n<p>Note that this whitelist of allowed values is in <em>addition</em> to any other permitted values.\nTo create an exclusive whitelist of values, see <a href=\"#anyvalidvalue---aliases-only-equal\"><code>any.valid(value)</code></a>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">allow</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">allow</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>B<span class=\"pl-pds\">'</span></span>),\n    c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">allow</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>c<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>C<span class=\"pl-pds\">'</span></span>])\n};</pre></div>\n<h4>\n<a id=\"anyvalidvalue---aliases-only-equal\" class=\"anchor\" href=\"#anyvalidvalue---aliases-only-equal\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.valid(value)</code> - aliases: <code>only</code>, <code>equal</code>\n</h4>\n<p>Adds the provided values into the allowed whitelist and marks them as the only valid values allowed where:</p>\n<ul>\n<li>\n<code>value</code> - the allowed value which can be of any type and will be matched against the validated value before applying any other rules.\n<code>value</code> can be an array of values, or multiple values can be passed as individual arguments. <code>value</code> supports <a href=\"#refkey-options\">references</a>.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>B<span class=\"pl-pds\">'</span></span>),\n    c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">valid</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>c<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>C<span class=\"pl-pds\">'</span></span>])\n};</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#anyallowonly\"><code>any.allowOnly</code></a></p>\n<h4>\n<a id=\"anyinvalidvalue---aliases-disallow-not\" class=\"anchor\" href=\"#anyinvalidvalue---aliases-disallow-not\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.invalid(value)</code> - aliases: <code>disallow</code>, <code>not</code>\n</h4>\n<p>Blacklists a value where:</p>\n<ul>\n<li>\n<code>value</code> - the forbidden value which can be of any type and will be matched against the validated value before applying any other rules.\n<code>value</code> can be an array of values, or multiple values can be passed as individual arguments. <code>value</code> supports <a href=\"#refkey-options\">references</a>.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">invalid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">invalid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>B<span class=\"pl-pds\">'</span></span>),\n    c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">invalid</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>c<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>C<span class=\"pl-pds\">'</span></span>])\n};</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#anyinvalid\"><code>any.invalid</code></a></p>\n<h4>\n<a id=\"anyrequired---aliases-exist\" class=\"anchor\" href=\"#anyrequired---aliases-exist\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.required()</code> - aliases: <code>exist</code>\n</h4>\n<p>Marks a key as required which will not allow <code>undefined</code> as value. All keys are optional by default.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">required</span>();</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#anyrequired\"><code>any.required</code></a></p>\n<h4>\n<a id=\"anyoptional\" class=\"anchor\" href=\"#anyoptional\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.optional()</code>\n</h4>\n<p>Marks a key as optional which will allow <code>undefined</code> as values. Used to annotate the schema for readability as all keys are optional by default.</p>\n<p>Note: this does not allow a <code>null</code> value. To do that, use <a href=\"#anyallowvalue\"><code>any.allow(value)</code></a>. Or both!</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">optional</span>();</pre></div>\n<h4>\n<a id=\"anyforbidden\" class=\"anchor\" href=\"#anyforbidden\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.forbidden()</code>\n</h4>\n<p>Marks a key as forbidden which will not allow any value except <code>undefined</code>. Used to explicitly forbid keys.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">forbidden</span>()\n};</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#anyunknown\"><code>any.unknown</code></a></p>\n<h4>\n<a id=\"anystrip\" class=\"anchor\" href=\"#anystrip\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.strip()</code>\n</h4>\n<p>Marks a key to be removed from a resulting object or array after validation. Used to sanitize output.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    username<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n    password<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">strip</span>()\n});\n\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>({ username<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>, password<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>hunter2<span class=\"pl-pds\">'</span></span> }, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> {\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> value = { username: 'test' }</span>\n});\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">strip</span>());\n\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>one<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>two<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">true</span>, <span class=\"pl-c1\">false</span>, <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>], (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> {\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> value = ['one', 'two']</span>\n});</pre></div>\n<h4>\n<a id=\"anydescriptiondesc\" class=\"anchor\" href=\"#anydescriptiondesc\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.description(desc)</code>\n</h4>\n<p>Annotates the key where:</p>\n<ul>\n<li>\n<code>desc</code> - the description string.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-c1\">description</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>this key will match anything you give it<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"anynotesnotes\" class=\"anchor\" href=\"#anynotesnotes\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.notes(notes)</code>\n</h4>\n<p>Annotates the key where:</p>\n<ul>\n<li>\n<code>notes</code> - the notes string or array of strings.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">notes</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>this is special<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>this is important<span class=\"pl-pds\">'</span></span>]);</pre></div>\n<h4>\n<a id=\"anytagstags\" class=\"anchor\" href=\"#anytagstags\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.tags(tags)</code>\n</h4>\n<p>Annotates the key where:</p>\n<ul>\n<li>\n<code>tags</code> - the tag string or array of strings.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-c1\">tags</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>api<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>user<span class=\"pl-pds\">'</span></span>]);</pre></div>\n<h4>\n<a id=\"anymetameta\" class=\"anchor\" href=\"#anymetameta\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.meta(meta)</code>\n</h4>\n<p>Attaches metadata to the key where:</p>\n<ul>\n<li>\n<code>meta</code> - the meta object to attach.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">meta</span>({ index<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });</pre></div>\n<h4>\n<a id=\"anyexamplevalues\" class=\"anchor\" href=\"#anyexamplevalues\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.example(...values)</code>\n</h4>\n<p>Adds examples to the schema where:</p>\n<ul>\n<li>\n<code>values</code> - each argument is either an example value, or an array of the shape <code>[value, options]</code>:\n<ul>\n<li>\n<code>value</code> - single value example.</li>\n<li>\n<code>options</code> - optional object argument to pass options to the validation:\n<ul>\n<li>\n<code>parent</code> - parent value in case you used normal references in your schema.</li>\n<li>\n<code>context</code> - context of the validation in case you used context references in your schema.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>If any of the examples fail to pass validation, the function will throw.</p>\n<p>Calling this function again will override the previous examples.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> Valid examples</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">4</span>).<span class=\"pl-en\">example</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>abcd<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">refSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>sibling<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">example</span>([<span class=\"pl-c1\">42</span>, { parent<span class=\"pl-k\">:</span> { sibling<span class=\"pl-k\">:</span> <span class=\"pl-c1\">10</span> } }]);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">contextSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>$threshold<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">example</span>([<span class=\"pl-c1\">42</span>, { context<span class=\"pl-k\">:</span> { $threshold<span class=\"pl-k\">:</span> <span class=\"pl-c1\">10</span> } }]);\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Invalid examples</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">invalidSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">4</span>).<span class=\"pl-en\">example</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>abc<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">invalidRefSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>sibling<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">example</span>([<span class=\"pl-c1\">42</span>, { parent<span class=\"pl-k\">:</span> { sibling<span class=\"pl-k\">:</span> <span class=\"pl-c1\">50</span> } }]);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">invalidContextSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>$threshold<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">example</span>([<span class=\"pl-c1\">42</span>, { context<span class=\"pl-k\">:</span> { $threshold<span class=\"pl-k\">:</span> <span class=\"pl-c1\">50</span> } }]);\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Multiple examples</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">after</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>before<span class=\"pl-pds\">'</span></span>))\n                    .<span class=\"pl-en\">example</span>(\n                        [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>2016-01-01<span class=\"pl-pds\">'</span></span>, { parent<span class=\"pl-k\">:</span> { before<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>2015-01-01<span class=\"pl-pds\">'</span></span> } }],\n                        [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>2016-01-01<span class=\"pl-pds\">'</span></span>, { parent<span class=\"pl-k\">:</span> { before<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>2015-12-31<span class=\"pl-pds\">'</span></span> } }]\n                    )</pre></div>\n<h4>\n<a id=\"anyunitname\" class=\"anchor\" href=\"#anyunitname\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.unit(name)</code>\n</h4>\n<p>Annotates the key where:</p>\n<ul>\n<li>\n<code>name</code> - the unit name of the value.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">unit</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>milliseconds<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"anyoptionsoptions\" class=\"anchor\" href=\"#anyoptionsoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.options(options)</code>\n</h4>\n<p>Overrides the global <code>validate()</code> options for the current key and any sub-key where:</p>\n<ul>\n<li>\n<code>options</code> - an object with the same optional keys as <a href=\"#validatevalue-schema-options-callback\"><code>Joi.validate(value, schema, options, callback)</code></a>.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-c1\">options</span>({ convert<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> });</pre></div>\n<h4>\n<a id=\"anystrictisstrict\" class=\"anchor\" href=\"#anystrictisstrict\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.strict(isStrict)</code>\n</h4>\n<p>Strict mode sets the <code>options.convert</code> options to <code>false</code> which prevent type casting for the current key and any child keys.</p>\n<ul>\n<li>\n<code>isStrict</code> - whether strict mode is enabled or not. Defaults to true.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">strict</span>();</pre></div>\n<h4>\n<a id=\"anydefaultvalue-description\" class=\"anchor\" href=\"#anydefaultvalue-description\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.default([value, [description]])</code>\n</h4>\n<p>Sets a default value if the original value is undefined where:</p>\n<ul>\n<li>\n<code>value</code> - the value.\n<ul>\n<li>\n<code>value</code> supports <a href=\"#refkey-options\">references</a>.</li>\n<li>\n<code>value</code> may also be a function which returns the default value. If <code>value</code> is specified as a function that accepts a single parameter, that parameter will be a context object that can be used to derive the resulting value.\n<ul>\n<li>Use a function when setting a dynamic value, such as the current time. Ex: <code>default(Date.now, 'time of creation')</code>\n</li>\n<li>\n<strong>Caution: this clones the object</strong>, which incurs some overhead so if you don't need access to the context define your method so that it does not accept any parameters.</li>\n</ul>\n</li>\n<li>without any <code>value</code>, <code>default</code> has no effect, except for <code>object</code> that will then create nested defaults (applying inner defaults of that object).</li>\n</ul>\n</li>\n</ul>\n<p>Note that if <code>value</code> is an object, any changes to the object after <code>default()</code> is called will change the reference\nand any future assignment.</p>\n<p>Additionally, when specifying a method you must either have a <code>description</code> property on your method or the second parameter is required.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">generateUsername</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">context</span>) <span class=\"pl-k\">=&gt;</span> {\n\n  <span class=\"pl-k\">return</span> <span class=\"pl-smi\">context</span>.<span class=\"pl-smi\">firstname</span>.<span class=\"pl-c1\">toLowerCase</span>() <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>-<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">context</span>.<span class=\"pl-smi\">lastname</span>.<span class=\"pl-c1\">toLowerCase</span>();\n};\n<span class=\"pl-smi\">generateUsername</span>.<span class=\"pl-c1\">description</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>generated username<span class=\"pl-pds\">'</span></span>;\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    username<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">default</span>(generateUsername),\n    firstname<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n    lastname<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n    created<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">default</span>(<span class=\"pl-c1\">Date</span>.<span class=\"pl-smi\">now</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>time of creation<span class=\"pl-pds\">'</span></span>),\n    status<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">default</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>registered<span class=\"pl-pds\">'</span></span>)\n};\n\n<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">validate</span>({\n    firstname<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Jane<span class=\"pl-pds\">'</span></span>,\n    lastname<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Doe<span class=\"pl-pds\">'</span></span>\n}, schema, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> value.status === 'registered'</span>\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> value.username === 'jane-doe'</span>\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> value.created will be the time of validation</span>\n});</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#anydefault\"><code>any.default</code></a></p>\n<h4>\n<a id=\"anyconcatschema\" class=\"anchor\" href=\"#anyconcatschema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.concat(schema)</code>\n</h4>\n<p>Returns a new type that is the result of adding the rules of one type to another where:</p>\n<ul>\n<li>\n<code>schema</code> - a <strong>joi</strong> type to merge into the current schema. Can only be of the same type as the context type or <code>any</code>. If applied to an <code>any</code> type, the schema can be any other schema.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">a</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">b</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">ab</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">a</span>.<span class=\"pl-c1\">concat</span>(b);</pre></div>\n<h4>\n<a id=\"anywhencondition-options\" class=\"anchor\" href=\"#anywhencondition-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.when(condition, options)</code>\n</h4>\n<p>Converts the type into an <a href=\"#alternatives---inherits-from-any\"><code>alternatives</code></a> type where the conditions are merged into the type definition where:</p>\n<ul>\n<li>\n<code>condition</code> - the key name or <a href=\"#refkey-options\">reference</a>, or a schema.</li>\n<li>\n<code>options</code> - an object with:\n<ul>\n<li>\n<code>is</code> - the required condition <strong>joi</strong> type. Anything that is not a joi schema will be converted using <a href=\"#compileschema\">Joi.compile</a>. Forbidden when <code>condition</code> is a schema.</li>\n<li>\n<code>then</code> - the alternative schema type if the condition is true. Required if <code>otherwise</code> is missing.</li>\n<li>\n<code>otherwise</code> - the alternative schema type if the condition is false. Required if <code>then</code> is missing.</li>\n</ul>\n</li>\n</ul>\n<p>Note: by default, the <code>is</code> condition schema allows for <code>undefined</code> values. Use <code>.required()</code> to override.\nFor example, use <code>is: Joi.number().required()</code> to guarantee that a joi reference exists and is a number.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>x<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, { is<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">exist</span>(), then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>y<span class=\"pl-pds\">'</span></span>), otherwise<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>z<span class=\"pl-pds\">'</span></span>) }),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n};</pre></div>\n<p>Or with a schema:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>x<span class=\"pl-pds\">'</span></span>),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}).<span class=\"pl-en\">when</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({ b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">exist</span>() }).<span class=\"pl-en\">unknown</span>(), {\n    then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n        a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>y<span class=\"pl-pds\">'</span></span>)\n    }),\n    otherwise<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n        a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>z<span class=\"pl-pds\">'</span></span>)\n    })\n});</pre></div>\n<p>Note that this style is much more useful when your whole schema depends on the value of one of its property, or if you find yourself repeating the check for many keys of an object. For example to validate this logic:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    capacity<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n        .<span class=\"pl-en\">valid</span>([<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>A<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>B<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>C<span class=\"pl-pds\">\"</span></span>])\n        .<span class=\"pl-en\">required</span>(),\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> required if capacity == \"A\"</span>\n    foo<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>capacity<span class=\"pl-pds\">\"</span></span>, {\n        is<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>A<span class=\"pl-pds\">\"</span></span>,\n        then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n        .<span class=\"pl-en\">valid</span>([<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>X<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Y<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Z<span class=\"pl-pds\">\"</span></span>])\n        .<span class=\"pl-en\">required</span>()\n    }),\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> required if capacity === \"A\" and foo !== \"Z\"</span>\n    bar<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n}).<span class=\"pl-en\">when</span>(\n    <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n        capacity<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">only</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>A<span class=\"pl-pds\">\"</span></span>).<span class=\"pl-en\">required</span>(),\n        foo<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">not</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Z<span class=\"pl-pds\">\"</span></span>)\n    }).<span class=\"pl-en\">unknown</span>(),\n    {\n        then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n            bar<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">required</span>()\n        })\n    }\n);</pre></div>\n<p>Alternatively, if you want to specify a specific type such as <code>string</code>, <code>array</code>, etc, you can do so like this:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>other<span class=\"pl-pds\">'</span></span>),\n    other<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n        .<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, { is<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>other<span class=\"pl-pds\">'</span></span>, then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">required</span>() }),\n};</pre></div>\n<p>If you need to validate a child key inside a nested object based on a sibling's value, you can do so like this:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">required</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>()\n        .<span class=\"pl-c1\">keys</span>({\n            c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n            d<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>()\n        })\n        .<span class=\"pl-en\">required</span>()\n        .<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, {\n            is<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>,\n            then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({ c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">required</span>() })\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> b.c is required only when a is true</span>\n        })\n});</pre></div>\n<p>If you want to validate one key based on the existence of another key, you can do so like the following (notice the use of <code>required()</code>):</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    min<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>(),\n    max<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>min<span class=\"pl-pds\">'</span></span>, {\n        is<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>(),\n        then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">greater</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>min<span class=\"pl-pds\">'</span></span>)),\n    }),\n});</pre></div>\n<h4>\n<a id=\"anylabelname\" class=\"anchor\" href=\"#anylabelname\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.label(name)</code>\n</h4>\n<p>Overrides the key name in error messages.</p>\n<ul>\n<li>\n<code>name</code> - the name of the key.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    first_name<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">label</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>First Name<span class=\"pl-pds\">'</span></span>)\n};</pre></div>\n<h4>\n<a id=\"anyrawisraw\" class=\"anchor\" href=\"#anyrawisraw\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.raw(isRaw)</code>\n</h4>\n<p>Outputs the original untouched value instead of the casted value.</p>\n<ul>\n<li>\n<code>isRaw</code> - whether to enable raw mode or not. Defaults to true.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">timestampSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">timestamp</span>();\n<span class=\"pl-smi\">timestampSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>12376834097810<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> { error: null, value: Sat Mar 17 2362 04:28:17 GMT-0500 (CDT) }</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">rawTimestampSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">timestamp</span>().<span class=\"pl-en\">raw</span>();\n<span class=\"pl-smi\">rawTimestampSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>12376834097810<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> { error: null, value: '12376834097810' }</span></pre></div>\n<h4>\n<a id=\"anyemptyschema\" class=\"anchor\" href=\"#anyemptyschema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.empty(schema)</code>\n</h4>\n<p>Considers anything that matches the schema to be empty (<code>undefined</code>).</p>\n<ul>\n<li>\n<code>schema</code> - any object or joi schema to match. An undefined schema unsets that rule.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">let</span> schema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">empty</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns { error: null, value: undefined }</span>\nschema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">empty</span>();\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns { error: \"value\" is not allowed to be empty, value: '' }</span></pre></div>\n<h4>\n<a id=\"anyerrorerr-options\" class=\"anchor\" href=\"#anyerrorerr-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.error(err, [options])</code>\n</h4>\n<p>Overrides the default joi error with a custom error if the rule fails where:</p>\n<ul>\n<li>\n<code>err</code> can be:\n<ul>\n<li>an instance of <code>Error</code> - the override error.</li>\n<li>a <code>function(errors)</code>, taking an array of errors as argument, where it must either:\n<ul>\n<li>return a <code>string</code> - substitutes the error message with this text</li>\n<li>return a single <code>object</code> or an <code>Array</code> of it, where:\n<ul>\n<li>\n<code>type</code> - optional parameter providing the type of the error (eg. <code>number.min</code>).</li>\n<li>\n<code>message</code> - optional parameter if <code>template</code> is provided, containing the text of the error.</li>\n<li>\n<code>template</code> - optional parameter if <code>message</code> is provided, containing a template string, using the same format as usual joi language errors.</li>\n<li>\n<code>context</code> - optional parameter, to provide context to your error if you are using the <code>template</code>.</li>\n</ul>\n</li>\n<li>return an <code>Error</code> - same as when you directly provide an <code>Error</code>, but you can customize the error message based on the errors.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>options</code>:\n<ul>\n<li>\n<code>self</code> - Boolean value indicating whether the error handler should be used for all errors or only for errors occurring on this property (<code>true</code> value). This concept only makes sense for <code>array</code> or <code>object</code> schemas as other values don't have children. Defaults to <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n<p>Note that if you provide an <code>Error</code>, it will be returned as-is, unmodified and undecorated with any of the\nnormal joi error properties. If validation fails and another error is found before the error\noverride, that error will be returned and the override will be ignored (unless the <code>abortEarly</code>\noption has been set to <code>false</code>).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">let</span> schema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">error</span>(<span class=\"pl-k\">new</span> <span class=\"pl-en\">Error</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Was REALLY expecting a string<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-c1\">3</span>);     <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns error.message === 'Was REALLY expecting a string'</span>\n\n<span class=\"pl-k\">let</span> schema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    foo<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">0</span>).<span class=\"pl-en\">error</span>(() <span class=\"pl-k\">=&gt;</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>\"foo\" requires a positive number<span class=\"pl-pds\">'</span></span>)\n});\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>({ foo<span class=\"pl-k\">:</span> <span class=\"pl-k\">-</span><span class=\"pl-c1\">2</span> });    <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns error.message === 'child \"foo\" fails because [\"foo\" requires a positive number]'</span>\n\n<span class=\"pl-k\">let</span> schema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    foo<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">0</span>).<span class=\"pl-en\">error</span>(() <span class=\"pl-k\">=&gt;</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>\"foo\" requires a positive number<span class=\"pl-pds\">'</span></span>)\n}).<span class=\"pl-en\">required</span>().<span class=\"pl-en\">error</span>(() <span class=\"pl-k\">=&gt;</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>root object is required<span class=\"pl-pds\">'</span></span>, { self<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>();               <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns error.message === 'root object is required'</span>\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>({ foo<span class=\"pl-k\">:</span> <span class=\"pl-k\">-</span><span class=\"pl-c1\">2</span> });    <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns error.message === 'child \"foo\" fails because [\"foo\" requires a positive number]'</span>\n\n<span class=\"pl-k\">let</span> schema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    foo<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">0</span>).<span class=\"pl-en\">error</span>((<span class=\"pl-smi\">errors</span>) <span class=\"pl-k\">=&gt;</span> {\n\n        <span class=\"pl-k\">return</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>found errors with <span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">errors</span>.<span class=\"pl-en\">map</span>((<span class=\"pl-smi\">err</span>) <span class=\"pl-k\">=&gt;</span> <span class=\"pl-s\"><span class=\"pl-pds\">`</span><span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-smi\">err</span>.<span class=\"pl-c1\">type</span><span class=\"pl-pse\">}</span></span>(<span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-smi\">err</span>.<span class=\"pl-smi\">context</span>.<span class=\"pl-smi\">limit</span><span class=\"pl-pse\">}</span></span>) with value <span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-smi\">err</span>.<span class=\"pl-smi\">context</span>.<span class=\"pl-c1\">value</span><span class=\"pl-pse\">}</span></span><span class=\"pl-pds\">`</span></span>).<span class=\"pl-c1\">join</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span> and <span class=\"pl-pds\">'</span></span>);\n    })\n});\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>({ foo<span class=\"pl-k\">:</span> <span class=\"pl-k\">-</span><span class=\"pl-c1\">2</span> });    <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns error.message === 'child \"foo\" fails because [found errors with number.min(0) with value -2]'</span>\n\n<span class=\"pl-k\">let</span> schema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    foo<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">0</span>).<span class=\"pl-en\">error</span>((<span class=\"pl-smi\">errors</span>) <span class=\"pl-k\">=&gt;</span> {\n\n        <span class=\"pl-k\">return</span> {\n            template<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>contains {{errors}} errors, here is the list : {{codes}}<span class=\"pl-pds\">'</span></span>,\n            context<span class=\"pl-k\">:</span> {\n                errors<span class=\"pl-k\">:</span> <span class=\"pl-smi\">errors</span>.<span class=\"pl-c1\">length</span>,\n                codes<span class=\"pl-k\">:</span> <span class=\"pl-smi\">errors</span>.<span class=\"pl-en\">map</span>((<span class=\"pl-smi\">err</span>) <span class=\"pl-k\">=&gt;</span> <span class=\"pl-smi\">err</span>.<span class=\"pl-c1\">type</span>)\n            }\n        };\n    })\n});\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>({ foo<span class=\"pl-k\">:</span> <span class=\"pl-k\">-</span><span class=\"pl-c1\">2</span> });    <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns error.message === 'child \"foo\" fails because [\"foo\" contains 1 errors, here is the list : [number.min]]'</span></pre></div>\n<p>Note that if you want to intercept errors on nested structures such as objects and arrays, you will also get a nested structure to explore the children errors, going one level down through the <code>err.context.reason</code> property.</p>\n<p>If you want a full substitution of the error system, you can hook at the root and render that <code>errors</code> array with whatever templating system you want, just be aware that you will have to crawl the nested errors for the information you want to actually show.</p>\n<h4>\n<a id=\"anydescribe\" class=\"anchor\" href=\"#anydescribe\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.describe()</code>\n</h4>\n<p>Behaves the same as <a href=\"#describeschema\"><code>describe(schema)</code></a> and returns an object that represents the internal configuration of the <strong>joi</strong> schema.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>().<span class=\"pl-en\">valid</span>([ <span class=\"pl-s\"><span class=\"pl-pds\">'</span>foo<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>bar<span class=\"pl-pds\">'</span></span> ]);\n\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">describe</span>());</pre></div>\n<p>Results in:</p>\n<pre><code>{ type: 'any',\n  flags: { allowOnly: true },\n  valids: [ 'foo', 'bar' ] }\n</code></pre>\n<h3>\n<a id=\"array---inherits-from-any\" class=\"anchor\" href=\"#array---inherits-from-any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array</code> - inherits from <code>Any</code>\n</h3>\n<p>Generates a schema object that matches an array data type. Note that undefined values inside arrays are not allowed by\ndefault but can be by using <code>sparse()</code>. If the validation <code>convert</code> option is on (enabled by default), a string will be\nconverted to an <code>array</code> if specified via <code>JSON.parse()</code>. Also, if <code>convert</code> <code>array.single()</code> are both on, then when a\nsingle value is specified it will be converted to an <code>array</code>.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">array</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-smi\">array</span>.<span class=\"pl-en\">validate</span>([<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>], (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { });</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#arraybase\"><code>array.base</code></a></p>\n<h4>\n<a id=\"arraysparseenabled\" class=\"anchor\" href=\"#arraysparseenabled\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.sparse([enabled])</code>\n</h4>\n<p>Allows this array to be sparse. <code>enabled</code> can be used with a falsy value to go back to the default behavior.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">let</span> schema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">sparse</span>(); <span class=\"pl-c\"><span class=\"pl-c\">//</span> undefined values are now allowed</span>\nschema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">sparse</span>(<span class=\"pl-c1\">false</span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> undefined values are now denied</span></pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#arraysparse\"><code>array.sparse</code></a></p>\n<h4>\n<a id=\"arraysingleenabled\" class=\"anchor\" href=\"#arraysingleenabled\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.single([enabled])</code>\n</h4>\n<p>Allows single values to be checked against rules as if it were provided as an array.</p>\n<p><code>enabled</code> can be used with a falsy value to go back to the default behavior.</p>\n<p>Note: <code>convert</code> option must be enabled.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()).<span class=\"pl-en\">single</span>();\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>([<span class=\"pl-c1\">4</span>]); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns `{ error: null, value: [ 4 ] }`</span>\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-c1\">4</span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> returns `{ error: null, value: [ 4 ] }`</span></pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#arrayexcludessingle\"><code>array.excludesSingle</code></a>, <a href=\"#arrayincludessingle\"><code>array.includesSingle</code></a></p>\n<h4>\n<a id=\"arrayitemstype\" class=\"anchor\" href=\"#arrayitemstype\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.items(type)</code>\n</h4>\n<p>Lists the types allowed for the array values where:</p>\n<ul>\n<li>\n<code>type</code> - a <strong>joi</strong> schema object to validate each array item against. <code>type</code> can be an array of values, or multiple values can be passed as individual arguments.</li>\n</ul>\n<p>If a given type is <code>.required()</code> then there must be a matching item in the array.\nIf a type is <code>.forbidden()</code> then it cannot appear in the array.\nRequired items can be added multiple times to signify that multiple items must be found.\nErrors will contain the number of items that didn't match. Any unmatched item having a <a href=\"#anylabelname\">label</a> will be mentioned explicitly.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> array may contain strings and numbers</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> array must contain at least two strings</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>not allowed<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">forbidden</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> array may contain strings, but none of those strings can match 'not allowed'</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">label</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>My string<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">required</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> If this fails it can result in `[ValidationError: \"value\" does not contain [My string] and 1 other required value(s)]`</span></pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#arrayexcludes\"><code>array.excludes</code></a>, [<code>array.includesRequiredBoth</code>], [<code>array.includesRequiredKnowns</code>], [<code>array.includesRequiredUnknowns</code>], <a href=\"#arrayincludes\"><code>array.includes</code></a></p>\n<h4>\n<a id=\"arrayorderedtype\" class=\"anchor\" href=\"#arrayorderedtype\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.ordered(type)</code>\n</h4>\n<p>Lists the types in sequence order for the array values where:</p>\n<ul>\n<li>\n<code>type</code> - a <strong>joi</strong> schema object to validate against each array item in sequence order. <code>type</code> can be an array of values, or multiple values can be passed as individual arguments.</li>\n</ul>\n<p>If a given type is <code>.required()</code> then there must be a matching item with the same index position in the array.\nErrors will contain the number of items that didn't match. Any unmatched item having a <a href=\"#anylabelname\">label</a> will be mentioned explicitly.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">ordered</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> array must have first item as string and second item as number</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">ordered</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>()).<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> array must have first item as string and 1 or more subsequent items as number</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">ordered</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()); <span class=\"pl-c\"><span class=\"pl-c\">//</span> array must have first item as string and optionally second item as number</span></pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#arrayexcludessingle\"><code>array.excludesSingle</code></a>, <a href=\"#arrayincludessingle\"><code>array.includesSingle</code></a>, <a href=\"#arrayorderedlength\"><code>array.orderedLength</code></a></p>\n<h4>\n<a id=\"arrayminlimit\" class=\"anchor\" href=\"#arrayminlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.min(limit)</code>\n</h4>\n<p>Specifies the minimum number of items in the array where:</p>\n<ul>\n<li>\n<code>limit</code> - the lowest number of array items allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">2</span>);</pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  limit<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">integer</span>().<span class=\"pl-en\">required</span>(),\n  numbers<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>limit<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#arraymin\"><code>array.min</code></a>, <a href=\"#arrayref\"><code>array.ref</code></a></p>\n<h4>\n<a id=\"arraymaxlimit\" class=\"anchor\" href=\"#arraymaxlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.max(limit)</code>\n</h4>\n<p>Specifies the maximum number of items in the array where:</p>\n<ul>\n<li>\n<code>limit</code> - the highest number of array items allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">10</span>);</pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  limit<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">integer</span>().<span class=\"pl-en\">required</span>(),\n  numbers<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>limit<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#arraymax\"><code>array.max</code></a>, <a href=\"#arrayref\"><code>array.ref</code></a></p>\n<h4>\n<a id=\"arraylengthlimit\" class=\"anchor\" href=\"#arraylengthlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.length(limit)</code>\n</h4>\n<p>Specifies the exact number of items in the array where:</p>\n<ul>\n<li>\n<code>limit</code> - the number of array items allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-c1\">length</span>(<span class=\"pl-c1\">5</span>);</pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  limit<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">integer</span>().<span class=\"pl-en\">required</span>(),\n  numbers<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-c1\">length</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>limit<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#arraylength\"><code>array.length</code></a>, <a href=\"#arrayref\"><code>array.ref</code></a></p>\n<h4>\n<a id=\"arrayuniquecomparator-options\" class=\"anchor\" href=\"#arrayuniquecomparator-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.unique([comparator], [options])</code>\n</h4>\n<p>Requires the array values to be unique.</p>\n<p>You can provide a custom <code>comparator</code> that is either :</p>\n<ul>\n<li>a function that takes 2 parameters to compare. This function should return whether the 2 parameters are equal or not, you are also <strong>responsible</strong> for this function not to fail, any <code>Error</code> would bubble out of Joi.</li>\n<li>a string in dot notation representing the path of the element to do uniqueness check on. Any missing path will be considered undefined, and can as well only exist once.\nYou can also provide an <code>options</code> object containing:</li>\n<li>\n<code>ignoreUndefined</code>. When set to <code>true</code>, undefined values for the dot notation string comparator will not cause the array to fail on uniqueness.</li>\n</ul>\n<p>Note: remember that if you provide a custom comparator function, different types can be passed as parameter depending on the rules you set on items.</p>\n<p>Be aware that a deep equality is performed on elements of the array having a type of <code>object</code>, a performance penalty is to be expected for this kind of operation.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">unique</span>();</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">unique</span>((<span class=\"pl-smi\">a</span>, <span class=\"pl-smi\">b</span>) <span class=\"pl-k\">=&gt;</span> <span class=\"pl-smi\">a</span>.<span class=\"pl-smi\">property</span> <span class=\"pl-k\">===</span> <span class=\"pl-smi\">b</span>.<span class=\"pl-smi\">property</span>);</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">unique</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>customer.id<span class=\"pl-pds\">'</span></span>);</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">let</span> schema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">unique</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>identifier<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>([{}, {}]);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: \"value\" position 1 contains a duplicate value</span>\n\nschema <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">unique</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>identifier<span class=\"pl-pds\">'</span></span>, { ignoreUndefined<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });\n\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>([{}, {}]);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> error: null</span></pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#arrayunique\"><code>array.unique</code></a></p>\n<h4>\n<a id=\"arrayhasschema\" class=\"anchor\" href=\"#arrayhasschema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.has(schema)</code>\n</h4>\n<p>Verifies that a schema validates at least one of the values in the array, where:</p>\n<ul>\n<li>\n<code>schema</code> - the validation rules required to satisfy the check. If the <code>schema</code> includes references, they are resolved against\nthe array item being tested, not the value of the <code>ref</code> target.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(\n  <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n  })\n).<span class=\"pl-c1\">has</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>), b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>() }))</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#arrayhasknown\"><code>array.hasKnown</code></a>, <a href=\"#arrayhasunknown\"><code>array.hasUnknown</code></a></p>\n<h3>\n<a id=\"boolean---inherits-from-any\" class=\"anchor\" href=\"#boolean---inherits-from-any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>boolean</code> - inherits from <code>Any</code>\n</h3>\n<p>Generates a schema object that matches a boolean data type. Can also be called via <code>bool()</code>. If the validation <code>convert</code>\noption is on (enabled by default), a string (either \"true\" or \"false\") will be converted to a <code>boolean</code> if specified.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">boolean</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>();\n<span class=\"pl-smi\">boolean</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-c1\">true</span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { }); <span class=\"pl-c\"><span class=\"pl-c\">//</span> Valid</span>\n\n<span class=\"pl-smi\">boolean</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-c1\">1</span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { }); <span class=\"pl-c\"><span class=\"pl-c\">//</span> Invalid</span></pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#booleanbase\"><code>boolean.base</code></a></p>\n<h4>\n<a id=\"booleantruthyvalue\" class=\"anchor\" href=\"#booleantruthyvalue\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>boolean.truthy(value)</code>\n</h4>\n<p>Allows for additional values to be considered valid booleans by converting them to <code>true</code> during validation. Accepts a value or an array of values.</p>\n<p>String comparisons are by default case insensitive, see <a href=\"#booleaninsensitiveenabled\"><code>boolean.insensitive()</code></a> to change this behavior.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">boolean</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">truthy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Y<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">boolean</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Y<span class=\"pl-pds\">'</span></span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { }); <span class=\"pl-c\"><span class=\"pl-c\">//</span> Valid</span></pre></div>\n<h4>\n<a id=\"booleanfalsyvalue\" class=\"anchor\" href=\"#booleanfalsyvalue\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>boolean.falsy(value)</code>\n</h4>\n<p>Allows for additional values to be considered valid booleans by converting them to <code>false</code> during validation. Accepts a value or an array of values.</p>\n<p>String comparisons are by default case insensitive, see <a href=\"#booleaninsensitiveenabled\"><code>boolean.insensitive()</code></a> to change this behavior.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">boolean</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">falsy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>N<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">boolean</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>N<span class=\"pl-pds\">'</span></span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { }); <span class=\"pl-c\"><span class=\"pl-c\">//</span> Valid</span></pre></div>\n<h4>\n<a id=\"booleaninsensitiveenabled\" class=\"anchor\" href=\"#booleaninsensitiveenabled\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>boolean.insensitive([enabled])</code>\n</h4>\n<p>Allows the values provided to <code>truthy</code> and <code>falsy</code> as well as the <code>\"true\"</code> and <code>\"false\"</code> default conversion (when not in <code>strict()</code> mode) to be matched in a case insensitive manner.</p>\n<p>Parameters are:</p>\n<ul>\n<li>\n<code>enabled</code> - optional parameter defaulting to <code>true</code> which allows you to reset the behavior of <code>insensitive</code> by providing a falsy value.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>().<span class=\"pl-en\">truthy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>yes<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">falsy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>no<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">insensitive</span>(<span class=\"pl-c1\">false</span>);</pre></div>\n<h3>\n<a id=\"binary---inherits-from-any\" class=\"anchor\" href=\"#binary---inherits-from-any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>binary</code> - inherits from <code>Any</code>\n</h3>\n<p>Generates a schema object that matches a Buffer data type. If the validation <code>convert</code> option is on (enabled by default), a string\nwill be converted to a Buffer if specified.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">binary</span>();</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#binarybase\"><code>binary.base</code></a></p>\n<h4>\n<a id=\"binaryencodingencoding\" class=\"anchor\" href=\"#binaryencodingencoding\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>binary.encoding(encoding)</code>\n</h4>\n<p>Sets the string encoding format if a string input is converted to a buffer where:</p>\n<ul>\n<li>\n<code>encoding</code> - the encoding scheme.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">binary</span>().<span class=\"pl-c1\">encoding</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>base64<span class=\"pl-pds\">'</span></span>);</pre></div>\n<h4>\n<a id=\"binaryminlimit\" class=\"anchor\" href=\"#binaryminlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>binary.min(limit)</code>\n</h4>\n<p>Specifies the minimum length of the buffer where:</p>\n<ul>\n<li>\n<code>limit</code> - the lowest size of the buffer.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">binary</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">2</span>);</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#binarymin\"><code>binary.min</code></a></p>\n<h4>\n<a id=\"binarymaxlimit\" class=\"anchor\" href=\"#binarymaxlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>binary.max(limit)</code>\n</h4>\n<p>Specifies the maximum length of the buffer where:</p>\n<ul>\n<li>\n<code>limit</code> - the highest size of the buffer.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">binary</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">10</span>);</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#binarymax\"><code>binary.max</code></a></p>\n<h4>\n<a id=\"binarylengthlimit\" class=\"anchor\" href=\"#binarylengthlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>binary.length(limit)</code>\n</h4>\n<p>Specifies the exact length of the buffer:</p>\n<ul>\n<li>\n<code>limit</code> - the size of buffer allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">binary</span>().<span class=\"pl-c1\">length</span>(<span class=\"pl-c1\">5</span>);</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#binarylength\"><code>binary.length</code></a></p>\n<h3>\n<a id=\"date---inherits-from-any\" class=\"anchor\" href=\"#date---inherits-from-any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date</code> - inherits from <code>Any</code>\n</h3>\n<p>Generates a schema object that matches a date type (as well as a JavaScript date string or number of milliseconds). If\nthe validation <code>convert</code> option is on (enabled by default), a string or number will be converted to a Date if specified.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">date</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>();\n<span class=\"pl-smi\">date</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>12-21-2012<span class=\"pl-pds\">'</span></span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { });</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#datebase\"><code>date.base</code></a>, <a href=\"#datestrict\"><code>date.strict</code></a></p>\n<h4>\n<a id=\"datemindate\" class=\"anchor\" href=\"#datemindate\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.min(date)</code>\n</h4>\n<p>Specifies the oldest date allowed where:</p>\n<ul>\n<li>\n<code>date</code> - the oldest date allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>1-1-1974<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Notes: <code>'now'</code> can be passed in lieu of <code>date</code> so as to always compare relatively to the current date, allowing to explicitly ensure a date is either in the past or in the future.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>now<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  from<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">required</span>(),\n  to<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>from<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#datemin\"><code>date.min</code></a>, <a href=\"#dateref\"><code>date.ref</code></a></p>\n<h4>\n<a id=\"datemaxdate\" class=\"anchor\" href=\"#datemaxdate\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.max(date)</code>\n</h4>\n<p>Specifies the latest date allowed where:</p>\n<ul>\n<li>\n<code>date</code> - the latest date allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>12-31-2020<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Notes: <code>'now'</code> can be passed in lieu of <code>date</code> so as to always compare relatively to the current date, allowing to explicitly ensure a date is either in the past or in the future.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>now<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  from<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>to<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>(),\n  to<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#datemax\"><code>date.max</code></a>, <a href=\"#dateref\"><code>date.ref</code></a></p>\n<h4>\n<a id=\"dategreaterdate\" class=\"anchor\" href=\"#dategreaterdate\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.greater(date)</code>\n</h4>\n<p>Specifies that the value must be greater than <code>date</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">greater</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>1-1-1974<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Notes: <code>'now'</code> can be passed in lieu of <code>date</code> so as to always compare relatively to the current date, allowing to explicitly ensure a date is either in the past or in the future.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">greater</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>now<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  from<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">required</span>(),\n  to<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">greater</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>from<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#dategreater\"><code>date.greater</code></a>, <a href=\"#dateref\"><code>date.ref</code></a></p>\n<h4>\n<a id=\"datelessdate\" class=\"anchor\" href=\"#datelessdate\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.less(date)</code>\n</h4>\n<p>Specifies that the value must be less than <code>date</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">less</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>12-31-2020<span class=\"pl-pds\">'</span></span>);\n\nNotes<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">`</span>'now'<span class=\"pl-pds\">`</span></span> can be passed <span class=\"pl-k\">in</span> lieu <span class=\"pl-k\">of</span> <span class=\"pl-s\"><span class=\"pl-pds\">`</span>date<span class=\"pl-pds\">`</span></span> so as to always compare relatively to the current date, allowing to explicitly ensure a date is either <span class=\"pl-k\">in</span> the past or <span class=\"pl-k\">in</span> the future.\n\n<span class=\"pl-s\"><span class=\"pl-pds\">`</span><span class=\"pl-pds\">`</span><span class=\"pl-pds\">`</span>js</span>\n<span class=\"pl-s\">const schema = Joi.date().max('now');</span></pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  from<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">less</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>to<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>(),\n  to<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#dateless\"><code>date.less</code></a>, <a href=\"#dateref\"><code>date.ref</code></a></p>\n<h4>\n<a id=\"dateiso\" class=\"anchor\" href=\"#dateiso\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.iso()</code>\n</h4>\n<p>Requires the string value to be in valid ISO 8601 date format.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">iso</span>();</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#dateisodate\"><code>date.isoDate</code></a></p>\n<h4>\n<a id=\"datetimestamptype\" class=\"anchor\" href=\"#datetimestamptype\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.timestamp([type])</code>\n</h4>\n<p>Requires the value to be a timestamp interval from <a href=\"https://en.wikipedia.org/wiki/Unix_time\" rel=\"nofollow\">Unix Time</a>.</p>\n<ul>\n<li>\n<code>type</code> - the type of timestamp (allowed values are <code>unix</code> or <code>javascript</code> [default])</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">timestamp</span>(); <span class=\"pl-c\"><span class=\"pl-c\">//</span> defaults to javascript timestamp</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">timestamp</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>javascript<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> also, for javascript timestamp (milliseconds)</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">date</span>().<span class=\"pl-en\">timestamp</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>unix<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> for unix timestamp (seconds)</span></pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#datetimestampjavascript\"><code>date.timestamp.javascript</code></a>, <a href=\"#datetimestampunix\"><code>date.timestamp.unix</code></a></p>\n<h3>\n<a id=\"func---inherits-from-any\" class=\"anchor\" href=\"#func---inherits-from-any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>func</code> - inherits from <code>Any</code>\n</h3>\n<p>Generates a schema object that matches a function type.</p>\n<p>Supports the same methods of the <a href=\"#object\"><code>object()</code></a> type. Note that validating a function keys will cause the function\nto be cloned. While the function will retain its prototype and closure, it will lose its <code>length</code> property value (will be\nset to <code>0</code>).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">func</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">func</span>();\n<span class=\"pl-smi\">func</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-k\">function</span> () {}, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { });</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#functionbase\"><code>function.base</code></a></p>\n<h4>\n<a id=\"funcarityn\" class=\"anchor\" href=\"#funcarityn\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>func.arity(n)</code>\n</h4>\n<p>Specifies the arity of the function where:</p>\n<ul>\n<li>\n<code>n</code> - the arity expected.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">func</span>().<span class=\"pl-en\">arity</span>(<span class=\"pl-c1\">2</span>);</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#functionarity\"><code>function.arity</code></a></p>\n<h4>\n<a id=\"funcminarityn\" class=\"anchor\" href=\"#funcminarityn\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>func.minArity(n)</code>\n</h4>\n<p>Specifies the minimal arity of the function where:</p>\n<ul>\n<li>\n<code>n</code> - the minimal arity expected.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">func</span>().<span class=\"pl-en\">minArity</span>(<span class=\"pl-c1\">1</span>);</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#functionminarity\"><code>function.minArity</code></a></p>\n<h4>\n<a id=\"funcmaxarityn\" class=\"anchor\" href=\"#funcmaxarityn\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>func.maxArity(n)</code>\n</h4>\n<p>Specifies the maximal arity of the function where:</p>\n<ul>\n<li>\n<code>n</code> - the maximum arity expected.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">func</span>().<span class=\"pl-en\">maxArity</span>(<span class=\"pl-c1\">3</span>);</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#functionmaxarity\"><code>function.maxArity</code></a></p>\n<h4>\n<a id=\"funcclass\" class=\"anchor\" href=\"#funcclass\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>func.class()</code>\n</h4>\n<p>Requires the function to be a class.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">func</span>().<span class=\"pl-en\">class</span>();</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#functionclass\"><code>function.class</code></a></p>\n<h4>\n<a id=\"funcref\" class=\"anchor\" href=\"#funcref\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>func.ref()</code>\n</h4>\n<p>Requires the function to be a Joi reference.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">func</span>().<span class=\"pl-en\">ref</span>();</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#functionref\"><code>function.ref</code></a></p>\n<h3>\n<a id=\"number---inherits-from-any\" class=\"anchor\" href=\"#number---inherits-from-any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number</code> - inherits from <code>Any</code>\n</h3>\n<p>Generates a schema object that matches a number data type (as well as strings that can be converted to numbers).</p>\n<p>By default, it only allows safe numbers, see <a href=\"#numberunsafeenabled\"><code>number.unsafe()</code></a>.</p>\n<p>If the validation <code>convert</code> option is on (enabled by default), a string will be converted to a <code>number</code> if specified. Also, if\n<code>convert</code> is on and <code>number.precision()</code> is used, the value will be converted to the specified <code>precision</code> as well.</p>\n<p><code>Infinity</code> and <code>-Infinity</code> are invalid by default, you can change that behavior by calling <code>allow(Infinity, -Infinity)</code>.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">number</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>();\n<span class=\"pl-smi\">number</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-c1\">5</span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { });</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#numberbase\"><code>number.base</code></a></p>\n<h4>\n<a id=\"numberunsafeenabled\" class=\"anchor\" href=\"#numberunsafeenabled\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.unsafe([enabled])</code>\n</h4>\n<p>By default, numbers must be within JavaScript's safety range (<code>Number.MIN_SAFE_INTEGER</code> &amp; <code>Number.MAX_SAFE_INTEGER</code>), and when given a string, should be converted without loss of information. You can allow unsafe numbers at your own risks by calling <code>number.unsafe()</code>.</p>\n<p>Parameters are:</p>\n<ul>\n<li>\n<code>enabled</code> - optional parameter defaulting to <code>true</code> which allows you to reset the behavior of unsafe by providing a falsy value.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">safeNumber</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>();\n<span class=\"pl-smi\">safeNumber</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-c1\">90071992547409924</span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> error -&gt; \"value\" must be a safe number</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">unsafeNumber</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">unsafe</span>();\n<span class=\"pl-smi\">unsafeNumber</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-c1\">90071992547409924</span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> error -&gt; null</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> value -&gt; 90071992547409920</span></pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#numberunsafe\"><code>number.unsafe</code></a></p>\n<h4>\n<a id=\"numberminlimit\" class=\"anchor\" href=\"#numberminlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.min(limit)</code>\n</h4>\n<p>Specifies the minimum value where:</p>\n<ul>\n<li>\n<code>limit</code> - the minimum value allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">2</span>);</pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  min<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>(),\n  max<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>min<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#numbermin\"><code>number.min</code></a>, <a href=\"#numberref\"><code>number.ref</code></a></p>\n<h4>\n<a id=\"numbermaxlimit\" class=\"anchor\" href=\"#numbermaxlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.max(limit)</code>\n</h4>\n<p>Specifies the maximum value where:</p>\n<ul>\n<li>\n<code>limit</code> - the maximum value allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">10</span>);</pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  min<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>max<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>(),\n  max<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#numbermax\"><code>number.max</code></a>, <a href=\"#numberref\"><code>number.ref</code></a></p>\n<h4>\n<a id=\"numbergreaterlimit\" class=\"anchor\" href=\"#numbergreaterlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.greater(limit)</code>\n</h4>\n<p>Specifies that the value must be greater than <code>limit</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">greater</span>(<span class=\"pl-c1\">5</span>);</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  min<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>(),\n  max<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">greater</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>min<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#numbergreater\"><code>number.greater</code></a>, <a href=\"#numberref\"><code>number.ref</code></a></p>\n<h4>\n<a id=\"numberlesslimit\" class=\"anchor\" href=\"#numberlesslimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.less(limit)</code>\n</h4>\n<p>Specifies that the value must be less than <code>limit</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">less</span>(<span class=\"pl-c1\">10</span>);</pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  min<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">less</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>max<span class=\"pl-pds\">'</span></span>)).<span class=\"pl-en\">required</span>(),\n  max<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#numberless\"><code>number.less</code></a>, <a href=\"#numberref\"><code>number.ref</code></a></p>\n<h4>\n<a id=\"numberinteger\" class=\"anchor\" href=\"#numberinteger\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.integer()</code>\n</h4>\n<p>Requires the number to be an integer (no floating point).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">integer</span>();</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#numberbase\"><code>number.base</code></a></p>\n<h4>\n<a id=\"numberprecisionlimit\" class=\"anchor\" href=\"#numberprecisionlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.precision(limit)</code>\n</h4>\n<p>Specifies the maximum number of decimal places where:</p>\n<ul>\n<li>\n<code>limit</code> - the maximum number of decimal places allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">precision</span>(<span class=\"pl-c1\">2</span>);</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#numberinteger-1\"><code>number.integer</code></a></p>\n<h4>\n<a id=\"numbermultiplebase\" class=\"anchor\" href=\"#numbermultiplebase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.multiple(base)</code>\n</h4>\n<p>Specifies that the value must be a multiple of <code>base</code>:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-c1\">multiple</span>(<span class=\"pl-c1\">3</span>);</pre></div>\n<p>Notes: <code>Joi.number.multiple(base)</code> <em>uses the modulo operator (%) to determine if a number is multiple of another number.\nTherefore, it has the normal limitations of Javascript modulo operator. The results with decimal/floats may be incorrect.</em></p>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#numbermultiple\"><code>number.multiple</code></a>, <a href=\"#numberref\"><code>number.ref</code></a></p>\n<h4>\n<a id=\"numberpositive\" class=\"anchor\" href=\"#numberpositive\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.positive()</code>\n</h4>\n<p>Requires the number to be positive.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">positive</span>();</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#numberpositive-1\"><code>number.positive</code></a></p>\n<h4>\n<a id=\"numbernegative\" class=\"anchor\" href=\"#numbernegative\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.negative()</code>\n</h4>\n<p>Requires the number to be negative.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">negative</span>();</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#numbernegative-1\"><code>number.negative</code></a></p>\n<h4>\n<a id=\"numberport\" class=\"anchor\" href=\"#numberport\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.port()</code>\n</h4>\n<p>Requires the number to be a TCP port, so between 0 and 65535.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-c1\">port</span>();</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#numberport-1\"><code>number.port</code></a></p>\n<h3>\n<a id=\"object---inherits-from-any\" class=\"anchor\" href=\"#object---inherits-from-any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object</code> - inherits from <code>Any</code>\n</h3>\n<p>Generates a schema object that matches an object data type (as well as JSON strings that parsed into objects). Defaults\nto allowing any child key. If the validation <code>convert</code> option is on (enabled by default), a string will be converted to\nan <code>object</code> if specified via <code>JSON.parse()</code>.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">object</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">1</span>).<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">10</span>).<span class=\"pl-en\">integer</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>some string<span class=\"pl-pds\">'</span></span>\n});\n\n<span class=\"pl-smi\">object</span>.<span class=\"pl-en\">validate</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span> }, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { });</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#objectbase\"><code>object.base</code></a></p>\n<h4>\n<a id=\"objectkeysschema\" class=\"anchor\" href=\"#objectkeysschema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.keys([schema])</code>\n</h4>\n<p>Sets or extends the allowed object keys where:</p>\n<ul>\n<li>\n<code>schema</code> - optional object where each key is assigned a <strong>joi</strong> type object. If <code>schema</code> is <code>{}</code> no keys allowed.\nIf <code>schema</code> is <code>null</code> or <code>undefined</code>, any key allowed. If <code>schema</code> is an object with keys, the keys are added to any\npreviously defined keys (but narrows the selection if all keys previously allowed). Defaults to 'undefined' which\nallows any child key.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">base</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n});\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Validate keys a, b and c.</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">extended</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">base</span>.<span class=\"pl-c1\">keys</span>({\n    c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>()\n});</pre></div>\n<p>Notes: We have three different ways to define a schema for performing a validation</p>\n<ul>\n<li>Using the plain JS object notation:</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n};</pre></div>\n<ul>\n<li>Using the <code>Joi.object([schema])</code> notation</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n});</pre></div>\n<ul>\n<li>Using the <code>Joi.object().keys([schema])</code> notation</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n});</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#objectallowunknown\"><code>object.allowUnknown</code></a></p>\n<p>While all these three objects defined above will result in the same validation object, there are some differences in using one or another:</p>\n<h5>\n<a id=\"-notation\" class=\"anchor\" href=\"#-notation\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>{} notation</code>\n</h5>\n<p>When using the <code>{}</code> notation, you are just defining a plain JS object, which isn't a schema object.\nYou can pass it to the validation method but you can't call <code>validate()</code> method of the object because it's just a plain JS object.</p>\n<p>Besides, passing the <code>{}</code> object to the <code>validate()</code> method each time, will perform an expensive schema compilation operation on every validation.</p>\n<h5>\n<a id=\"joiobjectschema-notation\" class=\"anchor\" href=\"#joiobjectschema-notation\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Joi.object([schema]) notation</code>\n</h5>\n<p>Using <code>Joi.object([schema])</code> will return a schema object, so you can call the <code>validate()</code> method directly, e.g:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>()\n});\n\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-c1\">true</span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> {\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>err: <span class=\"pl-pds\">'</span></span>, err);\n});</pre></div>\n<p>When you use <code>Joi.object([schema])</code>, it gets compiled the first time, so you can pass it to the <code>validate()</code> method multiple times and no overhead is added.</p>\n<p>Another benefits of using <code>Joi.object([schema])</code> instead of a plain JS object is that you can set any options on the object like allowing unknown keys, e.g:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    arg<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>firstname<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>lastname<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>title<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>company<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>jobtitle<span class=\"pl-pds\">'</span></span>),\n    value<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n}).<span class=\"pl-en\">pattern</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span>firstname<span class=\"pl-k\">|</span>lastname<span class=\"pl-pds\">/</span></span>, <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">2</span>));</pre></div>\n<h5>\n<a id=\"joiobjectkeysschema-notation\" class=\"anchor\" href=\"#joiobjectkeysschema-notation\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Joi.object().keys([schema]) notation</code>\n</h5>\n<p>This is basically the same as <code>Joi.object([schema])</code>, but using <code>Joi.object().keys([schema])</code> is more useful when you want to add more keys (e.g. call <code>keys()</code> multiple times). If you are only adding one set of keys, you can skip the <code>keys()</code> method and just use <code>object()</code> directly.</p>\n<p>Some people like to use <code>keys()</code> to make the code more explicit (this is style only).</p>\n<h4>\n<a id=\"objectappendschema\" class=\"anchor\" href=\"#objectappendschema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.append([schema])</code>\n</h4>\n<p>Appends the allowed object keys where:</p>\n<ul>\n<li>\n<code>schema</code> - optional object where each key is assigned a <strong>joi</strong> type object. If <code>schema</code> is <code>null</code>,<code>undefined</code> or <code>{}</code> no changes will be applied. Uses object.keys([schema]) to append keys.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> Validate key a</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">base</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n});\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Validate keys a, b.</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">extended</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">base</span>.<span class=\"pl-c1\">append</span>({\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n});</pre></div>\n<h4>\n<a id=\"objectminlimit\" class=\"anchor\" href=\"#objectminlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.min(limit)</code>\n</h4>\n<p>Specifies the minimum number of keys in the object where:</p>\n<ul>\n<li>\n<code>limit</code> - the lowest number of keys allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">2</span>);</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#objectmin\"><code>object.min</code></a></p>\n<h4>\n<a id=\"objectmaxlimit\" class=\"anchor\" href=\"#objectmaxlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.max(limit)</code>\n</h4>\n<p>Specifies the maximum number of keys in the object where:</p>\n<ul>\n<li>\n<code>limit</code> - the highest number of object keys allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">10</span>);</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#objectmax\"><code>object.max</code></a></p>\n<h4>\n<a id=\"objectlengthlimit\" class=\"anchor\" href=\"#objectlengthlimit\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.length(limit)</code>\n</h4>\n<p>Specifies the exact number of keys in the object where:</p>\n<ul>\n<li>\n<code>limit</code> - the number of object keys allowed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">length</span>(<span class=\"pl-c1\">5</span>);</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#objectlength\"><code>object.length</code></a></p>\n<h4>\n<a id=\"objectpatternpattern-schema\" class=\"anchor\" href=\"#objectpatternpattern-schema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.pattern(pattern, schema)</code>\n</h4>\n<p>Specify validation rules for unknown keys matching a pattern where:</p>\n<ul>\n<li>\n<code>pattern</code> - a pattern that can be either a regular expression or a joi schema that will be tested against the unknown key names.</li>\n<li>\n<code>schema</code> - the schema object matching keys must validate against.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n}).<span class=\"pl-en\">pattern</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-c1\">\\w\\d</span><span class=\"pl-pds\">/</span></span>, <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>());\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> OR</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n}).<span class=\"pl-en\">pattern</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">2</span>).<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">5</span>), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>());</pre></div>\n<h4>\n<a id=\"objectandpeers\" class=\"anchor\" href=\"#objectandpeers\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.and(peers)</code>\n</h4>\n<p>Defines an all-or-nothing relationship between keys where if one of the peers is present, all of them are required as\nwell where:</p>\n<ul>\n<li>\n<code>peers</code> - the key names of which if one present, all are required. <code>peers</code> can be a single string value, an\narray of string values, or each peer provided as an argument.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}).<span class=\"pl-en\">and</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#objectand\"><code>object.and</code></a></p>\n<h4>\n<a id=\"objectnandpeers\" class=\"anchor\" href=\"#objectnandpeers\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.nand(peers)</code>\n</h4>\n<p>Defines a relationship between keys where not all peers can be present at the\nsame time where:</p>\n<ul>\n<li>\n<code>peers</code> - the key names of which if one present, the others may not all be present. <code>peers</code> can be a single string value, an\narray of string values, or each peer provided as an argument.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}).<span class=\"pl-en\">nand</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#objectnand\"><code>object.nand</code></a></p>\n<h4>\n<a id=\"objectorpeers\" class=\"anchor\" href=\"#objectorpeers\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.or(peers)</code>\n</h4>\n<p>Defines a relationship between keys where one of the peers is required (and more than one is allowed) where:</p>\n<ul>\n<li>\n<code>peers</code> - the key names of which at least one must appear. <code>peers</code> can be a single string value, an\narray of string values, or each peer provided as an argument.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}).<span class=\"pl-en\">or</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#objectmissing\"><code>object.missing</code></a></p>\n<h4>\n<a id=\"objectxorpeers\" class=\"anchor\" href=\"#objectxorpeers\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.xor(peers)</code>\n</h4>\n<p>Defines an exclusive relationship between a set of keys where one of them is required but not at the same time where:</p>\n<ul>\n<li>\n<code>peers</code> - the exclusive key names that must not appear together but where one of them is required. <code>peers</code> can be a single string value, an\narray of string values, or each peer provided as an argument.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}).<span class=\"pl-en\">xor</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#objectxor\"><code>object.xor</code></a>, <a href=\"#objectmissing\"><code>object.missing</code></a></p>\n<h4>\n<a id=\"objectoxorpeers\" class=\"anchor\" href=\"#objectoxorpeers\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.oxor(...peers)</code>\n</h4>\n<p>Defines an exclusive relationship between a set of keys where only one is allowed but none are required where:</p>\n<ul>\n<li>\n<code>peers</code> - the exclusive key names that must not appear together but where none are required.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}).<span class=\"pl-en\">oxor</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#objectoxor\"><code>object.oxor</code></a></p>\n<h4>\n<a id=\"objectwithkey-peers\" class=\"anchor\" href=\"#objectwithkey-peers\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.with(key, peers)</code>\n</h4>\n<p>Requires the presence of other keys whenever the specified key is present where:</p>\n<ul>\n<li>\n<code>key</code> - the reference key.</li>\n<li>\n<code>peers</code> - the required peer key names that must appear together with <code>key</code>. <code>peers</code> can be a single string value or an array of string values.</li>\n</ul>\n<p>Note that unlike <a href=\"#objectandpeers\"><code>object.and()</code></a>, <code>with()</code> creates a dependency only between the <code>key</code> and each of the <code>peers</code>, not\nbetween the <code>peers</code> themselves.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}).<span class=\"pl-en\">with</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#objectwith\"><code>object.with</code></a></p>\n<h4>\n<a id=\"objectwithoutkey-peers\" class=\"anchor\" href=\"#objectwithoutkey-peers\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.without(key, peers)</code>\n</h4>\n<p>Forbids the presence of other keys whenever the specified is present where:</p>\n<ul>\n<li>\n<code>key</code> - the reference key.</li>\n<li>\n<code>peers</code> - the forbidden peer key names that must not appear together with <code>key</code>. <code>peers</code> can be a single string value or an array of string values.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>(),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n}).<span class=\"pl-en\">without</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>]);</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#objectwithout\"><code>object.without</code></a></p>\n<h4>\n<a id=\"objectrenamefrom-to-options\" class=\"anchor\" href=\"#objectrenamefrom-to-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.rename(from, to, [options])</code>\n</h4>\n<p>Renames a key to another name (deletes the renamed key) where:</p>\n<ul>\n<li>\n<code>from</code> - the original key name or a regular expression matching keys.</li>\n<li>\n<code>to</code> - the new key name.</li>\n<li>\n<code>options</code> - an optional object with the following optional keys:\n<ul>\n<li>\n<code>alias</code> - if <code>true</code>, does not delete the old key name, keeping both the new and old keys in place. Defaults to <code>false</code>.</li>\n<li>\n<code>multiple</code> - if <code>true</code>, allows renaming multiple keys to the same destination where the last rename wins. Defaults to <code>false</code>.</li>\n<li>\n<code>override</code> - if <code>true</code>, allows renaming a key over an existing key. Defaults to <code>false</code>.</li>\n<li>\n<code>ignoreUndefined</code> - if <code>true</code>, skip renaming of a key if it's undefined. Defaults to <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n<p>Keys are renamed before any other validation rules are applied.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">object</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n}).<span class=\"pl-en\">rename</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">object</span>.<span class=\"pl-en\">validate</span>({ b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span> }, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { });</pre></div>\n<p>It can also rename keys using a regular expression:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">regex</span> <span class=\"pl-k\">=</span><span class=\"pl-sr\"> <span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span>foobar<span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span>i</span>;\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n  fooBar<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>()\n}).<span class=\"pl-en\">rename</span>(regex, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>fooBar<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>({ FooBar<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>}, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> {});</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#objectrenamemultiple\"><code>object.rename.multiple</code></a>, <a href=\"#objectrenameoverride\"><code>object.rename.override</code></a>, <a href=\"#objectrenameregexmultiple\"><code>object.rename.regex.multiple</code></a>, <a href=\"#objectrenameregexoverride\"><code>object.rename.regex.override</code></a></p>\n<h4>\n<a id=\"objectassertref-schema-message\" class=\"anchor\" href=\"#objectassertref-schema-message\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.assert(ref, schema, [message])</code>\n</h4>\n<p>Verifies an assertion where:</p>\n<ul>\n<li>\n<code>ref</code> - the key name or <a href=\"#refkey-options\">reference</a>.</li>\n<li>\n<code>schema</code> - the validation rules required to satisfy the assertion. If the <code>schema</code> includes references, they are resolved against\nthe object value, not the value of the <code>ref</code> target.</li>\n<li>\n<code>message</code> - optional human-readable message used when the assertion fails. Defaults to 'failed to pass the assertion test'.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({\n    a<span class=\"pl-k\">:</span> {\n        b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n        c<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>()\n    },\n    d<span class=\"pl-k\">:</span> {\n        e<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n    }\n}).<span class=\"pl-en\">assert</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>d.e<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a.c<span class=\"pl-pds\">'</span></span>), <span class=\"pl-s\"><span class=\"pl-pds\">'</span>equal to a.c<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#objectassert\"><code>object.assert</code></a></p>\n<h4>\n<a id=\"objectunknownallow\" class=\"anchor\" href=\"#objectunknownallow\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.unknown([allow])</code>\n</h4>\n<p>Overrides the handling of unknown keys for the scope of the current object only (does not apply to children) where:</p>\n<ul>\n<li>\n<code>allow</code> - if <code>false</code>, unknown keys are not allowed, otherwise unknown keys are ignored.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({ a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>() }).<span class=\"pl-en\">unknown</span>();</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#objectallowunknown\"><code>object.allowUnknown</code></a></p>\n<h4>\n<a id=\"objecttypeconstructor-name\" class=\"anchor\" href=\"#objecttypeconstructor-name\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.type(constructor, [name])</code>\n</h4>\n<p>Requires the object to be an instance of a given constructor where:</p>\n<ul>\n<li>\n<code>constructor</code> - the constructor function that the object must be an instance of.</li>\n<li>\n<code>name</code> - an alternate name to use in validation errors. This is useful when the constructor function does not have a name.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">type</span>(<span class=\"pl-c1\">RegExp</span>);</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#objecttype\"><code>object.type</code></a></p>\n<h4>\n<a id=\"objectschema\" class=\"anchor\" href=\"#objectschema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.schema()</code>\n</h4>\n<p>Requires the object to be a Joi schema instance.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-en\">schema</span>();</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#objectschema-1\"><code>object.schema</code></a></p>\n<h4>\n<a id=\"objectrequiredkeyschildren\" class=\"anchor\" href=\"#objectrequiredkeyschildren\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.requiredKeys(children)</code>\n</h4>\n<p>Sets the specified children to required.</p>\n<ul>\n<li>\n<code>children</code> - can be a single string value, an array of string values, or each child provided as an argument.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({ a<span class=\"pl-k\">:</span> { b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>() }, c<span class=\"pl-k\">:</span> { d<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>() } });\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">requiredSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">requiredKeys</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a.b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>c<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>c.d<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>Note that in this example <code>''</code> means the current object, <code>a</code> is not required but <code>b</code> is, as well as <code>c</code> and <code>d</code>.</p>\n<h4>\n<a id=\"objectoptionalkeyschildren\" class=\"anchor\" href=\"#objectoptionalkeyschildren\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.optionalKeys(children)</code>\n</h4>\n<p>Sets the specified children to optional.</p>\n<ul>\n<li>\n<code>children</code> - can be a single string value, an array of string values, or each child provided as an argument.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({ a<span class=\"pl-k\">:</span> { b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>() }, c<span class=\"pl-k\">:</span> { d<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>() } });\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">optionalSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">optionalKeys</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a.b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>c.d<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>The behavior is exactly the same as <code>requiredKeys</code>.</p>\n<h4>\n<a id=\"objectforbiddenkeyschildren\" class=\"anchor\" href=\"#objectforbiddenkeyschildren\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.forbiddenKeys(children)</code>\n</h4>\n<p>Sets the specified children to forbidden.</p>\n<ul>\n<li>\n<code>children</code> - can be a single string value, an array of string values, or each child provided as an argument.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>().<span class=\"pl-c1\">keys</span>({ a<span class=\"pl-k\">:</span> { b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>().<span class=\"pl-en\">required</span>() }, c<span class=\"pl-k\">:</span> { d<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>() } });\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">optionalSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">forbiddenKeys</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a.b<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>c.d<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p>The behavior is exactly the same as <code>requiredKeys</code>.</p>\n<h3>\n<a id=\"string---inherits-from-any\" class=\"anchor\" href=\"#string---inherits-from-any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string</code> - inherits from <code>Any</code>\n</h3>\n<p>Generates a schema object that matches a string data type. Note that empty strings are not allowed by default and must\nbe enabled with <code>allow('')</code>. However, if you want to specify a default value in case of empty string you have to use a\ndifferent pattern: <code>Joi.string().empty('').default('default value')</code>. This tells Joi that the empty string should be\nconsidered as an empty value (instead of invalid) and which value to use as default.</p>\n<p>If the validation <code>convert</code> option is on (enabled by default), a string will be converted using the specified modifiers\nfor <code>string.lowercase()</code>, <code>string.uppercase()</code>, <code>string.trim()</code>, and each replacement specified with <code>string.replace()</code>.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">1</span>).<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">10</span>);\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>12345<span class=\"pl-pds\">'</span></span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { });</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#stringbase\"><code>string.base</code></a>, <a href=\"#anyempty\"><code>any.empty</code></a></p>\n<h4>\n<a id=\"stringinsensitive\" class=\"anchor\" href=\"#stringinsensitive\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.insensitive()</code>\n</h4>\n<p>Allows the value to match any whitelist or blacklist item in a case insensitive comparison.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">valid</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">insensitive</span>();</pre></div>\n<h4>\n<a id=\"stringminlimit-encoding\" class=\"anchor\" href=\"#stringminlimit-encoding\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.min(limit, [encoding])</code>\n</h4>\n<p>Specifies the minimum number string characters where:</p>\n<ul>\n<li>\n<code>limit</code> - the minimum number of string characters required.</li>\n<li>\n<code>encoding</code> - if specified, the string length is calculated in bytes using the provided encoding.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-c1\">2</span>);</pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  min<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(),\n  value<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">min</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>min<span class=\"pl-pds\">'</span></span>), <span class=\"pl-s\"><span class=\"pl-pds\">'</span>utf8<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#stringmin\"><code>string.min</code></a>, <a href=\"#stringref\"><code>string.ref</code></a></p>\n<h4>\n<a id=\"stringmaxlimit-encoding\" class=\"anchor\" href=\"#stringmaxlimit-encoding\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.max(limit, [encoding])</code>\n</h4>\n<p>Specifies the maximum number of string characters where:</p>\n<ul>\n<li>\n<code>limit</code> - the maximum number of string characters allowed.</li>\n<li>\n<code>encoding</code> - if specified, the string length is calculated in bytes using the provided encoding.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">10</span>);</pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  max<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(),\n  value<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>max<span class=\"pl-pds\">'</span></span>), <span class=\"pl-s\"><span class=\"pl-pds\">'</span>utf8<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#stringmax\"><code>string.max</code></a>, <a href=\"#stringref\"><code>string.ref</code></a></p>\n<h4>\n<a id=\"stringtruncateenabled\" class=\"anchor\" href=\"#stringtruncateenabled\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.truncate([enabled])</code>\n</h4>\n<p>Specifies whether the <code>string.max()</code> limit should be used as a truncation.</p>\n<p>Parameters are:</p>\n<ul>\n<li>\n<code>enabled</code> - optional parameter defaulting to <code>true</code> which allows you to reset the behavior of truncate by providing a falsy value.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">max</span>(<span class=\"pl-c1\">5</span>).<span class=\"pl-en\">truncate</span>();</pre></div>\n<h4>\n<a id=\"stringcreditcard\" class=\"anchor\" href=\"#stringcreditcard\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.creditCard()</code>\n</h4>\n<p>Requires the number to be a credit card number (Using <a href=\"http://en.wikipedia.org/wiki/Luhn_algorithm\" rel=\"nofollow\">Luhn\nAlgorithm</a>).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">creditCard</span>();</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#stringcreditcard-1\"><code>string.creditCard</code></a></p>\n<h4>\n<a id=\"stringlengthlimit-encoding\" class=\"anchor\" href=\"#stringlengthlimit-encoding\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.length(limit, [encoding])</code>\n</h4>\n<p>Specifies the exact string length required where:</p>\n<ul>\n<li>\n<code>limit</code> - the required string length.</li>\n<li>\n<code>encoding</code> - if specified, the string length is calculated in bytes using the provided encoding.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">length</span>(<span class=\"pl-c1\">5</span>);</pre></div>\n<p>It can also be a reference to another field.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n  length<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(),\n  value<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">length</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">ref</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>length<span class=\"pl-pds\">'</span></span>), <span class=\"pl-s\"><span class=\"pl-pds\">'</span>utf8<span class=\"pl-pds\">'</span></span>).<span class=\"pl-en\">required</span>()\n});</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#stringlength\"><code>string.length</code></a>, <a href=\"#stringref\"><code>string.ref</code></a></p>\n<h4>\n<a id=\"stringregexpattern-name--options\" class=\"anchor\" href=\"#stringregexpattern-name--options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.regex(pattern, [name | options])</code>\n</h4>\n<p>Defines a regular expression rule where:</p>\n<ul>\n<li>\n<code>pattern</code> - a regular expression object the string value must match against.</li>\n<li>\n<code>name</code> - optional name for patterns (useful with multiple patterns).</li>\n<li>\n<code>options</code> - an optional configuration object with the following supported properties:\n<ul>\n<li>\n<code>name</code> - optional pattern name.</li>\n<li>\n<code>invert</code> - optional boolean flag. Defaults to <code>false</code> behavior. If specified as <code>true</code>, the provided pattern will be disallowed instead of required.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">regex</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span><span class=\"pl-c1\">[abc]</span><span class=\"pl-k\">+</span><span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">inlineNamedSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">regex</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span><span class=\"pl-c1\">[<span class=\"pl-c1\">0-9</span>]</span><span class=\"pl-k\">+</span><span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>numbers<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">inlineNamedSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>alpha<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: \"value\" with value \"alpha\" fails to match the numbers pattern</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">namedSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">regex</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span><span class=\"pl-c1\">[<span class=\"pl-c1\">0-9</span>]</span><span class=\"pl-k\">+</span><span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span></span>, { name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>numbers<span class=\"pl-pds\">'</span></span>});\n<span class=\"pl-smi\">namedSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>alpha<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: \"value\" with value \"alpha\" fails to match the numbers pattern</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">invertedSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">regex</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span><span class=\"pl-c1\">[<span class=\"pl-c1\">a-z</span>]</span><span class=\"pl-k\">+</span><span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span></span>, { invert<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });\n<span class=\"pl-smi\">invertedSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lowercase<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: \"value\" with value \"lowercase\" matches the inverted pattern: [a-z]</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">invertedNamedSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">regex</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span><span class=\"pl-k\">^</span><span class=\"pl-c1\">[<span class=\"pl-c1\">a-z</span>]</span><span class=\"pl-k\">+</span><span class=\"pl-k\">$</span><span class=\"pl-pds\">/</span></span>, { name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>alpha<span class=\"pl-pds\">'</span></span>, invert<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });\n<span class=\"pl-smi\">invertedNamedSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>lowercase<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: \"value\" with value \"lowercase\" matches the inverted alpha pattern</span></pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#stringregexbase\"><code>string.regex.base</code></a>, <a href=\"#stringregexinvertbase\"><code>string.regex.invert.base</code></a>, <a href=\"#stringregexinvertname\"><code>string.regex.invert.name</code></a>, <a href=\"#stringregexname\"><code>string.regex.name</code></a></p>\n<h4>\n<a id=\"stringreplacepattern-replacement\" class=\"anchor\" href=\"#stringreplacepattern-replacement\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.replace(pattern, replacement)</code>\n</h4>\n<p>Replace characters matching the given <em>pattern</em> with the specified\n<em>replacement</em> string where:</p>\n<ul>\n<li>\n<code>pattern</code> - a regular expression object to match against, or a string of which <em>all</em> occurrences will be replaced.</li>\n<li>\n<code>replacement</code> - the string that will replace the pattern.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">replace</span>(<span class=\"pl-sr\"><span class=\"pl-pds\">/</span>b<span class=\"pl-pds\">/</span>gi</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>x<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>abBc<span class=\"pl-pds\">'</span></span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> {\n  <span class=\"pl-c\"><span class=\"pl-c\">//</span> here value will be 'axxc'</span>\n});</pre></div>\n<p>When <code>pattern</code> is a <em>string</em> all its occurrences will be replaced.</p>\n<h4>\n<a id=\"stringalphanum\" class=\"anchor\" href=\"#stringalphanum\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.alphanum()</code>\n</h4>\n<p>Requires the string value to only contain a-z, A-Z, and 0-9.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">alphanum</span>();</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#stringalphanum-1\"><code>string.alphanum</code></a></p>\n<h4>\n<a id=\"stringtoken\" class=\"anchor\" href=\"#stringtoken\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.token()</code>\n</h4>\n<p>Requires the string value to only contain a-z, A-Z, 0-9, and underscore _.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">token</span>();</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#stringtoken-1\"><code>string.token</code></a></p>\n<h4>\n<a id=\"stringemailoptions\" class=\"anchor\" href=\"#stringemailoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.email([options])</code>\n</h4>\n<p>Requires the string value to be a valid email address.</p>\n<ul>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>allowUnicode</code> - if <code>true</code>, Unicode characters are permitted. Defaults to <code>true</code>.</li>\n<li>\n<code>minDomainSegments</code> - Number of segments required for the domain. Be careful since some\ndomains, such as <code>io</code>, directly allow email.</li>\n<li>\n<code>tlds</code> - options for TLD (top level domain) validation. By default, the TLD must be a valid\nname listed on the <a href=\"http://data.iana.org/TLD/tlds-alpha-by-domain.txt\" rel=\"nofollow\">IANA registry</a>. To\ndisable validation, set <code>tlds</code> to <code>false</code>. To customize how TLDs are validated, set one of\nthese:\n<ul>\n<li>\n<code>allow</code> - one of:\n<ul>\n<li>\n<code>true</code> to use the IANA list of registered TLDs. This is the default value.</li>\n<li>\n<code>false</code> to allow any TLD not listed in the <code>deny</code> list, if present.</li>\n<li>a <code>Set</code> or array of the allowed TLDs. Cannot be used together with <code>deny</code>.</li>\n</ul>\n</li>\n<li>\n<code>deny</code> - one of:\n<ul>\n<li>a <code>Set</code> or array of the forbidden TLDs. Cannot be used together with a custom <code>allow</code>\nlist.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">email</span>();</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#stringemail\"><code>string.email</code></a></p>\n<h4>\n<a id=\"stringipoptions\" class=\"anchor\" href=\"#stringipoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.ip([options])</code>\n</h4>\n<p>Requires the string value to be a valid ip address.</p>\n<ul>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>version</code> - One or more IP address versions to validate against. Valid values: <code>ipv4</code>, <code>ipv6</code>, <code>ipvfuture</code>\n</li>\n<li>\n<code>cidr</code> - Used to determine if a CIDR is allowed or not. Valid values: <code>optional</code>, <code>required</code>, <code>forbidden</code>\n</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> Accept only ipv4 and ipv6 addresses with a CIDR</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">ip</span>({\n  version<span class=\"pl-k\">:</span> [\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ipv4<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ipv6<span class=\"pl-pds\">'</span></span>\n  ],\n  cidr<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>required<span class=\"pl-pds\">'</span></span>\n});</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#stringip\"><code>string.ip</code></a>, <a href=\"#stringipversion\"><code>string.ipVersion</code></a></p>\n<h4>\n<a id=\"stringurioptions\" class=\"anchor\" href=\"#stringurioptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.uri([options])</code>\n</h4>\n<p>Requires the string value to be a valid <a href=\"http://tools.ietf.org/html/rfc3986\" rel=\"nofollow\">RFC 3986</a> URI.</p>\n<ul>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>scheme</code> - Specifies one or more acceptable Schemes, should only include the scheme name. Can be an Array or String (strings are automatically escaped for use in a Regular Expression).</li>\n<li>\n<code>allowRelative</code> - Allow relative URIs. Defaults to <code>false</code>.</li>\n<li>\n<code>relativeOnly</code> - Restrict only relative URIs.  Defaults to <code>false</code>.</li>\n<li>\n<code>allowQuerySquareBrackets</code> - Allows unencoded square brackets inside the query string. This is <strong>NOT</strong> RFC 3986 compliant but query strings like <code>abc[]=123&amp;abc[]=456</code> are very common these days. Defaults to <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c\"><span class=\"pl-c\">//</span> Accept git or git http/https</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">uri</span>({\n  scheme<span class=\"pl-k\">:</span> [\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>git<span class=\"pl-pds\">'</span></span>,\n<span class=\"pl-sr\">    <span class=\"pl-pds\">/</span>git<span class=\"pl-cce\">\\+</span>https<span class=\"pl-k\">?</span><span class=\"pl-pds\">/</span></span>\n  ]\n});</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#stringuri\"><code>string.uri</code></a>, <a href=\"#stringuricustomscheme\"><code>string.uriCustomScheme</code></a>, <a href=\"#stringurirelativeonly\"><code>string.uriRelativeOnly</code></a></p>\n<h4>\n<a id=\"stringguid---aliases-uuid\" class=\"anchor\" href=\"#stringguid---aliases-uuid\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.guid()</code> - aliases: <code>uuid</code>\n</h4>\n<p>Requires the string value to be a valid GUID.</p>\n<ul>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>version</code> - Specifies one or more acceptable versions. Can be an Array or String with the following values:\n<code>uuidv1</code>, <code>uuidv2</code>, <code>uuidv3</code>, <code>uuidv4</code>, or <code>uuidv5</code>. If no <code>version</code> is specified then it is assumed to be a generic <code>guid</code>.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">guid</span>({\n    version<span class=\"pl-k\">:</span> [\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span>uuidv4<span class=\"pl-pds\">'</span></span>,\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span>uuidv5<span class=\"pl-pds\">'</span></span>\n    ]\n});</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#stringguid\"><code>string.guid</code></a></p>\n<h4>\n<a id=\"stringhexoptions\" class=\"anchor\" href=\"#stringhexoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.hex([options])</code>\n</h4>\n<p>Requires the string value to be a valid hexadecimal string.</p>\n<ul>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>byteAligned</code> - Boolean specifying whether you want to check that the hexadecimal string is byte aligned. If <code>convert</code> is <code>true</code>, a <code>0</code> will be added in front of the string in case it needs to be aligned. Defaults to <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">hex</span>();</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#stringhex\"><code>string.hex</code></a>, <a href=\"#stringhexalign\"><code>string.hexAlign</code></a></p>\n<h4>\n<a id=\"stringbase64options\" class=\"anchor\" href=\"#stringbase64options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.base64([options])</code>\n</h4>\n<p>Requires the string value to be a valid base64 string; does not check the decoded value.</p>\n<ul>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>paddingRequired</code> - optional parameter defaulting to <code>true</code> which will require <code>=</code> padding if <code>true</code> or make padding optional if <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n<p>Padding characters are not required for decoding, as the number of missing bytes can be inferred from the number of digits. With that said, try to use padding if at all possible.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">base64</span>();\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>VE9PTUFOWVNFQ1JFVFM<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: \"value\" must be a valid base64 string</span>\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>VE9PTUFOWVNFQ1JFVFM=<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> No Error</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">paddingRequiredSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">base64</span>({ paddingRequired<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> });\n<span class=\"pl-smi\">paddingRequiredSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>VE9PTUFOWVNFQ1JFVFM<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: \"value\" must be a valid base64 string</span>\n<span class=\"pl-smi\">paddingRequiredSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>VE9PTUFOWVNFQ1JFVFM=<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> No Error</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">paddingOptionalSchema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">base64</span>({ paddingRequired<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> });\n<span class=\"pl-smi\">paddingOptionalSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>VE9PTUFOWVNFQ1JFVFM<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> No Error</span>\n<span class=\"pl-smi\">paddingOptionalSchema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>VE9PTUFOWVNFQ1JFVFM=<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> No Error</span></pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#stringbase64\"><code>string.base64</code></a></p>\n<h4>\n<a id=\"stringdataurioptions\" class=\"anchor\" href=\"#stringdataurioptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.dataUri([options])</code>\n</h4>\n<p>Requires the string value to be a valid data URI string.</p>\n<ul>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>paddingRequired</code> - optional parameter defaulting to <code>true</code> which will require <code>=</code> padding if <code>true</code> or make padding optional if <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">dataUri</span>();\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>VE9PTUFOWVNFQ1JFVFM=<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> ValidationError: \"value\" must be a valid dataUri string</span>\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>data:image/png;base64,VE9PTUFOWVNFQ1JFVFM=<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> No Error</span></pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#stringdatauri\"><code>string.dataUri</code></a></p>\n<h4>\n<a id=\"stringhostname\" class=\"anchor\" href=\"#stringhostname\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.hostname()</code>\n</h4>\n<p>Requires the string value to be a valid hostname as per <a href=\"http://tools.ietf.org/html/rfc1123\" rel=\"nofollow\">RFC1123</a>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">hostname</span>();</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#stringhostname-1\"><code>string.hostname</code></a></p>\n<h4>\n<a id=\"stringnormalizeform\" class=\"anchor\" href=\"#stringnormalizeform\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.normalize([form])</code>\n</h4>\n<p>Requires the string value to be in a <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/normalize\" rel=\"nofollow\">unicode normalized</a>\nform. If the validation <code>convert</code> option is on (enabled by default), the string will be normalized.</p>\n<ul>\n<li>\n<code>form</code> - The unicode normalization form to use. Valid values: <code>NFC</code> [default], <code>NFD</code>, <code>NFKC</code>, <code>NFKD</code>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">normalize</span>(); <span class=\"pl-c\"><span class=\"pl-c\">//</span> defaults to NFC</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">normalize</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>NFC<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> canonical composition</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">normalize</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>NFD<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> canonical decomposition</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">normalize</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>NFKC<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> compatibility composition</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-c1\">normalize</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>NFKD<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> compatibility decomposition</span></pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#stringnormalize\"><code>string.normalize</code></a></p>\n<h4>\n<a id=\"stringlowercase\" class=\"anchor\" href=\"#stringlowercase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.lowercase()</code>\n</h4>\n<p>Requires the string value to be all lowercase. If the validation <code>convert</code> option is on (enabled by default), the string\nwill be forced to lowercase.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">lowercase</span>();</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#stringlowercase-1\"><code>string.lowercase</code></a></p>\n<h4>\n<a id=\"stringuppercase\" class=\"anchor\" href=\"#stringuppercase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.uppercase()</code>\n</h4>\n<p>Requires the string value to be all uppercase. If the validation <code>convert</code> option is on (enabled by default), the string\nwill be forced to uppercase.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">uppercase</span>();</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#stringuppercase-1\"><code>string.uppercase</code></a></p>\n<h4>\n<a id=\"stringtrimenabled\" class=\"anchor\" href=\"#stringtrimenabled\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.trim([enabled])</code>\n</h4>\n<p>Requires the string value to contain no whitespace before or after. If the validation <code>convert</code> option is on (enabled by\ndefault), the string will be trimmed.</p>\n<p>Parameters are:</p>\n<ul>\n<li>\n<code>enabled</code> - optional parameter defaulting to <code>true</code> which allows you to reset the behavior of trim by providing a falsy value.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">trim</span>();\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">trim</span>(<span class=\"pl-c1\">false</span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> disable trim flag</span></pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#stringtrim\"><code>string.trim</code></a></p>\n<h4>\n<a id=\"stringisodate\" class=\"anchor\" href=\"#stringisodate\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.isoDate()</code>\n</h4>\n<p>Requires the string value to be in valid ISO 8601 date format.\nIf the validation <code>convert</code> option is on (enabled by default), the string will be forced to simplified extended ISO format (ISO 8601). Be aware that this operation uses javascript Date object, which does not support the full ISO format, so a few formats might not pass when using <code>convert</code>.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">isoDate</span>();</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#stringisodate-1\"><code>string.isoDate</code></a></p>\n<h3>\n<a id=\"symbol---inherits-from-any\" class=\"anchor\" href=\"#symbol---inherits-from-any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>symbol</code> - inherits from <code>Any</code>\n</h3>\n<p>Generates a schema object that matches a <code>Symbol</code> data type.</p>\n<p>If the validation <code>convert</code> option is on (enabled by default), the mappings declared in <code>map()</code> will be tried for an eventual match.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">symbol</span>().<span class=\"pl-en\">map</span>({ <span class=\"pl-s\"><span class=\"pl-pds\">'</span>foo<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-c1\">Symbol</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>foo<span class=\"pl-pds\">'</span></span>), <span class=\"pl-s\"><span class=\"pl-pds\">'</span>bar<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-c1\">Symbol</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>bar<span class=\"pl-pds\">'</span></span>) });\n<span class=\"pl-smi\">schema</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>foo<span class=\"pl-pds\">'</span></span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { });</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#symbolbase\"><code>symbol.base</code></a></p>\n<h4>\n<a id=\"symbolmapmap\" class=\"anchor\" href=\"#symbolmapmap\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>symbol.map(map)</code>\n</h4>\n<p>Allows values to be transformed into <code>Symbol</code>s, where:</p>\n<ul>\n<li>\n<code>map</code> - mapping declaration that can be:\n<ul>\n<li>an object, where keys are strings, and values are <code>Symbol</code>s</li>\n<li>an array of arrays of length 2, where for each sub-array, the 1st element must be anything but an object, a function or a <code>Symbol</code>, and the 2nd element must be a Symbol</li>\n<li>a <code>Map</code>, following the same principles as the array above</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">symbol</span>().<span class=\"pl-en\">map</span>([\n    [<span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">Symbol</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>one<span class=\"pl-pds\">'</span></span>)],\n    [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>two<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">Symbol</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>two<span class=\"pl-pds\">'</span></span>)]\n]);</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#symbolmap\"><code>symbol.map</code></a></p>\n<h3>\n<a id=\"alternatives---inherits-from-any\" class=\"anchor\" href=\"#alternatives---inherits-from-any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>alternatives</code> - inherits from <code>Any</code>\n</h3>\n<p>Generates a type that will match one of the provided alternative schemas via the <a href=\"#alternativestryschemas\"><code>try()</code></a>\nmethod. If no schemas are added, the type will not match any value except for <code>undefined</code>.</p>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<p>Alternatives can be expressed using the shorter <code>[]</code> notation.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">alt</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">alternatives</span>().<span class=\"pl-en\">try</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>());\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Same as [Joi.number(), Joi.string()]</span></pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#alternativesbase\"><code>alternatives.base</code></a></p>\n<h4>\n<a id=\"alternativestryschemas\" class=\"anchor\" href=\"#alternativestryschemas\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>alternatives.try(schemas)</code>\n</h4>\n<p>Adds an alternative schema type for attempting to match against the validated value where:</p>\n<ul>\n<li>\n<code>schema</code> - an array of alternative <strong>joi</strong> types. Also supports providing each type as a separate argument.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">alt</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">alternatives</span>().<span class=\"pl-en\">try</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>(), <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>());\n<span class=\"pl-smi\">alt</span>.<span class=\"pl-en\">validate</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">value</span>) <span class=\"pl-k\">=&gt;</span> { });</pre></div>\n<h4>\n<a id=\"alternativeswhencondition-options\" class=\"anchor\" href=\"#alternativeswhencondition-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>alternatives.when(condition, options)</code>\n</h4>\n<p>Adds a conditional alternative schema type, either based on another key (not the same as <code>any.when()</code>) value, or a\nschema peeking into the current value, where:</p>\n<ul>\n<li>\n<code>condition</code> - the key name or <a href=\"#refkey-options\">reference</a>, or a schema.</li>\n<li>\n<code>options</code> - an object with:\n<ul>\n<li>\n<code>is</code> - the required condition <strong>joi</strong> type. Forbidden when <code>condition</code> is a schema.</li>\n<li>\n<code>then</code> - the alternative schema type to <strong>try</strong> if the condition is true. Required if <code>otherwise</code> is missing.</li>\n<li>\n<code>otherwise</code> - the alternative schema type to <strong>try</strong> if the condition is false. Required if <code>then</code> is missing.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">alternatives</span>().<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, { is<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span>, then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(), otherwise<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>() }),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n};</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">alternatives</span>().<span class=\"pl-en\">when</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({ b<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span> }).<span class=\"pl-en\">unknown</span>(), {\n    then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n        a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>(),\n        b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n    }),\n    otherwise<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n        a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">number</span>(),\n        b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">any</span>()\n    })\n});</pre></div>\n<p>Note that <code>when()</code> only adds additional alternatives to try and does not impact the overall type. Setting\na <code>required()</code> rule on a single alternative will not apply to the overall key. For example,\nthis definition of <code>a</code>:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">alternatives</span>().<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, { is<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>, then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">required</span>() }),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>()\n};</pre></div>\n<p>Does not turn <code>a</code> into a required key when <code>b</code> is <code>true</code>. Instead, it tells the validator to try and match the\nvalue to anything that's not <code>undefined</code>. However, since <code>Joi.alternatives()</code> by itself allows <code>undefined</code>, the rule\ndoes not accomplish turning <code>a</code> to a required value. This rule is the same as <code>Joi.alternatives([Joi.required()])</code>\nwhen <code>b</code> is <code>true</code> which will allow any value including <code>undefined</code>.</p>\n<p>To accomplish the desired result above use:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">schema</span> <span class=\"pl-k\">=</span> {\n    a<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">when</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>, { is<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>, then<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">required</span>() }),\n    b<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">boolean</span>()\n};</pre></div>\n<h3>\n<a id=\"lazyfn-options---inherits-from-any\" class=\"anchor\" href=\"#lazyfn-options---inherits-from-any\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>lazy(fn[, options])</code> - inherits from <code>Any</code>\n</h3>\n<p>Generates a placeholder schema for a schema that you would provide where:</p>\n<ul>\n<li>\n<code>fn</code> - is a function returning the actual schema to use for validation.</li>\n<li>\n<code>options</code>:\n<ul>\n<li>\n<code>once</code> - enables or disables the single evaluation behavior. When <code>false</code>, the function will be called every time a validation happens, otherwise the schema will be cached for further re-use. Defaults to <code>true</code>.</li>\n</ul>\n</li>\n</ul>\n<p>Supports the same methods of the <a href=\"#any\"><code>any()</code></a> type.</p>\n<p>This is mostly useful for recursive schemas, like :</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Person</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-c1\">object</span>({\n    firstName<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(),\n    lastName<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">string</span>().<span class=\"pl-en\">required</span>(),\n    children<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">array</span>().<span class=\"pl-en\">items</span>(<span class=\"pl-smi\">Joi</span>.<span class=\"pl-en\">lazy</span>(() <span class=\"pl-k\">=&gt;</span> Person).<span class=\"pl-c1\">description</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Person schema<span class=\"pl-pds\">'</span></span>))\n});</pre></div>\n<p><g-emoji class=\"g-emoji\" alias=\"boom\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4a5.png\"></g-emoji> Possible validation errors:<a href=\"#lazybase\"><code>lazy.base</code></a>, <a href=\"#lazyschema\"><code>lazy.schema</code></a></p>\n<h2>\n<a id=\"errors\" class=\"anchor\" href=\"#errors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Errors</h2>\n<p>Joi throws classical javascript <code>Error</code>s containing :</p>\n<ul>\n<li>\n<code>name</code> - <code>'ValidationError'</code>.</li>\n<li>\n<code>isJoi</code> - <code>true</code>.</li>\n<li>\n<code>details</code> - an array of errors :\n<ul>\n<li>\n<code>message</code> - string with a description of the error.</li>\n<li>\n<code>path</code> - ordered array where each element is the accessor to the value where the error happened.</li>\n<li>\n<code>type</code> - type of the error.</li>\n<li>\n<code>context</code> - object providing context of the error containing at least:\n<ul>\n<li>\n<code>key</code> - key of the value that errored, equivalent to the last element of <code>details.path</code>.</li>\n<li>\n<code>label</code> - label of the value that errored, or the <code>key</code> if any, or the default <code>language.root</code>.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>annotate</code> - function that returns a string with an annotated version of the object pointing at the places where errors occurred. Takes an optional parameter that, if truthy, will strip the colors out of the output.</li>\n<li>\n<code>_object</code> - the original object to validate.</li>\n</ul>\n<h3>\n<a id=\"list-of-errors\" class=\"anchor\" href=\"#list-of-errors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>List of errors</h3>\n\n<h4>\n<a id=\"alternativesbase\" class=\"anchor\" href=\"#alternativesbase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>alternatives.base</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>No alternative matched the input.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n}</pre></div>\n<h4>\n<a id=\"anyallowonly\" class=\"anchor\" href=\"#anyallowonly\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.allowOnly</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>Only some values were allowed, the input didn't match any of them.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">valids</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">any</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Contains the list of the valid values that were expected</span>\n}</pre></div>\n<h4>\n<a id=\"anydefault\" class=\"anchor\" href=\"#anydefault\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.default</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>If your <a href=\"#anydefaultvalue-description\"><code>any.default()</code></a> generator function throws error, you will have it here.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">error</span>: <span class=\"pl-c1\">Error</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Error generated during the default value function call</span>\n}</pre></div>\n<h4>\n<a id=\"anyempty\" class=\"anchor\" href=\"#anyempty\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.empty</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>When an empty string is found and denied by invalid values.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Empty string</span>\n    <span class=\"pl-en\">invalids</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">any</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Contains the list of the invalid values that should be rejected</span>\n}</pre></div>\n<h4>\n<a id=\"anyinvalid\" class=\"anchor\" href=\"#anyinvalid\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.invalid</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The value matched a value listed in the invalid values.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Value being validated</span>\n    <span class=\"pl-en\">invalids</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">any</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Contains the list of the invalid values that should be rejected</span>\n}</pre></div>\n<h4>\n<a id=\"anyrequired\" class=\"anchor\" href=\"#anyrequired\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.required</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>A required value wasn't present.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n}</pre></div>\n<h4>\n<a id=\"anyunknown\" class=\"anchor\" href=\"#anyunknown\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>any.unknown</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>A value was present while it wasn't expected.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n}</pre></div>\n<h4>\n<a id=\"arraybase\" class=\"anchor\" href=\"#arraybase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.base</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The value is not of Array type or could not be cast to an Array from a string.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n}</pre></div>\n<h4>\n<a id=\"arrayexcludes\" class=\"anchor\" href=\"#arrayexcludes\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.excludes</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The array contains a value that is part of the exclusion list.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">pos</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Index where the value was found in the array</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Value that matched an exclude condition</span>\n}</pre></div>\n<h4>\n<a id=\"arrayexcludessingle\" class=\"anchor\" href=\"#arrayexcludessingle\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.excludesSingle</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>Same as <code>array.excludes</code> but the value was a single value. Happens with <a href=\"#arraysingleenabled\"><code>array.single()</code></a>.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">pos</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Index where the value was found in the array</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Value that matched an exclude condition</span>\n}</pre></div>\n<h4>\n<a id=\"arrayincludesrequiredboth\" class=\"anchor\" href=\"#arrayincludesrequiredboth\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.includesRequiredBoth</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>Some values were expected to be present in the array and are missing. This error happens when we have a mix of labelled and unlabelled schemas.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">knownMisses</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Labels of all the missing values</span>\n    <span class=\"pl-en\">unknownMisees</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Count of missing values that didn't have a label</span>\n}</pre></div>\n<h4>\n<a id=\"arrayincludesrequiredknowns\" class=\"anchor\" href=\"#arrayincludesrequiredknowns\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.includesRequiredKnowns</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>Some values were expected to be present in the array and are missing. This error happens when we only have labelled schemas.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">knownMisses</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Labels of all the missing values</span>\n}</pre></div>\n<h4>\n<a id=\"arrayincludesrequiredunknowns\" class=\"anchor\" href=\"#arrayincludesrequiredunknowns\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.includesRequiredUnknowns</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>Some values were expected to be present in the array and are missing. This error happens when we only have unlabelled schemas.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">unknownMisees</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Count of missing values that didn't have a label</span>\n}</pre></div>\n<h4>\n<a id=\"arrayincludes\" class=\"anchor\" href=\"#arrayincludes\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.includes</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The value didn't match any of the allowed types for that array.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">pos</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Index where the value was found in the array</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Value that failed all the schemas</span>\n}</pre></div>\n<h4>\n<a id=\"arrayincludessingle\" class=\"anchor\" href=\"#arrayincludessingle\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.includesSingle</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>Same as <code>array.includes</code> but the value was a single value. Happens with <a href=\"#arraysingleenabled\"><code>array.single()</code></a>.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">pos</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Index where the value was found in the array</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Value that failed all the schemas</span>\n}</pre></div>\n<h4>\n<a id=\"arraylength\" class=\"anchor\" href=\"#arraylength\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.length</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The array is not of the expected length.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Length that was expected for this array</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">any</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The array itself</span>\n}</pre></div>\n<h4>\n<a id=\"arraymax\" class=\"anchor\" href=\"#arraymax\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.max</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The array has more elements than the maximum allowed.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Maximum length that was expected for this array</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">any</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The array itself</span>\n}</pre></div>\n<h4>\n<a id=\"arraymin\" class=\"anchor\" href=\"#arraymin\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.min</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The array has less elements than the minimum allowed.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Minimum length that was expected for this array</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">any</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The array itself</span>\n}</pre></div>\n<h4>\n<a id=\"arrayorderedlength\" class=\"anchor\" href=\"#arrayorderedlength\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.orderedLength</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>Given an <a href=\"#arrayorderedtype\"><code>array.ordered()</code></a>, that array has more elements than it should.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">pos</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Index where the value was found in the array</span>\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Maximum length that was expected for this array</span>\n}</pre></div>\n<h4>\n<a id=\"arrayref\" class=\"anchor\" href=\"#arrayref\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.ref</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>A reference was used in one of <a href=\"#arrayminlimit\"><code>array.min()</code></a>, <a href=\"#arraymaxlimit\"><code>array.max()</code></a> or <a href=\"#arraylengthlimit\"><code>array.length()</code></a> and the value pointed to by that reference in the input is not a valid number for those rules.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">ref</span>: <span class=\"pl-smi\">Reference</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Reference used</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Value found using the reference</span>\n}</pre></div>\n<h4>\n<a id=\"arraysparse\" class=\"anchor\" href=\"#arraysparse\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.sparse</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>An <code>undefined</code> value was found in an array that shouldn't be sparse.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">pos</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Index where an undefined value was found in the array</span>\n}</pre></div>\n<h4>\n<a id=\"arrayunique\" class=\"anchor\" href=\"#arrayunique\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.unique</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>A duplicate value was found in an array.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">pos</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Index where the duplicate value was found in the array</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Value that is duplicated</span>\n    <span class=\"pl-en\">dupePos</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Index where the first appearance of the duplicate value was found in the array</span>\n    <span class=\"pl-en\">dupeValue</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Value with which the duplicate was met</span>\n}</pre></div>\n<h4>\n<a id=\"arrayhasknown\" class=\"anchor\" href=\"#arrayhasknown\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.hasKnown</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The schema on an <a href=\"#arrayhas\"><code>array.has()</code></a> was not found in the array. This error happens when the schema is labelled.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">patternLabel</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label of assertion schema</span>\n}</pre></div>\n<h4>\n<a id=\"arrayhasunknown\" class=\"anchor\" href=\"#arrayhasunknown\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>array.hasUnknown</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The schema on an <a href=\"#arrayhas\"><code>array.has()</code></a> was not found in the array. This error happens when the schema is unlabelled.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n}</pre></div>\n<h4>\n<a id=\"binarybase\" class=\"anchor\" href=\"#binarybase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>binary.base</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The value is either not a Buffer or could not be cast to a Buffer from a string.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n}</pre></div>\n<h4>\n<a id=\"binarylength\" class=\"anchor\" href=\"#binarylength\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>binary.length</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The buffer was not of the specified length.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Length that was expected for this buffer</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-c1\">Buffer</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The buffer itself</span>\n}</pre></div>\n<h4>\n<a id=\"binarymax\" class=\"anchor\" href=\"#binarymax\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>binary.max</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The buffer contains more bytes than expected.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Maximum length that was expected for this buffer</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-c1\">Buffer</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The buffer itself</span>\n}</pre></div>\n<h4>\n<a id=\"binarymin\" class=\"anchor\" href=\"#binarymin\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>binary.min</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The buffer contains less bytes than expected.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Minimum length that was expected for this buffer</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-c1\">Buffer</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The buffer itself</span>\n}</pre></div>\n<h4>\n<a id=\"booleanbase\" class=\"anchor\" href=\"#booleanbase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>boolean.base</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The value is either not a boolean or could not be cast to a boolean from one of the truthy or falsy values.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"datebase\" class=\"anchor\" href=\"#datebase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.base</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The value is either not a date or could not be cast to a date from a string or a number.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"dategreater\" class=\"anchor\" href=\"#dategreater\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.greater</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The date is over the limit that you set.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-c1\">Date</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Maximum date</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-c1\">Date</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value as Date</span>\n}</pre></div>\n<h4>\n<a id=\"dateisodate\" class=\"anchor\" href=\"#dateisodate\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.isoDate</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The date does not match the ISO 8601 format.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"dateless\" class=\"anchor\" href=\"#dateless\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.less</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The date is under the limit that you set.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-c1\">Date</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Minimum date</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-c1\">Date</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value as Date</span>\n}</pre></div>\n<h4>\n<a id=\"datemax\" class=\"anchor\" href=\"#datemax\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.max</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The date is over or equal to the limit that you set.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-c1\">Date</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Maximum date</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-c1\">Date</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value as Date</span>\n}</pre></div>\n<h4>\n<a id=\"datemin\" class=\"anchor\" href=\"#datemin\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.min</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The date is under or equal to the limit that you set.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-c1\">Date</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Minimum date</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-c1\">Date</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value as Date</span>\n}</pre></div>\n<h4>\n<a id=\"dateref\" class=\"anchor\" href=\"#dateref\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.ref</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>A reference was used in one of <a href=\"#datemindate\"><code>date.min()</code></a>, <a href=\"#datemaxdate\"><code>date.max()</code></a>, <a href=\"#datelessdate\"><code>date.less()</code></a> or <a href=\"#dategreaterdate\"><code>date.greater()</code></a> and the value pointed to by that reference in the input is not a valid date.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">ref</span>: <span class=\"pl-smi\">Reference</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Reference used</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Value found using the reference</span>\n}</pre></div>\n<h4>\n<a id=\"datestrict\" class=\"anchor\" href=\"#datestrict\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.strict</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>Occurs when the input is not a Date type and <code>convert</code> is disabled.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Value</span>\n}</pre></div>\n<h4>\n<a id=\"datetimestampjavascript\" class=\"anchor\" href=\"#datetimestampjavascript\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.timestamp.javascript</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>Failed to be converted from a string or a number to a date as JavaScript timestamp.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"datetimestampunix\" class=\"anchor\" href=\"#datetimestampunix\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>date.timestamp.unix</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>Failed to be converted from a string or a number to a date as Unix timestamp.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"functionarity\" class=\"anchor\" href=\"#functionarity\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>function.arity</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The number of arguments for the function doesn't match the required number.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">n</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Expected arity</span>\n}</pre></div>\n<h4>\n<a id=\"functionbase\" class=\"anchor\" href=\"#functionbase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>function.base</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The input is not a function.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"functionclass\" class=\"anchor\" href=\"#functionclass\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>function.class</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The input is not a JavaScript class.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"functionmaxarity\" class=\"anchor\" href=\"#functionmaxarity\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>function.maxArity</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The number of arguments for the function is over the required number.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">n</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Maximum expected arity</span>\n}</pre></div>\n<h4>\n<a id=\"functionminarity\" class=\"anchor\" href=\"#functionminarity\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>function.minArity</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The number of arguments for the function is under the required number.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">n</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Minimum expected arity</span>\n}</pre></div>\n<h4>\n<a id=\"functionref\" class=\"anchor\" href=\"#functionref\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>function.ref</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The function is not a <a href=\"#refkey-options\"><code>Joi.ref()</code></a>.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-k\">function</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"lazybase\" class=\"anchor\" href=\"#lazybase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>lazy.base</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The lazy function is not set.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n}</pre></div>\n<h4>\n<a id=\"lazyschema\" class=\"anchor\" href=\"#lazyschema\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>lazy.schema</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The lazy function didn't return a joi schema.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">schema</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The value return by the generator function</span>\n}</pre></div>\n<h4>\n<a id=\"numberbase\" class=\"anchor\" href=\"#numberbase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.base</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The value is not a number or could not be cast to a number.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"numbergreater\" class=\"anchor\" href=\"#numbergreater\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.greater</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The number is lower or equal to the limit that you set.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Minimum value that was expected for this number</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The number itself</span>\n}</pre></div>\n<h4>\n<a id=\"numberinteger-1\" class=\"anchor\" href=\"#numberinteger-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.integer</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The number is not a valid integer.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Value that failed, likely a floating number</span>\n}</pre></div>\n<h4>\n<a id=\"numberless\" class=\"anchor\" href=\"#numberless\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.less</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The number is higher or equal to the limit that you set.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Maximum value that was expected for this number</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The number itself</span>\n}</pre></div>\n<h4>\n<a id=\"numbermax\" class=\"anchor\" href=\"#numbermax\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.max</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The number is higher than the limit that you set.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Maximum value that was expected for this number</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The number itself</span>\n}</pre></div>\n<h4>\n<a id=\"numbermin\" class=\"anchor\" href=\"#numbermin\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.min</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The number is lower than the limit that you set.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Minimum value that was expected for this number</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The number itself</span>\n}</pre></div>\n<h4>\n<a id=\"numbermultiple\" class=\"anchor\" href=\"#numbermultiple\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.multiple</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The number could not be divided by the multiple you provided.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">multiple</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> The number of which the input is supposed to be a multiple of</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The number itself</span>\n}</pre></div>\n<h4>\n<a id=\"numbernegative-1\" class=\"anchor\" href=\"#numbernegative-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.negative</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The number was positive.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The number itself</span>\n}</pre></div>\n<h4>\n<a id=\"numberport-1\" class=\"anchor\" href=\"#numberport-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.port</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The number didn't look like a port number.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The number itself </span>\n}</pre></div>\n<h4>\n<a id=\"numberpositive-1\" class=\"anchor\" href=\"#numberpositive-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.positive</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The number was negative.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The number itself</span>\n}</pre></div>\n<h4>\n<a id=\"numberprecision\" class=\"anchor\" href=\"#numberprecision\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.precision</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The number didn't have the required precision.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> The precision that it should have had</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">number</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The number itself</span>\n}</pre></div>\n<h4>\n<a id=\"numberref\" class=\"anchor\" href=\"#numberref\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.ref</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>A reference was used in one of <a href=\"#numberminlimit\"><code>number.min()</code></a>, <a href=\"#numbermaxlimit\"><code>number.max()</code></a>, <a href=\"#numberlesslimit\"><code>number.less()</code></a>, <a href=\"#numbergreaterlimit\"><code>number.greater()</code></a>, or <a href=\"#numbermultiplebase\"><code>number.multiple()</code></a> and the value pointed to by that reference in the input is not a valid number.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">ref</span>: <span class=\"pl-smi\">Reference</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Reference used</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Value found using the reference</span>\n}</pre></div>\n<h4>\n<a id=\"numberunsafe\" class=\"anchor\" href=\"#numberunsafe\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>number.unsafe</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The number is not within the safe range of JavaScript numbers.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"objectallowunknown\" class=\"anchor\" href=\"#objectallowunknown\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.allowUnknown</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>An unexpected property was found in the object.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">child</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Property that is unexpected</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Value of that property</span>\n}</pre></div>\n<h4>\n<a id=\"objectand\" class=\"anchor\" href=\"#objectand\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.and</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The AND condition between the properties you specified was not satisfied in that object.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">present</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of properties that are set</span>\n    <span class=\"pl-en\">presentWithLabels</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of labels for the properties that are set</span>\n    <span class=\"pl-en\">missing</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of properties that are not set</span>\n    <span class=\"pl-en\">missingWithLabels</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of labels for the properties that are not set</span>\n}</pre></div>\n<h4>\n<a id=\"objectassert\" class=\"anchor\" href=\"#objectassert\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.assert</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The schema on an <a href=\"#objectassertref-schema-message\"><code>object.assert()</code></a> failed to validate.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">ref</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Dotted path to the property that was checked</span>\n    <span class=\"pl-en\">message</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Custom message or default one</span>\n}</pre></div>\n<h4>\n<a id=\"objectbase\" class=\"anchor\" href=\"#objectbase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.base</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The value is not of object type or could not be cast to an object from a string.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"objectlength\" class=\"anchor\" href=\"#objectlength\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.length</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The number of keys for this object is not of the expected length.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Number of keys that was expected for this object</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">object</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The object itself</span>\n}</pre></div>\n<h4>\n<a id=\"objectmax\" class=\"anchor\" href=\"#objectmax\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.max</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The number of keys for this object is over or equal to the limit that you set.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Maximum number of keys</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">object</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"objectmin\" class=\"anchor\" href=\"#objectmin\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.min</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The number of keys for this object is under or equal to the limit that you set.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Minimum number of keys</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">object</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"objectmissing\" class=\"anchor\" href=\"#objectmissing\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.missing</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The OR or XOR condition between the properties you specified was not satisfied in that object, none of it were set.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">peers</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of properties were none of it was set</span>\n    <span class=\"pl-en\">peersWithLabels</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of labels for the properties were none of it was set</span>\n}</pre></div>\n<h4>\n<a id=\"objectnand\" class=\"anchor\" href=\"#objectnand\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.nand</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The NAND condition between the properties you specified was not satisfied in that object.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">main</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> One of the properties that was present</span>\n    <span class=\"pl-en\">mainWithLabel</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> The label of the `main` property</span>\n    <span class=\"pl-en\">peers</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of the other properties that were present</span>\n    <span class=\"pl-en\">peersWithLabels</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of the labels of the other properties that were present</span>\n}</pre></div>\n<h4>\n<a id=\"objectrenamemultiple\" class=\"anchor\" href=\"#objectrenamemultiple\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.rename.multiple</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>Another rename was already done to the same target property.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">from</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Origin property name of the rename</span>\n    <span class=\"pl-en\">to</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Target property of the rename</span>\n}</pre></div>\n<h4>\n<a id=\"objectrenameoverride\" class=\"anchor\" href=\"#objectrenameoverride\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.rename.override</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The target property already exists and you disallowed overrides.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">from</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Origin property name of the rename</span>\n    <span class=\"pl-en\">to</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Target property of the rename</span>\n}</pre></div>\n<h4>\n<a id=\"objectrenameregexmultiple\" class=\"anchor\" href=\"#objectrenameregexmultiple\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.rename.regex.multiple</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The target property already exists and you disallowed overrides.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">from</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of property names that matched the regex</span>\n    <span class=\"pl-en\">to</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Target property of the rename</span>\n}</pre></div>\n<h4>\n<a id=\"objectrenameregexoverride\" class=\"anchor\" href=\"#objectrenameregexoverride\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.rename.regex.override</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The target property already exists and you disallowed overrides.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">from</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of property names that matched the regex</span>\n    <span class=\"pl-en\">to</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Target property of the rename</span>\n}</pre></div>\n<h4>\n<a id=\"objectschema-1\" class=\"anchor\" href=\"#objectschema-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.schema</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The object was not a joi schema.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n}</pre></div>\n<h4>\n<a id=\"objecttype\" class=\"anchor\" href=\"#objecttype\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.type</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The object is not of the type you specified.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">type</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Type name the object should have been</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">object</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"objectwith\" class=\"anchor\" href=\"#objectwith\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.with</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>Property that should have been present at the same time as another one was missing.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">main</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Property that triggered the check</span>\n    <span class=\"pl-en\">mainWithLabel</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label of the property that triggered the check</span>\n    <span class=\"pl-en\">peer</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Property that was missing</span>\n    <span class=\"pl-en\">peerWithLabels</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label of the other property that was missing</span>\n}</pre></div>\n<h4>\n<a id=\"objectwithout\" class=\"anchor\" href=\"#objectwithout\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.without</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>Property that should have been absent at the same time as another one was present.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">main</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Property that triggered the check</span>\n    <span class=\"pl-en\">mainWithLabel</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label of the property that triggered the check</span>\n    <span class=\"pl-en\">peer</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Property that was present</span>\n    <span class=\"pl-en\">peerWithLabels</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label of the other property that was present</span>\n}</pre></div>\n<h4>\n<a id=\"objectxor\" class=\"anchor\" href=\"#objectxor\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.xor</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The XOR condition between the properties you specified was not satisfied in that object.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">peers</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of properties where none of it or too many of it was set</span>\n    <span class=\"pl-en\">peersWithLabels</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of labels for the properties where none of it or too many of it was set</span>\n}</pre></div>\n<h4>\n<a id=\"objectoxor\" class=\"anchor\" href=\"#objectoxor\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>object.oxor</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The optional XOR condition between the properties you specified was not satisfied in that object.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">peers</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of properties where too many of it was set</span>\n    <span class=\"pl-en\">peersWithLabels</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of labels for the properties where too many of it was set</span>\n}</pre></div>\n<h4>\n<a id=\"stringalphanum-1\" class=\"anchor\" href=\"#stringalphanum-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.alphanum</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string doesn't only contain alphanumeric characters.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringbase64\" class=\"anchor\" href=\"#stringbase64\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.base64</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string isn't a valid base64 string.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringbase\" class=\"anchor\" href=\"#stringbase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.base</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The input is not a string.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringcreditcard-1\" class=\"anchor\" href=\"#stringcreditcard-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.creditCard</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string is not a valid credit card number.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringdatauri\" class=\"anchor\" href=\"#stringdatauri\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.dataUri</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string is not a valid data URI.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringemail\" class=\"anchor\" href=\"#stringemail\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.email</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string is not a valid e-mail.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringguid\" class=\"anchor\" href=\"#stringguid\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.guid</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string is not a valid GUID.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringhexalign\" class=\"anchor\" href=\"#stringhexalign\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.hexAlign</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string contains hexadecimal characters but they are not byte-aligned.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringhex\" class=\"anchor\" href=\"#stringhex\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.hex</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string is not a valid hexadecimal string.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringhostname-1\" class=\"anchor\" href=\"#stringhostname-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.hostname</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string is not a valid hostname.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringipversion\" class=\"anchor\" href=\"#stringipversion\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.ipVersion</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string is not a valid IP address considering the provided constraints.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">cidr</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> CIDR used for the validation</span>\n    <span class=\"pl-en\">version</span>: <span class=\"pl-c1\">Array</span><span class=\"pl-k\">&lt;</span><span class=\"pl-smi\">string</span><span class=\"pl-k\">&gt;</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> List of IP version accepted</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringip\" class=\"anchor\" href=\"#stringip\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.ip</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string is not a valid IP address.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">cidr</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> CIDR used for the validation</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringisodate-1\" class=\"anchor\" href=\"#stringisodate-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.isoDate</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string is not a valid ISO date string.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringlength\" class=\"anchor\" href=\"#stringlength\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.length</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string is not of the expected length.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Length that was expected for this string</span>\n    <span class=\"pl-en\">encoding</span>: <span class=\"pl-c1\">undefined</span> <span class=\"pl-k\">|</span> <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Encoding specified for the check if any</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringlowercase-1\" class=\"anchor\" href=\"#stringlowercase-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.lowercase</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string isn't all lower-cased.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringmax\" class=\"anchor\" href=\"#stringmax\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.max</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string is larger than expected.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Maximum length that was expected for this string</span>\n    <span class=\"pl-en\">encoding</span>: <span class=\"pl-c1\">undefined</span> <span class=\"pl-k\">|</span> <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Encoding specified for the check if any</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringmin\" class=\"anchor\" href=\"#stringmin\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.min</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string is smaller than expected.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">limit</span>: <span class=\"pl-smi\">number</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Minimum length that was expected for this string</span>\n    <span class=\"pl-en\">encoding</span>: <span class=\"pl-c1\">undefined</span> <span class=\"pl-k\">|</span> <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Encoding specified for the check if any</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringnormalize\" class=\"anchor\" href=\"#stringnormalize\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.normalize</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string isn't valid in regards of the normalization form expected.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">form</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Normalization form that is expected</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringref\" class=\"anchor\" href=\"#stringref\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.ref</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>A reference was used in one of <a href=\"#stringminlimit-encoding\"><code>string.min()</code></a>, <a href=\"#stringmaxlimit-encoding\"><code>string.max()</code></a> or <a href=\"#stringlengthlimit-encoding\"><code>string.length()</code></a> and the value pointed to by that reference in the input is not a valid number for those rules.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">ref</span>: <span class=\"pl-smi\">Reference</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Reference used</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Value found using the reference</span>\n}</pre></div>\n<h4>\n<a id=\"stringregexbase\" class=\"anchor\" href=\"#stringregexbase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.regex.base</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string didn't match the regular expression.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">name</span>: <span class=\"pl-c1\">undefined</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Undefined since the regular expression has no name</span>\n    <span class=\"pl-en\">pattern</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Regular expression</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringregexname\" class=\"anchor\" href=\"#stringregexname\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.regex.name</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string didn't match the named regular expression.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">name</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Name of the regular expression</span>\n    <span class=\"pl-en\">pattern</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Regular expression</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringregexinvertbase\" class=\"anchor\" href=\"#stringregexinvertbase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.regex.invert.base</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string matched the regular expression while it shouldn't.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">name</span>: <span class=\"pl-c1\">undefined</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Undefined since the regular expression has no name</span>\n    <span class=\"pl-en\">pattern</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Regular expression</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringregexinvertname\" class=\"anchor\" href=\"#stringregexinvertname\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.regex.invert.name</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string matched the named regular expression while it shouldn't.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">name</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Name of the regular expression</span>\n    <span class=\"pl-en\">pattern</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Regular expression</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringtoken-1\" class=\"anchor\" href=\"#stringtoken-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.token</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string isn't a token.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringtrim\" class=\"anchor\" href=\"#stringtrim\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.trim</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string contains whitespaces around it.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringuppercase-1\" class=\"anchor\" href=\"#stringuppercase-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.uppercase</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string isn't all upper-cased.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringuri\" class=\"anchor\" href=\"#stringuri\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.uri</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string isn't a valid URI.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringuricustomscheme\" class=\"anchor\" href=\"#stringuricustomscheme\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.uriCustomScheme</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string isn't a valid URI considering the custom schemes.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">scheme</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Scheme prefix that is expected in the URI</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"stringurirelativeonly\" class=\"anchor\" href=\"#stringurirelativeonly\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>string.uriRelativeOnly</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The string is a valid relative URI.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n}</pre></div>\n<h4>\n<a id=\"symbolbase\" class=\"anchor\" href=\"#symbolbase\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>symbol.base</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The input is not a Symbol.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n    <span class=\"pl-k\">...</span>\n}</pre></div>\n<h4>\n<a id=\"symbolmap\" class=\"anchor\" href=\"#symbolmap\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>symbol.map</code>\n</h4>\n<p><strong>Description</strong></p>\n<p>The input is not a Symbol or could not be converted to one.</p>\n<p><strong>Context</strong></p>\n<div class=\"highlight highlight-source-ts\"><pre>{\n    <span class=\"pl-en\">key</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Last element of the path accessing the value, `undefined` if at the root</span>\n    <span class=\"pl-en\">label</span>: <span class=\"pl-smi\">string</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Label if defined, otherwise it's the key</span>\n    <span class=\"pl-en\">value</span>: <span class=\"pl-smi\">any</span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Input value</span>\n    <span class=\"pl-k\">...</span>\n}</pre></div>\n\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"slogan":"The most powerful schema description language and data validator for JavaScript.","forks":1158,"stars":13820,"date":"2019-12-11T11:45:18Z","updated":"Wed Dec 11 2019","link":"https://github.com/hapijs/joi"},"joi-date":{"name":"joi-date","versions":[],"versionsArray":[],"slogan":"Extensions for advance date rules.","forks":13,"stars":58,"date":"2019-10-05T19:20:49Z","updated":"Sat Oct 05 2019","link":"https://github.com/hapijs/joi-date"},"jwt":{"name":"jwt","versions":[{"name":"1.1.2","branch":"master","license":"Commercial","node":" 12, 10, 8"}],"versionsArray":["1.1.2"],"1.1.2":{"menu":"- [`domain.analyze()`](#domainanalyzedomain-options)\n- [`domain.isValid()`](#domainisvaliddomain-options)\n- [`email.analyze()`](#emailanalyzeemail-options)\n- [`email.isValid()`](#emailisvalidemail-options)","api":"<h2>\n<a id=\"methods\" class=\"anchor\" href=\"#methods\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Methods</h2>\n<h3>\n<a id=\"domainanalyzedomain-options\" class=\"anchor\" href=\"#domainanalyzedomain-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>domain.analyze(domain, [options])</code>\n</h3>\n<p>Analyzes a string to verify it is a valid domain name where:</p>\n<ul>\n<li>\n<code>domain</code> - the domain name string being verified.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>allowUnicode</code> - if <code>false</code>, Unicode characters are not allowd in domain names. Defaults to <code>true</code>.</li>\n<li>\n<code>minDomainSegments</code> - the minimum number of domain segments (e.g. <code>x.y.z</code> has 3 segments) required. Defaults to <code>2</code>.</li>\n<li>\n<code>tlds</code> - options to validate the top-level-domain segment (e.g. <code>com</code> in <code>example.com</code>). Can be set to one of:\n<ul>\n<li>\n<code>false</code> - disable TLD validation.</li>\n<li>\n<code>true</code> - validate the TLD using the official list of <a href=\"http://data.iana.org/TLD/tlds-alpha-by-domain.txt\" rel=\"nofollow\">registered names</a>. This is the default setting.</li>\n<li>an object with one (and only one) of:\n<ul>\n<li>\n<code>deny</code> - a <code>Set</code> with strings matching forbidden TLD values (all non-matching values are allowed).</li>\n<li>\n<code>allow</code> - a <code>Set</code> with strings matching the only allowed TLD values. Can also be set to <code>true</code> which defaults to the official list of <a href=\"http://data.iana.org/TLD/tlds-alpha-by-domain.txt\" rel=\"nofollow\">registered names</a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>If the <code>domain</code> is valid, no return value. If the <code>domain</code> is invalid, an object is returned with:</p>\n<ul>\n<li>\n<code>error</code> - a string containing the reason the domain is invalid.</li>\n</ul>\n<h3>\n<a id=\"domainisvaliddomain-options\" class=\"anchor\" href=\"#domainisvaliddomain-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>domain.isValid(domain, [options])</code>\n</h3>\n<p>Validates a string to verify it is a valid domain name where:</p>\n<ul>\n<li>\n<code>domain</code> - the domain name string being verified.</li>\n<li>\n<code>options</code> - same options as <a href=\"#domainanalyzedomain-options\"><code>domain.analyze()</code></a>.</li>\n</ul>\n<h3>\n<a id=\"emailanalyzeemail-options\" class=\"anchor\" href=\"#emailanalyzeemail-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>email.analyze(email, [options])</code>\n</h3>\n<p>Analyzes a string to verify it is a valid email address where:</p>\n<ul>\n<li>\n<code>email</code> - the email address string being verified.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>allowUnicode</code> - if <code>false</code>, Unicode characters are not allowd in the email address local and domain parts. Defaults to <code>true</code>.</li>\n<li>\n<code>ignoreLength</code> - if <code>true</code>, the standards email maximum length limit is ignored. Defaults to <code>true</code>.</li>\n<li>\n<code>minDomainSegments</code> - the minimum number of domain segments (e.g. <code>x.y.z</code> has 3 segments) required in the domain part. Defaults to <code>2</code>.</li>\n<li>\n<code>tlds</code> - options to validate the top-level-domain segment (e.g. <code>com</code> in <code>example.com</code>) of the domain part. Can be set to one of:\n<ul>\n<li>\n<code>false</code> - disable TLD validation.</li>\n<li>\n<code>true</code> - validate the TLD using the official list of <a href=\"http://data.iana.org/TLD/tlds-alpha-by-domain.txt\" rel=\"nofollow\">registered names</a>. This is the default setting.</li>\n<li>an object with one (and only one) of:\n<ul>\n<li>\n<code>deny</code> - a <code>Set</code> with strings matching forbidden TLD values (all non-matching values are allowed).</li>\n<li>\n<code>allow</code> - a <code>Set</code> with strings matching the only allowed TLD values. Can also be set to <code>true</code> which defaults to the official list of <a href=\"http://data.iana.org/TLD/tlds-alpha-by-domain.txt\" rel=\"nofollow\">registered names</a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>If the <code>email</code> is valid, no return value. If the <code>email</code> is invalid, an object is returned with:</p>\n<ul>\n<li>\n<code>error</code> - a string containing the reason the email is invalid.</li>\n</ul>\n<h3>\n<a id=\"emailisvalidemail-options\" class=\"anchor\" href=\"#emailisvalidemail-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>email.isValid(email, [options])</code>\n</h3>\n<p>Validates a string to verify it is a valid email address where:</p>\n<ul>\n<li>\n<code>email</code> - the email address string being verified.</li>\n<li>\n<code>options</code> - same options as <a href=\"#emailanalyzeemail-options\"><code>email.analyze()</code></a>.</li>\n</ul>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"}},"lab":{"name":"lab","versions":[],"versionsArray":[],"slogan":"Node test utility.","forks":167,"stars":721,"date":"2019-10-14T07:46:42Z","updated":"Mon Oct 14 2019","link":"https://github.com/hapijs/lab"},"lab-external-module-test":{"name":"lab-external-module-test","versions":[{"name":"1.0.2","branch":"master","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["1.0.2"],"1.0.2":{"menu":"- [`new Formula()`](#new-formulaformula-options)\n- [`formula.evaluate()`](#formulaevaluatecontext)","api":"<h2>\n<a id=\"methods\" class=\"anchor\" href=\"#methods\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Methods</h2>\n<h3>\n<a id=\"new-formulaformula-options\" class=\"anchor\" href=\"#new-formulaformula-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Formula(formula, [options])</code>\n</h3>\n<p>Creates a new formula parser object where:</p>\n<ul>\n<li>\n<code>formula</code> - the formula string to parse.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>constants</code> - a hash of key-value pairs used to convert constants to values.</li>\n<li>\n<code>tokenRx</code> - a regular expression used to validate token variables.</li>\n<li>\n<code>reference</code> - a variable resolver factory function with signature <code>function(variable)</code> which returns a function with signature <code>function(context)</code> returning the resolved <code>variable</code>.</li>\n<li>\n<code>functions</code> - a hash of key-vaue pairs used to resolve formula functions.</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"formulaevaluatecontext\" class=\"anchor\" href=\"#formulaevaluatecontext\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>formula.evaluate([context])</code>\n</h3>\n<p>Evaluate the formula where:</p>\n<ul>\n<li>\n<code>context</code> - optional object with runtime formula context used to resolve variables.</li>\n</ul>\n<p>Returns the string or number outcome of the resolved formula.</p>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"}},"mimos":{"name":"mimos","versions":[{"name":"4.1.1","branch":"master","license":"BSD","node":" 12, 10, 8"},{"name":"3.1.0","branch":"v3-commercial","license":"Commercial","node":" 10, 8, 6"}],"versionsArray":["4.1.1","3.1.0"],"4.1.1":{"menu":"- [`new Mimos()`](#new-mimosoptions)\n- [`mimos.path()`](#mimospathpath)\n- [`mimos.type()`](#mimostypetype)","api":"<p>Mimos is a convenience class for retrieving mime information objects.</p>\n<h3>\n<a id=\"new-mimosoptions\" class=\"anchor\" href=\"#new-mimosoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Mimos([options])</code>\n</h3>\n<p>Creates a new Mimos object where:</p>\n<ul>\n<li>\n<code>[options]</code> - an option object the following keys\n<ul>\n<li>\n<code>[override]</code> - an object hash that is merged into the built in mime information specified <a href=\"https://github.com/jshttp/mime-db\">here</a>. Each key value pair represents a single mime object. Each override value should follow this schema:\n<ul>\n<li>\n<code>key</code> - the key is the lower-cased correct mime-type. (Ex. \"application/javascript\").</li>\n<li>\n<code>value</code> - the value should an object following the specifications outlined <a href=\"https://github.com/jshttp/mime-db#data-structure\">here</a>. Additional values include:\n<ul>\n<li>\n<code>type</code> - specify the <code>type</code> value of result objects, defaults to <code>key</code>. See the example below for more clarification.</li>\n<li>\n<code>predicate</code> - method with signature <code>function(mime)</code> when this mime type is found in the database, this function will run. This allows you make customizations to <code>mime</code> based on developer criteria.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"mimospathpath\" class=\"anchor\" href=\"#mimospathpath\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>mimos.path(path)</code>\n</h3>\n<p>Returns mime object where:</p>\n<ul>\n<li>\n<code>path</code> path to file including the file extension. Uses the <code>extension</code> values of the mime objects for lookup.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">mimos</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Mimos</span>();\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">mime</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">mimos</span>.<span class=\"pl-en\">path</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/static/public/app.js<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> mime</span>\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  charset: 'UTF-8',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: [ 'js' ],</span>\n<span class=\"pl-c\">  type: 'application/javascript'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span></pre></div>\n<h3>\n<a id=\"mimostypetype\" class=\"anchor\" href=\"#mimostypetype\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>mimos.type(type)</code>\n</h3>\n<p>Returns mime object where:</p>\n<ul>\n<li>\n<code>type</code> the content-type to find mime information about. Uses the <code>type</code> values of the mime objects for lookup.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">mimos</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Mimos</span>();\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">mime</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">mimos</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>text/plain<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> mime</span>\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['txt', 'text', 'conf', 'def', 'list', 'log', 'in', 'ini'],</span>\n<span class=\"pl-c\">  type: 'text/plain'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span></pre></div>\n","intro":"","example":"### Override Example\n\nIn certain situations, it can be helpful to override the built in mime type information. The optional argument to the Mimos constructor is used to override and add mime information. Below is an example to help understand how this works.\n\n```js\n\nconst options = {\n    override: {\n        'node/module': {\n            source: 'iana',\n            compressible: true,\n            extensions: ['node', 'module', 'npm'],\n            type: 'node/module'\n        },\n        'application/javascript': {\n            source: 'iana',\n            charset: 'UTF-8',\n            compressible: true,\n            extensions: ['js', 'javascript'],\n            type: 'text/javascript'\n        },\n        'text/html': {\n            predicate: function(mime) {\n                if (someCondition) {\n                    mime.foo = 'test';\n                }\n                else {\n                    mime.foo = 'bar';\n                }\n                return mime;\n            }\n        }\n    }\n}\n\nconst mimos = new Mimos(options);\nconsole.dir(mimos.path('./node_modules/mimos.module'));\n/*\n{\n  source: 'iana',\n  compressible: true,\n  extensions: ['node', 'module', 'npm'],\n  type: 'node/module'\n}\n*/\nconsole.dir(mimos.type('application/javascript'));\n/*\nNote: even though we asked for type 'application/javascript', the type value is 'text/javascript' because of the override. Always use the proper content-type for retrieval.\n{\n  source: 'iana',\n  charset: 'UTF-8',\n  compressible: true,\n  extensions: ['js', 'javascript'],\n  type: 'text/javascript'\n}\n*/\nconsole.dir(mimos.type('text/html'));\n/*\nsomeCondition is true:\n{\n  source: 'iana',\n  compressible: true,\n  extensions: ['html','htm'],\n  type: 'test/html',\n  foo: 'test'\n}\n\nsomeCondition is false:\n{\n  source: 'iana',\n  compressible: true,\n  extensions: ['html','htm'],\n  type: 'test/html',\n  foo: 'bar'\n}\n*/\n```","usage":"## Usage\n","faq":"","license":"BSD"},"3.1.0":{"menu":"- [`new Mimos()`](#new-mimosoptions)\n- [`mimos.path()`](#mimospathpath)\n- [`mimos.type()`](#mimostypetype)\n- [Override Example](#override-example)","api":"<h3>\n<a id=\"new-mimosoptions\" class=\"anchor\" href=\"#new-mimosoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Mimos([options])</code>\n</h3>\n<p>Creates a new Mimos object where:</p>\n<ul>\n<li>\n<code>[options]</code> - an option object the following keys\n<ul>\n<li>\n<code>[override]</code> - an object hash that is merged into the built in mime information specified <a href=\"https://github.com/jshttp/mime-db\">here</a>. Each key value pair represents a single mime object. Each override value should follow this schema:\n<ul>\n<li>\n<code>key</code> - the key is the lower-cased correct mime-type. (Ex. \"application/javascript\").</li>\n<li>\n<code>value</code> - the value should an object following the specifications outlined <a href=\"https://github.com/jshttp/mime-db#data-structure\">here</a>. Additional values include:\n<ul>\n<li>\n<code>type</code> - specify the <code>type</code> value of result objects, defaults to <code>key</code>. See the example below for more clarification.</li>\n<li>\n<code>predicate</code> - method with signature <code>function(mime)</code> when this mime type is found in the database, this function will run. This allows you make customizations to <code>mime</code> based on developer criteria.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"mimospathpath\" class=\"anchor\" href=\"#mimospathpath\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>mimos.path(path)</code>\n</h3>\n<p>Returns mime object where:</p>\n<ul>\n<li>\n<code>path</code> path to file including the file extension. Uses the <code>extension</code> values of the mime objects for lookup.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">mimos</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Mimos</span>();\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">mime</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">mimos</span>.<span class=\"pl-en\">path</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/static/public/app.js<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> mime</span>\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  charset: 'UTF-8',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: [ 'js' ],</span>\n<span class=\"pl-c\">  type: 'application/javascript'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span></pre></div>\n<h3>\n<a id=\"mimostypetype\" class=\"anchor\" href=\"#mimostypetype\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>mimos.type(type)</code>\n</h3>\n<p>Returns mime object where:</p>\n<ul>\n<li>\n<code>type</code> the content-type to find mime information about. Uses the <code>type</code> values of the mime objects for lookup.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">mimos</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Mimos</span>();\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">mime</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">mimos</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>text/plain<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> mime</span>\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['txt', 'text', 'conf', 'def', 'list', 'log', 'in', 'ini'],</span>\n<span class=\"pl-c\">  type: 'text/plain'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span></pre></div>\n<h3>\n<a id=\"override-example\" class=\"anchor\" href=\"#override-example\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Override Example</h3>\n<p>In certain situations, it can be helpful to override the built in mime type information. The optional argument to the Mimos constructor is used to override and add mime information. Below is an example to help understand how this works.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">options</span> <span class=\"pl-k\">=</span> {\n    override<span class=\"pl-k\">:</span> {\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span>node/module<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n            source<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>iana<span class=\"pl-pds\">'</span></span>,\n            compressible<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>,\n            extensions<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>node<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>module<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>npm<span class=\"pl-pds\">'</span></span>],\n            type<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>node/module<span class=\"pl-pds\">'</span></span>\n        },\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span>application/javascript<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n            source<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>iana<span class=\"pl-pds\">'</span></span>,\n            charset<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>UTF-8<span class=\"pl-pds\">'</span></span>,\n            compressible<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>,\n            extensions<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>js<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>javascript<span class=\"pl-pds\">'</span></span>],\n            type<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>text/javascript<span class=\"pl-pds\">'</span></span>\n        },\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span>text/html<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n            <span class=\"pl-en\">predicate</span><span class=\"pl-k\">:</span> <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">mime</span>) {\n                <span class=\"pl-k\">if</span> (someCondition) {\n                    <span class=\"pl-smi\">mime</span>.<span class=\"pl-smi\">foo</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>;\n                }\n                <span class=\"pl-k\">else</span> {\n                    <span class=\"pl-smi\">mime</span>.<span class=\"pl-smi\">foo</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>bar<span class=\"pl-pds\">'</span></span>;\n                }\n                <span class=\"pl-k\">return</span> mime;\n            }\n        }\n    }\n}\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">mimos</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Mimos</span>(options);\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">dir</span>(<span class=\"pl-smi\">mimos</span>.<span class=\"pl-en\">path</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>./node_modules/mimos.module<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['node', 'module', 'npm'],</span>\n<span class=\"pl-c\">  type: 'node/module'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">dir</span>(<span class=\"pl-smi\">mimos</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>application/javascript<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">Note: even though we asked for type 'application/javascript', the type value is 'text/javascript' because of the override. Always use the proper content-type for retrieval.</span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  charset: 'UTF-8',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['js', 'javascript'],</span>\n<span class=\"pl-c\">  type: 'text/javascript'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">dir</span>(<span class=\"pl-smi\">mimos</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>text/html<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">someCondition is true:</span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['html','htm'],</span>\n<span class=\"pl-c\">  type: 'test/html',</span>\n<span class=\"pl-c\">  foo: 'test'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"></span>\n<span class=\"pl-c\">someCondition is false:</span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['html','htm'],</span>\n<span class=\"pl-c\">  type: 'test/html',</span>\n<span class=\"pl-c\">  foo: 'bar'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span></pre></div>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"},"slogan":"Mime database interface.","forks":5,"stars":15,"date":"2019-10-09T00:35:40Z","updated":"Wed Oct 09 2019","link":"https://github.com/hapijs/mimos"},"nes":{"name":"nes","versions":[{"name":"11.2.2","branch":"master","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["11.2.2"],"11.2.2":{"menu":"- [Protocol](#protocol)\n  - [Route invocation](#route-invocation)\n    - [Server](#server)\n    - [Client](#client)\n  - [Subscriptions](#subscriptions)\n    - [Server](#server-1)\n    - [Client](#client-1)\n  - [Broadcast](#broadcast)\n    - [Server](#server-2)\n    - [Client](#client-2)\n  - [Route authentication](#route-authentication)\n    - [Server](#server-3)\n    - [Client](#client-3)\n  - [Subscription filter](#subscription-filter)\n    - [Server](#server-4)\n    - [Client](#client-4)\n  - [Browser Client](#browser-client)\n- [Registration](#registration)\n- [Server](#server-5)\n  - [`await server.broadcast()`](#await-serverbroadcastmessage-options)\n  - [`server.subscription()`](#serversubscriptionpath-options)\n  - [`await server.publish()`](#await-serverpublishpath-message-options)\n  - [`await server.eachSocket()`](#await-servereachsocketeach-options)\n- [Socket](#socket)\n  - [`socket.id`](#socketid)\n  - [`socket.app`](#socketapp)\n  - [`socket.auth`](#socketauth)\n  - [`socket.server`](#socketserver)\n  - [`socket.connection`](#socketconnection)\n  - [`socket.disconnect()`](#socketdisconnect)\n  - [`socket.isOpen()`](#socketisopen)\n  - [`await socket.send()`](#await-socketsendmessage)\n  - [`await socket.publish()`](#await-socketpublishpath-message)\n  - [`await socket.revoke()`](#await-socketrevokepath-message-options)\n- [Request](#request)\n  - [`request.socket`](#requestsocket)\n- [Client](#client-5)\n  - [`new Client()`](#new-clienturl-options)\n  - [`client.onError`](#clientonerror)\n  - [`client.onConnect`](#clientonconnect)\n  - [`client.onDisconnect`](#clientondisconnect)\n  - [`client.onHeartbeatTimeout`](#clientonheartbeattimeout)\n  - [`client.onUpdate`](#clientonupdate)\n  - [`await client.connect()`](#await-clientconnectoptions)\n  - [`await client.disconnect()`](#await-clientdisconnect)\n  - [`client.id`](#clientid)\n  - [`await client.request()`](#await-clientrequestoptions)\n  - [`await client.message()`](#await-clientmessagemessage)\n  - [`await client.subscribe()`](#await-clientsubscribepath-handler)\n  - [`await client.unsubscribe()`](#await-clientunsubscribepath-handler)\n  - [`client.subscriptions()`](#clientsubscriptions)\n  - [`client.overrideReconnectionAuth()`](#clientoverridereconnectionauthauth)\n  - [`await client.reauthenticate()`](#await-clientreauthenticateauth)\n  - [Errors](#errors)","api":"<h2>\n<a id=\"protocol\" class=\"anchor\" href=\"#protocol\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Protocol</h2>\n<p>The <strong>nes</strong> protocol is described in the <a href=\"https://github.com/hapijs/nes/blob/master/PROTOCOL.md\">Protocol documentation</a>.</p>\n<h3>\n<a id=\"route-invocation\" class=\"anchor\" href=\"#route-invocation\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Route invocation</h3>\n<h4>\n<a id=\"server\" class=\"anchor\" href=\"#server\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Server</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Hapi.Server</span>();\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(Nes);\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({\n        method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>,\n        path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/h<span class=\"pl-pds\">'</span></span>,\n        config<span class=\"pl-k\">:</span> {\n            id<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>hello<span class=\"pl-pds\">'</span></span>,\n            <span class=\"pl-en\">handler</span><span class=\"pl-k\">:</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">h</span>) <span class=\"pl-k\">=&gt;</span> {\n\n                <span class=\"pl-k\">return</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>world!<span class=\"pl-pds\">'</span></span>;\n            }\n        }\n    });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h4>\n<a id=\"client\" class=\"anchor\" href=\"#client\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Client</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> client <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Nes.Client</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ws://localhost<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">connect</span>();\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">payload</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">request</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>hello<span class=\"pl-pds\">'</span></span>);  <span class=\"pl-c\"><span class=\"pl-c\">//</span> Can also request '/h'</span>\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> payload -&gt; 'world!'</span>\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h3>\n<a id=\"subscriptions\" class=\"anchor\" href=\"#subscriptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Subscriptions</h3>\n<h4>\n<a id=\"server-1\" class=\"anchor\" href=\"#server-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Server</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Hapi.Server</span>();\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(Nes);\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">subscription</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/item/{id}<span class=\"pl-pds\">'</span></span>);\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">publish</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/item/5<span class=\"pl-pds\">'</span></span>, { id<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span>, status<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>complete<span class=\"pl-pds\">'</span></span> });\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">publish</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/item/6<span class=\"pl-pds\">'</span></span>, { id<span class=\"pl-k\">:</span> <span class=\"pl-c1\">6</span>, status<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>initial<span class=\"pl-pds\">'</span></span> });\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h4>\n<a id=\"client-1\" class=\"anchor\" href=\"#client-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Client</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">client</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Nes.Client</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ws://localhost<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">connect</span>();\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">handler</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">update</span>, <span class=\"pl-smi\">flags</span>) <span class=\"pl-k\">=&gt;</span> {\n\n        <span class=\"pl-c\"><span class=\"pl-c\">//</span> update -&gt; { id: 5, status: 'complete' }</span>\n        <span class=\"pl-c\"><span class=\"pl-c\">//</span> Second publish is not received (doesn't match)</span>\n    };\n\n    <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">subscribe</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/item/5<span class=\"pl-pds\">'</span></span>, handler);\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h3>\n<a id=\"broadcast\" class=\"anchor\" href=\"#broadcast\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Broadcast</h3>\n<h4>\n<a id=\"server-2\" class=\"anchor\" href=\"#server-2\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Server</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Hapi.Server</span>();\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(Nes);\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">broadcast</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>welcome!<span class=\"pl-pds\">'</span></span>);\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h4>\n<a id=\"client-2\" class=\"anchor\" href=\"#client-2\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Client</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">client</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Nes.Client</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ws://localhost<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">connect</span>();\n    <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">onUpdate</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">update</span>) <span class=\"pl-k\">=&gt;</span> {\n\n        <span class=\"pl-c\"><span class=\"pl-c\">//</span> update -&gt; 'welcome!'</span>\n    };\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h3>\n<a id=\"route-authentication\" class=\"anchor\" href=\"#route-authentication\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Route authentication</h3>\n<h4>\n<a id=\"server-3\" class=\"anchor\" href=\"#server-3\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Server</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Basic</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/basic<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Bcrypt</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>bcrypt<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Hapi.Server</span>();\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>([Basic, Nes]);\n\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Set up HTTP Basic authentication</span>\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">users</span> <span class=\"pl-k\">=</span> {\n        john<span class=\"pl-k\">:</span> {\n            username<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>john<span class=\"pl-pds\">'</span></span>,\n            password<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>$2a$10$iqJSHD.BGr0E2IxQwYgJmeP3NvhPrXAeLSaGCj6IR/XU5QtjVu5Tm<span class=\"pl-pds\">'</span></span>,   <span class=\"pl-c\"><span class=\"pl-c\">//</span> 'secret'</span>\n            name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>John Doe<span class=\"pl-pds\">'</span></span>,\n            id<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>2133d32a<span class=\"pl-pds\">'</span></span>\n        }\n    };\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">validate</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">username</span>, <span class=\"pl-smi\">password</span>) <span class=\"pl-k\">=&gt;</span> {\n\n        <span class=\"pl-k\">const</span> <span class=\"pl-c1\">user</span> <span class=\"pl-k\">=</span> users[username];\n        <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span>user) {\n            <span class=\"pl-k\">return</span> { isValid<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> };\n        }\n\n        <span class=\"pl-k\">const</span> <span class=\"pl-c1\">isValid</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-smi\">Bcrypt</span>.<span class=\"pl-en\">compare</span>(password, <span class=\"pl-smi\">user</span>.<span class=\"pl-smi\">password</span>);\n        <span class=\"pl-k\">const</span>  <span class=\"pl-c1\">credentials</span> <span class=\"pl-k\">=</span> { id<span class=\"pl-k\">:</span> <span class=\"pl-smi\">user</span>.<span class=\"pl-c1\">id</span>, name<span class=\"pl-k\">:</span> <span class=\"pl-smi\">user</span>.<span class=\"pl-c1\">name</span> };\n        <span class=\"pl-k\">return</span> { isValid, credentials };\n    };\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">auth</span>.<span class=\"pl-en\">strategy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>simple<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>basic<span class=\"pl-pds\">'</span></span>, { validate });\n\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Configure route with authentication</span>\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({\n        method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>,\n        path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/h<span class=\"pl-pds\">'</span></span>,\n        config<span class=\"pl-k\">:</span> {\n            id<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>hello<span class=\"pl-pds\">'</span></span>,\n            <span class=\"pl-en\">handler</span><span class=\"pl-k\">:</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">h</span>) <span class=\"pl-k\">=&gt;</span> {\n\n                <span class=\"pl-k\">return</span> <span class=\"pl-s\"><span class=\"pl-pds\">`</span>Hello <span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-smi\">request</span>.<span class=\"pl-smi\">auth</span>.<span class=\"pl-smi\">credentials</span>.<span class=\"pl-c1\">name</span><span class=\"pl-pse\">}</span></span><span class=\"pl-pds\">`</span></span>;\n            }\n        }\n    });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h4>\n<a id=\"client-3\" class=\"anchor\" href=\"#client-3\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Client</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">client</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Nes.Client</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ws://localhost<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">connect</span>({ auth<span class=\"pl-k\">:</span> { headers<span class=\"pl-k\">:</span> { authorization<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Basic am9objpzZWNyZXQ=<span class=\"pl-pds\">'</span></span> } } });\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">payload</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">request</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>hello<span class=\"pl-pds\">'</span></span>)  <span class=\"pl-c\"><span class=\"pl-c\">//</span> Can also request '/h'</span>\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> payload -&gt; 'Hello John Doe'</span>\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h3>\n<a id=\"subscription-filter\" class=\"anchor\" href=\"#subscription-filter\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Subscription filter</h3>\n<h4>\n<a id=\"server-4\" class=\"anchor\" href=\"#server-4\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Server</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Basic</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/basic<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Bcrypt</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>bcrypt<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Hapi.Server</span>();\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>([Basic, Nes]);\n\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Set up HTTP Basic authentication</span>\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">users</span> <span class=\"pl-k\">=</span> {\n        john<span class=\"pl-k\">:</span> {\n            username<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>john<span class=\"pl-pds\">'</span></span>,\n            password<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>$2a$10$iqJSHD.BGr0E2IxQwYgJmeP3NvhPrXAeLSaGCj6IR/XU5QtjVu5Tm<span class=\"pl-pds\">'</span></span>,   <span class=\"pl-c\"><span class=\"pl-c\">//</span> 'secret'</span>\n            name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>John Doe<span class=\"pl-pds\">'</span></span>,\n            id<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>2133d32a<span class=\"pl-pds\">'</span></span>\n        }\n    };\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">validate</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">username</span>, <span class=\"pl-smi\">password</span>) <span class=\"pl-k\">=&gt;</span> {\n\n        <span class=\"pl-k\">const</span> <span class=\"pl-c1\">user</span> <span class=\"pl-k\">=</span> users[username];\n        <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span>user) {\n            <span class=\"pl-k\">return</span> { isValid<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> };\n        }\n\n        <span class=\"pl-k\">const</span> <span class=\"pl-c1\">isValid</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-smi\">Bcrypt</span>.<span class=\"pl-en\">compare</span>(password, <span class=\"pl-smi\">user</span>.<span class=\"pl-smi\">password</span>);\n        <span class=\"pl-k\">const</span>  <span class=\"pl-c1\">credentials</span> <span class=\"pl-k\">=</span> { id<span class=\"pl-k\">:</span> <span class=\"pl-smi\">user</span>.<span class=\"pl-c1\">id</span>, name<span class=\"pl-k\">:</span> <span class=\"pl-smi\">user</span>.<span class=\"pl-c1\">name</span> };\n        <span class=\"pl-k\">return</span> { isValid, credentials };\n    };\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">auth</span>.<span class=\"pl-en\">strategy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>simple<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>basic<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>required<span class=\"pl-pds\">'</span></span>, { validate });\n\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Set up subscription</span>\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">subscription</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/items<span class=\"pl-pds\">'</span></span>, {\n        <span class=\"pl-en\">filter</span><span class=\"pl-k\">:</span> (<span class=\"pl-smi\">path</span>, <span class=\"pl-smi\">message</span>, <span class=\"pl-smi\">options</span>) <span class=\"pl-k\">=&gt;</span> {\n\n            <span class=\"pl-k\">return</span> (<span class=\"pl-smi\">message</span>.<span class=\"pl-smi\">updater</span> <span class=\"pl-k\">!==</span> <span class=\"pl-smi\">options</span>.<span class=\"pl-smi\">credentials</span>.<span class=\"pl-smi\">username</span>);\n        }\n    });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">publish</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/items<span class=\"pl-pds\">'</span></span>, { id<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span>, status<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>complete<span class=\"pl-pds\">'</span></span>, updater<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>john<span class=\"pl-pds\">'</span></span> });\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">publish</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/items<span class=\"pl-pds\">'</span></span>, { id<span class=\"pl-k\">:</span> <span class=\"pl-c1\">6</span>, status<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>initial<span class=\"pl-pds\">'</span></span>, updater<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>steve<span class=\"pl-pds\">'</span></span> });\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h4>\n<a id=\"client-4\" class=\"anchor\" href=\"#client-4\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Client</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">client</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Nes.Client</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ws://localhost<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Authenticate as 'john'</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">connect</span>({ auth<span class=\"pl-k\">:</span> { headers<span class=\"pl-k\">:</span> { authorization<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Basic am9objpzZWNyZXQ=<span class=\"pl-pds\">'</span></span> } } });\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">handler</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">update</span>) <span class=\"pl-k\">=&gt;</span> {\n\n        <span class=\"pl-c\"><span class=\"pl-c\">//</span> First publish is not received (filtered due to updater key)</span>\n        <span class=\"pl-c\"><span class=\"pl-c\">//</span> update -&gt; { id: 6, status: 'initial', updater: 'steve' }</span>\n    };\n\n    <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">subscribe</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/items<span class=\"pl-pds\">'</span></span>, handler);\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h3>\n<a id=\"browser-client\" class=\"anchor\" href=\"#browser-client\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Browser Client</h3>\n<p>When you <code>require('@hapi/nes')</code> it loads the full module and adds a lot of extra code that is not needed\nfor the browser. The browser will only need the <strong>nes</strong> client. If you are using CommonJS you can\nload the client with <code>require('@hapi/nes/lib/client')</code>.</p>\n<h2>\n<a id=\"registration\" class=\"anchor\" href=\"#registration\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Registration</h2>\n<p>The <strong>nes</strong> plugin uses the standard <strong>hapi</strong> registration process using the <code>server.register()</code>\nmethod. The plugin accepts the following optional registration options:</p>\n<ul>\n<li>\n<code>onConnection</code> - a function with the signature <code>function(socket)</code> invoked for each incoming client\nconnection where:\n<ul>\n<li>\n<code>socket</code> - the <a href=\"#socket\"><code>Socket</code></a> object of the incoming connection.</li>\n</ul>\n</li>\n<li>\n<code>onDisconnection</code> - a function with the signature <code>function(socket)</code> invoked for each incoming client\nconnection on disconnect where:\n<ul>\n<li>\n<code>socket</code> - the <a href=\"#socket\"><code>Socket</code></a> object of the connection.</li>\n</ul>\n</li>\n<li>\n<code>onMessage</code> - a function with the signature <code>async function(socket, message)</code> used to receive custom\nclient messages (when the client calls <a href=\"#clientmessagedata\"><code>client.message()</code></a>) where:\n<ul>\n<li>\n<code>socket</code> - the <a href=\"#socket\"><code>Socket</code></a> object of the message source.</li>\n<li>\n<code>message</code> - the message sent by the client.</li>\n<li>the function may return a response to the client.</li>\n</ul>\n</li>\n<li>\n<code>auth</code> - optional plugin authentication options with the following supported values:\n<ul>\n<li>\n<code>false</code> - no client authentication supported.</li>\n<li>an object with the following optional keys:\n<ul>\n<li>\n<code>type</code> - the type of authentication flow supported by the server. Each type has a very different\nsecurity profile. The following types are supported:\n<ul>\n<li>\n<code>'direct'</code> - the plugin configures an internal authentication endpoint which is only called\ninternally by the plugin when the client provides its authentication credentials (or by\npassing an <code>auth</code> option to <a href=\"#await-clientconnectoptions\"><code>client.connect()</code></a>). The\nendpoint returns a copy of the credentials object (along with any artifacts) to the plugin\nwhich is then used for all subsequent client requests and subscriptions. This type requires\nexposing the underlying credentials to the application. Note that if the authentication scheme\nuses the HTTP request method (e.g. <a href=\"https://github.com/hueniverse/hawk\">hawk</a> or\n<a href=\"https://github.com/hueniverse/oz\">oz</a>) you need to use <code>'auth'</code> as the value (and\nnot <code>'GET'</code>). This is the default value.</li>\n<li>\n<code>'cookie'</code> - the plugin configures a public authentication endpoint which must be called\nby the client application manually before it calls <a href=\"#await-clientconnectoptions\"><code>client.connect()</code></a>.\nWhen the endpoint is called with valid credentials, it sets a cookie with the provided\n<code>name</code> which the browser then transmits back to the server when the WebSocket connection\nis made. This type removes the need to expose the authentication credentials to the\nJavaScript layer but requires an additional round trip before establishing a client\nconnection.</li>\n<li>\n<code>'token'</code> - the plugin configures a public authentication endpoint which must be called\nby the client application manually before it calls <a href=\"#await-clientconnectoptions\"><code>client.connect()</code></a>.\nWhen the endpoint is called with valid credentials, it returns an encrypted authentication\ntoken which the client can use to authenticate the connection by passing an <code>auth</code> option\nto <a href=\"#await-clientconnectoptions\"><code>client.connect()</code></a> with the token. This type is useful\nwhen the client-side application needs to manage its credentials differently than relying\non cookies (e.g. non-browser clients).</li>\n</ul>\n</li>\n<li>\n<code>endpoint</code> - the HTTP path of the authentication endpoint. Note that even though the <code>'direct'</code>\ntype does not exposes the endpoint, it is still created internally and registered using the\nprovided path. Change it only if the default path creates a conflict. Defaults to <code>'/nes/auth'</code>.</li>\n<li>\n<code>id</code> - the authentication endpoint identifier. Change it only if the default id creates a conflict.\nDefaults to <code>nes.auth</code>.</li>\n<li>\n<code>route</code> - the <strong>hapi</strong> route <code>config.auth</code> settings. The authentication endpoint must be\nconfigured with at least one authentication strategy which the client is going to use to\nauthenticate. The <code>route</code> value must be set to a valid value supported by the <strong>hapi</strong> route\n<code>auth</code> configuration. Defaults to the default authentication strategy if one is present,\notherwise no authentication will be possible (clients will fail to authenticate).</li>\n<li>\n<code>password</code> - the password used by the <a href=\"https://github.com/hueniverse/iron\"><strong>iron</strong></a> module\nto encrypt the cookie or token values. If no password is provided, one is automatically\ngenerated. However, the password will change every time the process is restarted (as well\nas generate different results on a distributed system). It is recommended that a password\nis manually set and managed by the application.</li>\n<li>\n<code>iron</code> - the settings used by the <a href=\"https://github.com/hueniverse/iron\"><strong>iron</strong></a> module.\nDefaults to the <strong>iron</strong> defaults.</li>\n<li>\n<code>cookie</code> - the cookie name when using type <code>'cookie'</code>. Defaults to <code>'nes'</code>.</li>\n<li>\n<code>isSecure</code> - the cookie secure flag when using type <code>'cookie'</code>. Defaults to <code>true</code>.</li>\n<li>\n<code>isHttpOnly</code> - the cookie HTTP only flag when using type <code>'cookie'</code>. Defaults to <code>true</code>.</li>\n<li>\n<code>path</code> - the cookie path when using type <code>'cookie'</code>. Defaults to <code>'/'</code>.</li>\n<li>\n<code>domain</code> - the cookie domain when using type <code>'cookie'</code>. Defaults to no domain.</li>\n<li>\n<code>ttl</code> - the cookie expiration milliseconds when using type <code>'cookie'</code>. Defaults to current\nsession only.</li>\n<li>\n<code>index</code> - if <code>true</code>, authenticated socket with <code>user</code> property in <code>credentials</code> are mapped\nfor usage in <a href=\"#serverbroadcastmessage-options\"><code>server.broadcast()</code></a> calls. Defaults to <code>false</code>.</li>\n<li>\n<code>timeout</code> - number of milliseconds after which a new connection is disconnected if authentication\nis required but the connection has not yet sent a hello message. No timeout if set to <code>false</code>.\nDefaults to <code>5000</code> (5 seconds).</li>\n<li>\n<code>maxConnectionsPerUser</code> - if specified, limits authenticated users to a maximum number of\nclient connections. Requires the <code>index</code> option enabled. Defaults to <code>false</code>.</li>\n<li>\n<code>minAuthVerifyInterval</code> - if specified, waits at least the specificed number of milliseconds\nbetween calls to <a href=\"https://hapijs.com/api#-await-serverauthverifyrequest\" rel=\"nofollow\"><code>await server.auth.verify()</code></a>\nto check if credentials are still valid. Cannot be shorter than <code>heartbeat.interval</code>.\nDefaults to <code>heartbeat.interval</code> or <code>15000</code> if <code>heartbeat</code> is disabled.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>headers</code> - an optional array of header field names to include in server responses to the client.\nIf set to <code>'*'</code> (without an array), allows all headers. Defaults to <code>null</code> (no headers).</li>\n<li>\n<code>payload</code> - optional message payload settings where:\n<ul>\n<li>\n<code>maxChunkChars</code> - the maximum number of characters (after the full protocol object is converted\nto a string using <code>JSON.stringify()</code>) allowed in a single WebSocket message. This is important\nwhen using the protocol over a slow network (e.g. mobile) with large updates as the transmission\ntime can exceed the timeout or heartbeat limits which will cause the client to disconnect.\nDefaults to <code>false</code> (no limit).</li>\n</ul>\n</li>\n<li>\n<code>heartbeat</code> - configures connection keep-alive settings where value can be:\n<ul>\n<li>\n<code>false</code> - no heartbeats.</li>\n<li>an object with:\n<ul>\n<li>\n<code>interval</code> - time interval between heartbeat messages in milliseconds. Defaults to <code>15000</code>\n(15 seconds).</li>\n<li>\n<code>timeout</code> - timeout in milliseconds after a heartbeat is sent to the client and before the\nclient is considered disconnected by the server. Defaults to <code>5000</code> (5 seconds).</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>maxConnections</code> - if specified, limits the number of simultaneous client connections. Defaults to\n<code>false</code>.</li>\n<li>\n<code>origin</code> - an origin string or an array of origin strings incoming client requests must match for\nthe connection to be permitted. Defaults to no origin validation.</li>\n</ul>\n<h2>\n<a id=\"server-5\" class=\"anchor\" href=\"#server-5\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Server</h2>\n<p>The plugin decorates the server with a few new methods for interacting with the incoming WebSocket\nconnections.</p>\n<h3>\n<a id=\"await-serverbroadcastmessage-options\" class=\"anchor\" href=\"#await-serverbroadcastmessage-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await server.broadcast(message, [options])</code>\n</h3>\n<p>Sends a message to all connected clients where:</p>\n<ul>\n<li>\n<code>message</code> - the message sent to the clients. Can be any type which can be safely converted to\nstring using <code>JSON.stringify()</code>.</li>\n<li>\n<code>options</code> - optional object with the following:\n<ul>\n<li>\n<code>user</code> - optional user filter. When provided, the message will be sent only to authenticated\nsockets with <code>credentials.user</code> equal to  <code>user</code>. Requires the <code>auth.index</code> options to be\nconfigured to <code>true</code>.</li>\n</ul>\n</li>\n</ul>\n<p>Note that in a multi server deployment, only the client connected to the current server will receive\nthe message.</p>\n<h3>\n<a id=\"serversubscriptionpath-options\" class=\"anchor\" href=\"#serversubscriptionpath-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>server.subscription(path, [options])</code>\n</h3>\n<p>Declares a subscription path client can subscribe to where:</p>\n<ul>\n<li>\n<code>path</code> - an HTTP-like path. The path must begin with the <code>'/'</code> character. The path may contain\npath parameters as supported by the <strong>hapi</strong> route path parser.</li>\n<li>\n<code>options</code> - an optional object where:\n<ul>\n<li>\n<code>filter</code> - a publishing filter function for making per-client connection decisions about which\nmatching publication update should be sent to which client. The function uses the signature\n<code>async function(path, message, options)</code> where:\n<ul>\n<li>\n<code>path</code> - the path of the published update. The path is provided in case the subscription\ncontains path parameters.</li>\n<li>\n<code>message</code> - the message being published.</li>\n<li>\n<code>options</code> - additional information about the subscription and client:\n<ul>\n<li>\n<code>socket</code> - the current socket being published to.</li>\n<li>\n<code>credentials</code> - the client credentials if authenticated.</li>\n<li>\n<code>params</code> - the parameters parsed from the publish message path if the subscription\npath contains parameters.</li>\n<li>\n<code>internal</code> - the <code>internal</code> options data passed to the publish call, if defined.</li>\n</ul>\n</li>\n<li>the function must return a value of (or a promise that resolves into):\n<ul>\n<li>\n<code>true</code> - to proceed sending the message.</li>\n<li>\n<code>false</code> - to skip sending the message.</li>\n<li>\n<code>{ override }</code> - an override <code>message</code> to send to this <code>socket</code> instead of the\npublished one. Note that if you want to modify <code>message</code>, you must clone it first or\nthe changes will apply to all other sockets.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>auth</code> - the subscription authentication options with the following supported values:\n<ul>\n<li>\n<code>false</code> - no authentication required to subscribe.</li>\n<li>a configuration object with the following optional keys:\n<ul>\n<li>\n<code>mode</code> - same as the <strong>hapi</strong> route auth modes:\n<ul>\n<li>\n<code>'required'</code> - authentication is required. This is the default value.</li>\n<li>\n<code>'optional'</code> - authentication is optional.</li>\n</ul>\n</li>\n<li>\n<code>scope</code> - a string or array of string of authentication scope as supported by the\n<strong>hapi</strong> route authenticate configuration.</li>\n<li>\n<code>entity</code> - the required credentials type as supported by the <strong>hapi</strong> route\nauthentication configuration:\n<ul>\n<li><code>'user'</code></li>\n<li><code>'app'</code></li>\n<li><code>'any'</code></li>\n</ul>\n</li>\n<li>\n<code>index</code> - if <code>true</code>, authenticated socket with <code>user</code> property in <code>credentials</code> are\nmapped for usage in <a href=\"#await-socketpublishpath-message\"><code>server.publish()</code></a> calls.\nDefaults to <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>onSubscribe</code> - a method called when a client subscribes to this subscription endpoint using\nthe signature <code>async function(socket, path, params)</code> where:\n<ul>\n<li>\n<code>socket</code> - the <a href=\"#socket\"><code>Socket</code></a> object of the incoming connection.</li>\n<li>\n<code>path</code> - the path the client subscribed to</li>\n<li>\n<code>params</code> - the parameters parsed from the subscription request path if the subscription\npath definition contains parameters.</li>\n</ul>\n</li>\n<li>\n<code>onUnsubscribe</code> - a method called when a client unsubscribes from this subscription endpoint\nusing the signature <code>async function(socket, path, params)</code> where:\n<ul>\n<li>\n<code>socket</code> - the <a href=\"#socket\"><code>Socket</code></a> object of the incoming connection.</li>\n<li>\n<code>path</code> - Path of the unsubscribed route.</li>\n<li>\n<code>params</code> - the parameters parsed from the subscription request path if the subscription\npath definition contains parameters.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"await-serverpublishpath-message-options\" class=\"anchor\" href=\"#await-serverpublishpath-message-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await server.publish(path, message, [options])</code>\n</h3>\n<p>Sends a message to all the subscribed clients where:</p>\n<ul>\n<li>\n<code>path</code> - the subscription path. The path is matched first against the available subscriptions\nadded via <code>server.subscription()</code> and then against the specific path provided by each client\nat the time of registration (only matter when the subscription path contains parameters). When\na match is found, the subscription <code>filter</code> function is called (if present) to further filter\nwhich client should receive which update.</li>\n<li>\n<code>message</code> - the message sent to the clients. Can be any type which can be safely converted to\nstring using <code>JSON.stringify()</code>.</li>\n<li>\n<code>options</code> - optional object that may include\n<ul>\n<li>\n<code>internal</code> - Internal data that is passed to <code>filter</code> and may be used to filter messages\non data that is not sent to the client.</li>\n<li>\n<code>user</code> - optional user filter. When provided, the message will be sent only to authenticated\nsockets with <code>credentials.user</code> equal to  <code>user</code>. Requires the subscription <code>auth.index</code>\noptions to be configured to <code>true</code>.</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"await-servereachsocketeach-options\" class=\"anchor\" href=\"#await-servereachsocketeach-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await server.eachSocket(each, [options])</code>\n</h3>\n<p>Iterates over all connected sockets, optionally filtering on those that have subscribed to\na given subscription. This operation is synchronous.</p>\n<ul>\n<li>\n<code>each</code> - Iteration method in the form <code>async function(socket)</code>.</li>\n<li>\n<code>options</code> - Optional options object\n<ul>\n<li>\n<code>subscription</code> - When set to a string path, limits the results to sockets that are\nsubscribed to that path.</li>\n<li>\n<code>user</code> - optional user filter. When provided, the <code>each</code> method will be invoked with\nauthenticated sockets with <code>credentials.user</code> equal to  <code>user</code>. Requires the subscription\n<code>auth.index</code> options to be configured to <code>true</code>.</li>\n</ul>\n</li>\n</ul>\n<h2>\n<a id=\"socket\" class=\"anchor\" href=\"#socket\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Socket</h2>\n<p>An object representing a client connection.</p>\n<h3>\n<a id=\"socketid\" class=\"anchor\" href=\"#socketid\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>socket.id</code>\n</h3>\n<p>A unique socket identifier.</p>\n<h3>\n<a id=\"socketapp\" class=\"anchor\" href=\"#socketapp\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>socket.app</code>\n</h3>\n<p>An object used to store application state per socket. Provides a safe namespace to avoid conflicts\nwith the socket methods.</p>\n<h3>\n<a id=\"socketauth\" class=\"anchor\" href=\"#socketauth\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>socket.auth</code>\n</h3>\n<p>The socket authentication state if any. Similar to the normal <strong>hapi</strong> <code>request.auth</code> object where:</p>\n<ul>\n<li>\n<code>isAuthenticated</code> - a boolean set to <code>true</code> when authenticated.</li>\n<li>\n<code>credentials</code> - the authentication credentials used.</li>\n<li>\n<code>artifacts</code> - authentication artifacts specific to the authentication strategy used.</li>\n</ul>\n<h3>\n<a id=\"socketserver\" class=\"anchor\" href=\"#socketserver\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>socket.server</code>\n</h3>\n<p>The socket's server reference.</p>\n<h3>\n<a id=\"socketconnection\" class=\"anchor\" href=\"#socketconnection\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>socket.connection</code>\n</h3>\n<p>The socket's connection reference.</p>\n<h3>\n<a id=\"socketdisconnect\" class=\"anchor\" href=\"#socketdisconnect\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>socket.disconnect()</code>\n</h3>\n<p>Closes a client connection.</p>\n<h3>\n<a id=\"socketisopen\" class=\"anchor\" href=\"#socketisopen\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>socket.isOpen()</code>\n</h3>\n<p>Returns <code>true</code> is the socket connection is in ready state, otherwise <code>false</code>.</p>\n<h3>\n<a id=\"await-socketsendmessage\" class=\"anchor\" href=\"#await-socketsendmessage\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await socket.send(message)</code>\n</h3>\n<p>Sends a custom message to the client where:</p>\n<ul>\n<li>\n<code>message</code> - the message sent to the client. Can be any type which can be safely converted to\nstring using <code>JSON.stringify()</code>.</li>\n</ul>\n<h3>\n<a id=\"await-socketpublishpath-message\" class=\"anchor\" href=\"#await-socketpublishpath-message\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await socket.publish(path, message)</code>\n</h3>\n<p>Sends a subscription update to a specific client where:</p>\n<ul>\n<li>\n<code>path</code> - the subscription string. Note that if the client did not subscribe to the provided <code>path</code>,\nthe client will ignore the update silently.</li>\n<li>\n<code>message</code> - the message sent to the client. Can be any type which can be safely converted to\nstring using <code>JSON.stringify()</code>.</li>\n</ul>\n<h3>\n<a id=\"await-socketrevokepath-message-options\" class=\"anchor\" href=\"#await-socketrevokepath-message-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await socket.revoke(path, message, [options])</code>\n</h3>\n<p>Revokes a subscription and optionally includes a last update where:</p>\n<ul>\n<li>\n<code>path</code> - the subscription string. Note that if the client is not subscribe to the provided <code>path</code>,\nthe client will ignore the it silently.</li>\n<li>\n<code>message</code> - an optional last subscription update sent to the client. Can be any type which can be\nsafely converted to string using <code>JSON.stringify()</code>. Pass <code>null</code> to revoke the subscription without\nsending a last update.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>ignoreClosed</code> - ignore errors if the underlying websocket has been closed. Defaults to <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n<h2>\n<a id=\"request\" class=\"anchor\" href=\"#request\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Request</h2>\n<p>The following decorations are available on each request received via the nes connection.</p>\n<h3>\n<a id=\"requestsocket\" class=\"anchor\" href=\"#requestsocket\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>request.socket</code>\n</h3>\n<p>Provides access to the <a href=\"#socket\"><code>Socket</code></a> object of the incoming connection.</p>\n<h2>\n<a id=\"client-5\" class=\"anchor\" href=\"#client-5\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Client</h2>\n<p>The client implements the <strong>nes</strong> protocol and provides methods for interacting with the server.\nIt supports auto-connect by default as well as authentication.</p>\n<h3>\n<a id=\"new-clienturl-options\" class=\"anchor\" href=\"#new-clienturl-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Client(url, [options])</code>\n</h3>\n<p>Creates a new client object where:</p>\n<ul>\n<li>\n<code>url</code> - the WebSocket address to connect to (e.g. <code>'wss://localhost:8000'</code>).</li>\n<li>\n<code>option</code> - optional configuration object where:\n<ul>\n<li>\n<code>ws</code> - available only when the client is used in node.js and passed as-is to the\n<a href=\"https://www.npmjs.com/package/ws\" rel=\"nofollow\"><strong>ws</strong> module</a>.</li>\n<li>\n<code>timeout</code> - server response timeout in milliseconds. Defaults to <code>false</code> (no timeout).</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"clientonerror\" class=\"anchor\" href=\"#clientonerror\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.onError</code>\n</h3>\n<p>A property used to set an error handler with the signature <code>function(err)</code>. Invoked whenever an\nerror happens that cannot be associated with a pending request.</p>\n<h3>\n<a id=\"clientonconnect\" class=\"anchor\" href=\"#clientonconnect\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.onConnect</code>\n</h3>\n<p>A property used to set a handler for connection events (initial connection and subsequent\nreconnections) with the signature <code>function()</code>.</p>\n<h3>\n<a id=\"clientondisconnect\" class=\"anchor\" href=\"#clientondisconnect\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.onDisconnect</code>\n</h3>\n<p>A property used to set a handler for disconnection events with the signature <code>function(willReconnect, log)</code>\nwhere:</p>\n<ul>\n<li>\n<code>willReconnect</code> - a boolean indicating if the client will automatically attempt to reconnect.</li>\n<li>\n<code>log</code> - an object with the following optional keys:\n<ul>\n<li>\n<code>code</code> - the <a href=\"https://tools.ietf.org/html/rfc6455#section-7.4.1\" rel=\"nofollow\">RFC6455</a> status code.</li>\n<li>\n<code>explanation</code> - the <a href=\"https://tools.ietf.org/html/rfc6455#section-7.4.1\" rel=\"nofollow\">RFC6455</a> explanation for the\n<code>code</code>.</li>\n<li>\n<code>reason</code> - a human-readable text explaining the reason for closing.</li>\n<li>\n<code>wasClean</code> - if <code>false</code>, the socket was closed abnormally.</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"clientonheartbeattimeout\" class=\"anchor\" href=\"#clientonheartbeattimeout\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.onHeartbeatTimeout</code>\n</h3>\n<p>A property used to set a handler for heartbeat timeout events with the signature <code>function(willReconnect)</code>\nwhere:</p>\n<ul>\n<li>\n<code>willReconnect</code> - a boolean indicating if the client will automatically attempt to reconnect.</li>\n</ul>\n<p>Upon heartbeat timeout, the client will disconnect the websocket. However, the <code>client.onDisconnect()</code> property will only be called (if set) once the server has completed the closing handshake. Users may use this property to be notified immediately and take action (e.g. display a message in the browser).</p>\n<h3>\n<a id=\"clientonupdate\" class=\"anchor\" href=\"#clientonupdate\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.onUpdate</code>\n</h3>\n<p>A property used to set a custom message handler with the signature <code>function(message)</code>. Invoked whenever\nthe server calls <code>server.broadcast()</code> or <code>socket.send()</code>.</p>\n<h3>\n<a id=\"await-clientconnectoptions\" class=\"anchor\" href=\"#await-clientconnectoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await client.connect([options])</code>\n</h3>\n<p>Connects the client to the server where:</p>\n<ul>\n<li>\n<code>options</code> - an optional configuration object with the following options:\n<ul>\n<li>\n<code>auth</code> - sets the credentials used to authenticate. when the server is configured for\n<code>'token'</code> type authentication, the value is the token response received from the\nauthentication endpoint (called manually by the application). When the server is\nconfigured for <code>'direct'</code> type authentication, the value is the credentials expected\nby the server for the specified authentication strategy used which typically means an\nobject with headers (e.g. <code>{ headers: { authorization: 'Basic am9objpzZWNyZXQ=' } }</code>).</li>\n<li>\n<code>reconnect</code> - a boolean that indicates whether the client should try to reconnect. Defaults to <code>true</code>.</li>\n<li>\n<code>delay</code> - time in milliseconds to wait between each reconnection attempt. The delay time\nis cumulative, meaning that if the value is set to <code>1000</code> (1 second), the first wait will\nbe 1 seconds, then 2 seconds, 3 seconds, until the <code>maxDelay</code> value is reached and then\n<code>maxDelay</code> is used.</li>\n<li>\n<code>maxDelay</code> - the maximum delay time in milliseconds between reconnections.</li>\n<li>\n<code>retries</code> - number of reconnection attempts. Defaults to <code>Infinity</code> (unlimited).</li>\n<li>\n<code>timeout</code> - socket connection timeout in milliseconds. Defaults to the WebSocket\nimplementation timeout default.</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"await-clientdisconnect\" class=\"anchor\" href=\"#await-clientdisconnect\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await client.disconnect()</code>\n</h3>\n<p>Disconnects the client from the server and stops future reconnects.</p>\n<h3>\n<a id=\"clientid\" class=\"anchor\" href=\"#clientid\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.id</code>\n</h3>\n<p>The unique socket identifier assigned by the server. The value is set after the connection is\nestablished.</p>\n<h3>\n<a id=\"await-clientrequestoptions\" class=\"anchor\" href=\"#await-clientrequestoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await client.request(options)</code>\n</h3>\n<p>Sends an endpoint request to the server where:</p>\n<ul>\n<li>\n<code>options</code> - value can be one of:\n<ul>\n<li>a string with the requested endpoint path or route id (defaults to a GET method).</li>\n<li>an object with the following keys:\n<ul>\n<li>\n<code>path</code> - the requested endpoint path or route id.</li>\n<li>\n<code>method</code> - the requested HTTP method (can also be any method string supported by the\nserver). Defaults to <code>'GET'</code>.</li>\n<li>\n<code>headers</code> - an object where each key is a request header and the value the header\ncontent. Cannot include an Authorization header. Defaults to no headers.</li>\n<li>\n<code>payload</code> - the request payload sent to the server.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Rejects with <code>Error</code> if the request failed.</p>\n<p>Resolves with object containing:</p>\n<ul>\n<li>\n<code>payload</code> - the server response object.</li>\n<li>\n<code>statusCode</code> - the HTTP response status code.</li>\n<li>\n<code>headers</code> - an object containing the HTTP response headers returned by the server (based on\nthe server configuration).</li>\n</ul>\n<h3>\n<a id=\"await-clientmessagemessage\" class=\"anchor\" href=\"#await-clientmessagemessage\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await client.message(message)</code>\n</h3>\n<p>Sends a custom message to the server which is received by the server <code>onMessage</code> handler where:</p>\n<ul>\n<li>\n<code>message</code> - the message sent to the server. Can be any type which can be safely converted to\nstring using <code>JSON.stringify()</code>.</li>\n</ul>\n<h3>\n<a id=\"await-clientsubscribepath-handler\" class=\"anchor\" href=\"#await-clientsubscribepath-handler\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await client.subscribe(path, handler)</code>\n</h3>\n<p>Subscribes to a server subscription where:</p>\n<ul>\n<li>\n<code>path</code> - the requested subscription path. Paths are just like HTTP request paths (e.g.\n<code>'/item/5'</code> or <code>'/updates'</code> based on the paths supported by the server).</li>\n<li>\n<code>handler</code> - the function used to receive subscription updates using the\nsignature <code>function(message, flags)</code> where:\n<ul>\n<li>\n<code>message</code> - the subscription update sent by the server.</li>\n<li>\n<code>flags</code> - an object with the following optional flags:\n<ul>\n<li>\n<code>revoked</code> - set to <code>true</code> when the message is the last update from the server due to\na subscription revocation.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Note that when <code>subscribe()</code> is called before the client connects, any server errors will be\nthrow by <code>connect()</code>.</p>\n<h3>\n<a id=\"await-clientunsubscribepath-handler\" class=\"anchor\" href=\"#await-clientunsubscribepath-handler\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await client.unsubscribe(path, handler)</code>\n</h3>\n<p>Cancels a subscription where:</p>\n<ul>\n<li>\n<code>path</code> - the subscription path used to subscribe.</li>\n<li>\n<code>handler</code> - remove a specific handler from a subscription or <code>null</code> to remove all handlers for\nthe given path.</li>\n</ul>\n<h3>\n<a id=\"clientsubscriptions\" class=\"anchor\" href=\"#clientsubscriptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.subscriptions()</code>\n</h3>\n<p>Returns an array of the current subscription paths.</p>\n<h3>\n<a id=\"clientoverridereconnectionauthauth\" class=\"anchor\" href=\"#clientoverridereconnectionauthauth\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.overrideReconnectionAuth(auth)</code>\n</h3>\n<p>Sets or overrides the authentication credentials used to reconnect the client on disconnect when\nthe client is configured to automatically reconnect, where:</p>\n<ul>\n<li>\n<code>auth</code> - same as the <code>auth</code> option passed to <a href=\"#await-clientconnectoptions\"><code>client.connect()</code></a>.</li>\n</ul>\n<p>Returns <code>true</code> if reconnection is enabled, otherwise <code>false</code> (in which case the method was ignored).</p>\n<p>Note: this will not update the credentials on the server -\nuse <a href=\"#await-clientreauthenticateauth\"><code>client.reauthenticate()</code></a>.</p>\n<h3>\n<a id=\"await-clientreauthenticateauth\" class=\"anchor\" href=\"#await-clientreauthenticateauth\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await client.reauthenticate(auth)</code>\n</h3>\n<p>Will issue the <code>reauth</code> message to the server with updated <code>auth</code> details and also\n<a href=\"#clientoverridereconnectionauthauth\">override the reconnection information</a>, if reconnection is enabled.\nThe server will respond with an error and drop the connection in case the new <code>auth</code> credentials are\ninvalid.</p>\n<p>Rejects with <code>Error</code> if the request failed.</p>\n<p>Resolves with <code>true</code> if the request succeeds.</p>\n<p>Note: when authentication has a limited lifetime, <code>reauthenticate()</code> should be called early enough to avoid\nthe server dropping the connection.</p>\n<h3>\n<a id=\"errors\" class=\"anchor\" href=\"#errors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Errors</h3>\n<p>When a client method returns or throws an error, the error is decorated with:</p>\n<ul>\n<li>\n<code>type</code> - a string indicating the source of the error where:\n<ul>\n<li>\n<code>'disconnect'</code> - the socket disconnected before the request completed.</li>\n<li>\n<code>'protocol'</code> - the client received an invalid message from the server violating the protocol.</li>\n<li>\n<code>'server'</code> - an error response sent from the server.</li>\n<li>\n<code>'timeout'</code> - a timeout event.</li>\n<li>\n<code>'user'</code> - user error (e.g. incorrect use of the API).</li>\n<li>\n<code>'ws'</code> - a socket error.</li>\n</ul>\n</li>\n</ul>\n","intro":"## Introduction\n\n**nes** adds native WebSocket support to [**hapi**](https://github.com/hapijs/hapi)-based application\nservers. Instead of treating the WebSocket connections as a separate platform with its own security\nand application context, **nes** builds on top of the existing **hapi** architecture to provide a\nflexible and organic extension.\n\nProtocol version: 2.4.x (different from module version)\n","example":"## Examples\n","usage":"","faq":"","license":"BSD"},"slogan":"WebSocket adapter plugin for hapi routes.","forks":68,"stars":480,"date":"2019-10-08T07:31:02Z","updated":"Tue Oct 08 2019","link":"https://github.com/hapijs/nes"},"nigel":{"name":"nigel","versions":[{"name":"3.1.1","branch":"master","license":"BSD","node":" 12, 10, 8"},{"name":"2.1.0","branch":"v2-commercial","license":"Commercial","node":" 10, 8, 6"}],"versionsArray":["3.1.1","2.1.0"],"3.1.1":{"menu":"- [`new Mimos()`](#new-mimosoptions)\n- [`mimos.path()`](#mimospathpath)\n- [`mimos.type()`](#mimostypetype)\n- [Override Example](#override-example)","api":"<h3>\n<a id=\"new-mimosoptions\" class=\"anchor\" href=\"#new-mimosoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Mimos([options])</code>\n</h3>\n<p>Creates a new Mimos object where:</p>\n<ul>\n<li>\n<code>[options]</code> - an option object the following keys\n<ul>\n<li>\n<code>[override]</code> - an object hash that is merged into the built in mime information specified <a href=\"https://github.com/jshttp/mime-db\">here</a>. Each key value pair represents a single mime object. Each override value should follow this schema:\n<ul>\n<li>\n<code>key</code> - the key is the lower-cased correct mime-type. (Ex. \"application/javascript\").</li>\n<li>\n<code>value</code> - the value should an object following the specifications outlined <a href=\"https://github.com/jshttp/mime-db#data-structure\">here</a>. Additional values include:\n<ul>\n<li>\n<code>type</code> - specify the <code>type</code> value of result objects, defaults to <code>key</code>. See the example below for more clarification.</li>\n<li>\n<code>predicate</code> - method with signature <code>function(mime)</code> when this mime type is found in the database, this function will run. This allows you make customizations to <code>mime</code> based on developer criteria.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"mimospathpath\" class=\"anchor\" href=\"#mimospathpath\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>mimos.path(path)</code>\n</h3>\n<p>Returns mime object where:</p>\n<ul>\n<li>\n<code>path</code> path to file including the file extension. Uses the <code>extension</code> values of the mime objects for lookup.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">mimos</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Mimos</span>();\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">mime</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">mimos</span>.<span class=\"pl-en\">path</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/static/public/app.js<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> mime</span>\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  charset: 'UTF-8',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: [ 'js' ],</span>\n<span class=\"pl-c\">  type: 'application/javascript'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span></pre></div>\n<h3>\n<a id=\"mimostypetype\" class=\"anchor\" href=\"#mimostypetype\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>mimos.type(type)</code>\n</h3>\n<p>Returns mime object where:</p>\n<ul>\n<li>\n<code>type</code> the content-type to find mime information about. Uses the <code>type</code> values of the mime objects for lookup.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">mimos</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Mimos</span>();\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">mime</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">mimos</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>text/plain<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> mime</span>\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['txt', 'text', 'conf', 'def', 'list', 'log', 'in', 'ini'],</span>\n<span class=\"pl-c\">  type: 'text/plain'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span></pre></div>\n<h3>\n<a id=\"override-example\" class=\"anchor\" href=\"#override-example\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Override Example</h3>\n<p>In certain situations, it can be helpful to override the built in mime type information. The optional argument to the Mimos constructor is used to override and add mime information. Below is an example to help understand how this works.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">options</span> <span class=\"pl-k\">=</span> {\n    override<span class=\"pl-k\">:</span> {\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span>node/module<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n            source<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>iana<span class=\"pl-pds\">'</span></span>,\n            compressible<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>,\n            extensions<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>node<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>module<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>npm<span class=\"pl-pds\">'</span></span>],\n            type<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>node/module<span class=\"pl-pds\">'</span></span>\n        },\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span>application/javascript<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n            source<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>iana<span class=\"pl-pds\">'</span></span>,\n            charset<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>UTF-8<span class=\"pl-pds\">'</span></span>,\n            compressible<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>,\n            extensions<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>js<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>javascript<span class=\"pl-pds\">'</span></span>],\n            type<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>text/javascript<span class=\"pl-pds\">'</span></span>\n        },\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span>text/html<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n            <span class=\"pl-en\">predicate</span><span class=\"pl-k\">:</span> <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">mime</span>) {\n                <span class=\"pl-k\">if</span> (someCondition) {\n                    <span class=\"pl-smi\">mime</span>.<span class=\"pl-smi\">foo</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>;\n                }\n                <span class=\"pl-k\">else</span> {\n                    <span class=\"pl-smi\">mime</span>.<span class=\"pl-smi\">foo</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>bar<span class=\"pl-pds\">'</span></span>;\n                }\n                <span class=\"pl-k\">return</span> mime;\n            }\n        }\n    }\n}\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">mimos</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Mimos</span>(options);\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">dir</span>(<span class=\"pl-smi\">mimos</span>.<span class=\"pl-en\">path</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>./node_modules/mimos.module<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['node', 'module', 'npm'],</span>\n<span class=\"pl-c\">  type: 'node/module'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">dir</span>(<span class=\"pl-smi\">mimos</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>application/javascript<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">Note: even though we asked for type 'application/javascript', the type value is 'text/javascript' because of the override. Always use the proper content-type for retrieval.</span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  charset: 'UTF-8',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['js', 'javascript'],</span>\n<span class=\"pl-c\">  type: 'text/javascript'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">dir</span>(<span class=\"pl-smi\">mimos</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>text/html<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">someCondition is true:</span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['html','htm'],</span>\n<span class=\"pl-c\">  type: 'test/html',</span>\n<span class=\"pl-c\">  foo: 'test'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"></span>\n<span class=\"pl-c\">someCondition is false:</span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['html','htm'],</span>\n<span class=\"pl-c\">  type: 'test/html',</span>\n<span class=\"pl-c\">  foo: 'bar'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span></pre></div>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"2.1.0":{"menu":"- [`new Mimos()`](#new-mimosoptions)\n- [`mimos.path()`](#mimospathpath)\n- [`mimos.type()`](#mimostypetype)\n- [Override Example](#override-example)","api":"<h3>\n<a id=\"new-mimosoptions\" class=\"anchor\" href=\"#new-mimosoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Mimos([options])</code>\n</h3>\n<p>Creates a new Mimos object where:</p>\n<ul>\n<li>\n<code>[options]</code> - an option object the following keys\n<ul>\n<li>\n<code>[override]</code> - an object hash that is merged into the built in mime information specified <a href=\"https://github.com/jshttp/mime-db\">here</a>. Each key value pair represents a single mime object. Each override value should follow this schema:\n<ul>\n<li>\n<code>key</code> - the key is the lower-cased correct mime-type. (Ex. \"application/javascript\").</li>\n<li>\n<code>value</code> - the value should an object following the specifications outlined <a href=\"https://github.com/jshttp/mime-db#data-structure\">here</a>. Additional values include:\n<ul>\n<li>\n<code>type</code> - specify the <code>type</code> value of result objects, defaults to <code>key</code>. See the example below for more clarification.</li>\n<li>\n<code>predicate</code> - method with signature <code>function(mime)</code> when this mime type is found in the database, this function will run. This allows you make customizations to <code>mime</code> based on developer criteria.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"mimospathpath\" class=\"anchor\" href=\"#mimospathpath\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>mimos.path(path)</code>\n</h3>\n<p>Returns mime object where:</p>\n<ul>\n<li>\n<code>path</code> path to file including the file extension. Uses the <code>extension</code> values of the mime objects for lookup.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">mimos</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Mimos</span>();\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">mime</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">mimos</span>.<span class=\"pl-en\">path</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/static/public/app.js<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> mime</span>\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  charset: 'UTF-8',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: [ 'js' ],</span>\n<span class=\"pl-c\">  type: 'application/javascript'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span></pre></div>\n<h3>\n<a id=\"mimostypetype\" class=\"anchor\" href=\"#mimostypetype\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>mimos.type(type)</code>\n</h3>\n<p>Returns mime object where:</p>\n<ul>\n<li>\n<code>type</code> the content-type to find mime information about. Uses the <code>type</code> values of the mime objects for lookup.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">mimos</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Mimos</span>();\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">mime</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">mimos</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>text/plain<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> mime</span>\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['txt', 'text', 'conf', 'def', 'list', 'log', 'in', 'ini'],</span>\n<span class=\"pl-c\">  type: 'text/plain'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span></pre></div>\n<h3>\n<a id=\"override-example\" class=\"anchor\" href=\"#override-example\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Override Example</h3>\n<p>In certain situations, it can be helpful to override the built in mime type information. The optional argument to the Mimos constructor is used to override and add mime information. Below is an example to help understand how this works.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">options</span> <span class=\"pl-k\">=</span> {\n    override<span class=\"pl-k\">:</span> {\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span>node/module<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n            source<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>iana<span class=\"pl-pds\">'</span></span>,\n            compressible<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>,\n            extensions<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>node<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>module<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>npm<span class=\"pl-pds\">'</span></span>],\n            type<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>node/module<span class=\"pl-pds\">'</span></span>\n        },\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span>application/javascript<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n            source<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>iana<span class=\"pl-pds\">'</span></span>,\n            charset<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>UTF-8<span class=\"pl-pds\">'</span></span>,\n            compressible<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>,\n            extensions<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>js<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>javascript<span class=\"pl-pds\">'</span></span>],\n            type<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>text/javascript<span class=\"pl-pds\">'</span></span>\n        },\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span>text/html<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n            <span class=\"pl-en\">predicate</span><span class=\"pl-k\">:</span> <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">mime</span>) {\n                <span class=\"pl-k\">if</span> (someCondition) {\n                    <span class=\"pl-smi\">mime</span>.<span class=\"pl-smi\">foo</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>;\n                }\n                <span class=\"pl-k\">else</span> {\n                    <span class=\"pl-smi\">mime</span>.<span class=\"pl-smi\">foo</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>bar<span class=\"pl-pds\">'</span></span>;\n                }\n                <span class=\"pl-k\">return</span> mime;\n            }\n        }\n    }\n}\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">mimos</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Mimos</span>(options);\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">dir</span>(<span class=\"pl-smi\">mimos</span>.<span class=\"pl-en\">path</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>./node_modules/mimos.module<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['node', 'module', 'npm'],</span>\n<span class=\"pl-c\">  type: 'node/module'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">dir</span>(<span class=\"pl-smi\">mimos</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>application/javascript<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">Note: even though we asked for type 'application/javascript', the type value is 'text/javascript' because of the override. Always use the proper content-type for retrieval.</span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  charset: 'UTF-8',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['js', 'javascript'],</span>\n<span class=\"pl-c\">  type: 'text/javascript'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">dir</span>(<span class=\"pl-smi\">mimos</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>text/html<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">someCondition is true:</span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['html','htm'],</span>\n<span class=\"pl-c\">  type: 'test/html',</span>\n<span class=\"pl-c\">  foo: 'test'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"></span>\n<span class=\"pl-c\">someCondition is false:</span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['html','htm'],</span>\n<span class=\"pl-c\">  type: 'test/html',</span>\n<span class=\"pl-c\">  foo: 'bar'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span></pre></div>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"}},"oppsy":{"name":"oppsy","versions":[],"versionsArray":[],"slogan":"An EventEmitter useful for collecting hapi server ops information.","forks":14,"stars":24,"date":"2019-10-08T07:32:36Z","updated":"Tue Oct 08 2019","link":"https://github.com/hapijs/oppsy"},"pez":{"name":"pez","versions":[{"name":"4.1.1","branch":"master","license":"BSD","node":" 12, 10, 8"},{"name":"2.2.0","branch":"v2-commercial","license":"Commercial","node":" 10, 8, 6"}],"versionsArray":["4.1.1","2.2.0"],"4.1.1":{"menu":"- [Example](#example)\n- [Paths matching](#paths-matching)\n  - [Exact match](#exact-match)\n  - [Optional parameters](#optional-parameters)\n  - [Multi-segment parameters](#multi-segment-parameters)\n  - [Catch all](#catch-all)\n- [Routing order](#routing-order)\n- [Method](#method)\n  - [`new Router()`](#new-routeroptions)\n  - [`add()`](#addoptions-data)\n  - [`route()`](#routemethod-path)","api":"<h2>\n<a id=\"introduction\" class=\"anchor\" href=\"#introduction\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Introduction</h2>\n<p><code>call</code> is a simple node.js HTTP Router. It is used by popular <a href=\"https://github.com/hapijs/hapi\">hapi.js</a> web framework. It implements predictable and easy to use routing. Even if it is designed to work with Hapi.js, you can still use it as an independent router in your app.</p>\n<h2>\n<a id=\"example\" class=\"anchor\" href=\"#example\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Example</h2>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Call</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/call<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Create new router</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">router</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Call.Router</span>();\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Add route</span>\n<span class=\"pl-smi\">router</span>.<span class=\"pl-c1\">add</span>({ method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>get<span class=\"pl-pds\">'</span></span>, path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span> }, { label<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>root-path<span class=\"pl-pds\">'</span></span> });\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Add another route</span>\n<span class=\"pl-smi\">router</span>.<span class=\"pl-c1\">add</span>({ method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>post<span class=\"pl-pds\">'</span></span>, path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/users<span class=\"pl-pds\">'</span></span> }, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>route specific data<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Add another route with dynamic path</span>\n<span class=\"pl-smi\">router</span>.<span class=\"pl-c1\">add</span>({ method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>put<span class=\"pl-pds\">'</span></span>, path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/users/{userId}<span class=\"pl-pds\">'</span></span> }, () <span class=\"pl-k\">=&gt;</span> { <span class=\"pl-c\"><span class=\"pl-c\">/*</span> ...handler... <span class=\"pl-c\">*/</span></span> });\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Match route</span>\n<span class=\"pl-smi\">router</span>.<span class=\"pl-en\">route</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>post<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/users<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span> If matching route is found, it returns an object containing</span>\n<span class=\"pl-c\">    {</span>\n<span class=\"pl-c\">        params: {},                     // All dynamic path parameters as key/value</span>\n<span class=\"pl-c\">        paramsArray: [],                // All dynamic path parameter values in order</span>\n<span class=\"pl-c\">        route: 'route specific data';   // routeData</span>\n<span class=\"pl-c\">    }</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span>\n\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Match route</span>\n<span class=\"pl-smi\">router</span>.<span class=\"pl-en\">route</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>put<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/users/1234<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span> returns</span>\n<span class=\"pl-c\">    {</span>\n<span class=\"pl-c\">        params: { userId: '1234' },</span>\n<span class=\"pl-c\">        paramsArray: [ '1234' ],</span>\n<span class=\"pl-c\">        route: [Function]</span>\n<span class=\"pl-c\">    }</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span></pre></div>\n<h2>\n<a id=\"paths-matching\" class=\"anchor\" href=\"#paths-matching\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Paths matching</h2>\n<h3>\n<a id=\"exact-match\" class=\"anchor\" href=\"#exact-match\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Exact match</h3>\n<p><code>{param}</code>: If path contains <code>/users/{user}</code> then it matches <code>/users/john</code> or <code>/users/1234</code> but not <code>/users</code>.</p>\n<h3>\n<a id=\"optional-parameters\" class=\"anchor\" href=\"#optional-parameters\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Optional parameters</h3>\n<p><code>{param?}</code>: ? means parameter is optional . If path contains <code>/users/{user?}</code> It matches <code>/users/john</code> as well as <code>/users</code>.</p>\n<p>It is important to be aware that only the last named parameter in a path can be optional. That means that <code>/{one?}/{two}/</code> is an invalid path, since in this case there is another parameter after the optional one. You may also have a named parameter covering only part of a segment of the path, but you may only have one named parameter per segment. That means that /<code>{filename}.jpg</code> is valid while <code>/{filename}.{ext}</code> is not.</p>\n<h3>\n<a id=\"multi-segment-parameters\" class=\"anchor\" href=\"#multi-segment-parameters\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Multi-segment parameters</h3>\n<p><code>{params*n}</code>: With path configuration <code>/users/{user*2}</code>, it matches <code>/users/john/doe</code> or <code>/users/harshal/patil</code> but not <code>/users/john</code>. Number <strong>n</strong> after asterisk sign specifies the multiplier.</p>\n<p>Like the optional parameters, a wildcard parameter (for example <code>/{users*}</code>) may only appear as the last parameter in your path.</p>\n<h3>\n<a id=\"catch-all\" class=\"anchor\" href=\"#catch-all\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Catch all</h3>\n<p><code>{params*}</code>: Using this option, it matches anything. So <code>/users/{user*}</code> with match <code>/users/</code>, <code>/users/john</code>, <code>/users/john/doe</code>, <code>/users/john/doe/smith</code></p>\n<p>For more details about path parameters, <a href=\"https://github.com/hapijs/hapi/blob/master/API.md#path-parameters\">read hapi.js docs</a>.</p>\n<h2>\n<a id=\"routing-order\" class=\"anchor\" href=\"#routing-order\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Routing order</h2>\n<p>When determining what handler to use for a particular request, router searches paths in order from most specific to least specific. That means if you have two routes, one with the path <code>/filename.jpg</code> and a second route <code>/filename.{ext}</code> a request to /filename.jpg will match the first route, and not the second. This also means that a route with the path <code>/{files*}</code> will be the last route tested, and will only match if all other routes fail.</p>\n<p><strong>Call</strong> router has deterministic order than other routers and because of this deterministic order, <code>call</code> is able to detect conflicting routes and throw exception accordingly. In comparison, Express.js has different routing mechanism based on simple RegEx pattern matching making it faster (probably it only matters in theory) but unable to catch route conflicts. Read more about this at <a href=\"https://gist.github.com/hueniverse/a3109f716bf25718ba0e\">Eran Hammer's comments</a>.</p>\n<h2>\n<a id=\"method\" class=\"anchor\" href=\"#method\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Method</h2>\n<h3>\n<a id=\"new-routeroptions\" class=\"anchor\" href=\"#new-routeroptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Router([options])</code>\n</h3>\n<p>Constructor to create a new router instance where:</p>\n<ul>\n<li>\n<code>options</code> - an optional configuration object with the following fields:\n<ul>\n<li>\n<code>isCaseSensitive</code> - specifies if the paths should case sensitive. If set to <code>true</code>,\n<code>/users</code> and <code>/USERS</code> are considered as two different paths. Defaults to <code>true</code>.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">router</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Call.Router</span>();</pre></div>\n<h3>\n<a id=\"addoptions-data\" class=\"anchor\" href=\"#addoptions-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>add(options, [data])</code>\n</h3>\n<p>Adds a new route to the router where:</p>\n<ul>\n<li>\n<code>options</code> - a configuration object with the following fields:\n<ul>\n<li>\n<code>method</code> - the HTTP method (<code>'get'</code>, <code>'put'</code>, <code>'post'</code>, <code>'delete'</code>, etc.) or the wildcard\ncharacter (<code>'*'</code>) to match any methods. The method must be lowercase.</li>\n<li>\n<code>path</code> - the URL path to be used for route matching. The path segment can be static like\n<code>'/users/1234'</code> or it can be a <a href=\"#path-matching\">dynamic path</a>.</li>\n</ul>\n</li>\n<li>\n<code>data</code> - the application data to retrieve when a route match is found during lookup. This is\ntypically the route handler or other metadata about what to do when a route is matched.</li>\n</ul>\n<p>Throws on invalid route configuration or on a conflict with existing routes.</p>\n<h3>\n<a id=\"routemethod-path\" class=\"anchor\" href=\"#routemethod-path\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>route(method, path)</code>\n</h3>\n<p>Finds a matching route where:</p>\n<ul>\n<li>\n<code>method</code> - the requested route method.</li>\n<li>\n<code>path</code> - the requested route path.</li>\n</ul>\n<p>Returns an object with the following when a match is found:</p>\n<ul>\n<li>\n<code>params</code> - an object containing all path parameters where each <strong>key</strong> is path name and\n<strong>value</strong> is the corresponding parameter value in the requested <code>path</code>.</li>\n<li>\n<code>paramsArray</code> - an array of the parameter values in order.</li>\n<li>\n<code>route</code> - the <code>data</code> value provided when the route was added.</li>\n</ul>\n<p>If no match is found, returns (not throws) an error.</p>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"2.2.0":{"menu":"- [Example](#example)\n- [Paths matching](#paths-matching)\n  - [Exact match](#exact-match)\n  - [Optional parameters](#optional-parameters)\n  - [Multi-segment parameters](#multi-segment-parameters)\n  - [Catch all](#catch-all)\n- [Routing order](#routing-order)\n- [Method](#method)\n  - [`new Router()`](#new-routeroptions)\n  - [`add()`](#addoptions-data)\n  - [`route()`](#routemethod-path)","api":"<h2>\n<a id=\"introduction\" class=\"anchor\" href=\"#introduction\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Introduction</h2>\n<p><code>call</code> is a simple node.js HTTP Router. It is used by popular <a href=\"https://github.com/hapijs/hapi\">hapi.js</a> web framework. It implements predictable and easy to use routing. Even if it is designed to work with Hapi.js, you can still use it as an independent router in your app.</p>\n<h2>\n<a id=\"example\" class=\"anchor\" href=\"#example\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Example</h2>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Call</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/call<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Create new router</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">router</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Call.Router</span>();\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Add route</span>\n<span class=\"pl-smi\">router</span>.<span class=\"pl-c1\">add</span>({ method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>get<span class=\"pl-pds\">'</span></span>, path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span> }, { label<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>root-path<span class=\"pl-pds\">'</span></span> });\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Add another route</span>\n<span class=\"pl-smi\">router</span>.<span class=\"pl-c1\">add</span>({ method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>post<span class=\"pl-pds\">'</span></span>, path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/users<span class=\"pl-pds\">'</span></span> }, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>route specific data<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Add another route with dynamic path</span>\n<span class=\"pl-smi\">router</span>.<span class=\"pl-c1\">add</span>({ method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>put<span class=\"pl-pds\">'</span></span>, path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/users/{userId}<span class=\"pl-pds\">'</span></span> }, () <span class=\"pl-k\">=&gt;</span> { <span class=\"pl-c\"><span class=\"pl-c\">/*</span> ...handler... <span class=\"pl-c\">*/</span></span> });\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Match route</span>\n<span class=\"pl-smi\">router</span>.<span class=\"pl-en\">route</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>post<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/users<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span> If matching route is found, it returns an object containing</span>\n<span class=\"pl-c\">    {</span>\n<span class=\"pl-c\">        params: {},                     // All dynamic path parameters as key/value</span>\n<span class=\"pl-c\">        paramsArray: [],                // All dynamic path parameter values in order</span>\n<span class=\"pl-c\">        route: 'route specific data';   // routeData</span>\n<span class=\"pl-c\">    }</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span>\n\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Match route</span>\n<span class=\"pl-smi\">router</span>.<span class=\"pl-en\">route</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>put<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/users/1234<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span> returns</span>\n<span class=\"pl-c\">    {</span>\n<span class=\"pl-c\">        params: { userId: '1234' },</span>\n<span class=\"pl-c\">        paramsArray: [ '1234' ],</span>\n<span class=\"pl-c\">        route: [Function]</span>\n<span class=\"pl-c\">    }</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span></pre></div>\n<h2>\n<a id=\"paths-matching\" class=\"anchor\" href=\"#paths-matching\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Paths matching</h2>\n<h3>\n<a id=\"exact-match\" class=\"anchor\" href=\"#exact-match\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Exact match</h3>\n<p><code>{param}</code>: If path contains <code>/users/{user}</code> then it matches <code>/users/john</code> or <code>/users/1234</code> but not <code>/users</code>.</p>\n<h3>\n<a id=\"optional-parameters\" class=\"anchor\" href=\"#optional-parameters\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Optional parameters</h3>\n<p><code>{param?}</code>: ? means parameter is optional . If path contains <code>/users/{user?}</code> It matches <code>/users/john</code> as well as <code>/users</code>.</p>\n<p>It is important to be aware that only the last named parameter in a path can be optional. That means that <code>/{one?}/{two}/</code> is an invalid path, since in this case there is another parameter after the optional one. You may also have a named parameter covering only part of a segment of the path, but you may only have one named parameter per segment. That means that /<code>{filename}.jpg</code> is valid while <code>/{filename}.{ext}</code> is not.</p>\n<h3>\n<a id=\"multi-segment-parameters\" class=\"anchor\" href=\"#multi-segment-parameters\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Multi-segment parameters</h3>\n<p><code>{params*n}</code>: With path configuration <code>/users/{user*2}</code>, it matches <code>/users/john/doe</code> or <code>/users/harshal/patil</code> but not <code>/users/john</code>. Number <strong>n</strong> after asterisk sign specifies the multiplier.</p>\n<p>Like the optional parameters, a wildcard parameter (for example <code>/{users*}</code>) may only appear as the last parameter in your path.</p>\n<h3>\n<a id=\"catch-all\" class=\"anchor\" href=\"#catch-all\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Catch all</h3>\n<p><code>{params*}</code>: Using this option, it matches anything. So <code>/users/{user*}</code> with match <code>/users/</code>, <code>/users/john</code>, <code>/users/john/doe</code>, <code>/users/john/doe/smith</code></p>\n<p>For more details about path parameters, <a href=\"https://github.com/hapijs/hapi/blob/master/API.md#path-parameters\">read hapi.js docs</a>.</p>\n<h2>\n<a id=\"routing-order\" class=\"anchor\" href=\"#routing-order\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Routing order</h2>\n<p>When determining what handler to use for a particular request, router searches paths in order from most specific to least specific. That means if you have two routes, one with the path <code>/filename.jpg</code> and a second route <code>/filename.{ext}</code> a request to /filename.jpg will match the first route, and not the second. This also means that a route with the path <code>/{files*}</code> will be the last route tested, and will only match if all other routes fail.</p>\n<p><strong>Call</strong> router has deterministic order than other routers and because of this deterministic order, <code>call</code> is able to detect conflicting routes and throw exception accordingly. In comparison, Express.js has different routing mechanism based on simple RegEx pattern matching making it faster (probably it only matters in theory) but unable to catch route conflicts. Read more about this at <a href=\"https://gist.github.com/hueniverse/a3109f716bf25718ba0e\">Eran Hammer's comments</a>.</p>\n<h2>\n<a id=\"method\" class=\"anchor\" href=\"#method\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Method</h2>\n<h3>\n<a id=\"new-routeroptions\" class=\"anchor\" href=\"#new-routeroptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Router([options])</code>\n</h3>\n<p>Constructor to create a new router instance where:</p>\n<ul>\n<li>\n<code>options</code> - an optional configuration object with the following fields:\n<ul>\n<li>\n<code>isCaseSensitive</code> - specifies if the paths should case sensitive. If set to <code>true</code>,\n<code>/users</code> and <code>/USERS</code> are considered as two different paths. Defaults to <code>true</code>.</li>\n</ul>\n</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">router</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Call.Router</span>();</pre></div>\n<h3>\n<a id=\"addoptions-data\" class=\"anchor\" href=\"#addoptions-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>add(options, [data])</code>\n</h3>\n<p>Adds a new route to the router where:</p>\n<ul>\n<li>\n<code>options</code> - a configuration object with the following fields:\n<ul>\n<li>\n<code>method</code> - the HTTP method (<code>'get'</code>, <code>'put'</code>, <code>'post'</code>, <code>'delete'</code>, etc.) or the wildcard\ncharacter (<code>'*'</code>) to match any methods. The method must be lowercase.</li>\n<li>\n<code>path</code> - the URL path to be used for route matching. The path segment can be static like\n<code>'/users/1234'</code> or it can be a <a href=\"#path-matching\">dynamic path</a>.</li>\n</ul>\n</li>\n<li>\n<code>data</code> - the application data to retrieve when a route match is found during lookup. This is\ntypically the route handler or other metadata about what to do when a route is matched.</li>\n</ul>\n<p>Throws on invalid route configuration or on a conflict with existing routes.</p>\n<h3>\n<a id=\"routemethod-path\" class=\"anchor\" href=\"#routemethod-path\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>route(method, path)</code>\n</h3>\n<p>Finds a matching route where:</p>\n<ul>\n<li>\n<code>method</code> - the requested route method.</li>\n<li>\n<code>path</code> - the requested route path.</li>\n</ul>\n<p>Returns an object with the following when a match is found:</p>\n<ul>\n<li>\n<code>params</code> - an object containing all path parameters where each <strong>key</strong> is path name and\n<strong>value</strong> is the corresponding parameter value in the requested <code>path</code>.</li>\n<li>\n<code>paramsArray</code> - an array of the parameter values in order.</li>\n<li>\n<code>route</code> - the <code>data</code> value provided when the route was added.</li>\n</ul>\n<p>If no match is found, returns (not throws) an error.</p>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"}},"pinpoint":{"name":"pinpoint","versions":[{"name":"1.0.2","branch":"master","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["1.0.2"],"1.0.2":{"menu":"- [`location()`](#locationdepth)","api":"<h3>\n<a id=\"locationdepth\" class=\"anchor\" href=\"#locationdepth\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>location(depth)</code>\n</h3>\n<p>Returns the filename and line number of the caller in the call stack where:</p>\n<ul>\n<li>\n<code>depth</code> - the distance from the <code>location()</code> function in the call stack. Defaults to <code>1</code> (caller).</li>\n</ul>\n<p>Returns an object with the <code>filename</code> and <code>line</code> number.</p>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"slogan":"Return the filename and line number of the calling function.","forks":1,"stars":2,"date":"2019-10-10T08:05:55Z","updated":"Thu Oct 10 2019","link":"https://github.com/hapijs/pinpoint"},"podium":{"name":"podium","versions":[{"name":"3.4.3","branch":"master","license":"BSD","node":" 12, 10, 8"},{"name":"1.4.0","branch":"v1-commercial","license":"Commercial","node":" 10, 8, 6"}],"versionsArray":["3.4.3","1.4.0"],"3.4.3":{"menu":"  - [`Using different parameters`](#-using-different-parameters)\n    - [`channels`](#channels)\n    - [`clone`](#clone)\n    - [`spread`](#spread)\n    - [`shared`](#shared)\n    - [`tag-filter`](#tag-filter)\n    - [`count`](#count)\n- [`new Podium()`](#new-podiumevents)\n- [`podium.registerEvent()`](#podiumregistereventevents)\n- [`podium.registerPodium()`](#podiumregisterpodiumpodiums)\n- [`podium.emit()`](#podiumemitcriteria-data)\n- [`podium.on()`](#podiumoncriteria-listener-context)\n- [`podium.addListener()`](#podiumaddlistenercriteria-listener-context)\n- [`podium.once()`](#podiumoncecriteria-listener-context)\n- [`podium.removeListener()`](#podiumremovelistenername-listener)\n- [`podium.removeAllListeners()`](#podiumremovealllistenersname)\n- [`podium.hasListeners()`](#podiumhaslistenersname)","api":"<h3>\n<a id=\"-using-different-parameters\" class=\"anchor\" href=\"#-using-different-parameters\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><a name=\"parameters\"></a> <code>Using different parameters</code>\n</h3>\n<p>Along with channels, podium allows you to specify other event parameters. Below are more examples:</p>\n<ul>\n<li><a href=\"#channels\"><code>channels</code></a></li>\n<li><a href=\"#clone\"><code>clone</code></a></li>\n<li><a href=\"#spread\"><code>spread</code></a></li>\n<li><a href=\"#shared\"><code>shared</code></a></li>\n<li><a href=\"#tagFilter\"><code>tag-filter</code></a></li>\n<li><a href=\"#count\"><code>count</code></a></li>\n</ul>\n<h4>\n<a id=\"channels\" class=\"anchor\" href=\"#channels\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><a name=\"channels\"></a><code>channels</code>\n</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Podium</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/podium<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">podiumObject</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Podium</span>();\n\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">registerEvent</span>([\n    {\n        name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>event1<span class=\"pl-pds\">'</span></span>,\n        channels<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch1<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch2<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch3<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch4<span class=\"pl-pds\">'</span></span>],\n    },\n    {\n        name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>event2<span class=\"pl-pds\">'</span></span>,\n        channels<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch1<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch2<span class=\"pl-pds\">'</span></span>]\n    }\n]);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">listener1</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">data</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>listener1 called<span class=\"pl-pds\">'</span></span>, data);\n};\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">listener2</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">data</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>listener2 called<span class=\"pl-pds\">'</span></span>, data);\n};\n\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">on</span>({\n    name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>event1<span class=\"pl-pds\">'</span></span>,\n    channels<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch1<span class=\"pl-pds\">'</span></span>]\n}, listener1);\n\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">on</span>({\n    name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>event1<span class=\"pl-pds\">'</span></span>,\n    channels<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch3<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch4<span class=\"pl-pds\">'</span></span>]\n}, listener2);\n\n\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">on</span>({ name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>event1<span class=\"pl-pds\">'</span></span>, channels<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch2<span class=\"pl-pds\">'</span></span> }, (<span class=\"pl-smi\">data</span>) <span class=\"pl-k\">=&gt;</span> { <span class=\"pl-c\"><span class=\"pl-c\">//</span> autonomous function</span>\n\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>auto<span class=\"pl-pds\">'</span></span>, data);\n});\n\n<span class=\"pl-k\">var</span> arr <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>, <span class=\"pl-c1\">4</span>, <span class=\"pl-c1\">4</span>, <span class=\"pl-c1\">5</span>];\n\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">emit</span>({\n    name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>event1<span class=\"pl-pds\">'</span></span>,\n    channel<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch3<span class=\"pl-pds\">'</span></span>\n});</pre></div>\n<h4>\n<a id=\"clone\" class=\"anchor\" href=\"#clone\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><a name=\"clone\"></a><code>clone</code>\n</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Podium</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/podium<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">podiumObject</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Podium</span>();\n\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">registerEvent</span>([\n    {\n        name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>event1<span class=\"pl-pds\">'</span></span>,\n        channels<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch1<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch2<span class=\"pl-pds\">'</span></span>],\n        clone<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>\n    },\n    {\n        name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>event2<span class=\"pl-pds\">'</span></span>,\n        channels<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch1<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch2<span class=\"pl-pds\">'</span></span>]\n    }\n]);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">listener1</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">data</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    data[<span class=\"pl-c1\">0</span>] <span class=\"pl-k\">=</span> <span class=\"pl-c1\">55</span>;\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>listener1 called<span class=\"pl-pds\">'</span></span>, data);\n};\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">listener2</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">data</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    data[<span class=\"pl-c1\">0</span>] <span class=\"pl-k\">=</span> <span class=\"pl-c1\">100</span>;\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>listener2 called<span class=\"pl-pds\">'</span></span>, data);\n};\n\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">on</span>({\n    name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>event1<span class=\"pl-pds\">'</span></span>,\n    channels<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch1<span class=\"pl-pds\">'</span></span>]\n}, listener1);\n\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">on</span>({\n    name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>event2<span class=\"pl-pds\">'</span></span>,\n    channels<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch1<span class=\"pl-pds\">'</span></span>]\n}, listener2);\n\n<span class=\"pl-k\">var</span> arr <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>, <span class=\"pl-c1\">4</span>, <span class=\"pl-c1\">4</span>, <span class=\"pl-c1\">5</span>];\n\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>initially: <span class=\"pl-pds\">'</span></span>, arr);\n\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">emit</span>({\n    name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>event1<span class=\"pl-pds\">'</span></span>,\n    channel<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch1<span class=\"pl-pds\">'</span></span>\n});\n\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>after event1, ch1: <span class=\"pl-pds\">'</span></span>, arr);\n\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">emit</span>({\n    name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>event2<span class=\"pl-pds\">'</span></span>,\n    channel<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch1<span class=\"pl-pds\">'</span></span>\n});\n\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>after event2, ch1: <span class=\"pl-pds\">'</span></span>, arr);</pre></div>\n<h4>\n<a id=\"spread\" class=\"anchor\" href=\"#spread\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><a name=\"spread\"></a><code>spread</code>\n</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Podium</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/podium<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">podiumObject</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Podium</span>();\n\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">registerEvent</span>([\n    {\n        name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>event1<span class=\"pl-pds\">'</span></span>,\n        channels<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch1<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch2<span class=\"pl-pds\">'</span></span>],\n        spread<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>\n    },\n    {\n        name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>event2<span class=\"pl-pds\">'</span></span>,\n        channels<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch1<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch2<span class=\"pl-pds\">'</span></span>]\n    }\n]);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">listener1</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">data1</span>, <span class=\"pl-smi\">data2</span>, <span class=\"pl-smi\">data3</span>, <span class=\"pl-smi\">data4</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>listener1 called<span class=\"pl-pds\">'</span></span>, data1, data2, data3, data4);\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">listener2</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">data</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    data[<span class=\"pl-c1\">0</span>] <span class=\"pl-k\">=</span> <span class=\"pl-c1\">100</span>;\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>listener2 called<span class=\"pl-pds\">'</span></span>, data);\n};\n\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">on</span>({\n    name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>event1<span class=\"pl-pds\">'</span></span>,\n    channels<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch1<span class=\"pl-pds\">'</span></span>]\n}, listener1);\n\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">on</span>({\n    name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>event2<span class=\"pl-pds\">'</span></span>,\n    channels<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch1<span class=\"pl-pds\">'</span></span>]\n}, listener2);\n\n<span class=\"pl-k\">var</span> arr <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>, <span class=\"pl-c1\">4</span>, <span class=\"pl-c1\">4</span>, <span class=\"pl-c1\">5</span>];\n\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>initially: <span class=\"pl-pds\">'</span></span>, arr);\n\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">emit</span>({\n    name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>event1<span class=\"pl-pds\">'</span></span>,\n    channel<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch1<span class=\"pl-pds\">'</span></span>\n});\n\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>after event1, ch1: <span class=\"pl-pds\">'</span></span>, arr);\n\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">emit</span>({\n    name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>event2<span class=\"pl-pds\">'</span></span>,\n    channel<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch1<span class=\"pl-pds\">'</span></span>\n});\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>after event2, ch1: <span class=\"pl-pds\">'</span></span>, arr);</pre></div>\n<h4>\n<a id=\"shared\" class=\"anchor\" href=\"#shared\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><a name=\"shared\"></a><code>shared</code>\n</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Podium</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/podium<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">podiumObject</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Podium</span>();\n\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">registerEvent</span>([\n    {\n        name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>event1<span class=\"pl-pds\">'</span></span>,\n        channels<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch1<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch2<span class=\"pl-pds\">'</span></span>],\n    }\n]);\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">registerEvent</span>([\n    {\n        name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>event1<span class=\"pl-pds\">'</span></span>,\n        channels<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch1<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch2<span class=\"pl-pds\">'</span></span>],\n        shared<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>\n    }\n]);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">listener2</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">data</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>listener2 called<span class=\"pl-pds\">'</span></span>, data);\n};\n\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">on</span>({\n    name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>event1<span class=\"pl-pds\">'</span></span>,\n    channels<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch1<span class=\"pl-pds\">'</span></span>]\n}, listener2);\n\n<span class=\"pl-k\">var</span> arr <span class=\"pl-k\">=</span> [<span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">3</span>, <span class=\"pl-c1\">4</span>, <span class=\"pl-c1\">4</span>, <span class=\"pl-c1\">5</span>];\n\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">emit</span>({\n    name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>event1<span class=\"pl-pds\">'</span></span>,\n    channel<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ch1<span class=\"pl-pds\">'</span></span>\n});</pre></div>\n<h4>\n<a id=\"tag-filter\" class=\"anchor\" href=\"#tag-filter\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><a name=\"tagFilter\"></a><code>tag-filter</code>\n</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Podium</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/podium<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">emitter</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Podium</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">updates</span> <span class=\"pl-k\">=</span> [];\n<span class=\"pl-smi\">emitter</span>.<span class=\"pl-en\">on</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>, (<span class=\"pl-smi\">data</span>) <span class=\"pl-k\">=&gt;</span> <span class=\"pl-smi\">updates</span>.<span class=\"pl-c1\">push</span>({ id<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>, data }));\n<span class=\"pl-smi\">emitter</span>.<span class=\"pl-en\">on</span>({ name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>, filter<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>] }, (<span class=\"pl-smi\">data</span>) <span class=\"pl-k\">=&gt;</span> <span class=\"pl-smi\">updates</span>.<span class=\"pl-c1\">push</span>({ id<span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span>, data }));\n<span class=\"pl-smi\">emitter</span>.<span class=\"pl-en\">on</span>({ name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>, filter<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span> }, (<span class=\"pl-smi\">data</span>) <span class=\"pl-k\">=&gt;</span> <span class=\"pl-smi\">updates</span>.<span class=\"pl-c1\">push</span>({ id<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3</span>, data }));\n<span class=\"pl-smi\">emitter</span>.<span class=\"pl-en\">on</span>({ name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>, filter<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>c<span class=\"pl-pds\">'</span></span>] }, (<span class=\"pl-smi\">data</span>) <span class=\"pl-k\">=&gt;</span> <span class=\"pl-smi\">updates</span>.<span class=\"pl-c1\">push</span>({ id<span class=\"pl-k\">:</span> <span class=\"pl-c1\">4</span>, data }));\n<span class=\"pl-smi\">emitter</span>.<span class=\"pl-en\">on</span>({ name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>, filter<span class=\"pl-k\">:</span> { tags<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>], all<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> } }, (<span class=\"pl-smi\">data</span>) <span class=\"pl-k\">=&gt;</span> <span class=\"pl-smi\">updates</span>.<span class=\"pl-c1\">push</span>({ id<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span>, data }));\n\n<span class=\"pl-smi\">emitter</span>.<span class=\"pl-en\">emit</span>({ name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>, tags<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span> }, <span class=\"pl-c1\">1</span>);\n<span class=\"pl-smi\">emitter</span>.<span class=\"pl-en\">emit</span>({ name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>, tags<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>] }, <span class=\"pl-c1\">2</span>);\n<span class=\"pl-smi\">emitter</span>.<span class=\"pl-en\">emit</span>({ name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>, tags<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>d<span class=\"pl-pds\">'</span></span>] }, <span class=\"pl-c1\">3</span>);\n<span class=\"pl-smi\">emitter</span>.<span class=\"pl-en\">emit</span>({ name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>, tags<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>] }, <span class=\"pl-c1\">4</span>);\n<span class=\"pl-smi\">emitter</span>.<span class=\"pl-en\">emit</span>({ name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>, tags<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>a<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>b<span class=\"pl-pds\">'</span></span>] }, <span class=\"pl-c1\">5</span>);\n\n<span class=\"pl-smi\">emitter</span>.<span class=\"pl-en\">emit</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c1\">6</span>, () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(updates);\n});</pre></div>\n<h4>\n<a id=\"count\" class=\"anchor\" href=\"#count\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><a name=\"count\"></a><code>count</code>\n</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Podium</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/podium<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">podiumObject</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Podium</span>();\n\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">registerEvent</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>event1<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">listener1</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">data</span>) {\n\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>listener1 called<span class=\"pl-pds\">'</span></span>, data);\n};\n\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">on</span>({\n    name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>event1<span class=\"pl-pds\">'</span></span>,\n    count<span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span>\n}, listener1);\n\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">emit</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>event1<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>emit 1<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">emit</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>event1<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>emit 2<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-smi\">podiumObject</span>.<span class=\"pl-en\">emit</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>event1<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>emit 3<span class=\"pl-pds\">'</span></span>); <span class=\"pl-c\"><span class=\"pl-c\">//</span> this wont call listener1</span></pre></div>\n<h2>\n<a id=\"new-podiumevents\" class=\"anchor\" href=\"#new-podiumevents\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Podium(events)</code>\n</h2>\n<p>Creates a new <strong>podium</strong> emitter where:</p>\n<ul>\n<li>\n<code>events</code> - if present, the value is passed to <a href=\"#podiumregistereventevents\"><code>podium.registerEvent()</code></a>.</li>\n</ul>\n<p>Returns a <code>Podium</code> object.</p>\n<h2>\n<a id=\"podiumregistereventevents\" class=\"anchor\" href=\"#podiumregistereventevents\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>podium.registerEvent(events)</code>\n</h2>\n<p>Register the specified events and their optional configuration. Events must be registered before\nthey can be emitted or subscribed to. This is done to detect event name misspelling and invalid\nevent activities. The <code>events</code> argument can be:</p>\n<ul>\n<li>an event <strong>string</strong>.</li>\n<li>an event options object with the following optional keys (unless noted otherwise):\n<ul>\n<li>\n<code>name</code> - the event name <strong>string (required)</strong>.</li>\n<li>\n<code>channels</code> - a <strong>string</strong> or <strong>array of strings</strong> specifying the event channels available. <strong>Defaults\nto no channel restrictions (event updates can specify a channel or not).</strong>\n</li>\n<li>\n<code>clone</code> - if <code>true</code>, the <code>data</code> object passed to <a href=\"#podiumemitcriteria-data-callback\"><code>podium.emit()</code></a>\nis cloned before it is passed to the listeners (unless an override specified by each listener).\n<strong>Defaults to <code>false</code> (<code>data</code> is passed as-is).</strong>\n</li>\n<li>\n<code>spread</code> - if <code>true</code>, the <code>data</code> object passed to <a href=\"#podiumemitcriteria-data-callback\"><code>podium.emit()</code></a>\n<strong>must be an array</strong> and the <code>listener</code> method is called with each array element passed as a separate\nargument (unless an override specified by each listener). <strong>This should only be used when the emitted\ndata structure is known and predictable.</strong>\n<strong>Defaults to <code>false</code> (<code>data</code> is emitted as a single argument regardless of its type).</strong>\n</li>\n<li>\n<code>tags</code> - if <code>true</code> and the <code>criteria</code> object passed to <a href=\"#podiumemitcriteria-data-callback\"><code>podium.emit()</code></a>\nincludes <code>tags</code>, the tags are mapped to an object (where each tag string is the key and\nthe value is <code>true</code>) which is appended to the arguments list at the end (but before\nthe <code>callback</code> argument if <code>block</code> is set). A configuration override can be set by each\nlistener. <strong>Defaults to <code>false</code>.</strong>\n</li>\n<li>\n<code>shared</code> - if <code>true</code>, the same event <code>name</code> can be registered multiple times where the second\nregistration is ignored. <strong>Note that if the registration config is changed between registrations,\nonly the first configuration is used. Defaults to <code>false</code> (a duplicate registration will throw an\nerror).</strong> For detailed examples of event parameters <a href=\"README.md#parameters\">see here</a>\n</li>\n</ul>\n</li>\n<li>a <code>Podium</code> object which is passed to <a href=\"#podiumregisterpodiumpodiums\"><code>podium.registerPodium()</code></a>.</li>\n<li>an array containing any of the above.</li>\n</ul>\n<h2>\n<a id=\"podiumregisterpodiumpodiums\" class=\"anchor\" href=\"#podiumregisterpodiumpodiums\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>podium.registerPodium(podiums)</code>\n</h2>\n<p>Registers another emitter as an event source for the current emitter (any event update emitted by the\nsource emitter is passed to any subscriber of the current emitter) where:</p>\n<ul>\n<li>\n<code>podiums</code> - a <code>Podium</code> object or an array of objects, each added as a source.</li>\n</ul>\n<p>Note that any events registered with a source emitter are automatically added to the current emitter.\nIf the events are already registered, they are left as-is.</p>\n<h2>\n<a id=\"podiumemitcriteria-data\" class=\"anchor\" href=\"#podiumemitcriteria-data\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>podium.emit(criteria, data)</code>\n</h2>\n<p>Emits an event update to all the subscribed listeners where:</p>\n<ul>\n<li>\n<code>criteria</code> - the event update criteria which must be one of:\n<ul>\n<li>the event name string.</li>\n<li>an object with the following optional keys (unless noted otherwise):\n<ul>\n<li>\n<code>name</code> - the event name string (required).</li>\n<li>\n<code>channel</code> - the channel name string.</li>\n<li>\n<code>tags</code> - a tag string or array of tag strings.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>data</code> - the value emitted to the subscribers.</li>\n</ul>\n<h2>\n<a id=\"podiumoncriteria-listener-context\" class=\"anchor\" href=\"#podiumoncriteria-listener-context\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>podium.on(criteria, listener, context)</code>\n</h2>\n<p>Subscribe a handler to an event where:</p>\n<ul>\n<li>\n<code>criteria</code> - the subscription criteria which must be one of the following:\n<ul>\n<li>event name <strong>string</strong>.</li>\n<li>a criteria object with the following optional keys (unless noted otherwise):\n<ul>\n<li>\n<code>name</code> - the event name <strong>string (required)</strong>.</li>\n<li>\n<code>block</code> - if <code>true</code>, the <code>listener</code> method receives an additional <code>callback</code> argument\nwhich must be called when the method completes. No other event will be emitted until the\n<code>callback</code> methods is called. The method signature is <code>function()</code>. If <code>block</code> is set to\na positive integer, the value is used to set a timeout after which any pending events\nwill be emitted, ignoring the eventual call to <code>callback</code>. <strong>Defaults to <code>false</code> (non\nblocking).</strong>\n</li>\n<li>\n<code>channels</code> - a <strong>string</strong> or <strong>array of strings</strong> specifying the event channels to subscribe to.\nIf the event registration specified a list of allowed channels, the <code>channels</code> array must\nmatch the allowed channels. If <code>channels</code> are specified, event updates without any\nchannel designation will not be included in the subscription. <strong>Defaults to no channels\nfilter.</strong>\n</li>\n<li>\n<code>clone</code> - if <code>true</code>, the <code>data</code> object passed to <a href=\"#podiumemitcriteria-data-callback\"><code>podium.emit()</code></a>\nis cloned before it is passed to the <code>listener</code> method. <strong>Defaults to the event\nregistration option (which defaults to <code>false</code>).</strong>\n</li>\n<li>\n<code>count</code> - a positive <strong>integer</strong> indicating the number of times the <code>listener</code> can be called\nafter which the subscription is automatically removed. A count of <code>1</code> is the same as\ncalling <code>podium.once()</code>. <strong>Defaults to no limit.</strong>\n</li>\n<li>\n<code>filter</code> - the event tags (if present) to subscribe to which can be one of the following:\n<ul>\n<li>a tag <strong>string</strong>.</li>\n<li>an <strong>array</strong> of tag <strong>strings</strong>.</li>\n<li>an object with the following:\n<ul>\n<li>\n<code>tags</code> - a tag <strong>string</strong> or <strong>array</strong> of tag <strong>strings</strong>.</li>\n<li>\n<code>all</code> - if <code>true</code>, all <code>tags</code> must be present for the event update to match the\nsubscription. <strong>Defaults to <code>false</code> (at least one matching tag).</strong>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>spread</code> - if <code>true</code>, and the <code>data</code> object passed to <a href=\"#podiumemitcriteria-data-callback\"><code>podium.emit()</code></a>\nis an <strong>array</strong>, the <code>listener</code> method is called with each <strong>array element</strong> passed as a separate\nargument. <strong>This should only be used when the emitted data structure is known and predictable.\nDefaults to the event registration option (which defaults to <code>false</code>).</strong>\n</li>\n<li>\n<code>tags</code> - if <code>true</code> and the <code>criteria</code> object passed to <a href=\"#podiumemitcriteria-data-callback\"><code>podium.emit()</code></a>\nincludes <code>tags</code>, the tags are mapped to an object (where each tag string is the key and\nthe value is <code>true</code>) which is appended to the arguments list at the end (but before\nthe <code>callback</code> argument if <code>block</code> is set). <strong>Defaults to the event registration option\n(which defaults to <code>false</code>).</strong>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>listener</code> - the handler method set to receive event updates. The function signature depends\non the <code>block</code>, <code>spread</code>, and <code>tags</code> options.</li>\n<li>\n<code>context</code> - an <strong>object</strong> that binds to the listener handler.</li>\n</ul>\n<h2>\n<a id=\"podiumaddlistenercriteria-listener-context\" class=\"anchor\" href=\"#podiumaddlistenercriteria-listener-context\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>podium.addListener(criteria, listener, context)</code>\n</h2>\n<p>Same as <a href=\"#podiumoncriteria-listener\"><code>podium.on()</code></a>.</p>\n<h2>\n<a id=\"podiumoncecriteria-listener-context\" class=\"anchor\" href=\"#podiumoncecriteria-listener-context\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>podium.once(criteria, listener, context)</code>\n</h2>\n<p>Same as calling <a href=\"#podiumoncriteria-listener\"><code>podium.on()</code></a> with the <code>count</code> option set to <code>1</code>.</p>\n<h2>\n<a id=\"podiumremovelistenername-listener\" class=\"anchor\" href=\"#podiumremovelistenername-listener\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>podium.removeListener(name, listener)</code>\n</h2>\n<p>Removes all listeners subscribed to a given event name matching the provided listener method where:</p>\n<ul>\n<li>\n<code>name</code> - the event name <strong>string</strong>.</li>\n<li>\n<code>listener</code> - the function reference provided when subscribed.</li>\n</ul>\n<p>Returns a reference to the current emitter.</p>\n<h2>\n<a id=\"podiumremovealllistenersname\" class=\"anchor\" href=\"#podiumremovealllistenersname\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>podium.removeAllListeners(name)</code>\n</h2>\n<p>Removes all listeners subscribed to a given event name where:</p>\n<ul>\n<li>\n<code>name</code> - the event name <strong>string</strong>.</li>\n</ul>\n<p>Returns a reference to the current emitter.</p>\n<h2>\n<a id=\"podiumhaslistenersname\" class=\"anchor\" href=\"#podiumhaslistenersname\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>podium.hasListeners(name)</code>\n</h2>\n<p>Returns whether an event has any listeners subscribed where:</p>\n<ul>\n<li>\n<code>name</code> - the event name <strong>string</strong>.</li>\n</ul>\n<p>Returns <code>true</code> if the event name has any listeners, otherwise <code>false</code>.</p>\n","intro":"## Introduction\n\n**podium** is an event emitter with support for tags, filters, channels, event update cloning,\narguments spreading, and other features useful when building large scale applications.\nWhile node's native [`EventEmitter`](https://nodejs.org/dist/latest-v6.x/docs/api/events.html#events_class_eventemitter) is strictly focused on maximum performance,\nit lacks many features that do not belong in the core implementation. **podium** is not restricted by\nnode's performance requirement as it is designed for application layer needs where its overhead\nis largely insignificant as implementing these features will have similar cost on top of the native emitter.\n","example":"## Example\n\n```js\nconst Podium = require('@hapi/podium');\n\nconst emitter = new Podium()\n\nconst context = { count: 0 }\n\nemitter.registerEvent({\n    name: 'event',\n    channels: ['ch1', 'ch2']\n})\n\nconst handler1 = function () {\n\n    ++this.count\n    console.log(this.count)\n};\n\nconst handler2 = function () {\n\n    this.count = this.count + 2\n    console.log(this.count)\n}\n\nemitter.on({\n    name: 'event',\n    channels: ['ch1']\n}, handler1, context);\n\nemitter.on({\n    name: 'event',\n    channels: ['ch2']\n}, handler2, context)\n\nemitter.emit({\n    name: 'event',\n    channel: 'ch1'\n})\n\nemitter.emit({\n    name: 'event',\n    channel: 'ch2'\n})\n\nemitter.hasListeners('event') // true\n\nemitter.removeAllListeners('event') // Removes all listeners subscribed to 'event'\n```\n\nThe above example uses podium's channel event parameter to restrict the event update to only the specified channel. \n\nFirst you register the event by calling the `registerEvent()` method. Here, you name the event `'event'` and give it channels `['ch1', 'ch2']`.\n\nNext you specify your listener handlers. These will be called when an event is updated. Here you make use of podium's listener context, data that you can bind to your listener handlers. \nIn this case, `handler1` will add 1 to count, which is specified as `{ count: 0 }`, while `handler2` will add 2.\n\nNext you call the `on()` method to subscribe a handler to an event. You use the same event name, but two different channels. `'ch1'` will use handler1 and `'ch2'` will use handler2.\n\nLastly, you use `emit()` to emit and event update to the subscribers. \n\n","usage":"","faq":"","license":"BSD"},"1.4.0":{"menu":"- [`new Podium()`](#new-podiumevents)\n- [`podium.registerEvent()`](#podiumregistereventevents)\n- [`podium.registerPodium()`](#podiumregisterpodiumpodiums)\n- [`podium.emit()`](#podiumemitcriteria-data-callback)\n- [`podium.on()`](#podiumoncriteria-listener)\n- [`podium.addListener()`](#podiumaddlistenercriteria-listener)\n- [`podium.once()`](#podiumoncecriteria-listener)\n- [`podium.removeListener()`](#podiumremovelistenername-listener)\n- [`podium.removeAllListeners()`](#podiumremovealllistenersname)\n- [`podium.hasListeners()`](#podiumhaslistenersname)","api":"<h2>\n<a id=\"new-podiumevents\" class=\"anchor\" href=\"#new-podiumevents\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Podium(events)</code>\n</h2>\n<p>Creates a new <strong>podium</strong> emitter where:</p>\n<ul>\n<li>\n<code>events</code> - if present, the value is passed to <a href=\"#podiumregistereventevents\"><code>podium.registerEvent()</code></a>.</li>\n</ul>\n<p>Returns a <code>Podium</code> object.</p>\n<h2>\n<a id=\"podiumregistereventevents\" class=\"anchor\" href=\"#podiumregistereventevents\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>podium.registerEvent(events)</code>\n</h2>\n<p>Register the specified events and their optional configuration. Events must be registered before\nthey can be emitted or subscribed to. This is done to detect event name mispelling and invalid\nevent activities. The <code>events</code> argument can be:</p>\n<ul>\n<li>an event string.</li>\n<li>an event options object with the following optional keys (unless noted otherwise):\n<ul>\n<li>\n<code>name</code> - the event name string (required).</li>\n<li>\n<code>channels</code> - a string or array of strings specifying the event channels available. Defaults\nto no channel restrictions (event updates can specify a channel or not).</li>\n<li>\n<code>clone</code> - if <code>true</code>, the <code>data</code> object passed to <a href=\"#podiumemitcriteria-data-callback\"><code>podium.emit()</code></a>\nis cloned before it is passed to the listeners (unless an override specified by each listener).\nDefaults to <code>false</code> (<code>data</code> is passed as-is).</li>\n<li>\n<code>spread</code> - if <code>true</code>, the <code>data</code> object passed to <a href=\"#podiumemitcriteria-data-callback\"><code>podium.emit()</code></a>\nmust be an array and the <code>listener</code> method is called with each array element passed as a separate\nargument (unless an override specified by each listener). This should only be used when the emitted\ndata structure is known and predictable.\nDefaults to <code>false</code> (<code>data</code> is emitted as a single argument regardless of its type).</li>\n<li>\n<code>tags</code> - if <code>true</code> and the <code>criteria</code> object passed to <a href=\"#podiumemitcriteria-data-callback\"><code>podium.emit()</code></a>\nincludes <code>tags</code>, the tags are mapped to an object (where each tag string is the key and\nthe value is <code>true</code>) which is appended to the arguments list at the end (but before\nthe <code>callback</code> argument if <code>block</code> is set). A configuration override can be set by each\nlistener. Defaults to <code>false</code>.</li>\n<li>\n<code>shared</code> - if <code>true</code>, the same event <code>name</code> can be registered multiple times where the second\nregistration is ignored. Note that if the registration config is changed between registrations,\nonly the first configuration is used. Defaults to <code>false</code> (a duplicate registration will throw an\nerror).</li>\n</ul>\n</li>\n<li>a <code>Podium</code> object which is passed to <a href=\"#podiumregisterpodiumpodiums\"><code>podium.registerPodium()</code></a>.</li>\n<li>an array containing any of the above.</li>\n</ul>\n<h2>\n<a id=\"podiumregisterpodiumpodiums\" class=\"anchor\" href=\"#podiumregisterpodiumpodiums\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>podium.registerPodium(podiums)</code>\n</h2>\n<p>Registers another emitter as an event source for the current emitter (any event update emitted by the\nsource emitter is passed to any subscriber of the current emitter) where:</p>\n<ul>\n<li>\n<code>podiums</code> - a <code>Podium</code> object or an array of objects, each added as a source.</li>\n</ul>\n<p>Note that any events registered with a source emitter are automatically added to the current emitter.\nIf the events are already registered, they are left as-is.</p>\n<h2>\n<a id=\"podiumemitcriteria-data-callback\" class=\"anchor\" href=\"#podiumemitcriteria-data-callback\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>podium.emit(criteria, data, [callback])</code>\n</h2>\n<p>Emits an event update to all the subscribed listeners where:</p>\n<ul>\n<li>\n<code>criteria</code> - the event update criteria which must be one of:\n<ul>\n<li>the event name string.</li>\n<li>an object with the following optional keys (unless noted otherwise):\n<ul>\n<li>\n<code>name</code> - the event name string (required).</li>\n<li>\n<code>channel</code> - the channel name string.</li>\n<li>\n<code>tags</code> - a tag string or array of tag strings.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>data</code> - the value emitted to the subscribers.</li>\n<li>\n<code>callback</code> - an optional callback method invoked when all subscribers have been notified using the\nsignature <code>function()</code>.</li>\n</ul>\n<h2>\n<a id=\"podiumoncriteria-listener\" class=\"anchor\" href=\"#podiumoncriteria-listener\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>podium.on(criteria, listener)</code>\n</h2>\n<p>Subscribe a handler to an event where:</p>\n<ul>\n<li>\n<code>criteria</code> - the subscription criteria which must be one of:\n<ul>\n<li>event name string.</li>\n<li>a criteria object with the following optional keys (unless noted otherwise):\n<ul>\n<li>\n<code>name</code> - the event name string (required).</li>\n<li>\n<code>block</code> - if <code>true</code>, the <code>listener</code> method receives an additional <code>callback</code> argument\nwhich must be called when the method completes. No other event will be emitted until the\n<code>callback</code> methods is called. The method signature is <code>function()</code>. If <code>block</code> is set to\na positive integer, the value is used to set a timeout after which any pending events\nwill be emitted, ignoring the eventual call to <code>callback</code>. Defaults to <code>false</code> (non\nblocking).</li>\n<li>\n<code>channels</code> - a string or array of strings specifying the event channels to subscribe to.\nIf the event registration specified a list of allowed channels, the <code>channels</code> array must\nmatch the allowed channels. If <code>channels</code> are specified, event updates without any\nchannel designation will not be included in the subscription. Defaults to no channels\nfilter.</li>\n<li>\n<code>clone</code> - if <code>true</code>, the <code>data</code> object passed to <a href=\"#podiumemitcriteria-data-callback\"><code>podium.emit()</code></a>\nis cloned before it is passed to the <code>listener</code> method. Defaults to the event\nregistration option (which defaults to <code>false</code>).</li>\n<li>\n<code>count</code> - a positive integer indicating the number of times the <code>listener</code> can be called\nafter which the subscription is automatically removed. A count of <code>1</code> is the same as\ncalling <code>podium.once()</code>. Defaults to no limit.</li>\n<li>\n<code>filter</code> - the event tags (if present) to subscribe to which can be one of:\n<ul>\n<li>a tag string.</li>\n<li>an array of tag strings.</li>\n<li>an object with the following:\n<ul>\n<li>\n<code>tags</code> - a tag string or array of tag strings.</li>\n<li>\n<code>all</code> - if <code>true</code>, all <code>tags</code> must be present for the event update to match the\nsubscription. Defaults to <code>false</code> (at least one matching tag).</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>spread</code> - if <code>true</code>, and the <code>data</code> object passed to <a href=\"#podiumemitcriteria-data-callback\"><code>podium.emit()</code></a>\nis an array, the <code>listener</code> method is called with each array element passed as a separate\nargument. This should only be used when the emitted data structure is known and predictable.\nDefaults to the event registration option (which defaults to <code>false</code>).</li>\n<li>\n<code>tags</code> - if <code>true</code> and the <code>criteria</code> object passed to <a href=\"#podiumemitcriteria-data-callback\"><code>podium.emit()</code></a>\nincludes <code>tags</code>, the tags are mapped to an object (where each tag string is the key and\nthe value is <code>true</code>) which is appended to the arguments list at the end (but before\nthe <code>callback</code> argument if <code>block</code> is set). Defaults to the event registration option\n(which defaults to <code>false</code>).</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>listener</code> - the handler method set to receive event updates. The function signature depends\non the <code>block</code>, <code>spread</code>, and <code>tags</code> options.</li>\n</ul>\n<h2>\n<a id=\"podiumaddlistenercriteria-listener\" class=\"anchor\" href=\"#podiumaddlistenercriteria-listener\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>podium.addListener(criteria, listener)</code>\n</h2>\n<p>Same as <a href=\"#podiumoncriteria-listener\"><code>podium.on()</code></a>.</p>\n<h2>\n<a id=\"podiumoncecriteria-listener\" class=\"anchor\" href=\"#podiumoncecriteria-listener\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>podium.once(criteria, listener)</code>\n</h2>\n<p>Same as calling <a href=\"#podiumoncriteria-listener\"><code>podium.on()</code></a> with the <code>count</code> option set to <code>1</code>.</p>\n<h2>\n<a id=\"podiumremovelistenername-listener\" class=\"anchor\" href=\"#podiumremovelistenername-listener\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>podium.removeListener(name, listener)</code>\n</h2>\n<p>Removes all listeners subscribed to a given event name matching the provided listener method where:</p>\n<ul>\n<li>\n<code>name</code> - the event name string.</li>\n<li>\n<code>listener</code> - the function reference provided when subscribed.</li>\n</ul>\n<p>Returns a reference to the current emitter.</p>\n<h2>\n<a id=\"podiumremovealllistenersname\" class=\"anchor\" href=\"#podiumremovealllistenersname\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>podium.removeAllListeners(name)</code>\n</h2>\n<p>Removes all listeners subscribed to a given event name where:</p>\n<ul>\n<li>\n<code>name</code> - the event name string.</li>\n</ul>\n<p>Returns a reference to the current emitter.</p>\n<h2>\n<a id=\"podiumhaslistenersname\" class=\"anchor\" href=\"#podiumhaslistenersname\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>podium.hasListeners(name)</code>\n</h2>\n<p>Returns whether an event has any listeners subscribed where:</p>\n<ul>\n<li>\n<code>name</code> - the event name string.</li>\n</ul>\n<p>Returns <code>true</code> if the event name has any listeners, otherwise <code>false</code>.</p>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"},"slogan":"Event emitter with async features.","forks":16,"stars":76,"date":"2019-11-01T22:37:16Z","updated":"Fri Nov 01 2019","link":"https://github.com/hapijs/podium"},"ratrace":{"name":"ratrace","versions":[{"name":"1.0.0","branch":"master","license":"Commercial","node":" 12, 10, 8"}],"versionsArray":["1.0.0"],"1.0.0":{"menu":"- [`location()`](#locationdepth)","api":"<h3>\n<a id=\"locationdepth\" class=\"anchor\" href=\"#locationdepth\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>location(depth)</code>\n</h3>\n<p>Returns the filename and line number of the caller in the call stack where:</p>\n<ul>\n<li>\n<code>depth</code> - the distance from the <code>location()</code> function in the call stack. Defaults to <code>1</code> (caller).</li>\n</ul>\n<p>Returns an object with the <code>filename</code> and <code>line</code> number.</p>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"}},"rule-capitalize-modules":{"name":"rule-capitalize-modules","versions":[{"name":"1.2.1","branch":"master","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["1.2.1"],"1.2.1":{"menu":"- [`global-scope-only`](#global-scope-only)","api":"<p>ESLint rule to enforce the capitalization of imported module variables.</p>\n<h3>\n<a id=\"global-scope-only\" class=\"anchor\" href=\"#global-scope-only\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>global-scope-only</code>\n</h3>\n<p>If the string <code>'global-scope-only'</code> is passed as the first option to this rule,\nthen it will only be enforced on assignments in the module's top level scope.</p>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"slogan":"ESLint rule to enforce the capitalization of imported module variables.","forks":1,"stars":2,"date":"2019-10-09T00:37:10Z","updated":"Wed Oct 09 2019","link":"https://github.com/hapijs/rule-capitalize-modules"},"rule-for-loop":{"name":"rule-for-loop","versions":[{"name":"1.2.1","branch":"master","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["1.2.1"],"1.2.1":{"menu":"- [About](#about)\n- [Rule options](#rule-options)\n  - [`maxDepth`](#maxdepth)\n  - [`startIterator`](#startiterator)","api":"<h2>\n<a id=\"about\" class=\"anchor\" href=\"#about\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>About</h2>\n<p>This rule enforces the following:</p>\n<ul>\n<li>Restrict iterator variable names. <code>for</code> loop iterator variables should be named <code>i</code>. Nested loops should use the variables <code>j</code>, <code>k</code>, and so on.</li>\n<li>Restrict loop nesting.  You can restrict the maximum nesting of <code>for</code> loops. By default, this limit is three.</li>\n<li>Prevent postfix increment and decrement operators. The hapi style guide does not allow postfix increment and decrement operators in <code>for</code> loop updates. The prefix version of these operators should be used instead.</li>\n<li>Single variable declaration in initialization section. A single <code>var i = 0;</code> is allowed in the initialization section. This only applies to variable declarations, not assignments to existing variables. This means that <code>for (i = 0, j = 0)</code> is allowed if <code>i</code> and <code>j</code> are existing variables. Variable declarations involving destructuring are not allowed.</li>\n</ul>\n<h2>\n<a id=\"rule-options\" class=\"anchor\" href=\"#rule-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Rule options</h2>\n<p>This rule can be configured by providing a single options object. The object supports the following keys.</p>\n<h3>\n<a id=\"maxdepth\" class=\"anchor\" href=\"#maxdepth\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>maxDepth</code>\n</h3>\n<p>A number representing the maximum allowed nesting of <code>for</code> loops. Defaults to three.</p>\n<h3>\n<a id=\"startiterator\" class=\"anchor\" href=\"#startiterator\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>startIterator</code>\n</h3>\n<p>The first variable iterator name to use. This defaults to <code>'i'</code>.</p>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"slogan":"hapi style guide ESLint rule with for loops.","forks":1,"stars":1,"date":"2019-10-09T00:36:51Z","updated":"Wed Oct 09 2019","link":"https://github.com/hapijs/rule-for-loop"},"rule-no-arrowception":{"name":"rule-no-arrowception","versions":[{"name":"1.1.2","branch":"master","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["1.1.2"],"1.1.2":{"menu":"- [Protocol](#protocol)\n  - [Route invocation](#route-invocation)\n    - [Server](#server)\n    - [Client](#client)\n  - [Subscriptions](#subscriptions)\n    - [Server](#server-1)\n    - [Client](#client-1)\n  - [Broadcast](#broadcast)\n    - [Server](#server-2)\n    - [Client](#client-2)\n  - [Route authentication](#route-authentication)\n    - [Server](#server-3)\n    - [Client](#client-3)\n  - [Subscription filter](#subscription-filter)\n    - [Server](#server-4)\n    - [Client](#client-4)\n  - [Browser Client](#browser-client)\n- [Registration](#registration)\n- [Server](#server-5)\n  - [`await server.broadcast()`](#await-serverbroadcastmessage-options)\n  - [`server.subscription()`](#serversubscriptionpath-options)\n  - [`await server.publish()`](#await-serverpublishpath-message-options)\n  - [`await server.eachSocket()`](#await-servereachsocketeach-options)\n- [Socket](#socket)\n  - [`socket.id`](#socketid)\n  - [`socket.app`](#socketapp)\n  - [`socket.auth`](#socketauth)\n  - [`socket.server`](#socketserver)\n  - [`socket.connection`](#socketconnection)\n  - [`socket.disconnect()`](#socketdisconnect)\n  - [`socket.isOpen()`](#socketisopen)\n  - [`await socket.send()`](#await-socketsendmessage)\n  - [`await socket.publish()`](#await-socketpublishpath-message)\n  - [`await socket.revoke()`](#await-socketrevokepath-message-options)\n- [Request](#request)\n  - [`request.socket`](#requestsocket)\n- [Client](#client-5)\n  - [`new Client()`](#new-clienturl-options)\n  - [`client.onError`](#clientonerror)\n  - [`client.onConnect`](#clientonconnect)\n  - [`client.onDisconnect`](#clientondisconnect)\n  - [`client.onHeartbeatTimeout`](#clientonheartbeattimeout)\n  - [`client.onUpdate`](#clientonupdate)\n  - [`await client.connect()`](#await-clientconnectoptions)\n  - [`await client.disconnect()`](#await-clientdisconnect)\n  - [`client.id`](#clientid)\n  - [`await client.request()`](#await-clientrequestoptions)\n  - [`await client.message()`](#await-clientmessagemessage)\n  - [`await client.subscribe()`](#await-clientsubscribepath-handler)\n  - [`await client.unsubscribe()`](#await-clientunsubscribepath-handler)\n  - [`client.subscriptions()`](#clientsubscriptions)\n  - [`client.overrideReconnectionAuth()`](#clientoverridereconnectionauthauth)\n  - [`await client.reauthenticate()`](#await-clientreauthenticateauth)\n  - [Errors](#errors)","api":"<h2>\n<a id=\"protocol\" class=\"anchor\" href=\"#protocol\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Protocol</h2>\n<p>The <strong>nes</strong> protocol is described in the <a href=\"https://github.com/hapijs/nes/blob/master/PROTOCOL.md\">Protocol documentation</a>.</p>\n<h3>\n<a id=\"route-invocation\" class=\"anchor\" href=\"#route-invocation\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Route invocation</h3>\n<h4>\n<a id=\"server\" class=\"anchor\" href=\"#server\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Server</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Hapi.Server</span>();\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(Nes);\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({\n        method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>,\n        path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/h<span class=\"pl-pds\">'</span></span>,\n        config<span class=\"pl-k\">:</span> {\n            id<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>hello<span class=\"pl-pds\">'</span></span>,\n            <span class=\"pl-en\">handler</span><span class=\"pl-k\">:</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">h</span>) <span class=\"pl-k\">=&gt;</span> {\n\n                <span class=\"pl-k\">return</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>world!<span class=\"pl-pds\">'</span></span>;\n            }\n        }\n    });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h4>\n<a id=\"client\" class=\"anchor\" href=\"#client\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Client</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> client <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Nes.Client</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ws://localhost<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">connect</span>();\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">payload</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">request</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>hello<span class=\"pl-pds\">'</span></span>);  <span class=\"pl-c\"><span class=\"pl-c\">//</span> Can also request '/h'</span>\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> payload -&gt; 'world!'</span>\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h3>\n<a id=\"subscriptions\" class=\"anchor\" href=\"#subscriptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Subscriptions</h3>\n<h4>\n<a id=\"server-1\" class=\"anchor\" href=\"#server-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Server</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Hapi.Server</span>();\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(Nes);\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">subscription</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/item/{id}<span class=\"pl-pds\">'</span></span>);\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">publish</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/item/5<span class=\"pl-pds\">'</span></span>, { id<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span>, status<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>complete<span class=\"pl-pds\">'</span></span> });\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">publish</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/item/6<span class=\"pl-pds\">'</span></span>, { id<span class=\"pl-k\">:</span> <span class=\"pl-c1\">6</span>, status<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>initial<span class=\"pl-pds\">'</span></span> });\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h4>\n<a id=\"client-1\" class=\"anchor\" href=\"#client-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Client</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">client</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Nes.Client</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ws://localhost<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">connect</span>();\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">handler</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">update</span>, <span class=\"pl-smi\">flags</span>) <span class=\"pl-k\">=&gt;</span> {\n\n        <span class=\"pl-c\"><span class=\"pl-c\">//</span> update -&gt; { id: 5, status: 'complete' }</span>\n        <span class=\"pl-c\"><span class=\"pl-c\">//</span> Second publish is not received (doesn't match)</span>\n    };\n\n    <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">subscribe</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/item/5<span class=\"pl-pds\">'</span></span>, handler);\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h3>\n<a id=\"broadcast\" class=\"anchor\" href=\"#broadcast\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Broadcast</h3>\n<h4>\n<a id=\"server-2\" class=\"anchor\" href=\"#server-2\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Server</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Hapi.Server</span>();\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(Nes);\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">broadcast</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>welcome!<span class=\"pl-pds\">'</span></span>);\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h4>\n<a id=\"client-2\" class=\"anchor\" href=\"#client-2\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Client</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">client</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Nes.Client</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ws://localhost<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">connect</span>();\n    <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">onUpdate</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">update</span>) <span class=\"pl-k\">=&gt;</span> {\n\n        <span class=\"pl-c\"><span class=\"pl-c\">//</span> update -&gt; 'welcome!'</span>\n    };\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h3>\n<a id=\"route-authentication\" class=\"anchor\" href=\"#route-authentication\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Route authentication</h3>\n<h4>\n<a id=\"server-3\" class=\"anchor\" href=\"#server-3\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Server</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Basic</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/basic<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Bcrypt</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>bcrypt<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Hapi.Server</span>();\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>([Basic, Nes]);\n\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Set up HTTP Basic authentication</span>\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">users</span> <span class=\"pl-k\">=</span> {\n        john<span class=\"pl-k\">:</span> {\n            username<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>john<span class=\"pl-pds\">'</span></span>,\n            password<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>$2a$10$iqJSHD.BGr0E2IxQwYgJmeP3NvhPrXAeLSaGCj6IR/XU5QtjVu5Tm<span class=\"pl-pds\">'</span></span>,   <span class=\"pl-c\"><span class=\"pl-c\">//</span> 'secret'</span>\n            name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>John Doe<span class=\"pl-pds\">'</span></span>,\n            id<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>2133d32a<span class=\"pl-pds\">'</span></span>\n        }\n    };\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">validate</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">username</span>, <span class=\"pl-smi\">password</span>) <span class=\"pl-k\">=&gt;</span> {\n\n        <span class=\"pl-k\">const</span> <span class=\"pl-c1\">user</span> <span class=\"pl-k\">=</span> users[username];\n        <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span>user) {\n            <span class=\"pl-k\">return</span> { isValid<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> };\n        }\n\n        <span class=\"pl-k\">const</span> <span class=\"pl-c1\">isValid</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-smi\">Bcrypt</span>.<span class=\"pl-en\">compare</span>(password, <span class=\"pl-smi\">user</span>.<span class=\"pl-smi\">password</span>);\n        <span class=\"pl-k\">const</span>  <span class=\"pl-c1\">credentials</span> <span class=\"pl-k\">=</span> { id<span class=\"pl-k\">:</span> <span class=\"pl-smi\">user</span>.<span class=\"pl-c1\">id</span>, name<span class=\"pl-k\">:</span> <span class=\"pl-smi\">user</span>.<span class=\"pl-c1\">name</span> };\n        <span class=\"pl-k\">return</span> { isValid, credentials };\n    };\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">auth</span>.<span class=\"pl-en\">strategy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>simple<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>basic<span class=\"pl-pds\">'</span></span>, { validate });\n\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Configure route with authentication</span>\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({\n        method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>,\n        path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/h<span class=\"pl-pds\">'</span></span>,\n        config<span class=\"pl-k\">:</span> {\n            id<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>hello<span class=\"pl-pds\">'</span></span>,\n            <span class=\"pl-en\">handler</span><span class=\"pl-k\">:</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">h</span>) <span class=\"pl-k\">=&gt;</span> {\n\n                <span class=\"pl-k\">return</span> <span class=\"pl-s\"><span class=\"pl-pds\">`</span>Hello <span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-smi\">request</span>.<span class=\"pl-smi\">auth</span>.<span class=\"pl-smi\">credentials</span>.<span class=\"pl-c1\">name</span><span class=\"pl-pse\">}</span></span><span class=\"pl-pds\">`</span></span>;\n            }\n        }\n    });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h4>\n<a id=\"client-3\" class=\"anchor\" href=\"#client-3\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Client</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">client</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Nes.Client</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ws://localhost<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">connect</span>({ auth<span class=\"pl-k\">:</span> { headers<span class=\"pl-k\">:</span> { authorization<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Basic am9objpzZWNyZXQ=<span class=\"pl-pds\">'</span></span> } } });\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">payload</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">request</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>hello<span class=\"pl-pds\">'</span></span>)  <span class=\"pl-c\"><span class=\"pl-c\">//</span> Can also request '/h'</span>\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> payload -&gt; 'Hello John Doe'</span>\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h3>\n<a id=\"subscription-filter\" class=\"anchor\" href=\"#subscription-filter\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Subscription filter</h3>\n<h4>\n<a id=\"server-4\" class=\"anchor\" href=\"#server-4\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Server</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Basic</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/basic<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Bcrypt</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>bcrypt<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Hapi.Server</span>();\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>([Basic, Nes]);\n\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Set up HTTP Basic authentication</span>\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">users</span> <span class=\"pl-k\">=</span> {\n        john<span class=\"pl-k\">:</span> {\n            username<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>john<span class=\"pl-pds\">'</span></span>,\n            password<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>$2a$10$iqJSHD.BGr0E2IxQwYgJmeP3NvhPrXAeLSaGCj6IR/XU5QtjVu5Tm<span class=\"pl-pds\">'</span></span>,   <span class=\"pl-c\"><span class=\"pl-c\">//</span> 'secret'</span>\n            name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>John Doe<span class=\"pl-pds\">'</span></span>,\n            id<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>2133d32a<span class=\"pl-pds\">'</span></span>\n        }\n    };\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">validate</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">username</span>, <span class=\"pl-smi\">password</span>) <span class=\"pl-k\">=&gt;</span> {\n\n        <span class=\"pl-k\">const</span> <span class=\"pl-c1\">user</span> <span class=\"pl-k\">=</span> users[username];\n        <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span>user) {\n            <span class=\"pl-k\">return</span> { isValid<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> };\n        }\n\n        <span class=\"pl-k\">const</span> <span class=\"pl-c1\">isValid</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-smi\">Bcrypt</span>.<span class=\"pl-en\">compare</span>(password, <span class=\"pl-smi\">user</span>.<span class=\"pl-smi\">password</span>);\n        <span class=\"pl-k\">const</span>  <span class=\"pl-c1\">credentials</span> <span class=\"pl-k\">=</span> { id<span class=\"pl-k\">:</span> <span class=\"pl-smi\">user</span>.<span class=\"pl-c1\">id</span>, name<span class=\"pl-k\">:</span> <span class=\"pl-smi\">user</span>.<span class=\"pl-c1\">name</span> };\n        <span class=\"pl-k\">return</span> { isValid, credentials };\n    };\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">auth</span>.<span class=\"pl-en\">strategy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>simple<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>basic<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>required<span class=\"pl-pds\">'</span></span>, { validate });\n\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Set up subscription</span>\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">subscription</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/items<span class=\"pl-pds\">'</span></span>, {\n        <span class=\"pl-en\">filter</span><span class=\"pl-k\">:</span> (<span class=\"pl-smi\">path</span>, <span class=\"pl-smi\">message</span>, <span class=\"pl-smi\">options</span>) <span class=\"pl-k\">=&gt;</span> {\n\n            <span class=\"pl-k\">return</span> (<span class=\"pl-smi\">message</span>.<span class=\"pl-smi\">updater</span> <span class=\"pl-k\">!==</span> <span class=\"pl-smi\">options</span>.<span class=\"pl-smi\">credentials</span>.<span class=\"pl-smi\">username</span>);\n        }\n    });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">publish</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/items<span class=\"pl-pds\">'</span></span>, { id<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span>, status<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>complete<span class=\"pl-pds\">'</span></span>, updater<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>john<span class=\"pl-pds\">'</span></span> });\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">publish</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/items<span class=\"pl-pds\">'</span></span>, { id<span class=\"pl-k\">:</span> <span class=\"pl-c1\">6</span>, status<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>initial<span class=\"pl-pds\">'</span></span>, updater<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>steve<span class=\"pl-pds\">'</span></span> });\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h4>\n<a id=\"client-4\" class=\"anchor\" href=\"#client-4\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Client</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">client</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Nes.Client</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ws://localhost<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Authenticate as 'john'</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">connect</span>({ auth<span class=\"pl-k\">:</span> { headers<span class=\"pl-k\">:</span> { authorization<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Basic am9objpzZWNyZXQ=<span class=\"pl-pds\">'</span></span> } } });\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">handler</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">update</span>) <span class=\"pl-k\">=&gt;</span> {\n\n        <span class=\"pl-c\"><span class=\"pl-c\">//</span> First publish is not received (filtered due to updater key)</span>\n        <span class=\"pl-c\"><span class=\"pl-c\">//</span> update -&gt; { id: 6, status: 'initial', updater: 'steve' }</span>\n    };\n\n    <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">subscribe</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/items<span class=\"pl-pds\">'</span></span>, handler);\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h3>\n<a id=\"browser-client\" class=\"anchor\" href=\"#browser-client\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Browser Client</h3>\n<p>When you <code>require('@hapi/nes')</code> it loads the full module and adds a lot of extra code that is not needed\nfor the browser. The browser will only need the <strong>nes</strong> client. If you are using CommonJS you can\nload the client with <code>require('@hapi/nes/lib/client')</code>.</p>\n<h2>\n<a id=\"registration\" class=\"anchor\" href=\"#registration\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Registration</h2>\n<p>The <strong>nes</strong> plugin uses the standard <strong>hapi</strong> registration process using the <code>server.register()</code>\nmethod. The plugin accepts the following optional registration options:</p>\n<ul>\n<li>\n<code>onConnection</code> - a function with the signature <code>function(socket)</code> invoked for each incoming client\nconnection where:\n<ul>\n<li>\n<code>socket</code> - the <a href=\"#socket\"><code>Socket</code></a> object of the incoming connection.</li>\n</ul>\n</li>\n<li>\n<code>onDisconnection</code> - a function with the signature <code>function(socket)</code> invoked for each incoming client\nconnection on disconnect where:\n<ul>\n<li>\n<code>socket</code> - the <a href=\"#socket\"><code>Socket</code></a> object of the connection.</li>\n</ul>\n</li>\n<li>\n<code>onMessage</code> - a function with the signature <code>async function(socket, message)</code> used to receive custom\nclient messages (when the client calls <a href=\"#clientmessagedata\"><code>client.message()</code></a>) where:\n<ul>\n<li>\n<code>socket</code> - the <a href=\"#socket\"><code>Socket</code></a> object of the message source.</li>\n<li>\n<code>message</code> - the message sent by the client.</li>\n<li>the function may return a response to the client.</li>\n</ul>\n</li>\n<li>\n<code>auth</code> - optional plugin authentication options with the following supported values:\n<ul>\n<li>\n<code>false</code> - no client authentication supported.</li>\n<li>an object with the following optional keys:\n<ul>\n<li>\n<code>type</code> - the type of authentication flow supported by the server. Each type has a very different\nsecurity profile. The following types are supported:\n<ul>\n<li>\n<code>'direct'</code> - the plugin configures an internal authentication endpoint which is only called\ninternally by the plugin when the client provides its authentication credentials (or by\npassing an <code>auth</code> option to <a href=\"#await-clientconnectoptions\"><code>client.connect()</code></a>). The\nendpoint returns a copy of the credentials object (along with any artifacts) to the plugin\nwhich is then used for all subsequent client requests and subscriptions. This type requires\nexposing the underlying credentials to the application. Note that if the authentication scheme\nuses the HTTP request method (e.g. <a href=\"https://github.com/hueniverse/hawk\">hawk</a> or\n<a href=\"https://github.com/hueniverse/oz\">oz</a>) you need to use <code>'auth'</code> as the value (and\nnot <code>'GET'</code>). This is the default value.</li>\n<li>\n<code>'cookie'</code> - the plugin configures a public authentication endpoint which must be called\nby the client application manually before it calls <a href=\"#await-clientconnectoptions\"><code>client.connect()</code></a>.\nWhen the endpoint is called with valid credentials, it sets a cookie with the provided\n<code>name</code> which the browser then transmits back to the server when the WebSocket connection\nis made. This type removes the need to expose the authentication credentials to the\nJavaScript layer but requires an additional round trip before establishing a client\nconnection.</li>\n<li>\n<code>'token'</code> - the plugin configures a public authentication endpoint which must be called\nby the client application manually before it calls <a href=\"#await-clientconnectoptions\"><code>client.connect()</code></a>.\nWhen the endpoint is called with valid credentials, it returns an encrypted authentication\ntoken which the client can use to authenticate the connection by passing an <code>auth</code> option\nto <a href=\"#await-clientconnectoptions\"><code>client.connect()</code></a> with the token. This type is useful\nwhen the client-side application needs to manage its credentials differently than relying\non cookies (e.g. non-browser clients).</li>\n</ul>\n</li>\n<li>\n<code>endpoint</code> - the HTTP path of the authentication endpoint. Note that even though the <code>'direct'</code>\ntype does not exposes the endpoint, it is still created internally and registered using the\nprovided path. Change it only if the default path creates a conflict. Defaults to <code>'/nes/auth'</code>.</li>\n<li>\n<code>id</code> - the authentication endpoint identifier. Change it only if the default id creates a conflict.\nDefaults to <code>nes.auth</code>.</li>\n<li>\n<code>route</code> - the <strong>hapi</strong> route <code>config.auth</code> settings. The authentication endpoint must be\nconfigured with at least one authentication strategy which the client is going to use to\nauthenticate. The <code>route</code> value must be set to a valid value supported by the <strong>hapi</strong> route\n<code>auth</code> configuration. Defaults to the default authentication strategy if one is present,\notherwise no authentication will be possible (clients will fail to authenticate).</li>\n<li>\n<code>password</code> - the password used by the <a href=\"https://github.com/hueniverse/iron\"><strong>iron</strong></a> module\nto encrypt the cookie or token values. If no password is provided, one is automatically\ngenerated. However, the password will change every time the process is restarted (as well\nas generate different results on a distributed system). It is recommended that a password\nis manually set and managed by the application.</li>\n<li>\n<code>iron</code> - the settings used by the <a href=\"https://github.com/hueniverse/iron\"><strong>iron</strong></a> module.\nDefaults to the <strong>iron</strong> defaults.</li>\n<li>\n<code>cookie</code> - the cookie name when using type <code>'cookie'</code>. Defaults to <code>'nes'</code>.</li>\n<li>\n<code>isSecure</code> - the cookie secure flag when using type <code>'cookie'</code>. Defaults to <code>true</code>.</li>\n<li>\n<code>isHttpOnly</code> - the cookie HTTP only flag when using type <code>'cookie'</code>. Defaults to <code>true</code>.</li>\n<li>\n<code>path</code> - the cookie path when using type <code>'cookie'</code>. Defaults to <code>'/'</code>.</li>\n<li>\n<code>domain</code> - the cookie domain when using type <code>'cookie'</code>. Defaults to no domain.</li>\n<li>\n<code>ttl</code> - the cookie expiration milliseconds when using type <code>'cookie'</code>. Defaults to current\nsession only.</li>\n<li>\n<code>index</code> - if <code>true</code>, authenticated socket with <code>user</code> property in <code>credentials</code> are mapped\nfor usage in <a href=\"#serverbroadcastmessage-options\"><code>server.broadcast()</code></a> calls. Defaults to <code>false</code>.</li>\n<li>\n<code>timeout</code> - number of milliseconds after which a new connection is disconnected if authentication\nis required but the connection has not yet sent a hello message. No timeout if set to <code>false</code>.\nDefaults to <code>5000</code> (5 seconds).</li>\n<li>\n<code>maxConnectionsPerUser</code> - if specified, limits authenticated users to a maximum number of\nclient connections. Requires the <code>index</code> option enabled. Defaults to <code>false</code>.</li>\n<li>\n<code>minAuthVerifyInterval</code> - if specified, waits at least the specificed number of milliseconds\nbetween calls to <a href=\"https://hapijs.com/api#-await-serverauthverifyrequest\" rel=\"nofollow\"><code>await server.auth.verify()</code></a>\nto check if credentials are still valid. Cannot be shorter than <code>heartbeat.interval</code>.\nDefaults to <code>heartbeat.interval</code> or <code>15000</code> if <code>heartbeat</code> is disabled.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>headers</code> - an optional array of header field names to include in server responses to the client.\nIf set to <code>'*'</code> (without an array), allows all headers. Defaults to <code>null</code> (no headers).</li>\n<li>\n<code>payload</code> - optional message payload settings where:\n<ul>\n<li>\n<code>maxChunkChars</code> - the maximum number of characters (after the full protocol object is converted\nto a string using <code>JSON.stringify()</code>) allowed in a single WebSocket message. This is important\nwhen using the protocol over a slow network (e.g. mobile) with large updates as the transmission\ntime can exceed the timeout or heartbeat limits which will cause the client to disconnect.\nDefaults to <code>false</code> (no limit).</li>\n</ul>\n</li>\n<li>\n<code>heartbeat</code> - configures connection keep-alive settings where value can be:\n<ul>\n<li>\n<code>false</code> - no heartbeats.</li>\n<li>an object with:\n<ul>\n<li>\n<code>interval</code> - time interval between heartbeat messages in milliseconds. Defaults to <code>15000</code>\n(15 seconds).</li>\n<li>\n<code>timeout</code> - timeout in milliseconds after a heartbeat is sent to the client and before the\nclient is considered disconnected by the server. Defaults to <code>5000</code> (5 seconds).</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>maxConnections</code> - if specified, limits the number of simultaneous client connections. Defaults to\n<code>false</code>.</li>\n<li>\n<code>origin</code> - an origin string or an array of origin strings incoming client requests must match for\nthe connection to be permitted. Defaults to no origin validation.</li>\n</ul>\n<h2>\n<a id=\"server-5\" class=\"anchor\" href=\"#server-5\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Server</h2>\n<p>The plugin decorates the server with a few new methods for interacting with the incoming WebSocket\nconnections.</p>\n<h3>\n<a id=\"await-serverbroadcastmessage-options\" class=\"anchor\" href=\"#await-serverbroadcastmessage-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await server.broadcast(message, [options])</code>\n</h3>\n<p>Sends a message to all connected clients where:</p>\n<ul>\n<li>\n<code>message</code> - the message sent to the clients. Can be any type which can be safely converted to\nstring using <code>JSON.stringify()</code>.</li>\n<li>\n<code>options</code> - optional object with the following:\n<ul>\n<li>\n<code>user</code> - optional user filter. When provided, the message will be sent only to authenticated\nsockets with <code>credentials.user</code> equal to  <code>user</code>. Requires the <code>auth.index</code> options to be\nconfigured to <code>true</code>.</li>\n</ul>\n</li>\n</ul>\n<p>Note that in a multi server deployment, only the client connected to the current server will receive\nthe message.</p>\n<h3>\n<a id=\"serversubscriptionpath-options\" class=\"anchor\" href=\"#serversubscriptionpath-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>server.subscription(path, [options])</code>\n</h3>\n<p>Declares a subscription path client can subscribe to where:</p>\n<ul>\n<li>\n<code>path</code> - an HTTP-like path. The path must begin with the <code>'/'</code> character. The path may contain\npath parameters as supported by the <strong>hapi</strong> route path parser.</li>\n<li>\n<code>options</code> - an optional object where:\n<ul>\n<li>\n<code>filter</code> - a publishing filter function for making per-client connection decisions about which\nmatching publication update should be sent to which client. The function uses the signature\n<code>async function(path, message, options)</code> where:\n<ul>\n<li>\n<code>path</code> - the path of the published update. The path is provided in case the subscription\ncontains path parameters.</li>\n<li>\n<code>message</code> - the message being published.</li>\n<li>\n<code>options</code> - additional information about the subscription and client:\n<ul>\n<li>\n<code>socket</code> - the current socket being published to.</li>\n<li>\n<code>credentials</code> - the client credentials if authenticated.</li>\n<li>\n<code>params</code> - the parameters parsed from the publish message path if the subscription\npath contains parameters.</li>\n<li>\n<code>internal</code> - the <code>internal</code> options data passed to the publish call, if defined.</li>\n</ul>\n</li>\n<li>the function must return a value of (or a promise that resolves into):\n<ul>\n<li>\n<code>true</code> - to proceed sending the message.</li>\n<li>\n<code>false</code> - to skip sending the message.</li>\n<li>\n<code>{ override }</code> - an override <code>message</code> to send to this <code>socket</code> instead of the\npublished one. Note that if you want to modify <code>message</code>, you must clone it first or\nthe changes will apply to all other sockets.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>auth</code> - the subscription authentication options with the following supported values:\n<ul>\n<li>\n<code>false</code> - no authentication required to subscribe.</li>\n<li>a configuration object with the following optional keys:\n<ul>\n<li>\n<code>mode</code> - same as the <strong>hapi</strong> route auth modes:\n<ul>\n<li>\n<code>'required'</code> - authentication is required. This is the default value.</li>\n<li>\n<code>'optional'</code> - authentication is optional.</li>\n</ul>\n</li>\n<li>\n<code>scope</code> - a string or array of string of authentication scope as supported by the\n<strong>hapi</strong> route authenticate configuration.</li>\n<li>\n<code>entity</code> - the required credentials type as supported by the <strong>hapi</strong> route\nauthentication configuration:\n<ul>\n<li><code>'user'</code></li>\n<li><code>'app'</code></li>\n<li><code>'any'</code></li>\n</ul>\n</li>\n<li>\n<code>index</code> - if <code>true</code>, authenticated socket with <code>user</code> property in <code>credentials</code> are\nmapped for usage in <a href=\"#await-socketpublishpath-message\"><code>server.publish()</code></a> calls.\nDefaults to <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>onSubscribe</code> - a method called when a client subscribes to this subscription endpoint using\nthe signature <code>async function(socket, path, params)</code> where:\n<ul>\n<li>\n<code>socket</code> - the <a href=\"#socket\"><code>Socket</code></a> object of the incoming connection.</li>\n<li>\n<code>path</code> - the path the client subscribed to</li>\n<li>\n<code>params</code> - the parameters parsed from the subscription request path if the subscription\npath definition contains parameters.</li>\n</ul>\n</li>\n<li>\n<code>onUnsubscribe</code> - a method called when a client unsubscribes from this subscription endpoint\nusing the signature <code>async function(socket, path, params)</code> where:\n<ul>\n<li>\n<code>socket</code> - the <a href=\"#socket\"><code>Socket</code></a> object of the incoming connection.</li>\n<li>\n<code>path</code> - Path of the unsubscribed route.</li>\n<li>\n<code>params</code> - the parameters parsed from the subscription request path if the subscription\npath definition contains parameters.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"await-serverpublishpath-message-options\" class=\"anchor\" href=\"#await-serverpublishpath-message-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await server.publish(path, message, [options])</code>\n</h3>\n<p>Sends a message to all the subscribed clients where:</p>\n<ul>\n<li>\n<code>path</code> - the subscription path. The path is matched first against the available subscriptions\nadded via <code>server.subscription()</code> and then against the specific path provided by each client\nat the time of registration (only matter when the subscription path contains parameters). When\na match is found, the subscription <code>filter</code> function is called (if present) to further filter\nwhich client should receive which update.</li>\n<li>\n<code>message</code> - the message sent to the clients. Can be any type which can be safely converted to\nstring using <code>JSON.stringify()</code>.</li>\n<li>\n<code>options</code> - optional object that may include\n<ul>\n<li>\n<code>internal</code> - Internal data that is passed to <code>filter</code> and may be used to filter messages\non data that is not sent to the client.</li>\n<li>\n<code>user</code> - optional user filter. When provided, the message will be sent only to authenticated\nsockets with <code>credentials.user</code> equal to  <code>user</code>. Requires the subscription <code>auth.index</code>\noptions to be configured to <code>true</code>.</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"await-servereachsocketeach-options\" class=\"anchor\" href=\"#await-servereachsocketeach-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await server.eachSocket(each, [options])</code>\n</h3>\n<p>Iterates over all connected sockets, optionally filtering on those that have subscribed to\na given subscription. This operation is synchronous.</p>\n<ul>\n<li>\n<code>each</code> - Iteration method in the form <code>async function(socket)</code>.</li>\n<li>\n<code>options</code> - Optional options object\n<ul>\n<li>\n<code>subscription</code> - When set to a string path, limits the results to sockets that are\nsubscribed to that path.</li>\n<li>\n<code>user</code> - optional user filter. When provided, the <code>each</code> method will be invoked with\nauthenticated sockets with <code>credentials.user</code> equal to  <code>user</code>. Requires the subscription\n<code>auth.index</code> options to be configured to <code>true</code>.</li>\n</ul>\n</li>\n</ul>\n<h2>\n<a id=\"socket\" class=\"anchor\" href=\"#socket\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Socket</h2>\n<p>An object representing a client connection.</p>\n<h3>\n<a id=\"socketid\" class=\"anchor\" href=\"#socketid\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>socket.id</code>\n</h3>\n<p>A unique socket identifier.</p>\n<h3>\n<a id=\"socketapp\" class=\"anchor\" href=\"#socketapp\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>socket.app</code>\n</h3>\n<p>An object used to store application state per socket. Provides a safe namespace to avoid conflicts\nwith the socket methods.</p>\n<h3>\n<a id=\"socketauth\" class=\"anchor\" href=\"#socketauth\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>socket.auth</code>\n</h3>\n<p>The socket authentication state if any. Similar to the normal <strong>hapi</strong> <code>request.auth</code> object where:</p>\n<ul>\n<li>\n<code>isAuthenticated</code> - a boolean set to <code>true</code> when authenticated.</li>\n<li>\n<code>credentials</code> - the authentication credentials used.</li>\n<li>\n<code>artifacts</code> - authentication artifacts specific to the authentication strategy used.</li>\n</ul>\n<h3>\n<a id=\"socketserver\" class=\"anchor\" href=\"#socketserver\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>socket.server</code>\n</h3>\n<p>The socket's server reference.</p>\n<h3>\n<a id=\"socketconnection\" class=\"anchor\" href=\"#socketconnection\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>socket.connection</code>\n</h3>\n<p>The socket's connection reference.</p>\n<h3>\n<a id=\"socketdisconnect\" class=\"anchor\" href=\"#socketdisconnect\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>socket.disconnect()</code>\n</h3>\n<p>Closes a client connection.</p>\n<h3>\n<a id=\"socketisopen\" class=\"anchor\" href=\"#socketisopen\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>socket.isOpen()</code>\n</h3>\n<p>Returns <code>true</code> is the socket connection is in ready state, otherwise <code>false</code>.</p>\n<h3>\n<a id=\"await-socketsendmessage\" class=\"anchor\" href=\"#await-socketsendmessage\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await socket.send(message)</code>\n</h3>\n<p>Sends a custom message to the client where:</p>\n<ul>\n<li>\n<code>message</code> - the message sent to the client. Can be any type which can be safely converted to\nstring using <code>JSON.stringify()</code>.</li>\n</ul>\n<h3>\n<a id=\"await-socketpublishpath-message\" class=\"anchor\" href=\"#await-socketpublishpath-message\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await socket.publish(path, message)</code>\n</h3>\n<p>Sends a subscription update to a specific client where:</p>\n<ul>\n<li>\n<code>path</code> - the subscription string. Note that if the client did not subscribe to the provided <code>path</code>,\nthe client will ignore the update silently.</li>\n<li>\n<code>message</code> - the message sent to the client. Can be any type which can be safely converted to\nstring using <code>JSON.stringify()</code>.</li>\n</ul>\n<h3>\n<a id=\"await-socketrevokepath-message-options\" class=\"anchor\" href=\"#await-socketrevokepath-message-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await socket.revoke(path, message, [options])</code>\n</h3>\n<p>Revokes a subscription and optionally includes a last update where:</p>\n<ul>\n<li>\n<code>path</code> - the subscription string. Note that if the client is not subscribe to the provided <code>path</code>,\nthe client will ignore the it silently.</li>\n<li>\n<code>message</code> - an optional last subscription update sent to the client. Can be any type which can be\nsafely converted to string using <code>JSON.stringify()</code>. Pass <code>null</code> to revoke the subscription without\nsending a last update.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>ignoreClosed</code> - ignore errors if the underlying websocket has been closed. Defaults to <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n<h2>\n<a id=\"request\" class=\"anchor\" href=\"#request\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Request</h2>\n<p>The following decorations are available on each request received via the nes connection.</p>\n<h3>\n<a id=\"requestsocket\" class=\"anchor\" href=\"#requestsocket\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>request.socket</code>\n</h3>\n<p>Provides access to the <a href=\"#socket\"><code>Socket</code></a> object of the incoming connection.</p>\n<h2>\n<a id=\"client-5\" class=\"anchor\" href=\"#client-5\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Client</h2>\n<p>The client implements the <strong>nes</strong> protocol and provides methods for interacting with the server.\nIt supports auto-connect by default as well as authentication.</p>\n<h3>\n<a id=\"new-clienturl-options\" class=\"anchor\" href=\"#new-clienturl-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Client(url, [options])</code>\n</h3>\n<p>Creates a new client object where:</p>\n<ul>\n<li>\n<code>url</code> - the WebSocket address to connect to (e.g. <code>'wss://localhost:8000'</code>).</li>\n<li>\n<code>option</code> - optional configuration object where:\n<ul>\n<li>\n<code>ws</code> - available only when the client is used in node.js and passed as-is to the\n<a href=\"https://www.npmjs.com/package/ws\" rel=\"nofollow\"><strong>ws</strong> module</a>.</li>\n<li>\n<code>timeout</code> - server response timeout in milliseconds. Defaults to <code>false</code> (no timeout).</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"clientonerror\" class=\"anchor\" href=\"#clientonerror\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.onError</code>\n</h3>\n<p>A property used to set an error handler with the signature <code>function(err)</code>. Invoked whenever an\nerror happens that cannot be associated with a pending request.</p>\n<h3>\n<a id=\"clientonconnect\" class=\"anchor\" href=\"#clientonconnect\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.onConnect</code>\n</h3>\n<p>A property used to set a handler for connection events (initial connection and subsequent\nreconnections) with the signature <code>function()</code>.</p>\n<h3>\n<a id=\"clientondisconnect\" class=\"anchor\" href=\"#clientondisconnect\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.onDisconnect</code>\n</h3>\n<p>A property used to set a handler for disconnection events with the signature <code>function(willReconnect, log)</code>\nwhere:</p>\n<ul>\n<li>\n<code>willReconnect</code> - a boolean indicating if the client will automatically attempt to reconnect.</li>\n<li>\n<code>log</code> - an object with the following optional keys:\n<ul>\n<li>\n<code>code</code> - the <a href=\"https://tools.ietf.org/html/rfc6455#section-7.4.1\" rel=\"nofollow\">RFC6455</a> status code.</li>\n<li>\n<code>explanation</code> - the <a href=\"https://tools.ietf.org/html/rfc6455#section-7.4.1\" rel=\"nofollow\">RFC6455</a> explanation for the\n<code>code</code>.</li>\n<li>\n<code>reason</code> - a human-readable text explaining the reason for closing.</li>\n<li>\n<code>wasClean</code> - if <code>false</code>, the socket was closed abnormally.</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"clientonheartbeattimeout\" class=\"anchor\" href=\"#clientonheartbeattimeout\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.onHeartbeatTimeout</code>\n</h3>\n<p>A property used to set a handler for heartbeat timeout events with the signature <code>function(willReconnect)</code>\nwhere:</p>\n<ul>\n<li>\n<code>willReconnect</code> - a boolean indicating if the client will automatically attempt to reconnect.</li>\n</ul>\n<p>Upon heartbeat timeout, the client will disconnect the websocket. However, the <code>client.onDisconnect()</code> property will only be called (if set) once the server has completed the closing handshake. Users may use this property to be notified immediately and take action (e.g. display a message in the browser).</p>\n<h3>\n<a id=\"clientonupdate\" class=\"anchor\" href=\"#clientonupdate\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.onUpdate</code>\n</h3>\n<p>A property used to set a custom message handler with the signature <code>function(message)</code>. Invoked whenever\nthe server calls <code>server.broadcast()</code> or <code>socket.send()</code>.</p>\n<h3>\n<a id=\"await-clientconnectoptions\" class=\"anchor\" href=\"#await-clientconnectoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await client.connect([options])</code>\n</h3>\n<p>Connects the client to the server where:</p>\n<ul>\n<li>\n<code>options</code> - an optional configuration object with the following options:\n<ul>\n<li>\n<code>auth</code> - sets the credentials used to authenticate. when the server is configured for\n<code>'token'</code> type authentication, the value is the token response received from the\nauthentication endpoint (called manually by the application). When the server is\nconfigured for <code>'direct'</code> type authentication, the value is the credentials expected\nby the server for the specified authentication strategy used which typically means an\nobject with headers (e.g. <code>{ headers: { authorization: 'Basic am9objpzZWNyZXQ=' } }</code>).</li>\n<li>\n<code>reconnect</code> - a boolean that indicates whether the client should try to reconnect. Defaults to <code>true</code>.</li>\n<li>\n<code>delay</code> - time in milliseconds to wait between each reconnection attempt. The delay time\nis cumulative, meaning that if the value is set to <code>1000</code> (1 second), the first wait will\nbe 1 seconds, then 2 seconds, 3 seconds, until the <code>maxDelay</code> value is reached and then\n<code>maxDelay</code> is used.</li>\n<li>\n<code>maxDelay</code> - the maximum delay time in milliseconds between reconnections.</li>\n<li>\n<code>retries</code> - number of reconnection attempts. Defaults to <code>Infinity</code> (unlimited).</li>\n<li>\n<code>timeout</code> - socket connection timeout in milliseconds. Defaults to the WebSocket\nimplementation timeout default.</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"await-clientdisconnect\" class=\"anchor\" href=\"#await-clientdisconnect\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await client.disconnect()</code>\n</h3>\n<p>Disconnects the client from the server and stops future reconnects.</p>\n<h3>\n<a id=\"clientid\" class=\"anchor\" href=\"#clientid\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.id</code>\n</h3>\n<p>The unique socket identifier assigned by the server. The value is set after the connection is\nestablished.</p>\n<h3>\n<a id=\"await-clientrequestoptions\" class=\"anchor\" href=\"#await-clientrequestoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await client.request(options)</code>\n</h3>\n<p>Sends an endpoint request to the server where:</p>\n<ul>\n<li>\n<code>options</code> - value can be one of:\n<ul>\n<li>a string with the requested endpoint path or route id (defaults to a GET method).</li>\n<li>an object with the following keys:\n<ul>\n<li>\n<code>path</code> - the requested endpoint path or route id.</li>\n<li>\n<code>method</code> - the requested HTTP method (can also be any method string supported by the\nserver). Defaults to <code>'GET'</code>.</li>\n<li>\n<code>headers</code> - an object where each key is a request header and the value the header\ncontent. Cannot include an Authorization header. Defaults to no headers.</li>\n<li>\n<code>payload</code> - the request payload sent to the server.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Rejects with <code>Error</code> if the request failed.</p>\n<p>Resolves with object containing:</p>\n<ul>\n<li>\n<code>payload</code> - the server response object.</li>\n<li>\n<code>statusCode</code> - the HTTP response status code.</li>\n<li>\n<code>headers</code> - an object containing the HTTP response headers returned by the server (based on\nthe server configuration).</li>\n</ul>\n<h3>\n<a id=\"await-clientmessagemessage\" class=\"anchor\" href=\"#await-clientmessagemessage\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await client.message(message)</code>\n</h3>\n<p>Sends a custom message to the server which is received by the server <code>onMessage</code> handler where:</p>\n<ul>\n<li>\n<code>message</code> - the message sent to the server. Can be any type which can be safely converted to\nstring using <code>JSON.stringify()</code>.</li>\n</ul>\n<h3>\n<a id=\"await-clientsubscribepath-handler\" class=\"anchor\" href=\"#await-clientsubscribepath-handler\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await client.subscribe(path, handler)</code>\n</h3>\n<p>Subscribes to a server subscription where:</p>\n<ul>\n<li>\n<code>path</code> - the requested subscription path. Paths are just like HTTP request paths (e.g.\n<code>'/item/5'</code> or <code>'/updates'</code> based on the paths supported by the server).</li>\n<li>\n<code>handler</code> - the function used to receive subscription updates using the\nsignature <code>function(message, flags)</code> where:\n<ul>\n<li>\n<code>message</code> - the subscription update sent by the server.</li>\n<li>\n<code>flags</code> - an object with the following optional flags:\n<ul>\n<li>\n<code>revoked</code> - set to <code>true</code> when the message is the last update from the server due to\na subscription revocation.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Note that when <code>subscribe()</code> is called before the client connects, any server errors will be\nthrow by <code>connect()</code>.</p>\n<h3>\n<a id=\"await-clientunsubscribepath-handler\" class=\"anchor\" href=\"#await-clientunsubscribepath-handler\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await client.unsubscribe(path, handler)</code>\n</h3>\n<p>Cancels a subscription where:</p>\n<ul>\n<li>\n<code>path</code> - the subscription path used to subscribe.</li>\n<li>\n<code>handler</code> - remove a specific handler from a subscription or <code>null</code> to remove all handlers for\nthe given path.</li>\n</ul>\n<h3>\n<a id=\"clientsubscriptions\" class=\"anchor\" href=\"#clientsubscriptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.subscriptions()</code>\n</h3>\n<p>Returns an array of the current subscription paths.</p>\n<h3>\n<a id=\"clientoverridereconnectionauthauth\" class=\"anchor\" href=\"#clientoverridereconnectionauthauth\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.overrideReconnectionAuth(auth)</code>\n</h3>\n<p>Sets or overrides the authentication credentials used to reconnect the client on disconnect when\nthe client is configured to automatically reconnect, where:</p>\n<ul>\n<li>\n<code>auth</code> - same as the <code>auth</code> option passed to <a href=\"#await-clientconnectoptions\"><code>client.connect()</code></a>.</li>\n</ul>\n<p>Returns <code>true</code> if reconnection is enabled, otherwise <code>false</code> (in which case the method was ignored).</p>\n<p>Note: this will not update the credentials on the server -\nuse <a href=\"#await-clientreauthenticateauth\"><code>client.reauthenticate()</code></a>.</p>\n<h3>\n<a id=\"await-clientreauthenticateauth\" class=\"anchor\" href=\"#await-clientreauthenticateauth\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await client.reauthenticate(auth)</code>\n</h3>\n<p>Will issue the <code>reauth</code> message to the server with updated <code>auth</code> details and also\n<a href=\"#clientoverridereconnectionauthauth\">override the reconnection information</a>, if reconnection is enabled.\nThe server will respond with an error and drop the connection in case the new <code>auth</code> credentials are\ninvalid.</p>\n<p>Rejects with <code>Error</code> if the request failed.</p>\n<p>Resolves with <code>true</code> if the request succeeds.</p>\n<p>Note: when authentication has a limited lifetime, <code>reauthenticate()</code> should be called early enough to avoid\nthe server dropping the connection.</p>\n<h3>\n<a id=\"errors\" class=\"anchor\" href=\"#errors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Errors</h3>\n<p>When a client method returns or throws an error, the error is decorated with:</p>\n<ul>\n<li>\n<code>type</code> - a string indicating the source of the error where:\n<ul>\n<li>\n<code>'disconnect'</code> - the socket disconnected before the request completed.</li>\n<li>\n<code>'protocol'</code> - the client received an invalid message from the server violating the protocol.</li>\n<li>\n<code>'server'</code> - an error response sent from the server.</li>\n<li>\n<code>'timeout'</code> - a timeout event.</li>\n<li>\n<code>'user'</code> - user error (e.g. incorrect use of the API).</li>\n<li>\n<code>'ws'</code> - a socket error.</li>\n</ul>\n</li>\n</ul>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"}},"rule-no-var":{"name":"rule-no-var","versions":[{"name":"1.1.4","branch":"master","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["1.1.4"],"1.1.4":{"menu":"- [Usage](#usage)\n  - [`type()`](#typeheader)\n  - [`disposition()`](#dispositionheader)","api":"<h2>\n<a id=\"usage\" class=\"anchor\" href=\"#usage\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Usage</h2>\n<p><strong>content</strong> allows to parse HTTP <code>Content-*</code> headers, currently based on the rules established in both <a href=\"https://tools.ietf.org/html/rfc7231#section-3.1.1.1\" rel=\"nofollow\">RFC 7231 Section 3.1.1.1</a> and <a href=\"http://tools.ietf.org/html/rfc6266#section-4.1\" rel=\"nofollow\">RFC 6266 Section 4.1</a>.</p>\n<h3>\n<a id=\"typeheader\" class=\"anchor\" href=\"#typeheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>type(header)</code>\n</h3>\n<p>Generates an object containing the associated mime-type and the boundary (if specified).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Content</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>application/json; some=property; and=\"another\"<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> { mime: 'application/json' }</span>\n\n<span class=\"pl-smi\">Content</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>application/json; boundary=asdf<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> { mime: 'application/json', boundary: 'asdf' }</span></pre></div>\n<p>If the header is invalid (malformed) or missing required data, such as a <code>multipart/form-data</code> header missing its <code>boundary</code>, it returns an HTTP <code>Bad Request</code> error.</p>\n<h3>\n<a id=\"dispositionheader\" class=\"anchor\" href=\"#dispositionheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>disposition(header)</code>\n</h3>\n<p>Generates an object containing the details related to the <code>Content-Disposition</code> header for the <code>form-data</code> content type with support for <code>utf8</code> encoding.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Content</span>.<span class=\"pl-en\">disposition</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>form-data; name=\"file\"; filename=file.jpg<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> { name: 'file', filename: 'file.jpg' }</span>\n\n<span class=\"pl-smi\">Content</span>.<span class=\"pl-en\">disposition</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>form-data; name=\"file\"; filename*=utf-8<span class=\"pl-cce\">\\'</span>en<span class=\"pl-cce\">\\'</span>with%20space<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> { name: 'file', filename: 'with space' }</span></pre></div>\n<p>If the header is invalid (malformed, invalid or missing properties) or is empty/missing, it returns an explanatory error.</p>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"}},"rule-scope-start":{"name":"rule-scope-start","versions":[{"name":"2.2.1","branch":"master","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["2.2.1"],"2.2.1":{"menu":"- [`allow-one-liners`](#allow-one-liners)\n- [`max-in-one-liner`](#max-in-one-liner)","api":"<h3>\n<a id=\"allow-one-liners\" class=\"anchor\" href=\"#allow-one-liners\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>allow-one-liners</code>\n</h3>\n<p>If the string <code>'allow-one-liners'</code> is passed as the first option to this rule,\nthen functions whose bodies contain zero or one statements are allowed to be\nwritten on a single line. This defaults to <code>true</code> for arrow functions, and\n<code>false</code> otherwise.</p>\n<h3>\n<a id=\"max-in-one-liner\" class=\"anchor\" href=\"#max-in-one-liner\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>max-in-one-liner</code>\n</h3>\n<p>The second option to this rule dictates the maximum number of statements allowed\nin the bodies of one line function. This must be used in conjunction with\n<code>allow-one-liners</code>. Defaults to one.</p>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"slogan":"ESLint rule to enforce new line at the beginning of function scope.","forks":3,"stars":1,"date":"2019-10-09T00:38:08Z","updated":"Wed Oct 09 2019","link":"https://github.com/hapijs/rule-scope-start"},"scooter":{"name":"scooter","versions":[],"versionsArray":[],"slogan":"User-agent information plugin.","forks":16,"stars":46,"date":"2019-10-09T01:49:48Z","updated":"Wed Oct 09 2019","link":"https://github.com/hapijs/scooter"},"shot":{"name":"shot","versions":[{"name":"4.1.2","branch":"master","license":"BSD","node":" 12, 10, 8"},{"name":"3.5.0","branch":"v3-commercial","license":"Commercial","node":" 10, 8, 6"}],"versionsArray":["4.1.2","3.5.0"],"4.1.2":{"menu":"- [Methods](#methods)\n  - [`await Shot.inject()`](#await-shotinjectdispatchfunc-options)\n  - [`Shot.isInjection()`](#shotisinjectionobj)","api":"<h2>\n<a id=\"methods\" class=\"anchor\" href=\"#methods\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Methods</h2>\n<h3>\n<a id=\"await-shotinjectdispatchfunc-options\" class=\"anchor\" href=\"#await-shotinjectdispatchfunc-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await Shot.inject(dispatchFunc, options)</code>\n</h3>\n<p>Injects a fake request into an HTTP server.</p>\n<ul>\n<li>\n<code>dispatchFunc</code> - listener function. The same as you would pass to <code>Http.createServer</code> when making a node HTTP server. Has the signature <code>function (req, res)</code> where:\n<ul>\n<li>\n<code>req</code> - a simulated request object. Inherits from <code>Stream.Readable</code>.</li>\n<li>\n<code>res</code> - a simulated response object. Inherits from node's <code>Http.ServerResponse</code>.</li>\n</ul>\n</li>\n<li>\n<code>options</code> - request options object where:\n<ul>\n<li>\n<code>url</code> - a string specifying the request URL.</li>\n<li>\n<code>method</code> - a string specifying the HTTP request method, defaulting to <code>'GET'</code>.</li>\n<li>\n<code>authority</code> - a string specifying the HTTP HOST header value to be used if no header is provided, and the <code>url</code>\ndoes not include an authority component. Defaults to <code>'localhost'</code>.</li>\n<li>\n<code>headers</code> - an optional object containing request headers.</li>\n<li>\n<code>remoteAddress</code> - an optional string specifying the client remote address. Defaults to <code>'127.0.0.1'</code>.</li>\n<li>\n<code>payload</code> - an optional request payload. Can be a string, Buffer, Stream or object.</li>\n<li>\n<code>simulate</code> - an object containing flags to simulate various conditions:\n<ul>\n<li>\n<code>end</code> - indicates whether the request will fire an <code>end</code> event. Defaults to <code>undefined</code>, meaning an <code>end</code> event will fire.</li>\n<li>\n<code>split</code> - indicates whether the request payload will be split into chunks. Defaults to <code>undefined</code>, meaning payload will not be chunked.</li>\n<li>\n<code>error</code> - whether the request will emit an <code>error</code> event. Defaults to <code>undefined</code>, meaning no <code>error</code> event will be emitted. If set to <code>true</code>, the emitted error will have a message of <code>'Simulated'</code>.</li>\n<li>\n<code>close</code> - whether the request will emit a <code>close</code> event. Defaults to <code>undefined</code>, meaning no <code>close</code> event will be emitted.</li>\n</ul>\n</li>\n<li>\n<code>validate</code> - Optional flag to validate this options object. Defaults to <code>true</code>.</li>\n</ul>\n</li>\n</ul>\n<p>Returns a response object where:</p>\n<ul>\n<li>\n<code>raw</code> - an object containing the raw request and response objects where:\n<ul>\n<li>\n<code>req</code> - the simulated request object.</li>\n<li>\n<code>res</code> - the simulated response object.</li>\n</ul>\n</li>\n<li>\n<code>headers</code> - an object containing the response headers.</li>\n<li>\n<code>statusCode</code> - the HTTP status code.</li>\n<li>\n<code>statusMessage</code> - the HTTP status message.</li>\n<li>\n<code>payload</code> - the payload as a UTF-8 encoded string.</li>\n<li>\n<code>rawPayload</code> - the raw payload as a Buffer.</li>\n<li>\n<code>trailers</code> - an object containing the response trailers.</li>\n</ul>\n<h3>\n<a id=\"shotisinjectionobj\" class=\"anchor\" href=\"#shotisinjectionobj\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Shot.isInjection(obj)</code>\n</h3>\n<p>Checks if given object <code>obj</code> is a Shot <code>Request</code> object.</p>\n","intro":"## Introduction\n\nInjects a fake HTTP request/response into a node HTTP server for simulating server logic, writing tests, or debugging. Does not use a socket\nconnection so can be run against an inactive server (server not in listen mode).\n","example":"## Example\n\n```javascript\nconst Http = require('http');\nconst Shot = require('@hapi/shot');\n\n\nconst internals = {};\n\n\ninternals.main = async function () {\n\n    const dispatch = function (req, res) {\n\n        const reply = 'Hello World';\n        res.writeHead(200, { 'Content-Type': 'text/plain', 'Content-Length': reply.length });\n        res.end(reply);\n    };\n\n    const server = Http.createServer(dispatch);\n\n    const res = await Shot.inject(dispatch, { method: 'get', url: '/' });\n    console.log(res.payload);\n};\n\n\ninternals.main();\n```\n\nNote how `server.listen` is never called.\n","usage":"","faq":"","license":"BSD"},"3.5.0":{"menu":"- [`Shot.inject()`](#shotinjectdispatchfunc-options-callback)\n- [`Shot.isInjection()`](#shotisinjectionobj)","api":"<h3>\n<a id=\"shotinjectdispatchfunc-options-callback\" class=\"anchor\" href=\"#shotinjectdispatchfunc-options-callback\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Shot.inject(dispatchFunc, options, callback)</code>\n</h3>\n<p>Injects a fake request into an HTTP server.</p>\n<ul>\n<li>\n<code>dispatchFunc</code> - listener function. The same as you would pass to <code>Http.createServer</code> when making a node HTTP server. Has the signature <code>function (req, res)</code> where:\n<ul>\n<li>\n<code>req</code> - a simulated request object. Inherits from <code>Stream.Readable</code>.</li>\n<li>\n<code>res</code> - a simulated response object. Inherits from node's <code>Http.ServerResponse</code>.</li>\n</ul>\n</li>\n<li>\n<code>options</code> - request options object where:\n<ul>\n<li>\n<code>url</code> - a string specifying the request URL.</li>\n<li>\n<code>method</code> - a string specifying the HTTP request method, defaulting to <code>'GET'</code>.</li>\n<li>\n<code>authority</code> - a string specifying the HTTP HOST header value to be used if no header is provided, and the <code>url</code>\ndoes not include an authority component. Defaults to <code>'localhost'</code>.</li>\n<li>\n<code>headers</code> - an optional object containing request headers.</li>\n<li>\n<code>remoteAddress</code> - an optional string specifying the client remote address. Defaults to <code>'127.0.0.1'</code>.</li>\n<li>\n<code>payload</code> - an optional request payload. Can be a string, Buffer, Stream or object.</li>\n<li>\n<code>simulate</code> - an object containing flags to simulate various conditions:\n<ul>\n<li>\n<code>end</code> - indicates whether the request will fire an <code>end</code> event. Defaults to <code>undefined</code>, meaning an <code>end</code> event will fire.</li>\n<li>\n<code>split</code> - indicates whether the request payload will be split into chunks. Defaults to <code>undefined</code>, meaning payload will not be chunked.</li>\n<li>\n<code>error</code> - whether the request will emit an <code>error</code> event. Defaults to <code>undefined</code>, meaning no <code>error</code> event will be emitted. If set to <code>true</code>, the emitted error will have a message of <code>'Simulated'</code>.</li>\n<li>\n<code>close</code> - whether the request will emit a <code>close</code> event. Defaults to <code>undefined</code>, meaning no <code>close</code> event will be emitted.</li>\n</ul>\n</li>\n<li>\n<code>validate</code> - Optional flag to validate this options object. Defaults to <code>true</code>.</li>\n</ul>\n</li>\n<li>\n<code>callback</code> - the callback function using the signature <code>function (res)</code> where:\n<ul>\n<li>\n<code>res</code> - a response object where:\n<ul>\n<li>\n<code>raw</code> - an object containing the raw request and response objects where:\n<ul>\n<li>\n<code>req</code> - the simulated request object.</li>\n<li>\n<code>res</code> - the simulated response object.</li>\n</ul>\n</li>\n<li>\n<code>headers</code> - an object containing the response headers.</li>\n<li>\n<code>statusCode</code> - the HTTP status code.</li>\n<li>\n<code>statusMessage</code> - the HTTP status message.</li>\n<li>\n<code>payload</code> - the payload as a UTF-8 encoded string.</li>\n<li>\n<code>rawPayload</code> - the raw payload as a Buffer.</li>\n<li>\n<code>trailers</code> - an object containing the response trailers.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"shotisinjectionobj\" class=\"anchor\" href=\"#shotisinjectionobj\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Shot.isInjection(obj)</code>\n</h3>\n<p>Checks if given object <code>obj</code> is a Shot <code>Request</code> object.</p>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"},"slogan":"Injects a fake HTTP request/response into your node server logic.","forks":34,"stars":195,"date":"2019-11-04T14:36:35Z","updated":"Mon Nov 04 2019","link":"https://github.com/hapijs/shot"},"sntp":{"name":"sntp","versions":[],"versionsArray":[],"slogan":"SNTP client (REF4330) for node.","forks":24,"stars":82,"date":"2019-10-07T21:12:56Z","updated":"Mon Oct 07 2019","link":"https://github.com/hapijs/sntp"},"somever":{"name":"somever","versions":[{"name":"2.1.1","branch":"master","license":"BSD","node":" 12, 10, 8"},{"name":"1.1.0","branch":"v1-commercial","license":"Commercial","node":" 10, 8, 6"}],"versionsArray":["2.1.1","1.1.0"],"2.1.1":{"menu":"- [Usage](#usage)\n  - [`type()`](#typeheader)\n  - [`disposition()`](#dispositionheader)","api":"<h2>\n<a id=\"usage\" class=\"anchor\" href=\"#usage\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Usage</h2>\n<p><strong>content</strong> allows to parse HTTP <code>Content-*</code> headers, currently based on the rules established in both <a href=\"https://tools.ietf.org/html/rfc7231#section-3.1.1.1\" rel=\"nofollow\">RFC 7231 Section 3.1.1.1</a> and <a href=\"http://tools.ietf.org/html/rfc6266#section-4.1\" rel=\"nofollow\">RFC 6266 Section 4.1</a>.</p>\n<h3>\n<a id=\"typeheader\" class=\"anchor\" href=\"#typeheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>type(header)</code>\n</h3>\n<p>Generates an object containing the associated mime-type and the boundary (if specified).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Content</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>application/json; some=property; and=\"another\"<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> { mime: 'application/json' }</span>\n\n<span class=\"pl-smi\">Content</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>application/json; boundary=asdf<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> { mime: 'application/json', boundary: 'asdf' }</span></pre></div>\n<p>If the header is invalid (malformed) or missing required data, such as a <code>multipart/form-data</code> header missing its <code>boundary</code>, it returns an HTTP <code>Bad Request</code> error.</p>\n<h3>\n<a id=\"dispositionheader\" class=\"anchor\" href=\"#dispositionheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>disposition(header)</code>\n</h3>\n<p>Generates an object containing the details related to the <code>Content-Disposition</code> header for the <code>form-data</code> content type with support for <code>utf8</code> encoding.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Content</span>.<span class=\"pl-en\">disposition</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>form-data; name=\"file\"; filename=file.jpg<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> { name: 'file', filename: 'file.jpg' }</span>\n\n<span class=\"pl-smi\">Content</span>.<span class=\"pl-en\">disposition</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>form-data; name=\"file\"; filename*=utf-8<span class=\"pl-cce\">\\'</span>en<span class=\"pl-cce\">\\'</span>with%20space<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> { name: 'file', filename: 'with space' }</span></pre></div>\n<p>If the header is invalid (malformed, invalid or missing properties) or is empty/missing, it returns an explanatory error.</p>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"1.1.0":{"menu":"- [Usage](#usage)\n  - [`type()`](#typeheader)\n  - [`disposition()`](#dispositionheader)","api":"<h2>\n<a id=\"usage\" class=\"anchor\" href=\"#usage\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Usage</h2>\n<p><strong>content</strong> allows to parse HTTP <code>Content-*</code> headers, currently based on the rules established in both <a href=\"https://tools.ietf.org/html/rfc7231#section-3.1.1.1\" rel=\"nofollow\">RFC 7231 Section 3.1.1.1</a> and <a href=\"http://tools.ietf.org/html/rfc6266#section-4.1\" rel=\"nofollow\">RFC 6266 Section 4.1</a>.</p>\n<h3>\n<a id=\"typeheader\" class=\"anchor\" href=\"#typeheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>type(header)</code>\n</h3>\n<p>Generates an object containing the associated mime-type and the boundary (if specified).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Content</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>application/json; some=property; and=\"another\"<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> { mime: 'application/json' }</span>\n\n<span class=\"pl-smi\">Content</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>application/json; boundary=asdf<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> { mime: 'application/json', boundary: 'asdf' }</span></pre></div>\n<p>If the header is invalid (malformed) or missing required data, such as a <code>multipart/form-data</code> header missing its <code>boundary</code>, it returns an HTTP <code>Bad Request</code> error.</p>\n<h3>\n<a id=\"dispositionheader\" class=\"anchor\" href=\"#dispositionheader\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>disposition(header)</code>\n</h3>\n<p>Generates an object containing the details related to the <code>Content-Disposition</code> header for the <code>form-data</code> content type with support for <code>utf8</code> encoding.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">Content</span>.<span class=\"pl-en\">disposition</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>form-data; name=\"file\"; filename=file.jpg<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> { name: 'file', filename: 'file.jpg' }</span>\n\n<span class=\"pl-smi\">Content</span>.<span class=\"pl-en\">disposition</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>form-data; name=\"file\"; filename*=utf-8<span class=\"pl-cce\">\\'</span>en<span class=\"pl-cce\">\\'</span>with%20space<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> { name: 'file', filename: 'with space' }</span></pre></div>\n<p>If the header is invalid (malformed, invalid or missing properties) or is empty/missing, it returns an explanatory error.</p>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"}},"statehood":{"name":"statehood","versions":[{"name":"6.1.2","branch":"master","license":"BSD","node":" 12, 10, 8"},{"name":"5.1.0","branch":"v5-commercial","license":"Commercial","node":" 10, 8, 6"}],"versionsArray":["6.1.2","5.1.0"],"6.1.2":{"menu":"- [Tutorials](#tutorials)\n- [Notes](#notes)\n- [Options](#options)\n  - [Configuration via Environment Variables](#configuration-via-environment-variables)\n  - [Handling Errors](#handling-errors)\n  - [Token Refresh](#token-refresh)\n  - [Simulated authentication](#simulated-authentication)\n- [Customized Scope and Params](#customized-scope-and-params)","api":"<h3>\n<a id=\"tutorials\" class=\"anchor\" href=\"#tutorials\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Tutorials</h3>\n<p><a href=\"http://mph-web.de/social-signup-with-twitter-using-hapi-js/\" rel=\"nofollow\"><strong>Social Login with Twitter using hapi.js</strong></a></p>\n<h3>\n<a id=\"notes\" class=\"anchor\" href=\"#notes\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Notes</h3>\n<p>Testing third-party authorization is often a painful process. They are hard to test, tidious to configure, and tend to break when running on local servers. If you are having issues running <strong>bell</strong> locally, you might want to look at the <code>isSecure</code> and <code>isSameSite</code> options. Since most people don't run TLS on their local test server, <code>isSecure</code> must be set to <code>false</code> to remove the TLS requirement. <code>isSameSite</code> might need to be set to <code>'Lax'</code> in some cases.</p>\n<p>You should also review the default scope set for each provider early in your implementation. The default scope is meant to get the minimal permissions needed to perform simple user login. In most cases, you would want to ask for more permissions as the default often does not provide access to most API calls provided by the third-party services.</p>\n<h3>\n<a id=\"options\" class=\"anchor\" href=\"#options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Options</h3>\n<p>The <code>server.auth.strategy()</code> method requires the following strategy options:</p>\n<ul>\n<li>\n<p><code>provider</code> - the name of the third-party provider (<code>'auth0'</code>, <code>'azure'</code>, <code>'bitbucket'</code>,\n<code>'dropbox'</code>, <code>'facebook'</code>, <code>'fitbit'</code>, <code>'foursquare'</code>, <code>'github'</code>, <code>'google'</code>, <code>'googleplus'</code>,\n<code>'instagram'</code>, <code>'linkedin'</code>, <code>'live'</code>, <code>'twitter'</code>, <code>'vk'</code>, <code>'arcgisonline'</code>, <code>'yahoo'</code>,\n<code>'nest'</code>, <code>'phabricator'</code>, <code>'pinterest'</code>) or an object containing a custom\nprovider with the following:</p>\n<ul>\n<li>\n<code>protocol</code> - the authorization protocol used. Must be one of:\n<ul>\n<li>\n<code>'oauth'</code> - OAuth 1.0a</li>\n<li>\n<code>'oauth2'</code> - OAuth 2.0</li>\n</ul>\n</li>\n<li>\n<code>signatureMethod</code> - the OAuth signature method (OAuth 1.0a only). Must be one of:\n<ul>\n<li>\n<code>'HMAC-SHA1'</code> - default</li>\n<li>\n<code>'RSA-SHA1'</code> - in that case, the <code>clientSecret</code> is your RSA private key</li>\n</ul>\n</li>\n<li>\n<code>temporary</code> - the temporary credentials (request token) endpoint (OAuth 1.0a only).</li>\n<li>\n<code>useParamsAuth</code> - boolean that determines if OAuth client id and client secret will be sent\nas parameters as opposed to an Authorization header (OAuth 2.0 only). Defaults to <code>false</code>.</li>\n<li>\n<code>auth</code> - the authorization endpoint URI.</li>\n<li>\n<code>token</code> - the access token endpoint URI.</li>\n<li>\n<code>scope</code> - an array of scope strings (OAuth 2.0 only).</li>\n<li>\n<code>scopeSeparator</code> - the scope separator character (OAuth 2.0 only). Only required when a\nprovider has a broken OAuth 2.0 implementation. Defaults to space (Facebook and GitHub\ndefault to comma).</li>\n<li>\n<code>headers</code> - a headers object with additional headers required by the provider (e.g. GitHub\nrequired the 'User-Agent' header which is set by default).</li>\n<li>\n<code>profileMethod</code> - <code>get</code> or <code>post</code> for obtaining user profile by <code>profile</code> function. Default\nis <code>get</code>.</li>\n<li>\n<code>profile</code> - a function used to obtain user profile information and normalize it. The function\nsignature is <code>async function(credentials, params, get)</code> where:\n<ul>\n<li>\n<code>credentials</code> - the credentials object. Change the object directly within the function\n(profile information is typically stored under <code>credentials.profile</code>).</li>\n<li>\n<code>params</code> - the parsed information received from the provider (e.g. token, secret, and\nother custom fields).</li>\n<li>\n<code>get</code> - an OAuth helper function to make authenticated requests using the credentials\nreceived. The <code>get</code> function signature is <code>async function(uri, params)</code> where:\n<ul>\n<li>\n<code>uri</code> - the requested resource URI (<strong>bell</strong> will add the token or authentication\nheader as needed).</li>\n<li>\n<code>params</code> - any URI query parameters (cannot include them in the URI due to signature\nrequirements).</li>\n<li>returns the parsed profile response object.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><code>password</code> - the cookie encryption password. Used to encrypt the temporary state cookie used by\nthe module in between the authorization protocol steps.</p>\n</li>\n<li>\n<p><code>clientId</code> - the OAuth client identifier (consumer key).</p>\n</li>\n<li>\n<p><code>clientSecret</code> - the OAuth client secret (consumer secret). This is usually a client password\nformatted as a <em>string</em>, but to allow <a href=\"https://tools.ietf.org/html/rfc6749#section-2.3\" rel=\"nofollow\">OAuth2 custom client authentication</a>\n(e.g. client certificate-based authentication), this option can be passed as an <em>object</em>. This\nobject will be merged with the Wreck request object used to call the token endpoint. Such an\nobject can contain custom HTTP headers or TLS options (e.g.\n<code>{ agent: new Https.Agent({ cert: myClientCert, key: myClientKey}) }</code>).</p>\n</li>\n<li>\n<p><code>forceHttps</code> - A boolean indicating whether or not you want the redirect_uri to be forced to\nhttps. Useful if your hapi application runs as http, but is accessed through https.</p>\n</li>\n<li>\n<p><code>location</code> - Set the base redirect_uri manually if it cannot be inferred properly from server\nsettings. Useful to override port, protocol, and host if proxied or forwarded. It may be passed\neither as a string (in which case request.path is appended for you), or a function which takes\nthe client's <code>request</code> and returns a non-empty string, which is used as provided. In both cases,\nan empty string will result in default processing just as if the <code>location</code> option had not been\nspecified.</p>\n</li>\n</ul>\n<p>Each strategy accepts the following optional settings:</p>\n<ul>\n<li>\n<code>cookie</code> - the name of the cookie used to manage the temporary state. Defaults to\n<code>'bell-provider'</code> where 'provider' is the provider name (or <code>'custom'</code> for custom providers). For\nexample, the Twitter cookie name defaults to <code>'bell-twitter'</code>.</li>\n<li>\n<code>isSameSite</code> - sets the cookie same site option. Defaults to <code>Strict</code>.</li>\n<li>\n<code>isSecure</code> - sets the cookie secure flag. Defaults to <code>true</code>.</li>\n<li>\n<code>isHttpOnly</code> - sets the cookie HTTP only flag. Defaults to <code>true</code>.</li>\n<li>\n<code>ttl</code> - cookie time-to-live in milliseconds. Defaults to <code>null</code> (session time-life - cookies are\ndeleted when the browser is closed).</li>\n<li>\n<code>domain</code> - the domain scope. Defaults to <code>null</code> (no domain).</li>\n<li>\n<code>providerParams</code> - provider-specific query parameters for the authentication endpoint. It may be\npassed either as an object to merge into the query string, or a function which takes the client's\n<code>request</code> and returns an object. Each provider supports its own set of parameters which customize\nthe user's login experience. For example:\n<ul>\n<li>Facebook supports <code>display</code> ('page', 'popup', or 'touch'), <code>auth_type</code>, <code>auth_nonce</code>.</li>\n<li>Google supports <code>access_type</code>, <code>approval_prompt</code>, <code>prompt</code>, <code>login_hint</code>, <code>user_id</code>, <code>hd</code>.</li>\n<li>Twitter supports <code>force_login</code>, <code>screen_name</code>.</li>\n<li>Linkedin supports <code>fields</code>.</li>\n</ul>\n</li>\n<li>\n<code>allowRuntimeProviderParams</code> - allows passing query parameters from a <strong>bell</strong> protected endpoint\nto the auth request. It will merge the query params you pass along with the providerParams and\nany other predefined ones. Be aware that this will override predefined query parameters! Default\nto <code>false</code>.</li>\n<li>\n<code>scope</code> - Each built-in vendor comes with the required scope for basic profile information. Use\n<code>scope</code> to specify a different scope as required by your application. It may be passed either as\nan object to merge into the query string, or a function which takes the client's <code>request</code> and\nreturns an object. Consult the provider for their specific supported scopes.</li>\n<li>\n<code>skipProfile</code> - skips obtaining a user profile from the provider. Useful if you need specific\n<code>scope</code>s, but not the user profile. Defaults to <code>false</code>.</li>\n<li>\n<code>config</code> - a configuration object used to customize the provider settings:\n<ul>\n<li>Twitter:\n<ul>\n<li><code>extendedProfile</code></li>\n<li><code>getMethod</code></li>\n</ul>\n</li>\n<li>GitHub and Phabricator:\n<ul>\n<li>\n<code>uri</code> - allows pointing to a private enterprise installation (e.g.\n<code>'https://vpn.example.com'</code>). See <a href=\"https://github.com/hapijs/bell/blob/master/Providers.md\">Providers documentation</a> for more\ninformation.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>profileParams</code> - an object of key-value pairs that specify additional URL query parameters to\nsend with the profile request to the provider. The built-in <code>facebook</code> provider, for example,\ncould have <code>fields</code> specified to determine the fields returned from the user's graph, which would\nthen be available to you in the <code>auth.credentials.profile.raw</code> object.</li>\n<li>\n<code>runtimeStateCallback</code> - allows passing additional OAuth state from initial request. This must be\na function returning a string, which will be appended to the <strong>bell</strong> internal <code>state</code> parameter\nfor OAuth code flow.</li>\n</ul>\n<h4>\n<a id=\"configuration-via-environment-variables\" class=\"anchor\" href=\"#configuration-via-environment-variables\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Configuration via Environment Variables</h4>\n<p>The <code>server.auth.strategy()</code> method supports string representations of its boolean and number typed\noptions. For example, <code>forceHttps</code> can be set to 'true', 'false', 'yes', or 'no'. In effect, this\nallows you to configure any strategy option using environment variables.</p>\n<h4>\n<a id=\"handling-errors\" class=\"anchor\" href=\"#handling-errors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Handling Errors</h4>\n<p>By default, <strong>bell</strong> will reply back with an internal error (500) on most authentication errors due\nto the nature of the OAuth protocol. There is little that can be done to recover from errors as\nalmost all of them are caused by implementation or deployment issues.</p>\n<p>If you would like to display a useful error page instead of the default JSON response, use the\n<strong>hapi</strong> <a href=\"https://hapi.dev/api#error-transformation\" rel=\"nofollow\"><code>onPreResponse</code></a> extension point to transform\nthe error into a useful page or to redirect the user to another destination.</p>\n<p>Another way to handle authentication errors is within the route handler. By default, an\nauthentication error will cause the handler to be skipped. However, if the authentication mode is\nset to <code>'try'</code> instead of <code>'required'</code>, the handler will still be called. In this case, the\n<code>request.auth.isAuthenticated</code> must be checked to test if authentication failed. In that case,\n<code>request.auth.error</code> will contain the error.</p>\n<h4>\n<a id=\"token-refresh\" class=\"anchor\" href=\"#token-refresh\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Token Refresh</h4>\n<p>To keep track of the token expiry time, <code>request.auth.credentials.expiresIn</code> provides you the\nduration (in seconds) after which you could send a refresh token request using the\n<code>request.auth.credentials.refreshToken</code> to get a new token.</p>\n<h4>\n<a id=\"simulated-authentication\" class=\"anchor\" href=\"#simulated-authentication\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Simulated authentication</h4>\n<p>Testing applications using third-party login can be challenging given the lack of user interaction\nto perform the third-party login flow as well as the multiple steps required. To assist in testing\nsuch application without having to modify the application with custom code, <strong>Bell</strong> provides an\noverride method <code>Bell.simulate()</code> which puts the module into simulation mode and any strategies\ncreated while it is in this mode will return the simulated credentials.</p>\n<p>The <code>Bell.simulate(credentialsFunc)</code> takes a single argument:</p>\n<ul>\n<li>\n<p><code>credentialsFunc</code> - a function called for each incoming request to the protected resource that\nshould return the credentials object to be set in <code>request.auth.credentials</code>. Note that <strong>bell</strong>\nwill set the default keys automatically if not present except for the provider-specific values.</p>\n<p>has the signature <code>function(request)</code> where:</p>\n<ul>\n<li>\n<code>request</code> - the <strong>hapi</strong> request object.</li>\n</ul>\n</li>\n</ul>\n<p>Note that you must call <code>Bell.simulate()</code> before the module is registered by your application and\nneed to call <code>Bell.simulate(false)</code> to stop it from simulating authentication.</p>\n<h3>\n<a id=\"customized-scope-and-params\" class=\"anchor\" href=\"#customized-scope-and-params\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Customized Scope and Params</h3>\n<p>You can pass a function, rather than an object, into the <code>providerParams</code> and <code>scope</code> config\noptions to allow you to customize the scope or parameters based on the user's request. For example,\nthis may be used you want people to be able to log in with a provider (and only need some basic\nuser information) but also want to let users authorize your application to post messages or status\nupdates on their behalf.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">auth</span>.<span class=\"pl-en\">strategy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>twitter<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>bell<span class=\"pl-pds\">'</span></span>, {\n    provider<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>twitter<span class=\"pl-pds\">'</span></span>,\n    password<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>some cookie password<span class=\"pl-pds\">'</span></span>,\n    location<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>http://example.com/oauth<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-en\">scope</span>(<span class=\"pl-smi\">request</span>) {\n\n        <span class=\"pl-k\">const</span> <span class=\"pl-c1\">scopes</span> <span class=\"pl-k\">=</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>public_profile<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>email<span class=\"pl-pds\">'</span></span>];\n        <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">request</span>.<span class=\"pl-smi\">query</span>.<span class=\"pl-smi\">wantsSharePermission</span>) {\n          <span class=\"pl-smi\">scopes</span>.<span class=\"pl-c1\">push</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>publish_actions<span class=\"pl-pds\">'</span></span>);\n        }\n        <span class=\"pl-k\">return</span> scopes;\n    }\n});</pre></div>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"5.1.0":{"menu":"- [Tutorials](#tutorials)\n- [Notes](#notes)\n- [Options](#options)\n  - [Configuration via Environment Variables](#configuration-via-environment-variables)\n  - [Handling Errors](#handling-errors)\n  - [Token Refresh](#token-refresh)\n  - [Simulated authentication](#simulated-authentication)\n- [Customized Scope and Params](#customized-scope-and-params)","api":"<h3>\n<a id=\"tutorials\" class=\"anchor\" href=\"#tutorials\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Tutorials</h3>\n<p><a href=\"http://mph-web.de/social-signup-with-twitter-using-hapi-js/\" rel=\"nofollow\"><strong>Social Login with Twitter using hapi.js</strong></a></p>\n<h3>\n<a id=\"notes\" class=\"anchor\" href=\"#notes\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Notes</h3>\n<p>Testing third-party authorization is often a painful process. They are hard to test, tidious to configure, and tend to break when running on local servers. If you are having issues running <strong>bell</strong> locally, you might want to look at the <code>isSecure</code> and <code>isSameSite</code> options. Since most people don't run TLS on their local test server, <code>isSecure</code> must be set to <code>false</code> to remove the TLS requirement. <code>isSameSite</code> might need to be set to <code>'Lax'</code> in some cases.</p>\n<p>You should also review the default scope set for each provider early in your implementation. The default scope is meant to get the minimal permissions needed to perform simple user login. In most cases, you would want to ask for more permissions as the default often does not provide access to most API calls provided by the third-party services.</p>\n<h3>\n<a id=\"options\" class=\"anchor\" href=\"#options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Options</h3>\n<p>The <code>server.auth.strategy()</code> method requires the following strategy options:</p>\n<ul>\n<li>\n<p><code>provider</code> - the name of the third-party provider (<code>'auth0'</code>, <code>'azure'</code>, <code>'bitbucket'</code>,\n<code>'dropbox'</code>, <code>'facebook'</code>, <code>'fitbit'</code>, <code>'foursquare'</code>, <code>'github'</code>, <code>'google'</code>, <code>'googleplus'</code>,\n<code>'instagram'</code>, <code>'linkedin'</code>, <code>'live'</code>, <code>'twitter'</code>, <code>'vk'</code>, <code>'arcgisonline'</code>, <code>'yahoo'</code>,\n<code>'nest'</code>, <code>'phabricator'</code>, <code>'pinterest'</code>) or an object containing a custom\nprovider with the following:</p>\n<ul>\n<li>\n<code>protocol</code> - the authorization protocol used. Must be one of:\n<ul>\n<li>\n<code>'oauth'</code> - OAuth 1.0a</li>\n<li>\n<code>'oauth2'</code> - OAuth 2.0</li>\n</ul>\n</li>\n<li>\n<code>signatureMethod</code> - the OAuth signature method (OAuth 1.0a only). Must be one of:\n<ul>\n<li>\n<code>'HMAC-SHA1'</code> - default</li>\n<li>\n<code>'RSA-SHA1'</code> - in that case, the <code>clientSecret</code> is your RSA private key</li>\n</ul>\n</li>\n<li>\n<code>temporary</code> - the temporary credentials (request token) endpoint (OAuth 1.0a only).</li>\n<li>\n<code>useParamsAuth</code> - boolean that determines if OAuth client id and client secret will be sent\nas parameters as opposed to an Authorization header (OAuth 2.0 only). Defaults to <code>false</code>.</li>\n<li>\n<code>auth</code> - the authorization endpoint URI.</li>\n<li>\n<code>token</code> - the access token endpoint URI.</li>\n<li>\n<code>scope</code> - an array of scope strings (OAuth 2.0 only).</li>\n<li>\n<code>scopeSeparator</code> - the scope separator character (OAuth 2.0 only). Only required when a\nprovider has a broken OAuth 2.0 implementation. Defaults to space (Facebook and GitHub\ndefault to comma).</li>\n<li>\n<code>headers</code> - a headers object with additional headers required by the provider (e.g. GitHub\nrequired the 'User-Agent' header which is set by default).</li>\n<li>\n<code>profileMethod</code> - <code>get</code> or <code>post</code> for obtaining user profile by <code>profile</code> function. Default\nis <code>get</code>.</li>\n<li>\n<code>profile</code> - a function used to obtain user profile information and normalize it. The function\nsignature is <code>async function(credentials, params, get)</code> where:\n<ul>\n<li>\n<code>credentials</code> - the credentials object. Change the object directly within the function\n(profile information is typically stored under <code>credentials.profile</code>).</li>\n<li>\n<code>params</code> - the parsed information received from the provider (e.g. token, secret, and\nother custom fields).</li>\n<li>\n<code>get</code> - an OAuth helper function to make authenticated requests using the credentials\nreceived. The <code>get</code> function signature is <code>async function(uri, params)</code> where:\n<ul>\n<li>\n<code>uri</code> - the requested resource URI (<strong>bell</strong> will add the token or authentication\nheader as needed).</li>\n<li>\n<code>params</code> - any URI query parameters (cannot include them in the URI due to signature\nrequirements).</li>\n<li>returns the parsed profile response object.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><code>password</code> - the cookie encryption password. Used to encrypt the temporary state cookie used by\nthe module in between the authorization protocol steps.</p>\n</li>\n<li>\n<p><code>clientId</code> - the OAuth client identifier (consumer key).</p>\n</li>\n<li>\n<p><code>clientSecret</code> - the OAuth client secret (consumer secret). This is usually a client password\nformatted as a <em>string</em>, but to allow <a href=\"https://tools.ietf.org/html/rfc6749#section-2.3\" rel=\"nofollow\">OAuth2 custom client authentication</a>\n(e.g. client certificate-based authentication), this option can be passed as an <em>object</em>. This\nobject will be merged with the Wreck request object used to call the token endpoint. Such an\nobject can contain custom HTTP headers or TLS options (e.g.\n<code>{ agent: new Https.Agent({ cert: myClientCert, key: myClientKey}) }</code>).</p>\n</li>\n<li>\n<p><code>forceHttps</code> - A boolean indicating whether or not you want the redirect_uri to be forced to\nhttps. Useful if your hapi application runs as http, but is accessed through https.</p>\n</li>\n<li>\n<p><code>location</code> - Set the base redirect_uri manually if it cannot be inferred properly from server\nsettings. Useful to override port, protocol, and host if proxied or forwarded. It may be passed\neither as a string (in which case request.path is appended for you), or a function which takes\nthe client's <code>request</code> and returns a non-empty string, which is used as provided. In both cases,\nan empty string will result in default processing just as if the <code>location</code> option had not been\nspecified.</p>\n</li>\n</ul>\n<p>Each strategy accepts the following optional settings:</p>\n<ul>\n<li>\n<code>cookie</code> - the name of the cookie used to manage the temporary state. Defaults to\n<code>'bell-provider'</code> where 'provider' is the provider name (or <code>'custom'</code> for custom providers). For\nexample, the Twitter cookie name defaults to <code>'bell-twitter'</code>.</li>\n<li>\n<code>isSameSite</code> - sets the cookie same site option. Defaults to <code>Strict</code>.</li>\n<li>\n<code>isSecure</code> - sets the cookie secure flag. Defaults to <code>true</code>.</li>\n<li>\n<code>isHttpOnly</code> - sets the cookie HTTP only flag. Defaults to <code>true</code>.</li>\n<li>\n<code>ttl</code> - cookie time-to-live in milliseconds. Defaults to <code>null</code> (session time-life - cookies are\ndeleted when the browser is closed).</li>\n<li>\n<code>domain</code> - the domain scope. Defaults to <code>null</code> (no domain).</li>\n<li>\n<code>providerParams</code> - provider-specific query parameters for the authentication endpoint. It may be\npassed either as an object to merge into the query string, or a function which takes the client's\n<code>request</code> and returns an object. Each provider supports its own set of parameters which customize\nthe user's login experience. For example:\n<ul>\n<li>Facebook supports <code>display</code> ('page', 'popup', or 'touch'), <code>auth_type</code>, <code>auth_nonce</code>.</li>\n<li>Google supports <code>access_type</code>, <code>approval_prompt</code>, <code>prompt</code>, <code>login_hint</code>, <code>user_id</code>, <code>hd</code>.</li>\n<li>Twitter supports <code>force_login</code>, <code>screen_name</code>.</li>\n<li>Linkedin supports <code>fields</code>.</li>\n</ul>\n</li>\n<li>\n<code>allowRuntimeProviderParams</code> - allows passing query parameters from a <strong>bell</strong> protected endpoint\nto the auth request. It will merge the query params you pass along with the providerParams and\nany other predefined ones. Be aware that this will override predefined query parameters! Default\nto <code>false</code>.</li>\n<li>\n<code>scope</code> - Each built-in vendor comes with the required scope for basic profile information. Use\n<code>scope</code> to specify a different scope as required by your application. It may be passed either as\nan object to merge into the query string, or a function which takes the client's <code>request</code> and\nreturns an object. Consult the provider for their specific supported scopes.</li>\n<li>\n<code>skipProfile</code> - skips obtaining a user profile from the provider. Useful if you need specific\n<code>scope</code>s, but not the user profile. Defaults to <code>false</code>.</li>\n<li>\n<code>config</code> - a configuration object used to customize the provider settings:\n<ul>\n<li>Twitter:\n<ul>\n<li><code>extendedProfile</code></li>\n<li><code>getMethod</code></li>\n</ul>\n</li>\n<li>GitHub and Phabricator:\n<ul>\n<li>\n<code>uri</code> - allows pointing to a private enterprise installation (e.g.\n<code>'https://vpn.example.com'</code>). See <a href=\"https://github.com/hapijs/bell/blob/master/Providers.md\">Providers documentation</a> for more\ninformation.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>profileParams</code> - an object of key-value pairs that specify additional URL query parameters to\nsend with the profile request to the provider. The built-in <code>facebook</code> provider, for example,\ncould have <code>fields</code> specified to determine the fields returned from the user's graph, which would\nthen be available to you in the <code>auth.credentials.profile.raw</code> object.</li>\n<li>\n<code>runtimeStateCallback</code> - allows passing additional OAuth state from initial request. This must be\na function returning a string, which will be appended to the <strong>bell</strong> internal <code>state</code> parameter\nfor OAuth code flow.</li>\n</ul>\n<h4>\n<a id=\"configuration-via-environment-variables\" class=\"anchor\" href=\"#configuration-via-environment-variables\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Configuration via Environment Variables</h4>\n<p>The <code>server.auth.strategy()</code> method supports string representations of its boolean and number typed\noptions. For example, <code>forceHttps</code> can be set to 'true', 'false', 'yes', or 'no'. In effect, this\nallows you to configure any strategy option using environment variables.</p>\n<h4>\n<a id=\"handling-errors\" class=\"anchor\" href=\"#handling-errors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Handling Errors</h4>\n<p>By default, <strong>bell</strong> will reply back with an internal error (500) on most authentication errors due\nto the nature of the OAuth protocol. There is little that can be done to recover from errors as\nalmost all of them are caused by implementation or deployment issues.</p>\n<p>If you would like to display a useful error page instead of the default JSON response, use the\n<strong>hapi</strong> <a href=\"https://hapi.dev/api#error-transformation\" rel=\"nofollow\"><code>onPreResponse</code></a> extension point to transform\nthe error into a useful page or to redirect the user to another destination.</p>\n<p>Another way to handle authentication errors is within the route handler. By default, an\nauthentication error will cause the handler to be skipped. However, if the authentication mode is\nset to <code>'try'</code> instead of <code>'required'</code>, the handler will still be called. In this case, the\n<code>request.auth.isAuthenticated</code> must be checked to test if authentication failed. In that case,\n<code>request.auth.error</code> will contain the error.</p>\n<h4>\n<a id=\"token-refresh\" class=\"anchor\" href=\"#token-refresh\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Token Refresh</h4>\n<p>To keep track of the token expiry time, <code>request.auth.credentials.expiresIn</code> provides you the\nduration (in seconds) after which you could send a refresh token request using the\n<code>request.auth.credentials.refreshToken</code> to get a new token.</p>\n<h4>\n<a id=\"simulated-authentication\" class=\"anchor\" href=\"#simulated-authentication\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Simulated authentication</h4>\n<p>Testing applications using third-party login can be challenging given the lack of user interaction\nto perform the third-party login flow as well as the multiple steps required. To assist in testing\nsuch application without having to modify the application with custom code, <strong>Bell</strong> provides an\noverride method <code>Bell.simulate()</code> which puts the module into simulation mode and any strategies\ncreated while it is in this mode will return the simulated credentials.</p>\n<p>The <code>Bell.simulate(credentialsFunc)</code> takes a single argument:</p>\n<ul>\n<li>\n<p><code>credentialsFunc</code> - a function called for each incoming request to the protected resource that\nshould return the credentials object to be set in <code>request.auth.credentials</code>. Note that <strong>bell</strong>\nwill set the default keys automatically if not present except for the provider-specific values.</p>\n<p>has the signature <code>function(request)</code> where:</p>\n<ul>\n<li>\n<code>request</code> - the <strong>hapi</strong> request object.</li>\n</ul>\n</li>\n</ul>\n<p>Note that you must call <code>Bell.simulate()</code> before the module is registered by your application and\nneed to call <code>Bell.simulate(false)</code> to stop it from simulating authentication.</p>\n<h3>\n<a id=\"customized-scope-and-params\" class=\"anchor\" href=\"#customized-scope-and-params\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Customized Scope and Params</h3>\n<p>You can pass a function, rather than an object, into the <code>providerParams</code> and <code>scope</code> config\noptions to allow you to customize the scope or parameters based on the user's request. For example,\nthis may be used you want people to be able to log in with a provider (and only need some basic\nuser information) but also want to let users authorize your application to post messages or status\nupdates on their behalf.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">auth</span>.<span class=\"pl-en\">strategy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>twitter<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>bell<span class=\"pl-pds\">'</span></span>, {\n    provider<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>twitter<span class=\"pl-pds\">'</span></span>,\n    password<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>some cookie password<span class=\"pl-pds\">'</span></span>,\n    location<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>http://example.com/oauth<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-en\">scope</span>(<span class=\"pl-smi\">request</span>) {\n\n        <span class=\"pl-k\">const</span> <span class=\"pl-c1\">scopes</span> <span class=\"pl-k\">=</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>public_profile<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>email<span class=\"pl-pds\">'</span></span>];\n        <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">request</span>.<span class=\"pl-smi\">query</span>.<span class=\"pl-smi\">wantsSharePermission</span>) {\n          <span class=\"pl-smi\">scopes</span>.<span class=\"pl-c1\">push</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>publish_actions<span class=\"pl-pds\">'</span></span>);\n        }\n        <span class=\"pl-k\">return</span> scopes;\n    }\n});</pre></div>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"}},"subtext":{"name":"subtext","versions":[{"name":"6.1.2","branch":"master","license":"BSD","node":" 12, 10, 8"},{"name":"5.1.1","branch":"v5-commercial","license":"Commercial","node":" 10, 8, 6"}],"versionsArray":["6.1.2","5.1.1"],"6.1.2":{"menu":"- [Methods](#methods)\n  - [`Subtext.parse()`](#subtextparserequest-tap-options)","api":"<h2>\n<a id=\"methods\" class=\"anchor\" href=\"#methods\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Methods</h2>\n<h3>\n<a id=\"subtextparserequest-tap-options\" class=\"anchor\" href=\"#subtextparserequest-tap-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Subtext.parse(request, tap, options)</code>\n</h3>\n<p>Parses the request body and returns it in a promise.</p>\n<p><code>options</code> are the following:</p>\n<ul>\n<li>\n<code>parse</code>: (required) boolean</li>\n<li>\n<code>output</code>: (required) 'data', 'stream', 'file'</li>\n<li>\n<code>maxBytes</code>: int</li>\n<li>\n<code>override</code>: string</li>\n<li>\n<code>defaultContentType</code>: string</li>\n<li>\n<code>allow</code>: string, only allow a certain media type</li>\n<li>\n<code>timeout</code>: integer, limit time spent buffering request</li>\n<li>\n<code>qs</code>: object, to pass into the qs module</li>\n<li>\n<code>uploads</code>: string, directory for file uploads</li>\n<li>\n<code>decoders</code>: an object mapping content-encoding names to their corresponding decoder functions</li>\n<li>\n<code>compression</code>: an object mapping content-encoding names to their corresponding options passed to the <code>decoders</code> functions</li>\n</ul>\n<p>returns the following:</p>\n<ul>\n<li>\n<code>payload</code>: the parsed payload, or null if no payload</li>\n<li>\n<code>mime</code>: the content type of the request</li>\n</ul>\n","intro":"## Introduction\n\n`subtext` parses the request body and returns it in a promise.\n","example":"## Example\n\n```javascript\nconst Http = require('http');\nconst Subtext = require('@hapi/subtext');\n\nHttp.createServer(async (request, response) => {\n\n  const { payload, mime } = await Subtext.parse(request, null, { parse: true, output: 'data' });\n\n  response.writeHead(200, { 'Content-Type': 'text/plain' });\n  response.end(`Payload contains: ${JSON.stringify(payload)}`);\n\n}).listen(1337, '127.0.0.1');\n\nconsole.log('Server running at http://127.0.0.1:1337/');\n\n```\n","usage":"","faq":"","license":"BSD"},"5.1.1":{"menu":"- [`Subtext.parse()`](#subtextparserequest-tap-options-callback)","api":"<h3>\n<a id=\"subtextparserequest-tap-options-callback\" class=\"anchor\" href=\"#subtextparserequest-tap-options-callback\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>Subtext.parse(request, tap, options, callback)</code>\n</h3>\n<p>Parses the request body and exposes it in a callback.</p>\n<p><code>options</code> are the following:</p>\n<ul>\n<li>\n<code>parse</code>: (required) boolean</li>\n<li>\n<code>output</code>: (required) 'data', 'stream', 'file'</li>\n<li>\n<code>maxBytes</code>: int</li>\n<li>\n<code>override</code>: string</li>\n<li>\n<code>defaultContentType</code>: string</li>\n<li>\n<code>allow</code>: string, only allow a certain media type</li>\n<li>\n<code>timeout</code>: integer, limit time spent buffering request</li>\n<li>\n<code>qs</code>: object, to pass into the qs module</li>\n<li>\n<code>uploads</code>: string, directory for file uploads</li>\n<li>\n<code>decoders</code>: an object mapping content-encoding names to their corresponding decoder functions</li>\n<li>\n<code>compression</code>: an object mapping content-encoding names to their corresponding options passed to the <code>decoders</code> functions</li>\n</ul>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"},"slogan":"HTTP payload parser.","forks":17,"stars":22,"date":"2019-10-08T07:19:50Z","updated":"Tue Oct 08 2019","link":"https://github.com/hapijs/subtext"},"teamwork":{"name":"teamwork","versions":[{"name":"3.3.1","branch":"master","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["3.3.1"],"3.3.1":{"menu":"- [Protocol](#protocol)\n  - [Route invocation](#route-invocation)\n    - [Server](#server)\n    - [Client](#client)\n  - [Subscriptions](#subscriptions)\n    - [Server](#server-1)\n    - [Client](#client-1)\n  - [Broadcast](#broadcast)\n    - [Server](#server-2)\n    - [Client](#client-2)\n  - [Route authentication](#route-authentication)\n    - [Server](#server-3)\n    - [Client](#client-3)\n  - [Subscription filter](#subscription-filter)\n    - [Server](#server-4)\n    - [Client](#client-4)\n  - [Browser Client](#browser-client)\n- [Registration](#registration)\n- [Server](#server-5)\n  - [`await server.broadcast()`](#await-serverbroadcastmessage-options)\n  - [`server.subscription()`](#serversubscriptionpath-options)\n  - [`await server.publish()`](#await-serverpublishpath-message-options)\n  - [`await server.eachSocket()`](#await-servereachsocketeach-options)\n- [Socket](#socket)\n  - [`socket.id`](#socketid)\n  - [`socket.app`](#socketapp)\n  - [`socket.auth`](#socketauth)\n  - [`socket.server`](#socketserver)\n  - [`socket.connection`](#socketconnection)\n  - [`socket.disconnect()`](#socketdisconnect)\n  - [`socket.isOpen()`](#socketisopen)\n  - [`await socket.send()`](#await-socketsendmessage)\n  - [`await socket.publish()`](#await-socketpublishpath-message)\n  - [`await socket.revoke()`](#await-socketrevokepath-message-options)\n- [Request](#request)\n  - [`request.socket`](#requestsocket)\n- [Client](#client-5)\n  - [`new Client()`](#new-clienturl-options)\n  - [`client.onError`](#clientonerror)\n  - [`client.onConnect`](#clientonconnect)\n  - [`client.onDisconnect`](#clientondisconnect)\n  - [`client.onHeartbeatTimeout`](#clientonheartbeattimeout)\n  - [`client.onUpdate`](#clientonupdate)\n  - [`await client.connect()`](#await-clientconnectoptions)\n  - [`await client.disconnect()`](#await-clientdisconnect)\n  - [`client.id`](#clientid)\n  - [`await client.request()`](#await-clientrequestoptions)\n  - [`await client.message()`](#await-clientmessagemessage)\n  - [`await client.subscribe()`](#await-clientsubscribepath-handler)\n  - [`await client.unsubscribe()`](#await-clientunsubscribepath-handler)\n  - [`client.subscriptions()`](#clientsubscriptions)\n  - [`client.overrideReconnectionAuth()`](#clientoverridereconnectionauthauth)\n  - [`await client.reauthenticate()`](#await-clientreauthenticateauth)\n  - [Errors](#errors)","api":"<h2>\n<a id=\"protocol\" class=\"anchor\" href=\"#protocol\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Protocol</h2>\n<p>The <strong>nes</strong> protocol is described in the <a href=\"https://github.com/hapijs/nes/blob/master/PROTOCOL.md\">Protocol documentation</a>.</p>\n<h3>\n<a id=\"route-invocation\" class=\"anchor\" href=\"#route-invocation\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Route invocation</h3>\n<h4>\n<a id=\"server\" class=\"anchor\" href=\"#server\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Server</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Hapi.Server</span>();\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(Nes);\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({\n        method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>,\n        path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/h<span class=\"pl-pds\">'</span></span>,\n        config<span class=\"pl-k\">:</span> {\n            id<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>hello<span class=\"pl-pds\">'</span></span>,\n            <span class=\"pl-en\">handler</span><span class=\"pl-k\">:</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">h</span>) <span class=\"pl-k\">=&gt;</span> {\n\n                <span class=\"pl-k\">return</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>world!<span class=\"pl-pds\">'</span></span>;\n            }\n        }\n    });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h4>\n<a id=\"client\" class=\"anchor\" href=\"#client\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Client</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">var</span> client <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Nes.Client</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ws://localhost<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">connect</span>();\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">payload</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">request</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>hello<span class=\"pl-pds\">'</span></span>);  <span class=\"pl-c\"><span class=\"pl-c\">//</span> Can also request '/h'</span>\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> payload -&gt; 'world!'</span>\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h3>\n<a id=\"subscriptions\" class=\"anchor\" href=\"#subscriptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Subscriptions</h3>\n<h4>\n<a id=\"server-1\" class=\"anchor\" href=\"#server-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Server</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Hapi.Server</span>();\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(Nes);\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">subscription</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/item/{id}<span class=\"pl-pds\">'</span></span>);\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">publish</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/item/5<span class=\"pl-pds\">'</span></span>, { id<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span>, status<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>complete<span class=\"pl-pds\">'</span></span> });\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">publish</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/item/6<span class=\"pl-pds\">'</span></span>, { id<span class=\"pl-k\">:</span> <span class=\"pl-c1\">6</span>, status<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>initial<span class=\"pl-pds\">'</span></span> });\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h4>\n<a id=\"client-1\" class=\"anchor\" href=\"#client-1\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Client</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">client</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Nes.Client</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ws://localhost<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">connect</span>();\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">handler</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">update</span>, <span class=\"pl-smi\">flags</span>) <span class=\"pl-k\">=&gt;</span> {\n\n        <span class=\"pl-c\"><span class=\"pl-c\">//</span> update -&gt; { id: 5, status: 'complete' }</span>\n        <span class=\"pl-c\"><span class=\"pl-c\">//</span> Second publish is not received (doesn't match)</span>\n    };\n\n    <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">subscribe</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/item/5<span class=\"pl-pds\">'</span></span>, handler);\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h3>\n<a id=\"broadcast\" class=\"anchor\" href=\"#broadcast\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Broadcast</h3>\n<h4>\n<a id=\"server-2\" class=\"anchor\" href=\"#server-2\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Server</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Hapi.Server</span>();\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(Nes);\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">broadcast</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>welcome!<span class=\"pl-pds\">'</span></span>);\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h4>\n<a id=\"client-2\" class=\"anchor\" href=\"#client-2\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Client</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">client</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Nes.Client</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ws://localhost<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">connect</span>();\n    <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">onUpdate</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">update</span>) <span class=\"pl-k\">=&gt;</span> {\n\n        <span class=\"pl-c\"><span class=\"pl-c\">//</span> update -&gt; 'welcome!'</span>\n    };\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h3>\n<a id=\"route-authentication\" class=\"anchor\" href=\"#route-authentication\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Route authentication</h3>\n<h4>\n<a id=\"server-3\" class=\"anchor\" href=\"#server-3\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Server</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Basic</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/basic<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Bcrypt</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>bcrypt<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Hapi.Server</span>();\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>([Basic, Nes]);\n\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Set up HTTP Basic authentication</span>\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">users</span> <span class=\"pl-k\">=</span> {\n        john<span class=\"pl-k\">:</span> {\n            username<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>john<span class=\"pl-pds\">'</span></span>,\n            password<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>$2a$10$iqJSHD.BGr0E2IxQwYgJmeP3NvhPrXAeLSaGCj6IR/XU5QtjVu5Tm<span class=\"pl-pds\">'</span></span>,   <span class=\"pl-c\"><span class=\"pl-c\">//</span> 'secret'</span>\n            name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>John Doe<span class=\"pl-pds\">'</span></span>,\n            id<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>2133d32a<span class=\"pl-pds\">'</span></span>\n        }\n    };\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">validate</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">username</span>, <span class=\"pl-smi\">password</span>) <span class=\"pl-k\">=&gt;</span> {\n\n        <span class=\"pl-k\">const</span> <span class=\"pl-c1\">user</span> <span class=\"pl-k\">=</span> users[username];\n        <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span>user) {\n            <span class=\"pl-k\">return</span> { isValid<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> };\n        }\n\n        <span class=\"pl-k\">const</span> <span class=\"pl-c1\">isValid</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-smi\">Bcrypt</span>.<span class=\"pl-en\">compare</span>(password, <span class=\"pl-smi\">user</span>.<span class=\"pl-smi\">password</span>);\n        <span class=\"pl-k\">const</span>  <span class=\"pl-c1\">credentials</span> <span class=\"pl-k\">=</span> { id<span class=\"pl-k\">:</span> <span class=\"pl-smi\">user</span>.<span class=\"pl-c1\">id</span>, name<span class=\"pl-k\">:</span> <span class=\"pl-smi\">user</span>.<span class=\"pl-c1\">name</span> };\n        <span class=\"pl-k\">return</span> { isValid, credentials };\n    };\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">auth</span>.<span class=\"pl-en\">strategy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>simple<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>basic<span class=\"pl-pds\">'</span></span>, { validate });\n\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Configure route with authentication</span>\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({\n        method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>,\n        path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/h<span class=\"pl-pds\">'</span></span>,\n        config<span class=\"pl-k\">:</span> {\n            id<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>hello<span class=\"pl-pds\">'</span></span>,\n            <span class=\"pl-en\">handler</span><span class=\"pl-k\">:</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">h</span>) <span class=\"pl-k\">=&gt;</span> {\n\n                <span class=\"pl-k\">return</span> <span class=\"pl-s\"><span class=\"pl-pds\">`</span>Hello <span class=\"pl-s1\"><span class=\"pl-pse\">${</span><span class=\"pl-smi\">request</span>.<span class=\"pl-smi\">auth</span>.<span class=\"pl-smi\">credentials</span>.<span class=\"pl-c1\">name</span><span class=\"pl-pse\">}</span></span><span class=\"pl-pds\">`</span></span>;\n            }\n        }\n    });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h4>\n<a id=\"client-3\" class=\"anchor\" href=\"#client-3\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Client</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">client</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Nes.Client</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ws://localhost<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">connect</span>({ auth<span class=\"pl-k\">:</span> { headers<span class=\"pl-k\">:</span> { authorization<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Basic am9objpzZWNyZXQ=<span class=\"pl-pds\">'</span></span> } } });\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">payload</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">request</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>hello<span class=\"pl-pds\">'</span></span>)  <span class=\"pl-c\"><span class=\"pl-c\">//</span> Can also request '/h'</span>\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> payload -&gt; 'Hello John Doe'</span>\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h3>\n<a id=\"subscription-filter\" class=\"anchor\" href=\"#subscription-filter\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Subscription filter</h3>\n<h4>\n<a id=\"server-4\" class=\"anchor\" href=\"#server-4\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Server</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Basic</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/basic<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Bcrypt</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>bcrypt<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Hapi.Server</span>();\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>([Basic, Nes]);\n\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Set up HTTP Basic authentication</span>\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">users</span> <span class=\"pl-k\">=</span> {\n        john<span class=\"pl-k\">:</span> {\n            username<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>john<span class=\"pl-pds\">'</span></span>,\n            password<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>$2a$10$iqJSHD.BGr0E2IxQwYgJmeP3NvhPrXAeLSaGCj6IR/XU5QtjVu5Tm<span class=\"pl-pds\">'</span></span>,   <span class=\"pl-c\"><span class=\"pl-c\">//</span> 'secret'</span>\n            name<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>John Doe<span class=\"pl-pds\">'</span></span>,\n            id<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>2133d32a<span class=\"pl-pds\">'</span></span>\n        }\n    };\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">validate</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">username</span>, <span class=\"pl-smi\">password</span>) <span class=\"pl-k\">=&gt;</span> {\n\n        <span class=\"pl-k\">const</span> <span class=\"pl-c1\">user</span> <span class=\"pl-k\">=</span> users[username];\n        <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span>user) {\n            <span class=\"pl-k\">return</span> { isValid<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> };\n        }\n\n        <span class=\"pl-k\">const</span> <span class=\"pl-c1\">isValid</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-smi\">Bcrypt</span>.<span class=\"pl-en\">compare</span>(password, <span class=\"pl-smi\">user</span>.<span class=\"pl-smi\">password</span>);\n        <span class=\"pl-k\">const</span>  <span class=\"pl-c1\">credentials</span> <span class=\"pl-k\">=</span> { id<span class=\"pl-k\">:</span> <span class=\"pl-smi\">user</span>.<span class=\"pl-c1\">id</span>, name<span class=\"pl-k\">:</span> <span class=\"pl-smi\">user</span>.<span class=\"pl-c1\">name</span> };\n        <span class=\"pl-k\">return</span> { isValid, credentials };\n    };\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">auth</span>.<span class=\"pl-en\">strategy</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>simple<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>basic<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>required<span class=\"pl-pds\">'</span></span>, { validate });\n\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> Set up subscription</span>\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">subscription</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/items<span class=\"pl-pds\">'</span></span>, {\n        <span class=\"pl-en\">filter</span><span class=\"pl-k\">:</span> (<span class=\"pl-smi\">path</span>, <span class=\"pl-smi\">message</span>, <span class=\"pl-smi\">options</span>) <span class=\"pl-k\">=&gt;</span> {\n\n            <span class=\"pl-k\">return</span> (<span class=\"pl-smi\">message</span>.<span class=\"pl-smi\">updater</span> <span class=\"pl-k\">!==</span> <span class=\"pl-smi\">options</span>.<span class=\"pl-smi\">credentials</span>.<span class=\"pl-smi\">username</span>);\n        }\n    });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">publish</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/items<span class=\"pl-pds\">'</span></span>, { id<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span>, status<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>complete<span class=\"pl-pds\">'</span></span>, updater<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>john<span class=\"pl-pds\">'</span></span> });\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">publish</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/items<span class=\"pl-pds\">'</span></span>, { id<span class=\"pl-k\">:</span> <span class=\"pl-c1\">6</span>, status<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>initial<span class=\"pl-pds\">'</span></span>, updater<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>steve<span class=\"pl-pds\">'</span></span> });\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h4>\n<a id=\"client-4\" class=\"anchor\" href=\"#client-4\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Client</h4>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nes</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/nes<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">client</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Nes.Client</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ws://localhost<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> Authenticate as 'john'</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">start</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">connect</span>({ auth<span class=\"pl-k\">:</span> { headers<span class=\"pl-k\">:</span> { authorization<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Basic am9objpzZWNyZXQ=<span class=\"pl-pds\">'</span></span> } } });\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">handler</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">update</span>) <span class=\"pl-k\">=&gt;</span> {\n\n        <span class=\"pl-c\"><span class=\"pl-c\">//</span> First publish is not received (filtered due to updater key)</span>\n        <span class=\"pl-c\"><span class=\"pl-c\">//</span> update -&gt; { id: 6, status: 'initial', updater: 'steve' }</span>\n    };\n\n    <span class=\"pl-smi\">client</span>.<span class=\"pl-en\">subscribe</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/items<span class=\"pl-pds\">'</span></span>, handler);\n};\n\n<span class=\"pl-en\">start</span>();</pre></div>\n<h3>\n<a id=\"browser-client\" class=\"anchor\" href=\"#browser-client\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Browser Client</h3>\n<p>When you <code>require('@hapi/nes')</code> it loads the full module and adds a lot of extra code that is not needed\nfor the browser. The browser will only need the <strong>nes</strong> client. If you are using CommonJS you can\nload the client with <code>require('@hapi/nes/lib/client')</code>.</p>\n<h2>\n<a id=\"registration\" class=\"anchor\" href=\"#registration\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Registration</h2>\n<p>The <strong>nes</strong> plugin uses the standard <strong>hapi</strong> registration process using the <code>server.register()</code>\nmethod. The plugin accepts the following optional registration options:</p>\n<ul>\n<li>\n<code>onConnection</code> - a function with the signature <code>function(socket)</code> invoked for each incoming client\nconnection where:\n<ul>\n<li>\n<code>socket</code> - the <a href=\"#socket\"><code>Socket</code></a> object of the incoming connection.</li>\n</ul>\n</li>\n<li>\n<code>onDisconnection</code> - a function with the signature <code>function(socket)</code> invoked for each incoming client\nconnection on disconnect where:\n<ul>\n<li>\n<code>socket</code> - the <a href=\"#socket\"><code>Socket</code></a> object of the connection.</li>\n</ul>\n</li>\n<li>\n<code>onMessage</code> - a function with the signature <code>async function(socket, message)</code> used to receive custom\nclient messages (when the client calls <a href=\"#clientmessagedata\"><code>client.message()</code></a>) where:\n<ul>\n<li>\n<code>socket</code> - the <a href=\"#socket\"><code>Socket</code></a> object of the message source.</li>\n<li>\n<code>message</code> - the message sent by the client.</li>\n<li>the function may return a response to the client.</li>\n</ul>\n</li>\n<li>\n<code>auth</code> - optional plugin authentication options with the following supported values:\n<ul>\n<li>\n<code>false</code> - no client authentication supported.</li>\n<li>an object with the following optional keys:\n<ul>\n<li>\n<code>type</code> - the type of authentication flow supported by the server. Each type has a very different\nsecurity profile. The following types are supported:\n<ul>\n<li>\n<code>'direct'</code> - the plugin configures an internal authentication endpoint which is only called\ninternally by the plugin when the client provides its authentication credentials (or by\npassing an <code>auth</code> option to <a href=\"#await-clientconnectoptions\"><code>client.connect()</code></a>). The\nendpoint returns a copy of the credentials object (along with any artifacts) to the plugin\nwhich is then used for all subsequent client requests and subscriptions. This type requires\nexposing the underlying credentials to the application. Note that if the authentication scheme\nuses the HTTP request method (e.g. <a href=\"https://github.com/hueniverse/hawk\">hawk</a> or\n<a href=\"https://github.com/hueniverse/oz\">oz</a>) you need to use <code>'auth'</code> as the value (and\nnot <code>'GET'</code>). This is the default value.</li>\n<li>\n<code>'cookie'</code> - the plugin configures a public authentication endpoint which must be called\nby the client application manually before it calls <a href=\"#await-clientconnectoptions\"><code>client.connect()</code></a>.\nWhen the endpoint is called with valid credentials, it sets a cookie with the provided\n<code>name</code> which the browser then transmits back to the server when the WebSocket connection\nis made. This type removes the need to expose the authentication credentials to the\nJavaScript layer but requires an additional round trip before establishing a client\nconnection.</li>\n<li>\n<code>'token'</code> - the plugin configures a public authentication endpoint which must be called\nby the client application manually before it calls <a href=\"#await-clientconnectoptions\"><code>client.connect()</code></a>.\nWhen the endpoint is called with valid credentials, it returns an encrypted authentication\ntoken which the client can use to authenticate the connection by passing an <code>auth</code> option\nto <a href=\"#await-clientconnectoptions\"><code>client.connect()</code></a> with the token. This type is useful\nwhen the client-side application needs to manage its credentials differently than relying\non cookies (e.g. non-browser clients).</li>\n</ul>\n</li>\n<li>\n<code>endpoint</code> - the HTTP path of the authentication endpoint. Note that even though the <code>'direct'</code>\ntype does not exposes the endpoint, it is still created internally and registered using the\nprovided path. Change it only if the default path creates a conflict. Defaults to <code>'/nes/auth'</code>.</li>\n<li>\n<code>id</code> - the authentication endpoint identifier. Change it only if the default id creates a conflict.\nDefaults to <code>nes.auth</code>.</li>\n<li>\n<code>route</code> - the <strong>hapi</strong> route <code>config.auth</code> settings. The authentication endpoint must be\nconfigured with at least one authentication strategy which the client is going to use to\nauthenticate. The <code>route</code> value must be set to a valid value supported by the <strong>hapi</strong> route\n<code>auth</code> configuration. Defaults to the default authentication strategy if one is present,\notherwise no authentication will be possible (clients will fail to authenticate).</li>\n<li>\n<code>password</code> - the password used by the <a href=\"https://github.com/hueniverse/iron\"><strong>iron</strong></a> module\nto encrypt the cookie or token values. If no password is provided, one is automatically\ngenerated. However, the password will change every time the process is restarted (as well\nas generate different results on a distributed system). It is recommended that a password\nis manually set and managed by the application.</li>\n<li>\n<code>iron</code> - the settings used by the <a href=\"https://github.com/hueniverse/iron\"><strong>iron</strong></a> module.\nDefaults to the <strong>iron</strong> defaults.</li>\n<li>\n<code>cookie</code> - the cookie name when using type <code>'cookie'</code>. Defaults to <code>'nes'</code>.</li>\n<li>\n<code>isSecure</code> - the cookie secure flag when using type <code>'cookie'</code>. Defaults to <code>true</code>.</li>\n<li>\n<code>isHttpOnly</code> - the cookie HTTP only flag when using type <code>'cookie'</code>. Defaults to <code>true</code>.</li>\n<li>\n<code>path</code> - the cookie path when using type <code>'cookie'</code>. Defaults to <code>'/'</code>.</li>\n<li>\n<code>domain</code> - the cookie domain when using type <code>'cookie'</code>. Defaults to no domain.</li>\n<li>\n<code>ttl</code> - the cookie expiration milliseconds when using type <code>'cookie'</code>. Defaults to current\nsession only.</li>\n<li>\n<code>index</code> - if <code>true</code>, authenticated socket with <code>user</code> property in <code>credentials</code> are mapped\nfor usage in <a href=\"#serverbroadcastmessage-options\"><code>server.broadcast()</code></a> calls. Defaults to <code>false</code>.</li>\n<li>\n<code>timeout</code> - number of milliseconds after which a new connection is disconnected if authentication\nis required but the connection has not yet sent a hello message. No timeout if set to <code>false</code>.\nDefaults to <code>5000</code> (5 seconds).</li>\n<li>\n<code>maxConnectionsPerUser</code> - if specified, limits authenticated users to a maximum number of\nclient connections. Requires the <code>index</code> option enabled. Defaults to <code>false</code>.</li>\n<li>\n<code>minAuthVerifyInterval</code> - if specified, waits at least the specificed number of milliseconds\nbetween calls to <a href=\"https://hapijs.com/api#-await-serverauthverifyrequest\" rel=\"nofollow\"><code>await server.auth.verify()</code></a>\nto check if credentials are still valid. Cannot be shorter than <code>heartbeat.interval</code>.\nDefaults to <code>heartbeat.interval</code> or <code>15000</code> if <code>heartbeat</code> is disabled.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>headers</code> - an optional array of header field names to include in server responses to the client.\nIf set to <code>'*'</code> (without an array), allows all headers. Defaults to <code>null</code> (no headers).</li>\n<li>\n<code>payload</code> - optional message payload settings where:\n<ul>\n<li>\n<code>maxChunkChars</code> - the maximum number of characters (after the full protocol object is converted\nto a string using <code>JSON.stringify()</code>) allowed in a single WebSocket message. This is important\nwhen using the protocol over a slow network (e.g. mobile) with large updates as the transmission\ntime can exceed the timeout or heartbeat limits which will cause the client to disconnect.\nDefaults to <code>false</code> (no limit).</li>\n</ul>\n</li>\n<li>\n<code>heartbeat</code> - configures connection keep-alive settings where value can be:\n<ul>\n<li>\n<code>false</code> - no heartbeats.</li>\n<li>an object with:\n<ul>\n<li>\n<code>interval</code> - time interval between heartbeat messages in milliseconds. Defaults to <code>15000</code>\n(15 seconds).</li>\n<li>\n<code>timeout</code> - timeout in milliseconds after a heartbeat is sent to the client and before the\nclient is considered disconnected by the server. Defaults to <code>5000</code> (5 seconds).</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>maxConnections</code> - if specified, limits the number of simultaneous client connections. Defaults to\n<code>false</code>.</li>\n<li>\n<code>origin</code> - an origin string or an array of origin strings incoming client requests must match for\nthe connection to be permitted. Defaults to no origin validation.</li>\n</ul>\n<h2>\n<a id=\"server-5\" class=\"anchor\" href=\"#server-5\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Server</h2>\n<p>The plugin decorates the server with a few new methods for interacting with the incoming WebSocket\nconnections.</p>\n<h3>\n<a id=\"await-serverbroadcastmessage-options\" class=\"anchor\" href=\"#await-serverbroadcastmessage-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await server.broadcast(message, [options])</code>\n</h3>\n<p>Sends a message to all connected clients where:</p>\n<ul>\n<li>\n<code>message</code> - the message sent to the clients. Can be any type which can be safely converted to\nstring using <code>JSON.stringify()</code>.</li>\n<li>\n<code>options</code> - optional object with the following:\n<ul>\n<li>\n<code>user</code> - optional user filter. When provided, the message will be sent only to authenticated\nsockets with <code>credentials.user</code> equal to  <code>user</code>. Requires the <code>auth.index</code> options to be\nconfigured to <code>true</code>.</li>\n</ul>\n</li>\n</ul>\n<p>Note that in a multi server deployment, only the client connected to the current server will receive\nthe message.</p>\n<h3>\n<a id=\"serversubscriptionpath-options\" class=\"anchor\" href=\"#serversubscriptionpath-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>server.subscription(path, [options])</code>\n</h3>\n<p>Declares a subscription path client can subscribe to where:</p>\n<ul>\n<li>\n<code>path</code> - an HTTP-like path. The path must begin with the <code>'/'</code> character. The path may contain\npath parameters as supported by the <strong>hapi</strong> route path parser.</li>\n<li>\n<code>options</code> - an optional object where:\n<ul>\n<li>\n<code>filter</code> - a publishing filter function for making per-client connection decisions about which\nmatching publication update should be sent to which client. The function uses the signature\n<code>async function(path, message, options)</code> where:\n<ul>\n<li>\n<code>path</code> - the path of the published update. The path is provided in case the subscription\ncontains path parameters.</li>\n<li>\n<code>message</code> - the message being published.</li>\n<li>\n<code>options</code> - additional information about the subscription and client:\n<ul>\n<li>\n<code>socket</code> - the current socket being published to.</li>\n<li>\n<code>credentials</code> - the client credentials if authenticated.</li>\n<li>\n<code>params</code> - the parameters parsed from the publish message path if the subscription\npath contains parameters.</li>\n<li>\n<code>internal</code> - the <code>internal</code> options data passed to the publish call, if defined.</li>\n</ul>\n</li>\n<li>the function must return a value of (or a promise that resolves into):\n<ul>\n<li>\n<code>true</code> - to proceed sending the message.</li>\n<li>\n<code>false</code> - to skip sending the message.</li>\n<li>\n<code>{ override }</code> - an override <code>message</code> to send to this <code>socket</code> instead of the\npublished one. Note that if you want to modify <code>message</code>, you must clone it first or\nthe changes will apply to all other sockets.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>auth</code> - the subscription authentication options with the following supported values:\n<ul>\n<li>\n<code>false</code> - no authentication required to subscribe.</li>\n<li>a configuration object with the following optional keys:\n<ul>\n<li>\n<code>mode</code> - same as the <strong>hapi</strong> route auth modes:\n<ul>\n<li>\n<code>'required'</code> - authentication is required. This is the default value.</li>\n<li>\n<code>'optional'</code> - authentication is optional.</li>\n</ul>\n</li>\n<li>\n<code>scope</code> - a string or array of string of authentication scope as supported by the\n<strong>hapi</strong> route authenticate configuration.</li>\n<li>\n<code>entity</code> - the required credentials type as supported by the <strong>hapi</strong> route\nauthentication configuration:\n<ul>\n<li><code>'user'</code></li>\n<li><code>'app'</code></li>\n<li><code>'any'</code></li>\n</ul>\n</li>\n<li>\n<code>index</code> - if <code>true</code>, authenticated socket with <code>user</code> property in <code>credentials</code> are\nmapped for usage in <a href=\"#await-socketpublishpath-message\"><code>server.publish()</code></a> calls.\nDefaults to <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<code>onSubscribe</code> - a method called when a client subscribes to this subscription endpoint using\nthe signature <code>async function(socket, path, params)</code> where:\n<ul>\n<li>\n<code>socket</code> - the <a href=\"#socket\"><code>Socket</code></a> object of the incoming connection.</li>\n<li>\n<code>path</code> - the path the client subscribed to</li>\n<li>\n<code>params</code> - the parameters parsed from the subscription request path if the subscription\npath definition contains parameters.</li>\n</ul>\n</li>\n<li>\n<code>onUnsubscribe</code> - a method called when a client unsubscribes from this subscription endpoint\nusing the signature <code>async function(socket, path, params)</code> where:\n<ul>\n<li>\n<code>socket</code> - the <a href=\"#socket\"><code>Socket</code></a> object of the incoming connection.</li>\n<li>\n<code>path</code> - Path of the unsubscribed route.</li>\n<li>\n<code>params</code> - the parameters parsed from the subscription request path if the subscription\npath definition contains parameters.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"await-serverpublishpath-message-options\" class=\"anchor\" href=\"#await-serverpublishpath-message-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await server.publish(path, message, [options])</code>\n</h3>\n<p>Sends a message to all the subscribed clients where:</p>\n<ul>\n<li>\n<code>path</code> - the subscription path. The path is matched first against the available subscriptions\nadded via <code>server.subscription()</code> and then against the specific path provided by each client\nat the time of registration (only matter when the subscription path contains parameters). When\na match is found, the subscription <code>filter</code> function is called (if present) to further filter\nwhich client should receive which update.</li>\n<li>\n<code>message</code> - the message sent to the clients. Can be any type which can be safely converted to\nstring using <code>JSON.stringify()</code>.</li>\n<li>\n<code>options</code> - optional object that may include\n<ul>\n<li>\n<code>internal</code> - Internal data that is passed to <code>filter</code> and may be used to filter messages\non data that is not sent to the client.</li>\n<li>\n<code>user</code> - optional user filter. When provided, the message will be sent only to authenticated\nsockets with <code>credentials.user</code> equal to  <code>user</code>. Requires the subscription <code>auth.index</code>\noptions to be configured to <code>true</code>.</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"await-servereachsocketeach-options\" class=\"anchor\" href=\"#await-servereachsocketeach-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await server.eachSocket(each, [options])</code>\n</h3>\n<p>Iterates over all connected sockets, optionally filtering on those that have subscribed to\na given subscription. This operation is synchronous.</p>\n<ul>\n<li>\n<code>each</code> - Iteration method in the form <code>async function(socket)</code>.</li>\n<li>\n<code>options</code> - Optional options object\n<ul>\n<li>\n<code>subscription</code> - When set to a string path, limits the results to sockets that are\nsubscribed to that path.</li>\n<li>\n<code>user</code> - optional user filter. When provided, the <code>each</code> method will be invoked with\nauthenticated sockets with <code>credentials.user</code> equal to  <code>user</code>. Requires the subscription\n<code>auth.index</code> options to be configured to <code>true</code>.</li>\n</ul>\n</li>\n</ul>\n<h2>\n<a id=\"socket\" class=\"anchor\" href=\"#socket\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Socket</h2>\n<p>An object representing a client connection.</p>\n<h3>\n<a id=\"socketid\" class=\"anchor\" href=\"#socketid\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>socket.id</code>\n</h3>\n<p>A unique socket identifier.</p>\n<h3>\n<a id=\"socketapp\" class=\"anchor\" href=\"#socketapp\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>socket.app</code>\n</h3>\n<p>An object used to store application state per socket. Provides a safe namespace to avoid conflicts\nwith the socket methods.</p>\n<h3>\n<a id=\"socketauth\" class=\"anchor\" href=\"#socketauth\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>socket.auth</code>\n</h3>\n<p>The socket authentication state if any. Similar to the normal <strong>hapi</strong> <code>request.auth</code> object where:</p>\n<ul>\n<li>\n<code>isAuthenticated</code> - a boolean set to <code>true</code> when authenticated.</li>\n<li>\n<code>credentials</code> - the authentication credentials used.</li>\n<li>\n<code>artifacts</code> - authentication artifacts specific to the authentication strategy used.</li>\n</ul>\n<h3>\n<a id=\"socketserver\" class=\"anchor\" href=\"#socketserver\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>socket.server</code>\n</h3>\n<p>The socket's server reference.</p>\n<h3>\n<a id=\"socketconnection\" class=\"anchor\" href=\"#socketconnection\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>socket.connection</code>\n</h3>\n<p>The socket's connection reference.</p>\n<h3>\n<a id=\"socketdisconnect\" class=\"anchor\" href=\"#socketdisconnect\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>socket.disconnect()</code>\n</h3>\n<p>Closes a client connection.</p>\n<h3>\n<a id=\"socketisopen\" class=\"anchor\" href=\"#socketisopen\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>socket.isOpen()</code>\n</h3>\n<p>Returns <code>true</code> is the socket connection is in ready state, otherwise <code>false</code>.</p>\n<h3>\n<a id=\"await-socketsendmessage\" class=\"anchor\" href=\"#await-socketsendmessage\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await socket.send(message)</code>\n</h3>\n<p>Sends a custom message to the client where:</p>\n<ul>\n<li>\n<code>message</code> - the message sent to the client. Can be any type which can be safely converted to\nstring using <code>JSON.stringify()</code>.</li>\n</ul>\n<h3>\n<a id=\"await-socketpublishpath-message\" class=\"anchor\" href=\"#await-socketpublishpath-message\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await socket.publish(path, message)</code>\n</h3>\n<p>Sends a subscription update to a specific client where:</p>\n<ul>\n<li>\n<code>path</code> - the subscription string. Note that if the client did not subscribe to the provided <code>path</code>,\nthe client will ignore the update silently.</li>\n<li>\n<code>message</code> - the message sent to the client. Can be any type which can be safely converted to\nstring using <code>JSON.stringify()</code>.</li>\n</ul>\n<h3>\n<a id=\"await-socketrevokepath-message-options\" class=\"anchor\" href=\"#await-socketrevokepath-message-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await socket.revoke(path, message, [options])</code>\n</h3>\n<p>Revokes a subscription and optionally includes a last update where:</p>\n<ul>\n<li>\n<code>path</code> - the subscription string. Note that if the client is not subscribe to the provided <code>path</code>,\nthe client will ignore the it silently.</li>\n<li>\n<code>message</code> - an optional last subscription update sent to the client. Can be any type which can be\nsafely converted to string using <code>JSON.stringify()</code>. Pass <code>null</code> to revoke the subscription without\nsending a last update.</li>\n<li>\n<code>options</code> - optional settings:\n<ul>\n<li>\n<code>ignoreClosed</code> - ignore errors if the underlying websocket has been closed. Defaults to <code>false</code>.</li>\n</ul>\n</li>\n</ul>\n<h2>\n<a id=\"request\" class=\"anchor\" href=\"#request\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Request</h2>\n<p>The following decorations are available on each request received via the nes connection.</p>\n<h3>\n<a id=\"requestsocket\" class=\"anchor\" href=\"#requestsocket\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>request.socket</code>\n</h3>\n<p>Provides access to the <a href=\"#socket\"><code>Socket</code></a> object of the incoming connection.</p>\n<h2>\n<a id=\"client-5\" class=\"anchor\" href=\"#client-5\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Client</h2>\n<p>The client implements the <strong>nes</strong> protocol and provides methods for interacting with the server.\nIt supports auto-connect by default as well as authentication.</p>\n<h3>\n<a id=\"new-clienturl-options\" class=\"anchor\" href=\"#new-clienturl-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Client(url, [options])</code>\n</h3>\n<p>Creates a new client object where:</p>\n<ul>\n<li>\n<code>url</code> - the WebSocket address to connect to (e.g. <code>'wss://localhost:8000'</code>).</li>\n<li>\n<code>option</code> - optional configuration object where:\n<ul>\n<li>\n<code>ws</code> - available only when the client is used in node.js and passed as-is to the\n<a href=\"https://www.npmjs.com/package/ws\" rel=\"nofollow\"><strong>ws</strong> module</a>.</li>\n<li>\n<code>timeout</code> - server response timeout in milliseconds. Defaults to <code>false</code> (no timeout).</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"clientonerror\" class=\"anchor\" href=\"#clientonerror\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.onError</code>\n</h3>\n<p>A property used to set an error handler with the signature <code>function(err)</code>. Invoked whenever an\nerror happens that cannot be associated with a pending request.</p>\n<h3>\n<a id=\"clientonconnect\" class=\"anchor\" href=\"#clientonconnect\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.onConnect</code>\n</h3>\n<p>A property used to set a handler for connection events (initial connection and subsequent\nreconnections) with the signature <code>function()</code>.</p>\n<h3>\n<a id=\"clientondisconnect\" class=\"anchor\" href=\"#clientondisconnect\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.onDisconnect</code>\n</h3>\n<p>A property used to set a handler for disconnection events with the signature <code>function(willReconnect, log)</code>\nwhere:</p>\n<ul>\n<li>\n<code>willReconnect</code> - a boolean indicating if the client will automatically attempt to reconnect.</li>\n<li>\n<code>log</code> - an object with the following optional keys:\n<ul>\n<li>\n<code>code</code> - the <a href=\"https://tools.ietf.org/html/rfc6455#section-7.4.1\" rel=\"nofollow\">RFC6455</a> status code.</li>\n<li>\n<code>explanation</code> - the <a href=\"https://tools.ietf.org/html/rfc6455#section-7.4.1\" rel=\"nofollow\">RFC6455</a> explanation for the\n<code>code</code>.</li>\n<li>\n<code>reason</code> - a human-readable text explaining the reason for closing.</li>\n<li>\n<code>wasClean</code> - if <code>false</code>, the socket was closed abnormally.</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"clientonheartbeattimeout\" class=\"anchor\" href=\"#clientonheartbeattimeout\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.onHeartbeatTimeout</code>\n</h3>\n<p>A property used to set a handler for heartbeat timeout events with the signature <code>function(willReconnect)</code>\nwhere:</p>\n<ul>\n<li>\n<code>willReconnect</code> - a boolean indicating if the client will automatically attempt to reconnect.</li>\n</ul>\n<p>Upon heartbeat timeout, the client will disconnect the websocket. However, the <code>client.onDisconnect()</code> property will only be called (if set) once the server has completed the closing handshake. Users may use this property to be notified immediately and take action (e.g. display a message in the browser).</p>\n<h3>\n<a id=\"clientonupdate\" class=\"anchor\" href=\"#clientonupdate\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.onUpdate</code>\n</h3>\n<p>A property used to set a custom message handler with the signature <code>function(message)</code>. Invoked whenever\nthe server calls <code>server.broadcast()</code> or <code>socket.send()</code>.</p>\n<h3>\n<a id=\"await-clientconnectoptions\" class=\"anchor\" href=\"#await-clientconnectoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await client.connect([options])</code>\n</h3>\n<p>Connects the client to the server where:</p>\n<ul>\n<li>\n<code>options</code> - an optional configuration object with the following options:\n<ul>\n<li>\n<code>auth</code> - sets the credentials used to authenticate. when the server is configured for\n<code>'token'</code> type authentication, the value is the token response received from the\nauthentication endpoint (called manually by the application). When the server is\nconfigured for <code>'direct'</code> type authentication, the value is the credentials expected\nby the server for the specified authentication strategy used which typically means an\nobject with headers (e.g. <code>{ headers: { authorization: 'Basic am9objpzZWNyZXQ=' } }</code>).</li>\n<li>\n<code>reconnect</code> - a boolean that indicates whether the client should try to reconnect. Defaults to <code>true</code>.</li>\n<li>\n<code>delay</code> - time in milliseconds to wait between each reconnection attempt. The delay time\nis cumulative, meaning that if the value is set to <code>1000</code> (1 second), the first wait will\nbe 1 seconds, then 2 seconds, 3 seconds, until the <code>maxDelay</code> value is reached and then\n<code>maxDelay</code> is used.</li>\n<li>\n<code>maxDelay</code> - the maximum delay time in milliseconds between reconnections.</li>\n<li>\n<code>retries</code> - number of reconnection attempts. Defaults to <code>Infinity</code> (unlimited).</li>\n<li>\n<code>timeout</code> - socket connection timeout in milliseconds. Defaults to the WebSocket\nimplementation timeout default.</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"await-clientdisconnect\" class=\"anchor\" href=\"#await-clientdisconnect\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await client.disconnect()</code>\n</h3>\n<p>Disconnects the client from the server and stops future reconnects.</p>\n<h3>\n<a id=\"clientid\" class=\"anchor\" href=\"#clientid\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.id</code>\n</h3>\n<p>The unique socket identifier assigned by the server. The value is set after the connection is\nestablished.</p>\n<h3>\n<a id=\"await-clientrequestoptions\" class=\"anchor\" href=\"#await-clientrequestoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await client.request(options)</code>\n</h3>\n<p>Sends an endpoint request to the server where:</p>\n<ul>\n<li>\n<code>options</code> - value can be one of:\n<ul>\n<li>a string with the requested endpoint path or route id (defaults to a GET method).</li>\n<li>an object with the following keys:\n<ul>\n<li>\n<code>path</code> - the requested endpoint path or route id.</li>\n<li>\n<code>method</code> - the requested HTTP method (can also be any method string supported by the\nserver). Defaults to <code>'GET'</code>.</li>\n<li>\n<code>headers</code> - an object where each key is a request header and the value the header\ncontent. Cannot include an Authorization header. Defaults to no headers.</li>\n<li>\n<code>payload</code> - the request payload sent to the server.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Rejects with <code>Error</code> if the request failed.</p>\n<p>Resolves with object containing:</p>\n<ul>\n<li>\n<code>payload</code> - the server response object.</li>\n<li>\n<code>statusCode</code> - the HTTP response status code.</li>\n<li>\n<code>headers</code> - an object containing the HTTP response headers returned by the server (based on\nthe server configuration).</li>\n</ul>\n<h3>\n<a id=\"await-clientmessagemessage\" class=\"anchor\" href=\"#await-clientmessagemessage\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await client.message(message)</code>\n</h3>\n<p>Sends a custom message to the server which is received by the server <code>onMessage</code> handler where:</p>\n<ul>\n<li>\n<code>message</code> - the message sent to the server. Can be any type which can be safely converted to\nstring using <code>JSON.stringify()</code>.</li>\n</ul>\n<h3>\n<a id=\"await-clientsubscribepath-handler\" class=\"anchor\" href=\"#await-clientsubscribepath-handler\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await client.subscribe(path, handler)</code>\n</h3>\n<p>Subscribes to a server subscription where:</p>\n<ul>\n<li>\n<code>path</code> - the requested subscription path. Paths are just like HTTP request paths (e.g.\n<code>'/item/5'</code> or <code>'/updates'</code> based on the paths supported by the server).</li>\n<li>\n<code>handler</code> - the function used to receive subscription updates using the\nsignature <code>function(message, flags)</code> where:\n<ul>\n<li>\n<code>message</code> - the subscription update sent by the server.</li>\n<li>\n<code>flags</code> - an object with the following optional flags:\n<ul>\n<li>\n<code>revoked</code> - set to <code>true</code> when the message is the last update from the server due to\na subscription revocation.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Note that when <code>subscribe()</code> is called before the client connects, any server errors will be\nthrow by <code>connect()</code>.</p>\n<h3>\n<a id=\"await-clientunsubscribepath-handler\" class=\"anchor\" href=\"#await-clientunsubscribepath-handler\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await client.unsubscribe(path, handler)</code>\n</h3>\n<p>Cancels a subscription where:</p>\n<ul>\n<li>\n<code>path</code> - the subscription path used to subscribe.</li>\n<li>\n<code>handler</code> - remove a specific handler from a subscription or <code>null</code> to remove all handlers for\nthe given path.</li>\n</ul>\n<h3>\n<a id=\"clientsubscriptions\" class=\"anchor\" href=\"#clientsubscriptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.subscriptions()</code>\n</h3>\n<p>Returns an array of the current subscription paths.</p>\n<h3>\n<a id=\"clientoverridereconnectionauthauth\" class=\"anchor\" href=\"#clientoverridereconnectionauthauth\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>client.overrideReconnectionAuth(auth)</code>\n</h3>\n<p>Sets or overrides the authentication credentials used to reconnect the client on disconnect when\nthe client is configured to automatically reconnect, where:</p>\n<ul>\n<li>\n<code>auth</code> - same as the <code>auth</code> option passed to <a href=\"#await-clientconnectoptions\"><code>client.connect()</code></a>.</li>\n</ul>\n<p>Returns <code>true</code> if reconnection is enabled, otherwise <code>false</code> (in which case the method was ignored).</p>\n<p>Note: this will not update the credentials on the server -\nuse <a href=\"#await-clientreauthenticateauth\"><code>client.reauthenticate()</code></a>.</p>\n<h3>\n<a id=\"await-clientreauthenticateauth\" class=\"anchor\" href=\"#await-clientreauthenticateauth\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>await client.reauthenticate(auth)</code>\n</h3>\n<p>Will issue the <code>reauth</code> message to the server with updated <code>auth</code> details and also\n<a href=\"#clientoverridereconnectionauthauth\">override the reconnection information</a>, if reconnection is enabled.\nThe server will respond with an error and drop the connection in case the new <code>auth</code> credentials are\ninvalid.</p>\n<p>Rejects with <code>Error</code> if the request failed.</p>\n<p>Resolves with <code>true</code> if the request succeeds.</p>\n<p>Note: when authentication has a limited lifetime, <code>reauthenticate()</code> should be called early enough to avoid\nthe server dropping the connection.</p>\n<h3>\n<a id=\"errors\" class=\"anchor\" href=\"#errors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Errors</h3>\n<p>When a client method returns or throws an error, the error is decorated with:</p>\n<ul>\n<li>\n<code>type</code> - a string indicating the source of the error where:\n<ul>\n<li>\n<code>'disconnect'</code> - the socket disconnected before the request completed.</li>\n<li>\n<code>'protocol'</code> - the client received an invalid message from the server violating the protocol.</li>\n<li>\n<code>'server'</code> - an error response sent from the server.</li>\n<li>\n<code>'timeout'</code> - a timeout event.</li>\n<li>\n<code>'user'</code> - user error (e.g. incorrect use of the API).</li>\n<li>\n<code>'ws'</code> - a socket error.</li>\n</ul>\n</li>\n</ul>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"}},"topo":{"name":"topo","versions":[{"name":"4.0.1","branch":"master","license":"BSD","node":" 12, 10"},{"name":"3.1.6","branch":"v3","license":"BSD","node":" 12, 10, 8"},{"name":"2.1.0","branch":"v2-commercial","license":"Commercial","node":" 10, 8, 6"}],"versionsArray":["4.0.1","2.1.0","3.1.6"],"4.0.1":{"menu":"- [Methods](#methods)\n  - [`new Sorter()`](#new-sorter)\n  - [`sorter.add()`](#sorteraddnodes-options)\n  - [`sorter.nodes`](#sorternodes)\n  - [`sorter.merge()`](#sortermergeothers)","api":"<h2>\n<a id=\"methods\" class=\"anchor\" href=\"#methods\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Methods</h2>\n<h3>\n<a id=\"new-sorter\" class=\"anchor\" href=\"#new-sorter\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Sorter()</code>\n</h3>\n<p>Creates a new <code>Sorter</code> object.</p>\n<h3>\n<a id=\"sorteraddnodes-options\" class=\"anchor\" href=\"#sorteraddnodes-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>sorter.add(nodes, [options])</code>\n</h3>\n<p>Specifies an additional node or list of nodes to be topologically sorted where:</p>\n<ul>\n<li>\n<code>nodes</code> - a mixed value or array of mixed values to be added as nodes to the topologically sorted list.</li>\n<li>\n<code>options</code> - optional sorting information about the <code>nodes</code>:\n<ul>\n<li>\n<code>group</code> - a string naming the group to which <code>nodes</code> should be assigned.  The group name <code>'?'</code> is reserved.</li>\n<li>\n<code>before</code> - a string or array of strings specifying the groups that <code>nodes</code> must precede in the topological sort.</li>\n<li>\n<code>after</code> - a string or array of strings specifying the groups that <code>nodes</code> must succeed in the topological sort.</li>\n<li>\n<code>sort</code> - a numerical value used to sort items when performing a <code>sorter.merge()</code>.</li>\n</ul>\n</li>\n</ul>\n<p>Returns an array of the topologically sorted nodes.</p>\n<h3>\n<a id=\"sorternodes\" class=\"anchor\" href=\"#sorternodes\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>sorter.nodes</code>\n</h3>\n<p>An array of the topologically sorted nodes.  This list is renewed upon each call to <a href=\"#topoaddnodes-options\"><code>sorter.add()</code></a>.</p>\n<h3>\n<a id=\"sortermergeothers\" class=\"anchor\" href=\"#sortermergeothers\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>sorter.merge(others)</code>\n</h3>\n<p>Merges another <code>Sorter</code> object into the current object where:</p>\n<ul>\n<li>\n<code>others</code> - the other object or array of objects to be merged into the current one. <code>null</code>\nvalues are ignored.</li>\n</ul>\n<p>Returns an array of the topologically sorted nodes. Will throw if a dependency error is found as a result of the\ncombined items.</p>\n<p>If the order in which items have been added to each list matters, use the <code>sort</code> option in <code>sorter.add()</code> with an incrementing\nvalue providing an absolute sort order among all items added to either object.</p>\n","intro":"## Introduction\n\nThe `Topo` object is the container for topologically sorting a list of nodes with non-circular interdependencies.\n","example":"## Example\n\n```js\nconst Topo = require('@hapi/topo');\n\nconst morning = new Topo.Sorter();\n\nmorning.add('Nap', { after: ['breakfast', 'prep'] });\n\nmorning.add([\n    'Make toast',\n    'Pour juice'\n], { before: 'breakfast', group: 'prep' });\n\nmorning.add('Eat breakfast', { group: 'breakfast' });\n\nmorning.nodes;        // ['Make toast', 'Pour juice', 'Eat breakfast', 'Nap']\n```\n","usage":"","faq":"","license":"BSD"},"2.1.0":{"menu":"- [`new Topo()`](#new-topo)\n- [`topo.add()`](#topoaddnodes-options)\n- [`topo.nodes`](#toponodes)\n- [`topo.merge()`](#topomergeothers)","api":"<p>The <code>Topo</code> object is the container for topologically sorting a list of nodes with non-circular interdependencies.</p>\n<h3>\n<a id=\"new-topo\" class=\"anchor\" href=\"#new-topo\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Topo()</code>\n</h3>\n<p>Creates a new <code>Topo</code> object.</p>\n<h3>\n<a id=\"topoaddnodes-options\" class=\"anchor\" href=\"#topoaddnodes-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>topo.add(nodes, [options])</code>\n</h3>\n<p>Specifies an additional node or list of nodes to be topologically sorted where:</p>\n<ul>\n<li>\n<code>nodes</code> - a mixed value or array of mixed values to be added as nodes to the topologically sorted list.</li>\n<li>\n<code>options</code> - optional sorting information about the <code>nodes</code>:\n<ul>\n<li>\n<code>group</code> - a string naming the group to which <code>nodes</code> should be assigned.  The group name <code>'?'</code> is reserved.</li>\n<li>\n<code>before</code> - a string or array of strings specifying the groups that <code>nodes</code> must precede in the topological sort.</li>\n<li>\n<code>after</code> - a string or array of strings specifying the groups that <code>nodes</code> must succeed in the topological sort.</li>\n<li>\n<code>sort</code> - a numerical value used to sort items when performing a <code>topo.merge()</code>.</li>\n</ul>\n</li>\n</ul>\n<p>Returns an array of the topologically sorted nodes.</p>\n<h3>\n<a id=\"toponodes\" class=\"anchor\" href=\"#toponodes\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>topo.nodes</code>\n</h3>\n<p>An array of the topologically sorted nodes.  This list is renewed upon each call to <a href=\"#topoaddnodes-options\"><code>topo.add()</code></a>.</p>\n<h3>\n<a id=\"topomergeothers\" class=\"anchor\" href=\"#topomergeothers\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>topo.merge(others)</code>\n</h3>\n<p>Merges another <code>Topo</code> object into the current object where:</p>\n<ul>\n<li>\n<code>others</code> - the other object or array of objects to be merged into the current one. <code>null</code>\nvalues are ignored.</li>\n</ul>\n<p>Returns an array of the topologically sorted nodes. Will throw if a dependency error is found as a result of the\ncombined items.</p>\n<p>If the order in which items have been added to each list matters, use the <code>sort</code> option in <code>topo.add()</code> with an incrementing\nvalue providing an absolute sort order among all items added to either object.</p>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"},"3.1.6":{"menu":"- [topo](#topo)\n  - [`new Topo()`](#new-topo)\n  - [`topo.add()`](#topoaddnodes-options)\n  - [`topo.nodes`](#toponodes)\n  - [`topo.merge()`](#topomergeothers)","api":"<h2>\n<a id=\"topo\" class=\"anchor\" href=\"#topo\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>topo</h2>\n<ul>\n<li><a href=\"#new-topo\"><code>new Topo()</code></a></li>\n<li><a href=\"#topoaddnodes-options\"><code>topo.add(nodes, [options])</code></a></li>\n<li><a href=\"#toponodes\"><code>topo.nodes</code></a></li>\n<li><a href=\"#topomergeothers\"><code>topo.merge(others)</code></a></li>\n</ul>\n<p>The <code>Topo</code> object is the container for topologically sorting a list of nodes with non-circular interdependencies.</p>\n<h3>\n<a id=\"new-topo\" class=\"anchor\" href=\"#new-topo\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Topo()</code>\n</h3>\n<p>Creates a new <code>Topo</code> object.</p>\n<h3>\n<a id=\"topoaddnodes-options\" class=\"anchor\" href=\"#topoaddnodes-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>topo.add(nodes, [options])</code>\n</h3>\n<p>Specifies an additional node or list of nodes to be topologically sorted where:</p>\n<ul>\n<li>\n<code>nodes</code> - a mixed value or array of mixed values to be added as nodes to the topologically sorted list.</li>\n<li>\n<code>options</code> - optional sorting information about the <code>nodes</code>:\n<ul>\n<li>\n<code>group</code> - a string naming the group to which <code>nodes</code> should be assigned.  The group name <code>'?'</code> is reserved.</li>\n<li>\n<code>before</code> - a string or array of strings specifying the groups that <code>nodes</code> must precede in the topological sort.</li>\n<li>\n<code>after</code> - a string or array of strings specifying the groups that <code>nodes</code> must succeed in the topological sort.</li>\n<li>\n<code>sort</code> - a numerical value used to sort items when performing a <code>topo.merge()</code>.</li>\n</ul>\n</li>\n</ul>\n<p>Returns an array of the topologically sorted nodes.</p>\n<h3>\n<a id=\"toponodes\" class=\"anchor\" href=\"#toponodes\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>topo.nodes</code>\n</h3>\n<p>An array of the topologically sorted nodes.  This list is renewed upon each call to <a href=\"#topoaddnodes-options\"><code>topo.add()</code></a>.</p>\n<h3>\n<a id=\"topomergeothers\" class=\"anchor\" href=\"#topomergeothers\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>topo.merge(others)</code>\n</h3>\n<p>Merges another <code>Topo</code> object into the current object where:</p>\n<ul>\n<li>\n<code>others</code> - the other object or array of objects to be merged into the current one. <code>null</code>\nvalues are ignored.</li>\n</ul>\n<p>Returns an array of the topologically sorted nodes. Will throw if a dependency error is found as a result of the\ncombined items.</p>\n<p>If the order in which items have been added to each list matters, use the <code>sort</code> option in <code>topo.add()</code> with an incrementing\nvalue providing an absolute sort order among all items added to either object.</p>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"slogan":"Topological sorting with grouping support.","forks":21,"stars":95,"date":"2019-10-11T21:00:58Z","updated":"Fri Oct 11 2019","link":"https://github.com/hapijs/topo"},"vise":{"name":"vise","versions":[{"name":"3.1.1","branch":"master","license":"BSD","node":" 12, 10, 8"},{"name":"2.1.0","branch":"v2-commercial","license":"Commercial","node":" 10, 8, 6"}],"versionsArray":["3.1.1","2.1.0"],"3.1.1":{"menu":"- [`new Mimos()`](#new-mimosoptions)\n- [`mimos.path()`](#mimospathpath)\n- [`mimos.type()`](#mimostypetype)\n- [Override Example](#override-example)","api":"<h3>\n<a id=\"new-mimosoptions\" class=\"anchor\" href=\"#new-mimosoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Mimos([options])</code>\n</h3>\n<p>Creates a new Mimos object where:</p>\n<ul>\n<li>\n<code>[options]</code> - an option object the following keys\n<ul>\n<li>\n<code>[override]</code> - an object hash that is merged into the built in mime information specified <a href=\"https://github.com/jshttp/mime-db\">here</a>. Each key value pair represents a single mime object. Each override value should follow this schema:\n<ul>\n<li>\n<code>key</code> - the key is the lower-cased correct mime-type. (Ex. \"application/javascript\").</li>\n<li>\n<code>value</code> - the value should an object following the specifications outlined <a href=\"https://github.com/jshttp/mime-db#data-structure\">here</a>. Additional values include:\n<ul>\n<li>\n<code>type</code> - specify the <code>type</code> value of result objects, defaults to <code>key</code>. See the example below for more clarification.</li>\n<li>\n<code>predicate</code> - method with signature <code>function(mime)</code> when this mime type is found in the database, this function will run. This allows you make customizations to <code>mime</code> based on developer criteria.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"mimospathpath\" class=\"anchor\" href=\"#mimospathpath\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>mimos.path(path)</code>\n</h3>\n<p>Returns mime object where:</p>\n<ul>\n<li>\n<code>path</code> path to file including the file extension. Uses the <code>extension</code> values of the mime objects for lookup.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">mimos</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Mimos</span>();\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">mime</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">mimos</span>.<span class=\"pl-en\">path</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/static/public/app.js<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> mime</span>\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  charset: 'UTF-8',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: [ 'js' ],</span>\n<span class=\"pl-c\">  type: 'application/javascript'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span></pre></div>\n<h3>\n<a id=\"mimostypetype\" class=\"anchor\" href=\"#mimostypetype\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>mimos.type(type)</code>\n</h3>\n<p>Returns mime object where:</p>\n<ul>\n<li>\n<code>type</code> the content-type to find mime information about. Uses the <code>type</code> values of the mime objects for lookup.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">mimos</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Mimos</span>();\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">mime</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">mimos</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>text/plain<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> mime</span>\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['txt', 'text', 'conf', 'def', 'list', 'log', 'in', 'ini'],</span>\n<span class=\"pl-c\">  type: 'text/plain'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span></pre></div>\n<h3>\n<a id=\"override-example\" class=\"anchor\" href=\"#override-example\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Override Example</h3>\n<p>In certain situations, it can be helpful to override the built in mime type information. The optional argument to the Mimos constructor is used to override and add mime information. Below is an example to help understand how this works.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">options</span> <span class=\"pl-k\">=</span> {\n    override<span class=\"pl-k\">:</span> {\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span>node/module<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n            source<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>iana<span class=\"pl-pds\">'</span></span>,\n            compressible<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>,\n            extensions<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>node<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>module<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>npm<span class=\"pl-pds\">'</span></span>],\n            type<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>node/module<span class=\"pl-pds\">'</span></span>\n        },\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span>application/javascript<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n            source<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>iana<span class=\"pl-pds\">'</span></span>,\n            charset<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>UTF-8<span class=\"pl-pds\">'</span></span>,\n            compressible<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>,\n            extensions<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>js<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>javascript<span class=\"pl-pds\">'</span></span>],\n            type<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>text/javascript<span class=\"pl-pds\">'</span></span>\n        },\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span>text/html<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n            <span class=\"pl-en\">predicate</span><span class=\"pl-k\">:</span> <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">mime</span>) {\n                <span class=\"pl-k\">if</span> (someCondition) {\n                    <span class=\"pl-smi\">mime</span>.<span class=\"pl-smi\">foo</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>;\n                }\n                <span class=\"pl-k\">else</span> {\n                    <span class=\"pl-smi\">mime</span>.<span class=\"pl-smi\">foo</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>bar<span class=\"pl-pds\">'</span></span>;\n                }\n                <span class=\"pl-k\">return</span> mime;\n            }\n        }\n    }\n}\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">mimos</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Mimos</span>(options);\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">dir</span>(<span class=\"pl-smi\">mimos</span>.<span class=\"pl-en\">path</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>./node_modules/mimos.module<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['node', 'module', 'npm'],</span>\n<span class=\"pl-c\">  type: 'node/module'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">dir</span>(<span class=\"pl-smi\">mimos</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>application/javascript<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">Note: even though we asked for type 'application/javascript', the type value is 'text/javascript' because of the override. Always use the proper content-type for retrieval.</span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  charset: 'UTF-8',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['js', 'javascript'],</span>\n<span class=\"pl-c\">  type: 'text/javascript'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">dir</span>(<span class=\"pl-smi\">mimos</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>text/html<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">someCondition is true:</span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['html','htm'],</span>\n<span class=\"pl-c\">  type: 'test/html',</span>\n<span class=\"pl-c\">  foo: 'test'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"></span>\n<span class=\"pl-c\">someCondition is false:</span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['html','htm'],</span>\n<span class=\"pl-c\">  type: 'test/html',</span>\n<span class=\"pl-c\">  foo: 'bar'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span></pre></div>\n","intro":"","example":"","usage":"","faq":"","license":"BSD"},"2.1.0":{"menu":"- [`new Mimos()`](#new-mimosoptions)\n- [`mimos.path()`](#mimospathpath)\n- [`mimos.type()`](#mimostypetype)\n- [Override Example](#override-example)","api":"<h3>\n<a id=\"new-mimosoptions\" class=\"anchor\" href=\"#new-mimosoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>new Mimos([options])</code>\n</h3>\n<p>Creates a new Mimos object where:</p>\n<ul>\n<li>\n<code>[options]</code> - an option object the following keys\n<ul>\n<li>\n<code>[override]</code> - an object hash that is merged into the built in mime information specified <a href=\"https://github.com/jshttp/mime-db\">here</a>. Each key value pair represents a single mime object. Each override value should follow this schema:\n<ul>\n<li>\n<code>key</code> - the key is the lower-cased correct mime-type. (Ex. \"application/javascript\").</li>\n<li>\n<code>value</code> - the value should an object following the specifications outlined <a href=\"https://github.com/jshttp/mime-db#data-structure\">here</a>. Additional values include:\n<ul>\n<li>\n<code>type</code> - specify the <code>type</code> value of result objects, defaults to <code>key</code>. See the example below for more clarification.</li>\n<li>\n<code>predicate</code> - method with signature <code>function(mime)</code> when this mime type is found in the database, this function will run. This allows you make customizations to <code>mime</code> based on developer criteria.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"mimospathpath\" class=\"anchor\" href=\"#mimospathpath\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>mimos.path(path)</code>\n</h3>\n<p>Returns mime object where:</p>\n<ul>\n<li>\n<code>path</code> path to file including the file extension. Uses the <code>extension</code> values of the mime objects for lookup.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">mimos</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Mimos</span>();\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">mime</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">mimos</span>.<span class=\"pl-en\">path</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>/static/public/app.js<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> mime</span>\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  charset: 'UTF-8',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: [ 'js' ],</span>\n<span class=\"pl-c\">  type: 'application/javascript'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span></pre></div>\n<h3>\n<a id=\"mimostypetype\" class=\"anchor\" href=\"#mimostypetype\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>mimos.type(type)</code>\n</h3>\n<p>Returns mime object where:</p>\n<ul>\n<li>\n<code>type</code> the content-type to find mime information about. Uses the <code>type</code> values of the mime objects for lookup.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">mimos</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Mimos</span>();\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">mime</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">mimos</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>text/plain<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> mime</span>\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['txt', 'text', 'conf', 'def', 'list', 'log', 'in', 'ini'],</span>\n<span class=\"pl-c\">  type: 'text/plain'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span></pre></div>\n<h3>\n<a id=\"override-example\" class=\"anchor\" href=\"#override-example\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Override Example</h3>\n<p>In certain situations, it can be helpful to override the built in mime type information. The optional argument to the Mimos constructor is used to override and add mime information. Below is an example to help understand how this works.</p>\n<div class=\"highlight highlight-source-js\"><pre>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">options</span> <span class=\"pl-k\">=</span> {\n    override<span class=\"pl-k\">:</span> {\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span>node/module<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n            source<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>iana<span class=\"pl-pds\">'</span></span>,\n            compressible<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>,\n            extensions<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>node<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>module<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>npm<span class=\"pl-pds\">'</span></span>],\n            type<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>node/module<span class=\"pl-pds\">'</span></span>\n        },\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span>application/javascript<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n            source<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>iana<span class=\"pl-pds\">'</span></span>,\n            charset<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>UTF-8<span class=\"pl-pds\">'</span></span>,\n            compressible<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>,\n            extensions<span class=\"pl-k\">:</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>js<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>javascript<span class=\"pl-pds\">'</span></span>],\n            type<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>text/javascript<span class=\"pl-pds\">'</span></span>\n        },\n        <span class=\"pl-s\"><span class=\"pl-pds\">'</span>text/html<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> {\n            <span class=\"pl-en\">predicate</span><span class=\"pl-k\">:</span> <span class=\"pl-k\">function</span>(<span class=\"pl-smi\">mime</span>) {\n                <span class=\"pl-k\">if</span> (someCondition) {\n                    <span class=\"pl-smi\">mime</span>.<span class=\"pl-smi\">foo</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>;\n                }\n                <span class=\"pl-k\">else</span> {\n                    <span class=\"pl-smi\">mime</span>.<span class=\"pl-smi\">foo</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>bar<span class=\"pl-pds\">'</span></span>;\n                }\n                <span class=\"pl-k\">return</span> mime;\n            }\n        }\n    }\n}\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">mimos</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Mimos</span>(options);\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">dir</span>(<span class=\"pl-smi\">mimos</span>.<span class=\"pl-en\">path</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>./node_modules/mimos.module<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['node', 'module', 'npm'],</span>\n<span class=\"pl-c\">  type: 'node/module'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">dir</span>(<span class=\"pl-smi\">mimos</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>application/javascript<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">Note: even though we asked for type 'application/javascript', the type value is 'text/javascript' because of the override. Always use the proper content-type for retrieval.</span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  charset: 'UTF-8',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['js', 'javascript'],</span>\n<span class=\"pl-c\">  type: 'text/javascript'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span>\n<span class=\"pl-en\">console</span>.<span class=\"pl-c1\">dir</span>(<span class=\"pl-smi\">mimos</span>.<span class=\"pl-c1\">type</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>text/html<span class=\"pl-pds\">'</span></span>));\n<span class=\"pl-c\"><span class=\"pl-c\">/*</span></span>\n<span class=\"pl-c\">someCondition is true:</span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['html','htm'],</span>\n<span class=\"pl-c\">  type: 'test/html',</span>\n<span class=\"pl-c\">  foo: 'test'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"></span>\n<span class=\"pl-c\">someCondition is false:</span>\n<span class=\"pl-c\">{</span>\n<span class=\"pl-c\">  source: 'iana',</span>\n<span class=\"pl-c\">  compressible: true,</span>\n<span class=\"pl-c\">  extensions: ['html','htm'],</span>\n<span class=\"pl-c\">  type: 'test/html',</span>\n<span class=\"pl-c\">  foo: 'bar'</span>\n<span class=\"pl-c\">}</span>\n<span class=\"pl-c\"><span class=\"pl-c\">*/</span></span></pre></div>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"}},"vision":{"name":"vision","versions":[{"name":"5.5.4","branch":"master","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["5.5.4"],"5.5.4":{"menu":"  - [EJS](#ejs)\n  - [Handlebars](#handlebars)\n  - [Pug](#pug)\n  - [Marko](#marko)\n  - [Mustache](#mustache)\n  - [Nunjucks](#nunjucks)\n  - [Twig](#twig)\n- [Registration](#registration)\n- [Views Manager](#views-manager)\n- [`options`](#options)\n- [`manager.registerHelper()`](#managerregisterhelpername-helper)\n- [`manager.render()`](#managerrendertemplate-context-options-callback)\n- [`manager.getEngine()`](#managergetengineext)\n- [`manager.clearCache()`](#managerclearcachetemplate-engine)\n- [Server](#server)\n  - [`server.views()`](#serverviewsoptions)\n  - [`server.render()`](#serverrendertemplate-context-options-callback)\n  - [`server.getViewsManager()`](#servergetviewsmanager)\n- [Requests](#requests)\n  - [`request.render()`](#requestrendertemplate-context-options-callback)\n  - [`request.getViewsManager()`](#requestgetviewsmanager)\n- [The `view` [handler](https://github.com/hapijs/hapi/blob/master/API.md#serverdecoratetype-property-method-options)](#the-view-handlerhttpsgithubcomhapijshapiblobmasterapimd%23serverdecoratetype-property-method-options)\n- [Response Toolkit Interface](#response-toolkit-interface)\n  - [`h.view()`](#hviewtemplate-context-options)\n  - [`h.getViewsManager()`](#hgetviewsmanager)\n    - [Ex template used in these docs](#ex-template-used-in-these-docs)","api":"<h3>\n<a id=\"ejs\" class=\"anchor\" href=\"#ejs\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>EJS</h3>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Ejs</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>ejs<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Vision</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/vision<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hapi</span>.<span class=\"pl-en\">Server</span>({ port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3000</span> });\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">rootHandler</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">h</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">return</span> <span class=\"pl-smi\">h</span>.<span class=\"pl-en\">view</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>index<span class=\"pl-pds\">'</span></span>, {\n        title<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>examples/ejs/templates/basic | Hapi <span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">request</span>.<span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">version</span>,\n        message<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hello Ejs!<span class=\"pl-pds\">'</span></span>\n    });\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">provision</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(Vision);\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">views</span>({\n        engines<span class=\"pl-k\">:</span> { ejs<span class=\"pl-k\">:</span> Ejs },\n        relativeTo<span class=\"pl-k\">:</span> <span class=\"pl-c1\">__dirname</span>,\n        path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>examples/ejs/templates/basic<span class=\"pl-pds\">'</span></span>\n    });\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({ method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>, path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span>, handler<span class=\"pl-k\">:</span> rootHandler });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Server running at:<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">info</span>.<span class=\"pl-smi\">uri</span>);\n};\n\n<span class=\"pl-en\">provision</span>();</pre></div>\n<h3>\n<a id=\"handlebars\" class=\"anchor\" href=\"#handlebars\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Handlebars</h3>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Handlebars</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>handlebars<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Vision</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/vision<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hapi</span>.<span class=\"pl-en\">Server</span>({ port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3000</span> });\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">rootHandler</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">h</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">return</span> <span class=\"pl-smi\">h</span>.<span class=\"pl-en\">view</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>index<span class=\"pl-pds\">'</span></span>, {\n        title<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>examples/handlebars/templates/basic | hapi <span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">request</span>.<span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">version</span>,\n        message<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hello Handlebars!<span class=\"pl-pds\">'</span></span>\n    });\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">provision</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(Vision);\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">views</span>({\n        engines<span class=\"pl-k\">:</span> { html<span class=\"pl-k\">:</span> Handlebars },\n        relativeTo<span class=\"pl-k\">:</span> <span class=\"pl-c1\">__dirname</span>,\n        path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>examples/handlebars/templates/basic<span class=\"pl-pds\">'</span></span>\n    });\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({ method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>, path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span>, handler<span class=\"pl-k\">:</span> rootHandler });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Server running at:<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">info</span>.<span class=\"pl-smi\">uri</span>);\n};\n\n<span class=\"pl-en\">provision</span>();</pre></div>\n<h3>\n<a id=\"pug\" class=\"anchor\" href=\"#pug\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Pug</h3>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Path</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>path<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Pug</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>pug<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Vision</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/vision<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hapi</span>.<span class=\"pl-en\">Server</span>({ port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3000</span> });\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">rootHandler</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">h</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">return</span> <span class=\"pl-smi\">h</span>.<span class=\"pl-en\">view</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>index<span class=\"pl-pds\">'</span></span>, {\n        title<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>examples/pug/templates | Hapi <span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">request</span>.<span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">version</span>,\n        message<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hello Pug!<span class=\"pl-pds\">'</span></span>\n    });\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">provision</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(Vision);\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">views</span>({\n        engines<span class=\"pl-k\">:</span> { pug<span class=\"pl-k\">:</span> Pug },\n        relativeTo<span class=\"pl-k\">:</span> <span class=\"pl-c1\">__dirname</span>,\n        path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>examples/pug/templates<span class=\"pl-pds\">'</span></span>,\n        compileOptions<span class=\"pl-k\">:</span> {\n            <span class=\"pl-c\"><span class=\"pl-c\">//</span> By default Pug uses relative paths (e.g. ../root.pug), when using absolute paths (e.g. include /root.pug), basedir is prepended.</span>\n            <span class=\"pl-c\"><span class=\"pl-c\">//</span> https://pugjs.org/language/includes.html</span>\n            basedir<span class=\"pl-k\">:</span> <span class=\"pl-smi\">Path</span>.<span class=\"pl-c1\">join</span>(<span class=\"pl-c1\">__dirname</span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>examples/pug/templates<span class=\"pl-pds\">'</span></span>)\n        }\n    });\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({ method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>, path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span>, handler<span class=\"pl-k\">:</span> rootHandler });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Server running at:<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">info</span>.<span class=\"pl-smi\">uri</span>);\n};\n\n<span class=\"pl-en\">provision</span>();</pre></div>\n<h3>\n<a id=\"marko\" class=\"anchor\" href=\"#marko\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Marko</h3>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Marko</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>marko<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Vision</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/vision<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hapi</span>.<span class=\"pl-en\">Server</span>({ port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3000</span> });\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">rootHandler</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">h</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">return</span> <span class=\"pl-smi\">h</span>.<span class=\"pl-en\">view</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>index<span class=\"pl-pds\">'</span></span>, {\n        title<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>examples/marko/templates | Hapi <span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">request</span>.<span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">version</span>,\n        message<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hello Marko!<span class=\"pl-pds\">'</span></span>\n    });\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">provision</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(Vision);\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">views</span>({\n        engines<span class=\"pl-k\">:</span> {\n            marko<span class=\"pl-k\">:</span> {\n                <span class=\"pl-en\">compile</span><span class=\"pl-k\">:</span> (<span class=\"pl-smi\">src</span>, <span class=\"pl-smi\">options</span>) <span class=\"pl-k\">=&gt;</span> {\n\n                    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">opts</span> <span class=\"pl-k\">=</span> { preserveWhitespace<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>, writeToDisk<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> };\n\n                    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">template</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Marko</span>.<span class=\"pl-c1\">load</span>(<span class=\"pl-smi\">options</span>.<span class=\"pl-c1\">filename</span>, opts);\n\n                    <span class=\"pl-k\">return</span> (<span class=\"pl-smi\">context</span>) <span class=\"pl-k\">=&gt;</span> {\n\n                        <span class=\"pl-k\">return</span> <span class=\"pl-smi\">template</span>.<span class=\"pl-en\">renderToString</span>(context);\n                    };\n                }\n            }\n        },\n        relativeTo<span class=\"pl-k\">:</span> <span class=\"pl-c1\">__dirname</span>,\n        path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>examples/marko/templates<span class=\"pl-pds\">'</span></span>\n    });\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({ method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>, path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span>, handler<span class=\"pl-k\">:</span> rootHandler });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Server running at:<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">info</span>.<span class=\"pl-smi\">uri</span>);\n};\n\n<span class=\"pl-en\">provision</span>();</pre></div>\n<h3>\n<a id=\"mustache\" class=\"anchor\" href=\"#mustache\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Mustache</h3>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Mustache</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>mustache<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Vision</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/vision<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hapi</span>.<span class=\"pl-en\">Server</span>({ port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3000</span> });\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">rootHandler</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">h</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">return</span> <span class=\"pl-smi\">h</span>.<span class=\"pl-en\">view</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>index<span class=\"pl-pds\">'</span></span>, {\n        title<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>examples/mustache/templates/basic | Hapi <span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">request</span>.<span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">version</span>,\n        message<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hello Mustache!<span class=\"pl-pds\">'</span></span>\n    });\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">provision</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(Vision);\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">views</span>({\n        engines<span class=\"pl-k\">:</span> {\n            html<span class=\"pl-k\">:</span> {\n                <span class=\"pl-en\">compile</span><span class=\"pl-k\">:</span> (<span class=\"pl-smi\">template</span>) <span class=\"pl-k\">=&gt;</span> {\n\n                    <span class=\"pl-smi\">Mustache</span>.<span class=\"pl-c1\">parse</span>(template);\n\n                    <span class=\"pl-k\">return</span> (<span class=\"pl-smi\">context</span>) <span class=\"pl-k\">=&gt;</span> {\n\n                        <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Mustache</span>.<span class=\"pl-en\">render</span>(template, context);\n                    };\n                }\n            }\n        },\n        relativeTo<span class=\"pl-k\">:</span> <span class=\"pl-c1\">__dirname</span>,\n        path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>examples/mustache/templates/basic<span class=\"pl-pds\">'</span></span>\n    });\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({ method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>, path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span>, handler<span class=\"pl-k\">:</span> rootHandler });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Server running at:<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">info</span>.<span class=\"pl-smi\">uri</span>);\n};\n\n<span class=\"pl-en\">provision</span>();</pre></div>\n<h3>\n<a id=\"nunjucks\" class=\"anchor\" href=\"#nunjucks\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Nunjucks</h3>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Nunjucks</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>nunjucks<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Vision</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/vision<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hapi</span>.<span class=\"pl-en\">Server</span>({ port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3000</span> });\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">rootHandler</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">h</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">return</span> <span class=\"pl-smi\">h</span>.<span class=\"pl-en\">view</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>index<span class=\"pl-pds\">'</span></span>, {\n        title<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>examples/nunjucks/templates | Hapi <span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">request</span>.<span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">version</span>,\n        message<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hello Nunjucks!<span class=\"pl-pds\">'</span></span>\n    });\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">provision</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(Vision);\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">views</span>({\n        engines<span class=\"pl-k\">:</span> {\n            html<span class=\"pl-k\">:</span> {\n                <span class=\"pl-en\">compile</span><span class=\"pl-k\">:</span> (<span class=\"pl-smi\">src</span>, <span class=\"pl-smi\">options</span>) <span class=\"pl-k\">=&gt;</span> {\n\n                    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">template</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Nunjucks</span>.<span class=\"pl-c1\">compile</span>(src, <span class=\"pl-smi\">options</span>.<span class=\"pl-smi\">environment</span>);\n\n                    <span class=\"pl-k\">return</span> (<span class=\"pl-smi\">context</span>) <span class=\"pl-k\">=&gt;</span> {\n\n                        <span class=\"pl-k\">return</span> <span class=\"pl-smi\">template</span>.<span class=\"pl-en\">render</span>(context);\n                    };\n                },\n\n                <span class=\"pl-en\">prepare</span><span class=\"pl-k\">:</span> (<span class=\"pl-smi\">options</span>, <span class=\"pl-smi\">next</span>) <span class=\"pl-k\">=&gt;</span> {\n\n                    <span class=\"pl-smi\">options</span>.<span class=\"pl-smi\">compileOptions</span>.<span class=\"pl-smi\">environment</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Nunjucks</span>.<span class=\"pl-en\">configure</span>(<span class=\"pl-smi\">options</span>.<span class=\"pl-smi\">path</span>, { watch <span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> });\n\n                    <span class=\"pl-k\">return</span> <span class=\"pl-en\">next</span>();\n                }\n            }\n        },\n        relativeTo<span class=\"pl-k\">:</span> <span class=\"pl-c1\">__dirname</span>,\n        path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>examples/nunjucks/templates<span class=\"pl-pds\">'</span></span>\n    });\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({ method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>, path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span>, handler<span class=\"pl-k\">:</span> rootHandler });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Server running at:<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">info</span>.<span class=\"pl-smi\">uri</span>);\n};\n\n<span class=\"pl-en\">provision</span>();</pre></div>\n<h3>\n<a id=\"twig\" class=\"anchor\" href=\"#twig\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Twig</h3>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Twig</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>twig<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Vision</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/vision<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hapi</span>.<span class=\"pl-en\">Server</span>({ port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3000</span> });\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">rootHandler</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">h</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">return</span> <span class=\"pl-smi\">h</span>.<span class=\"pl-en\">view</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>index<span class=\"pl-pds\">'</span></span>, {\n        title<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>examples/twig/templates | Hapi <span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">request</span>.<span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">version</span>,\n        message<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hello Twig!<span class=\"pl-pds\">'</span></span>\n    });\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">provision</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(Vision);\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">views</span>({\n        engines<span class=\"pl-k\">:</span> {\n            twig<span class=\"pl-k\">:</span> {\n                <span class=\"pl-en\">compile</span><span class=\"pl-k\">:</span> (<span class=\"pl-smi\">src</span>, <span class=\"pl-smi\">options</span>) <span class=\"pl-k\">=&gt;</span> {\n\n                    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">template</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Twig</span>.<span class=\"pl-en\">twig</span>({ id<span class=\"pl-k\">:</span> <span class=\"pl-smi\">options</span>.<span class=\"pl-c1\">filename</span>, data<span class=\"pl-k\">:</span> src });\n\n                    <span class=\"pl-k\">return</span> (<span class=\"pl-smi\">context</span>) <span class=\"pl-k\">=&gt;</span> {\n\n                        <span class=\"pl-k\">return</span> <span class=\"pl-smi\">template</span>.<span class=\"pl-en\">render</span>(context);\n                    };\n                }\n            }\n        },\n        relativeTo<span class=\"pl-k\">:</span> <span class=\"pl-c1\">__dirname</span>,\n        path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>examples/twig/templates<span class=\"pl-pds\">'</span></span>\n    });\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({ method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>, path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span>, handler<span class=\"pl-k\">:</span> rootHandler });\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-c1\">start</span>();\n    <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Server running at:<span class=\"pl-pds\">'</span></span>, <span class=\"pl-smi\">server</span>.<span class=\"pl-smi\">info</span>.<span class=\"pl-smi\">uri</span>);\n};\n\n<span class=\"pl-en\">provision</span>();</pre></div>\n<h2>\n<a id=\"registration\" class=\"anchor\" href=\"#registration\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Registration</h2>\n<p>Vision can be registered multiple times and receives <a href=\"#options\"><code>views manager options</code></a> as registration options.</p>\n<p>Example:</p>\n<pre><code>internals.provision = async () =&gt; {\n\n    await server.register({\n        plugin: require('@hapi/vision'),\n        options: {\n            engines: { html: require('handlebars') },\n            path: __dirname + '/templates'\n        }\n    })\n\n    const context = {\n        title: 'Registration Example',\n        message: 'Hello, World'\n    };\n\n    return server.render('hello', context);\n};\n\ninternals.provision();\n</code></pre>\n<h2>\n<a id=\"views-manager\" class=\"anchor\" href=\"#views-manager\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Views Manager</h2>\n<p>The Views Manager is configured with <a href=\"#registration\"><code>registration options</code></a> or by calling <a href=\"#serverviewsoptions\"><code>server.views(options)</code></a></p>\n<h2>\n<a id=\"options\" class=\"anchor\" href=\"#options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>options</code>\n</h2>\n<ul>\n<li>\n<p><code>engines</code> - required object where each key is a file extension (e.g. 'html', 'hbr'), mapped\nto the npm module used for rendering the templates. Alternatively, the extension can be\nmapped to an object with the following options:</p>\n<ul>\n<li>\n<code>module</code> - the npm module used for rendering the templates. The module object must\ncontain the <code>compile()</code> function:\n<ul>\n<li>\n<code>compile()</code> - the rendering function. The required function signature depends on the\n<code>compileMode</code> settings (see below). If <code>compileMode</code> is <code>'sync'</code>, the signature is\n<code>compile(template, options)</code>, the return value is a function with signature\n<code>function(context, options)</code> (the compiled sync template), and the method is allowed to throw errors. If\n<code>compileMode</code> is <code>'async'</code>, the signature is <code>compile(template, options, next)</code>\nwhere <code>next</code> has the signature <code>function(err, compiled)</code>, <code>compiled</code> is a\nfunction with signature <code>function(context, options, callback)</code> (the compiled async template) and <code>callback</code> has the\nsignature <code>function(err, rendered)</code>.</li>\n<li>\n<code>prepare(config, next)</code> - initializes additional engine state.\nThe <code>config</code> object is the engine configuration object allowing updates to be made.\nThis is useful for engines like Nunjucks that rely on additional state for rendering.\n<code>next</code> has the signature <code>function(err)</code>.</li>\n<li>\n<code>registerPartial(name, src)</code> - registers a partial for use during template rendering.\nThe <code>name</code> is the partial path that templates should use to reference the partial and\n<code>src</code> is the uncompiled template string for the partial.</li>\n<li>\n<code>registerHelper(name, helper)</code> - registers a helper for use during template rendering.\nThe <code>name</code> is the name that templates should use to reference the helper and <code>helper</code>\nis the function that will be invoked when the helper is called.</li>\n</ul>\n</li>\n<li>any of the <code>views</code> options listed below (except <code>defaultExtension</code>) to override the\ndefaults for a specific engine.</li>\n</ul>\n</li>\n<li>\n<p><code>compileMode</code> - specify whether the engine <code>compile()</code> method is <code>'sync'</code> or <code>'async'</code>.\nDefaults to <code>'sync'</code>.</p>\n</li>\n<li>\n<p><code>defaultExtension</code> - defines the default filename extension to append to template names when\nmultiple engines are configured and not explicit extension is provided for a given template.\nNo default value.</p>\n</li>\n<li>\n<p><code>path</code> - the root file path, or array of file paths, used to resolve and load the templates identified when calling\n<a href=\"#hviewtemplate-context-options\"><code>h.view()</code></a>.\nDefaults to current working directory.</p>\n</li>\n<li>\n<p><code>partialsPath</code> - the root file path, or array of file paths, where partials are located. Partials are small segments\nof template code that can be nested and reused throughout other templates. Defaults to no\npartials support (empty path).</p>\n</li>\n<li>\n<p><code>helpersPath</code> - the directory path, or array of directory paths, where helpers are located. Helpers are functions used\nwithin templates to perform transformations and other data manipulations using the template\ncontext or other inputs. Each valid template file in the helpers directory is loaded and the file name\nis used as the helper name. The files must export a single method with the signature\n<code>function(context)</code> and return a string. Sub-folders are not supported and are ignored.\nDefaults to no helpers support (empty path). Note that pug does not support loading helpers\nthis way.</p>\n</li>\n<li>\n<p><code>relativeTo</code> - a base path used as prefix for <code>path</code> and <code>partialsPath</code>. No default.</p>\n</li>\n<li>\n<p><code>layout</code> - if set to <code>true</code> or a layout filename, layout support is enabled. A layout is a\nsingle template file used as the parent template for other view templates in the same engine.\nIf <code>true</code>, the layout template name must be 'layout.ext' where 'ext' is the engine's\nextension. Otherwise, the provided filename is suffixed with the engine's extension and\nloaded. Disable <code>layout</code> when using Jade as it will handle including any layout files\nindependently. Defaults to <code>false</code>.</p>\n</li>\n<li>\n<p><code>layoutPath</code> - the root file path, or array of file paths, where layout templates are located (using the <code>relativeTo</code>\nprefix if present). Defaults to <code>path</code>.</p>\n</li>\n<li>\n<p><code>layoutKeyword</code> - the key used by the template engine to denote where primary template\ncontent should go. Defaults to <code>'content'</code>.</p>\n</li>\n<li>\n<p><code>encoding</code> - the text encoding used by the templates when reading the files and outputting\nthe result. Defaults to <code>'utf8'</code>.</p>\n</li>\n<li>\n<p><code>isCached</code> - if set to <code>false</code>, templates will not be cached (thus will be read from file on\nevery use). Defaults to <code>true</code>.</p>\n</li>\n<li>\n<p><code>allowAbsolutePaths</code> - if set to <code>true</code>, allows absolute template paths passed to\n<a href=\"#hviewtemplate-context-options\"><code>h.view()</code></a>.\nDefaults to <code>false</code>.</p>\n</li>\n<li>\n<p><code>allowInsecureAccess</code> - if set to <code>true</code>, allows template paths passed to\n<a href=\"#hviewtemplate-context-options\"><code>h.view()</code></a>\nto contain '../'. Defaults to <code>false</code>.</p>\n</li>\n<li>\n<p><code>compileOptions</code> - options object passed to the engine's compile function. Defaults to empty\noptions <code>{}</code>.</p>\n</li>\n<li>\n<p><code>runtimeOptions</code> - options object passed to the returned function from the compile operation.\nDefaults to empty options <code>{}</code>.</p>\n</li>\n<li>\n<p><code>contentType</code> - the content type of the engine results. Defaults to <code>'text/html'</code>.</p>\n</li>\n<li>\n<p><code>context</code> - a global context used with all templates. The global context option can be either\nan object or a function that takes the <a href=\"https://github.com/hapijs/hapi/blob/master/API.md#request\"><code>request</code></a>\nas its only argument and returns a context object. The <a href=\"https://github.com/hapijs/hapi/blob/master/API.md#request\"><code>request</code></a> object is only provided when using\nthe <a href=\"#the-view-handler\">view handler</a> or <a href=\"#hviewtemplate-context-options\"><code>h.view()</code></a>. When using\n<a href=\"#serverrendertemplate-context-options-callback\"><code>server.render()</code></a> or\n<a href=\"#requestrendertemplate-context-options-callback\"><code>request.render()</code></a>, the <a href=\"https://github.com/hapijs/hapi/blob/master/API.md#request\"><code>request</code></a> argument will be <code>null</code>. When rendering\nviews, the global context will be merged with any context object specified on the handler or using\n<a href=\"#hviewtemplate-context-options\"><code>h.view()</code></a>. When multiple context objects are used, values from the global\ncontext always have lowest precedence.</p>\n</li>\n</ul>\n<h2>\n<a id=\"managerregisterhelpername-helper\" class=\"anchor\" href=\"#managerregisterhelpername-helper\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>manager.registerHelper(name, helper)</code>\n</h2>\n<p>Registers a helper, on all configured engines that have a <code>registerHelper()</code> method, for use during template rendering. Engines without a <code>registerHelper()</code> method will be skipped. The <code>name</code> is the name that templates should use to reference the helper and <code>helper</code> is the function that will be invoked when the helper is called.</p>\n<h2>\n<a id=\"managerrendertemplate-context-options-callback\" class=\"anchor\" href=\"#managerrendertemplate-context-options-callback\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>manager.render(template, context, options, [callback])</code>\n</h2>\n<p>Renders a template. This is typically not needed and it is usually more convenient to use <a href=\"#serverrendertemplate-context-options-callback\"><code>server.render()</code></a>.</p>\n<h2>\n<a id=\"managergetengineext\" class=\"anchor\" href=\"#managergetengineext\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>manager.getEngine(ext)</code>\n</h2>\n<ul>\n<li>\n<code>ext</code>- The extension used when registering the engine -- check the keys used when configuring <code>engines</code> in <a href=\"#options\"><code>views manager options</code></a>\n</li>\n</ul>\n<h2>\n<a id=\"managerclearcachetemplate-engine\" class=\"anchor\" href=\"#managerclearcachetemplate-engine\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>manager.clearCache(template, [engine])</code>\n</h2>\n<ul>\n<li>\n<code>template</code> - the template filename and path, relative to the views manager templates path (<code>path</code>\nor <code>relativeTo</code>).</li>\n<li>\n<code>engine</code> - the engine returned by <code>manager.getEngine(ext)</code>\n</li>\n</ul>\n<h2>\n<a id=\"server\" class=\"anchor\" href=\"#server\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><a href=\"https://github.com/hapijs/hapi/blob/master/API.md#server\">Server</a>\n</h2>\n<h3>\n<a id=\"serverviewsoptions\" class=\"anchor\" href=\"#serverviewsoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>server.views(options)</code>\n</h3>\n<ul>\n<li>Initializes a plugin's view manager by receiving <a href=\"#options\"><code>manager options</code></a>\n</li>\n<li>Returns the newly created <a href=\"#views-manager\">view manager</a> for the plugin that called it.</li>\n</ul>\n<h3>\n<a id=\"serverrendertemplate-context-options-callback\" class=\"anchor\" href=\"#serverrendertemplate-context-options-callback\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>server.render(template, context, [options], [callback])</code>\n</h3>\n<p>Uses the server views manager to render a template where:</p>\n<ul>\n<li>\n<code>template</code> - the template filename and path, relative to the views manager templates path (<code>path</code>\nor <code>relativeTo</code>).</li>\n<li>\n<code>context</code> - optional object used by the template to render context-specific result. Defaults to\nno context (<code>{}</code>).</li>\n<li>\n<code>options</code> - optional object used to override the views manager configuration.</li>\n<li>callback - the callback function with signature function (err, rendered, config) where:\n<ul>\n<li>\n<code>err</code> - the rendering error if any.</li>\n<li>\n<code>rendered</code> - the result view string.</li>\n<li>\n<code>config</code> - the configuration used to render the template.</li>\n</ul>\n</li>\n</ul>\n<p>If no <code>callback</code> is provided, a <code>Promise</code> object is returned. The returned promise is resolved with only the\nrendered content and not the configuration object.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hapi</span>.<span class=\"pl-en\">Server</span>({ port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3000</span> });\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">internals</span> <span class=\"pl-k\">=</span> {};\n\n<span class=\"pl-smi\">internals</span>.<span class=\"pl-smi\">provision</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(<span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/vision<span class=\"pl-pds\">'</span></span>));\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">views</span>({\n        engines<span class=\"pl-k\">:</span> { html<span class=\"pl-k\">:</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>handlebars<span class=\"pl-pds\">'</span></span>) },\n        path<span class=\"pl-k\">:</span> <span class=\"pl-c1\">__dirname</span> <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/templates<span class=\"pl-pds\">'</span></span>\n    });\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">context</span> <span class=\"pl-k\">=</span> {\n        title<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Views Example<span class=\"pl-pds\">'</span></span>,\n        message<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hello, World<span class=\"pl-pds\">'</span></span>\n    };\n\n    <span class=\"pl-k\">return</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">render</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>hello<span class=\"pl-pds\">'</span></span>, context);\n};\n\n<span class=\"pl-smi\">internals</span>.<span class=\"pl-en\">provision</span>();</pre></div>\n<h3>\n<a id=\"servergetviewsmanager\" class=\"anchor\" href=\"#servergetviewsmanager\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>server.getViewsManager()</code>\n</h3>\n<p>Returns the closest <a href=\"#views-manager\">Views manager</a> to your <code>realm</code> (either on your realm or inherited from an ancestor realm)</p>\n<h2>\n<a id=\"requests\" class=\"anchor\" href=\"#requests\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><a href=\"https://github.com/hapijs/hapi/blob/master/API.md#requests\">Requests</a>\n</h2>\n<h3>\n<a id=\"requestrendertemplate-context-options-callback\" class=\"anchor\" href=\"#requestrendertemplate-context-options-callback\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>request.render(template, context, [options], [callback])</code>\n</h3>\n<p><a href=\"#requestrendertemplate-context-options-callback\"><code>request.render()</code></a> works the same way as <a href=\"#serverrendertemplate-context-options-callback\"><code>server.render()</code></a>\nbut is for use inside of request handlers. <a href=\"#serverrendertemplate-context-options-callback\"><code>server.render()</code></a>\ndoes not work inside request handlers when called via <code>request.server.render()</code> if the view manager was created\nby a plugin. This is because the <code>request.server</code> object does not have access to the plugin realm where the\nview manager was configured. <a href=\"#requestrendertemplate-context-options-callback\"><code>request.render()</code></a> gets its realm from the route that the request was bound to.</p>\n<p>Note that this will not work in <code>onRequest</code> extensions added by the plugin because the route isn't yet set at\nthis point in the request lifecycle and the <a href=\"#requestrendertemplate-context-options-callback\"><code>request.render()</code></a> method will produce the same limited results\n<a href=\"#serverrendertemplate-context-options-callback\"><code>server.render()</code></a> can. When using the <code>onRequest</code> extension, use the <a href=\"#response-toolkit-interface\"><code>h</code> response toolkit interface</a> instead.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hapi</span>.<span class=\"pl-en\">Server</span>({ port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3000</span> });\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">internals</span> <span class=\"pl-k\">=</span> {};\n\n<span class=\"pl-smi\">internals</span>.<span class=\"pl-smi\">provision</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(<span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/vision<span class=\"pl-pds\">'</span></span>));\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">views</span>({\n        engines<span class=\"pl-k\">:</span> { html<span class=\"pl-k\">:</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>handlebars<span class=\"pl-pds\">'</span></span>) },\n        path<span class=\"pl-k\">:</span> <span class=\"pl-c1\">__dirname</span> <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/templates<span class=\"pl-pds\">'</span></span>\n    });\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({\n        method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>,\n        path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/view<span class=\"pl-pds\">'</span></span>,\n        <span class=\"pl-en\">handler</span><span class=\"pl-k\">:</span> <span class=\"pl-k\">function</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">h</span>) {\n\n            <span class=\"pl-k\">return</span> <span class=\"pl-smi\">request</span>.<span class=\"pl-en\">render</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>test<span class=\"pl-pds\">'</span></span>, { message<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>hello<span class=\"pl-pds\">'</span></span> });\n        }\n    });\n};\n\n<span class=\"pl-smi\">internals</span>.<span class=\"pl-en\">provision</span>();</pre></div>\n<h3>\n<a id=\"requestgetviewsmanager\" class=\"anchor\" href=\"#requestgetviewsmanager\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>request.getViewsManager()</code>\n</h3>\n<p>Returns the closest <a href=\"#views-manager\">Views manager</a> to your <code>realm</code> (either on your realm or inherited from an ancestor realm)</p>\n<h2>\n<a id=\"the-view-handler\" class=\"anchor\" href=\"#the-view-handler\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>The <code>view</code> <a href=\"https://github.com/hapijs/hapi/blob/master/API.md#serverdecoratetype-property-method-options\">handler</a>\n</h2>\n<p>The <code>view</code> handler can be used with routes registered in the same realm as the view manager. The\nhandler takes an <code>options</code> parameter that can be either a string or an object. When the <code>options</code>\nparameter is a string, it should be the filename and path of the template relative to the templates\npath configured via the views manager. When the <code>options</code> parameter is an object, it may have the\nfollowing keys:</p>\n<ul>\n<li>\n<code>template</code> - the template filename and path, relative to the templates path configured via the\nserver views manager.</li>\n<li>\n<code>context</code> - optional object used by the template to render context-specific result. Defaults to\nno context <code>{}</code>.</li>\n<li>\n<code>options</code> - optional object used to override the server's views manager configuration for this\nresponse. Cannot override <code>isCached</code>, <code>partialsPath</code>, or <code>helpersPath</code> which are only loaded at\ninitialization.</li>\n</ul>\n<p>The rendering <code>context</code> contains the <code>params</code>, <code>payload</code>, <code>query</code>, and <code>pre</code> values from the\n<a href=\"https://github.com/hapijs/hapi/blob/master/API.md#request\">request</a> by default (these\ncan be overriden by values explicitly set via the <code>options</code>).</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hapi</span>.<span class=\"pl-en\">Server</span>({ port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3000</span> });\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">internals</span> <span class=\"pl-k\">=</span> {};\n\n<span class=\"pl-smi\">internals</span>.<span class=\"pl-smi\">provision</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(<span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/vision<span class=\"pl-pds\">'</span></span>));\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">views</span>({\n        engines<span class=\"pl-k\">:</span> { html<span class=\"pl-k\">:</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>handlebars<span class=\"pl-pds\">'</span></span>) },\n        path<span class=\"pl-k\">:</span> <span class=\"pl-c1\">__dirname</span> <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/templates<span class=\"pl-pds\">'</span></span>\n    });\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({\n        method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>,\n        path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span>,\n        handler<span class=\"pl-k\">:</span> {\n            view<span class=\"pl-k\">:</span> {\n                template<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>hello<span class=\"pl-pds\">'</span></span>,\n                context<span class=\"pl-k\">:</span> {\n                    title<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Views Example<span class=\"pl-pds\">'</span></span>,\n                    message<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hello, World<span class=\"pl-pds\">'</span></span>\n                }\n            }\n        }\n    });\n};\n\n<span class=\"pl-smi\">internals</span>.<span class=\"pl-en\">provision</span>();</pre></div>\n<h2>\n<a id=\"response-toolkit-interface\" class=\"anchor\" href=\"#response-toolkit-interface\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><a href=\"https://github.com/hapijs/hapi/blob/master/API.md#response-toolkit\">Response Toolkit Interface</a>\n</h2>\n<h3>\n<a id=\"hviewtemplate-context-options\" class=\"anchor\" href=\"#hviewtemplate-context-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>h.view(template, [context, [options]])</code>\n</h3>\n<p>Uses the response <a href=\"https://github.com/hapijs/hapi/blob/master/API.md#response-toolkit\">toolkit</a> interface by means of returning control over to the router with a templatized view\nresponse where:</p>\n<ul>\n<li>\n<code>template</code> - the template filename and path, relative to the templates path configured via the\nserver views manager.</li>\n<li>\n<code>context</code> - optional object used by the template to render context-specific result. Defaults to\nno context <code>{}</code>.</li>\n<li>\n<code>options</code> - optional object used to override the server's views manager configuration for this\nresponse. Cannot override <code>isCached</code>, <code>partialsPath</code>, or <code>helpersPath</code> which are only loaded at\ninitialization.</li>\n</ul>\n<p>Returns a <a href=\"https://github.com/hapijs/hapi/blob/master/API.md#response-object\">response object</a>.\nThe generated response will have the <code>variety</code> property set to <code>view</code>.</p>\n<p>The same <a href=\"https://github.com/hapijs/hapi/blob/master/API.md#lifecycle-workflow\">lifecycle workflow</a> applies.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Hapi</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/hapi<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">server</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Hapi</span>.<span class=\"pl-en\">Server</span>({ port<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3000</span> });\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">internals</span> <span class=\"pl-k\">=</span> {};\n\n<span class=\"pl-smi\">internals</span>.<span class=\"pl-smi\">provision</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">async</span> () <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">await</span> <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">register</span>(<span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>@hapi/vision<span class=\"pl-pds\">'</span></span>));\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">views</span>({\n        engines<span class=\"pl-k\">:</span> { html<span class=\"pl-k\">:</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>handlebars<span class=\"pl-pds\">'</span></span>) },\n        path<span class=\"pl-k\">:</span> <span class=\"pl-c1\">__dirname</span> <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/templates<span class=\"pl-pds\">'</span></span>\n    });\n\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">rootHandler</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">function</span> (<span class=\"pl-smi\">request</span>, <span class=\"pl-smi\">h</span>) {\n\n        <span class=\"pl-k\">const</span> <span class=\"pl-c1\">context</span> <span class=\"pl-k\">=</span> {\n            title<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Views Example<span class=\"pl-pds\">'</span></span>,\n            message<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hello, World<span class=\"pl-pds\">'</span></span>\n        };\n\n        <span class=\"pl-k\">return</span> <span class=\"pl-smi\">h</span>.<span class=\"pl-en\">view</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>hello<span class=\"pl-pds\">'</span></span>, context);\n    };\n\n    <span class=\"pl-smi\">server</span>.<span class=\"pl-en\">route</span>({ method<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>, path<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span>, handler<span class=\"pl-k\">:</span> rootHandler });\n};\n\n<span class=\"pl-smi\">internals</span>.<span class=\"pl-en\">provision</span>();</pre></div>\n<h3>\n<a id=\"hgetviewsmanager\" class=\"anchor\" href=\"#hgetviewsmanager\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>h.getViewsManager()</code>\n</h3>\n<p>Returns the closest <a href=\"#views-manager\">Views manager</a> to your <code>realm</code> (either on your realm or inherited from an ancestor realm)</p>\n<h4>\n<a id=\"ex-template-used-in-these-docs\" class=\"anchor\" href=\"#ex-template-used-in-these-docs\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Ex template used in these docs</h4>\n<p><strong>templates/hello.html</strong></p>\n<div class=\"highlight highlight-text-html-basic\"><pre>&lt;<span class=\"pl-ent\">html</span>&gt;\n    &lt;<span class=\"pl-ent\">head</span>&gt;\n        &lt;<span class=\"pl-ent\">title</span>&gt;{{title}}&lt;/<span class=\"pl-ent\">title</span>&gt;\n    &lt;/<span class=\"pl-ent\">head</span>&gt;\n    &lt;<span class=\"pl-ent\">body</span>&gt;\n        &lt;<span class=\"pl-ent\">div</span>&gt;\n            &lt;<span class=\"pl-ent\">h1</span>&gt;{{message}}&lt;/<span class=\"pl-ent\">h1</span>&gt;\n        &lt;/<span class=\"pl-ent\">div</span>&gt;\n    &lt;/<span class=\"pl-ent\">body</span>&gt;\n&lt;/<span class=\"pl-ent\">html</span>&gt;</pre></div>\n","intro":"## Introduction\n\n**vision** decorates the [server](https://hapi.dev/api#server),\n[request](https://hapi.dev/api#request), and\n`h` response [toolkit](https://hapi.dev/api#response-toolkit) interfaces with additional\nmethods for managing view engines that can be used to render templated responses.\n\n**vision** also provides a built-in [handler](https://hapi.dev/api#-serverdecoratetype-property-method-options) implementation for creating templated responses.\n\nMost interaction with **vision** is done via the `h` [response toolkit](https://hapi.dev/api#response-toolkit)\nand [server](https://hapi.dev/api#server) interfaces.\n","example":"## Example\n\n```js\nconst Hapi = require('@hapi/hapi');\nconst Vision = require('@hapi/vision');\n\nconst server = Hapi.Server({ port: 3000 });\n\nconst provision = async () => {\n\n    await server.register(Vision);\n    await server.start();\n\n    console.log('Server running at:', server.info.uri);\n};\n\nprovision();\n```\n\nThe examples in the `examples` folder can be run with `node`.\n\n```\ngit clone https://github.com/hapijs/vision.git && cd vision\nnpm install\n\nnode examples/handlebars\n```\n\n:point_up: That command will run the handlebars basic template.\nThere are three more examples in there: for helpers, layout, and partials.\n\nUse this hierarchy to know which commands to run, e.g.\n```\nnode examples/mustache\nnode examples/mustache/partials\nnode examples/jsx\n```\n\n```\n- cms // A bare-bones Content Management System with a WYSIWYG editor\n- ejs\n  - layout\n- handlebars\n  - helpers\n  - layout\n  - partials\n- jsx // React server-side rendering with `hapi-react-views`\n- marko\n- mixed // Using multiple render engines (handlebars and pug)\n- mustache\n  - layout\n  - partials\n- nunjucks\n- pug\n- twig\n```\n\n**vision** is compatible with most major templating engines out of the box. Engines that don't follow\nthe normal API pattern can still be used by mapping their API to the [**vision** API](https://hapi.dev/family/vision/). Some of the examples below use the `compile` and `prepare` methods which are part of the API.\n","usage":"","faq":"","license":"BSD"},"slogan":"Template rendering support for hapi.js.","forks":59,"stars":180,"date":"2019-10-07T21:14:30Z","updated":"Mon Oct 07 2019","link":"https://github.com/hapijs/vision"},"wreck":{"name":"wreck","versions":[{"name":"12.6.1","branch":"v12-commercial","license":"Commercial","node":"10, 8, 6"}],"versionsArray":["12.6.1"],"12.6.1":{"menu":"- [Usage](#usage)\n  - [Basic](#basic)\n  - [With Async/Await](#with-asyncawait)\n  - [Advanced](#advanced)\n  - [`defaults()`](#defaultsoptions)\n  - [`request()`](#requestmethod-uri-options-callback)\n  - [`read()`](#readresponse-options-callback)\n    - [Notes about gunzip](#notes-about-gunzip)\n  - [`get()`](#geturi-options-callback)\n  - [`post()`](#posturi-options-callback)\n  - [`patch()`](#patchuri-options-callback)\n  - [`put()`](#puturi-options-callback)\n  - [`delete()`](#deleteuri-options-callback)\n  - [`toReadableStream()`](#toreadablestreampayload-encoding)\n  - [`parseCacheControl()`](#parsecachecontrolfield)\n  - [`agents`](#agents)\n  - [Events](#events)\n    - [`request`](#request)\n    - [`response`](#response)","api":"<h2>\n<a id=\"usage\" class=\"anchor\" href=\"#usage\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Usage</h2>\n<h3>\n<a id=\"basic\" class=\"anchor\" href=\"#basic\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Basic</h3>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Wreck</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>wreck<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Wreck</span>.<span class=\"pl-c1\">get</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>https://google.com/<span class=\"pl-pds\">'</span></span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">res</span>, <span class=\"pl-smi\">payload</span>) <span class=\"pl-k\">=&gt;</span> {\n    <span class=\"pl-c\"><span class=\"pl-c\">/*</span> do stuff <span class=\"pl-c\">*/</span></span>\n});</pre></div>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Wreck</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>wreck<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Wreck</span>.<span class=\"pl-en\">post</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>https://posttestserver.com/post.php<span class=\"pl-pds\">'</span></span>, { payload<span class=\"pl-k\">:</span> { hello<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>post<span class=\"pl-pds\">'</span></span> } }, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">res</span>, <span class=\"pl-smi\">payload</span>) <span class=\"pl-k\">=&gt;</span> {\n    <span class=\"pl-c\"><span class=\"pl-c\">/*</span> do stuff <span class=\"pl-c\">*/</span></span>\n});</pre></div>\n<h3>\n<a id=\"with-asyncawait\" class=\"anchor\" href=\"#with-asyncawait\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>With Async/Await</h3>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Wreck</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>wreck<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">async</span> <span class=\"pl-k\">function</span> <span class=\"pl-en\">example</span> () {\n  <span class=\"pl-k\">const</span> { <span class=\"pl-c1\">req</span>, <span class=\"pl-c1\">res</span>, <span class=\"pl-c1\">payload</span> } <span class=\"pl-k\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-smi\">Wreck</span>.<span class=\"pl-c1\">get</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>http://example.com<span class=\"pl-pds\">'</span></span>);\n  <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">log</span>(<span class=\"pl-smi\">payload</span>.<span class=\"pl-c1\">toString</span>());\n}\n\n<span class=\"pl-k\">try</span> {\n  <span class=\"pl-en\">example</span>();\n} <span class=\"pl-k\">catch</span> (ex) {\n  <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">error</span>(ex);\n}</pre></div>\n<h3>\n<a id=\"advanced\" class=\"anchor\" href=\"#advanced\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Advanced</h3>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Wreck</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>wreck<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">method</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>GET<span class=\"pl-pds\">'</span></span>; <span class=\"pl-c\"><span class=\"pl-c\">//</span> GET, POST, PUT, DELETE</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">uri</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>/<span class=\"pl-pds\">'</span></span>;\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">readableStream</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Wreck</span>.<span class=\"pl-en\">toReadableStream</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>foo=bar<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">wreck</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Wreck</span>.<span class=\"pl-en\">defaults</span>({\n    headers<span class=\"pl-k\">:</span> { <span class=\"pl-s\"><span class=\"pl-pds\">'</span>x-foo-bar<span class=\"pl-pds\">'</span></span><span class=\"pl-k\">:</span> <span class=\"pl-c1\">123</span> },\n    agents<span class=\"pl-k\">:</span> {\n        https<span class=\"pl-k\">:</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Https.Agent</span>({ maxSockets<span class=\"pl-k\">:</span> <span class=\"pl-c1\">100</span> }),\n        http<span class=\"pl-k\">:</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Http.Agent</span>({ maxSockets<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1000</span> }),\n        httpsAllowUnauthorized<span class=\"pl-k\">:</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Https.Agent</span>({ maxSockets<span class=\"pl-k\">:</span> <span class=\"pl-c1\">100</span>, rejectUnauthorized<span class=\"pl-k\">:</span> <span class=\"pl-c1\">false</span> })\n    }\n});\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> cascading example -- does not alter `wreck`</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> inherits `headers` and `agents` specified above</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">wreckWithTimeout</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">wreck</span>.<span class=\"pl-en\">defaults</span>({\n    timeout<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5</span>\n});\n\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> all attributes are optional</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">options</span> <span class=\"pl-k\">=</span> {\n    baseUrl<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>https://www.example.com<span class=\"pl-pds\">'</span></span>,\n    payload<span class=\"pl-k\">:</span> readableStream <span class=\"pl-k\">||</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>foo=bar<span class=\"pl-pds\">'</span></span> <span class=\"pl-k\">||</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Buffer</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>foo=bar<span class=\"pl-pds\">'</span></span>),\n    headers<span class=\"pl-k\">:</span> { <span class=\"pl-c\"><span class=\"pl-c\">/*</span> http headers <span class=\"pl-c\">*/</span></span> },\n    redirects<span class=\"pl-k\">:</span> <span class=\"pl-c1\">3</span>,\n    <span class=\"pl-en\">beforeRedirect</span><span class=\"pl-k\">:</span> <span class=\"pl-k\">function</span> (<span class=\"pl-smi\">redirectMethod</span>, <span class=\"pl-smi\">statusCode</span>, <span class=\"pl-smi\">location</span>, <span class=\"pl-smi\">resHeaders</span>, <span class=\"pl-smi\">redirectOptions</span>, <span class=\"pl-smi\">next</span>) { <span class=\"pl-k\">return</span> <span class=\"pl-en\">next</span>() },\n    <span class=\"pl-en\">redirected</span><span class=\"pl-k\">:</span> <span class=\"pl-k\">function</span> (<span class=\"pl-smi\">statusCode</span>, <span class=\"pl-smi\">location</span>, <span class=\"pl-smi\">req</span>) {},\n    timeout<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1000</span>,    <span class=\"pl-c\"><span class=\"pl-c\">//</span> 1 second, default: unlimited</span>\n    maxBytes<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1048576</span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> 1 MB, default: unlimited</span>\n    rejectUnauthorized<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span> <span class=\"pl-k\">||</span> <span class=\"pl-c1\">false</span>,\n    downstreamRes<span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>,\n    agent<span class=\"pl-k\">:</span> <span class=\"pl-c1\">null</span>,         <span class=\"pl-c\"><span class=\"pl-c\">//</span> Node Core http.Agent</span>\n    secureProtocol<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>SSLv3_method<span class=\"pl-pds\">'</span></span>, <span class=\"pl-c\"><span class=\"pl-c\">//</span> The SSL method to use</span>\n    ciphers<span class=\"pl-k\">:</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>DES-CBC3-SHA<span class=\"pl-pds\">'</span></span> <span class=\"pl-c\"><span class=\"pl-c\">//</span> The TLS ciphers to support</span>\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">optionalCallback</span> <span class=\"pl-k\">=</span> (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">res</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-c\"><span class=\"pl-c\">/*</span> handle err if it exists, in which case res will be undefined <span class=\"pl-c\">*/</span></span>\n\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> buffer the response stream</span>\n    <span class=\"pl-smi\">Wreck</span>.<span class=\"pl-en\">read</span>(res, <span class=\"pl-c1\">null</span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">body</span>) <span class=\"pl-k\">=&gt;</span> {\n        <span class=\"pl-c\"><span class=\"pl-c\">/*</span> do stuff <span class=\"pl-c\">*/</span></span>\n    });\n};\n\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">req</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">wreck</span>.<span class=\"pl-en\">request</span>(method, uri, options, optionalCallback);</pre></div>\n<h3>\n<a id=\"defaultsoptions\" class=\"anchor\" href=\"#defaultsoptions\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>defaults(options)</code>\n</h3>\n<p>Returns a <em>new</em> instance of Wreck which merges the provided <code>options</code> with those provided on a per-request basis. You can call defaults repeatedly to build up multiple http clients.</p>\n<ul>\n<li>\n<code>options</code> - Config object containing settings for both <code>request</code> and <code>read</code> operations.</li>\n</ul>\n<h3>\n<a id=\"requestmethod-uri-options-callback\" class=\"anchor\" href=\"#requestmethod-uri-options-callback\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>request(method, uri, [options, [callback]])</code>\n</h3>\n<p>Initiate an HTTP request.</p>\n<ul>\n<li>\n<code>method</code> - A string specifying the HTTP request method, defaulting to 'GET'.</li>\n<li>\n<code>uri</code> - The URI of the requested resource.</li>\n<li>\n<code>options</code> - An optional configuration object. To omit this argument but still\nuse a callback, pass <code>null</code> in this position. The options object supports the\nfollowing optional keys:\n<ul>\n<li>\n<code>baseUrl</code> - fully qualified uri string used as the base url. Most useful with <code>request.defaults</code>, for example when you want to do many requests to the same domain.\nIf <code>baseUrl</code> is <code>https://example.com/api/</code>, then requesting <code>/end/point?test=true</code> will fetch <code>https://example.com/api/end/point?test=true</code>. Any\nquerystring in the <code>baseUrl</code> will be overwritten with the querystring in the <code>uri</code> When <code>baseUrl</code> is given, <code>uri</code> must also be a string.</li>\n<li>\n<code>socketPath</code> - <code>/path/to/unix/socket</code> for Server.</li>\n<li>\n<code>payload</code> - The request body as a string, Buffer, Readable Stream, or an object that can be serialized using <code>JSON.stringify()</code>.</li>\n<li>\n<code>headers</code> - An object containing request headers.</li>\n<li>\n<code>onRequest</code> - A function that is called when a request is available using the signature <code>function(req)</code> where <code>req</code> is a <a href=\"http://nodejs.org/api/http.html#http_class_http_clientrequest\" rel=\"nofollow\">ClientRequest</a>.</li>\n<li>\n<code>redirects</code> - The maximum number of redirects to follow.</li>\n<li>\n<code>redirect303</code> - if <code>true</code>, a HTTP 303 status code will redirect using a GET method. Defaults to no redirection on 303.</li>\n<li>\n<code>beforeRedirect</code> - A callback function that is called before a redirect is triggered, using the signature\n<code>function(redirectMethod, statusCode, location, resHeaders, redirectOptions, next)</code> where:\n- <code>redirectMethod</code> - A string specifying the redirect method.\n- <code>statusCode</code> - HTTP status code of the response that triggered the redirect.\n- <code>location</code> - The redirect location string.\n- <code>resHeaders</code> - An object with the headers received as part of the redirection response.\n- <code>redirectOptions</code> - Options that will be applied to the redirect request. Changes to this object are applied to the redirection request.\n- <code>next</code> - the callback function called to perform the redirection using signature <code>function()</code>.</li>\n<li>\n<code>redirected</code> - A callback function that is called when a redirect was triggered, using the signature <code>function(statusCode, location, req)</code> where:\n<ul>\n<li>\n<code>statusCode</code> - HTTP status code of the response that triggered the redirect.</li>\n<li>\n<code>location</code> - The redirected location string.</li>\n<li>\n<code>req</code> - The new <a href=\"http://nodejs.org/api/http.html#http_class_http_clientrequest\" rel=\"nofollow\">ClientRequest</a> object which replaces the one initially returned.</li>\n</ul>\n</li>\n<li>\n<code>timeout</code> - The number of milliseconds to wait without receiving a response\nbefore aborting the request. Defaults to unlimited.</li>\n<li>\n<code>maxBytes</code> - maximum size for response payload. Defaults to unlimited.</li>\n<li>\n<code>rejectUnauthorized</code> - <a href=\"http://nodejs.org/api/tls.html\" rel=\"nofollow\">TLS</a> flag indicating\nwhether the client should reject a response from a server with invalid certificates.  This cannot be set at the\nsame time as the <code>agent</code> option is set.</li>\n<li>\n<code>downstreamRes</code>: downstream Resource dependency.</li>\n<li>\n<code>agent</code> - Node Core <a href=\"http://nodejs.org/api/http.html#http_class_http_agent\" rel=\"nofollow\">http.Agent</a>.\nDefaults to either <code>wreck.agents.http</code> or <code>wreck.agents.https</code>.  Setting to <code>false</code> disables agent pooling.</li>\n<li>\n<code>secureProtocol</code> - <a href=\"http://nodejs.org/api/tls.html\" rel=\"nofollow\">TLS</a> flag indicating the SSL method to use, e.g. <code>SSLv3_method</code>\nto force SSL version 3. The possible values depend on your installation of OpenSSL. Read the official OpenSSL docs\nfor possible <a href=\"http://www.openssl.org/docs/ssl/ssl.html#DEALING_WITH_PROTOCOL_METHODS\" rel=\"nofollow\">SSL_METHODS</a>.</li>\n<li>\n<code>ciphers</code> - <a href=\"https://nodejs.org/api/tls.html#tls_modifying_the_default_tls_cipher_suite\" rel=\"nofollow\">TLS</a> list of TLS ciphers to override node's default.<br>\nThe possible values depend on your installation of OpenSSL. Read the official OpenSSL docs\nfor possible <a href=\"https://www.openssl.org/docs/man1.0.2/apps/ciphers.html#CIPHER-LIST-FORMAT\" rel=\"nofollow\">TLS_CIPHERS</a>.</li>\n</ul>\n</li>\n<li>\n<code>callback</code> - The optional callback function using the signature <code>function (err, response)</code> where:\n<ul>\n<li>\n<code>err</code> - Any error that may have occurred during the handling of the request.</li>\n<li>\n<code>response</code> - The <a href=\"https://nodejs.org/api/http.html#http_class_http_incomingmessage\" rel=\"nofollow\">HTTP Incoming Message</a>\nobject, which is also a readable stream.</li>\n</ul>\n</li>\n</ul>\n<p>Returns an instance of the node.js <a href=\"http://nodejs.org/api/http.html#http_class_http_clientrequest\" rel=\"nofollow\">ClientRequest</a> object.</p>\n<h3>\n<a id=\"readresponse-options-callback\" class=\"anchor\" href=\"#readresponse-options-callback\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>read(response, options, callback)</code>\n</h3>\n<ul>\n<li>\n<code>response</code> - An HTTP Incoming Message object.</li>\n<li>\n<code>options</code> - <code>null</code> or a configuration object with the following optional keys:\n<ul>\n<li>\n<code>timeout</code> - The number of milliseconds to wait while reading data before\naborting handling of the response. Defaults to unlimited.</li>\n<li>\n<code>json</code> - A value indicating how to try to parse the payload as JSON. Defaults to <code>undefined</code> meaning no parse logic.\n<ul>\n<li>\n<code>true</code>, 'smart' - only try <code>JSON.parse</code> if the response indicates a JSON content-type.</li>\n<li>\n<code>strict</code> - as 'smart', except returns an error for non-JSON content-type.</li>\n<li>\n<code>force</code> - try <code>JSON.parse</code> regardless of the content-type header.</li>\n</ul>\n</li>\n<li>\n<code>gunzip</code> - A value indicating the behavior to adopt when the payload is gzipped. Defaults to <code>undefined</code> meaning no gunzipping.\n<ul>\n<li>\n<code>true</code> - only try to gunzip if the response indicates a gzip content-encoding.</li>\n<li>\n<code>false</code> - explicitly disable gunzipping.</li>\n<li>\n<code>force</code> - try to gunzip regardless of the content-encoding header.</li>\n</ul>\n</li>\n<li>\n<code>maxBytes</code> - The maximum allowed response payload size. Defaults to unlimited.</li>\n</ul>\n</li>\n<li>\n<code>callback</code> - The callback function using the signature <code>function (err, payload)</code> where:\n<ul>\n<li>\n<code>err</code> - Any error that may have occurred while reading the response.</li>\n<li>\n<code>payload</code> - The payload in the form of a Buffer or (optionally) parsed JavaScript object (JSON).</li>\n</ul>\n</li>\n</ul>\n<h4>\n<a id=\"notes-about-gunzip\" class=\"anchor\" href=\"#notes-about-gunzip\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Notes about gunzip</h4>\n<p>When using gunzip, HTTP headers <code>Content-Encoding</code>, <code>Content-Length</code>, <code>Content-Range</code> and <code>ETag</code> won't reflect the reality as the payload has been uncompressed.</p>\n<p>Node v4 does not detect premature ending of gzipped content, if the payload is partial, you will not get an error on this specific version of node.js.</p>\n<h3>\n<a id=\"geturi-options-callback\" class=\"anchor\" href=\"#geturi-options-callback\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>get(uri, [options, [callback]])</code>\n</h3>\n<p>Convenience method for GET operations.</p>\n<ul>\n<li>\n<code>uri</code> - The URI of the requested resource.</li>\n<li>\n<code>options</code> - Optional config object containing settings for both <code>request</code> and\n<code>read</code> operations.</li>\n<li>\n<code>callback</code> - Optional callback function using the signature <code>function (err, response, payload)</code> where:\n<ul>\n<li>\n<code>err</code> - Any error that may have occurred during handling of the request or a Boom error object if the response has an error status code (i.e. 4xx or 5xx). If the error is a boom error object it will have the following properties in addition to the standard boom properties.\n<ul>\n<li>\n<code>data.isResponseError</code> - boolean, indicates if the error is a result of an error response status code</li>\n<li>\n<code>data.headers</code> - object containing the response headers</li>\n<li>\n<code>data.payload</code> - the payload in the form of a Buffer or as a parsed object</li>\n<li>\n<code>data.response</code> - the <a href=\"https://nodejs.org/api/http.html#http_class_http_incomingmessage\" rel=\"nofollow\">HTTP Incoming Message</a> object</li>\n</ul>\n</li>\n<li>\n<code>response</code> - The <a href=\"https://nodejs.org/api/http.html#http_class_http_incomingmessage\" rel=\"nofollow\">HTTP Incoming Message</a>\nobject, which is a readable stream that has \"ended\" and contains no more data to read.</li>\n<li>\n<code>payload</code> - The payload in the form of a Buffer or (optionally) parsed JavaScript object (JSON).</li>\n</ul>\n</li>\n</ul>\n<p>If a callback function is provided then an instance of the node.js <a href=\"http://nodejs.org/api/http.html#http_class_http_clientrequest\" rel=\"nofollow\">ClientRequest</a> object is returned.\nIf no callback function is provided then a Promise is returned that resolves an object with the following structure: <code>{ req, res, payload }</code>;</p>\n<h3>\n<a id=\"posturi-options-callback\" class=\"anchor\" href=\"#posturi-options-callback\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>post(uri, [options, [callback]])</code>\n</h3>\n<p>Convenience method for POST operations.</p>\n<ul>\n<li>\n<code>uri</code> - The URI of the requested resource.</li>\n<li>\n<code>options</code> - Optional config object containing settings for both <code>request</code> and\n<code>read</code> operations.</li>\n<li>\n<code>callback</code> - Optional callback function using the signature <code>function (err, response, payload)</code> where:\n<ul>\n<li>\n<code>err</code> - Any error that may have occurred during handling of the request or a Boom error object if the response has an error status code (i.e. 4xx or 5xx). If the error is a boom error object it will have the following properties in addition to the standard boom properties.\n<ul>\n<li>\n<code>data.isResponseError</code> - boolean, indicates if the error is a result of an error response status code</li>\n<li>\n<code>data.headers</code> - object containing the response headers</li>\n<li>\n<code>data.payload</code> - the payload in the form of a Buffer or as a parsed object</li>\n<li>\n<code>data.response</code> - the <a href=\"https://nodejs.org/api/http.html#http_class_http_incomingmessage\" rel=\"nofollow\">HTTP Incoming Message</a> object</li>\n</ul>\n</li>\n<li>\n<code>response</code> - The <a href=\"https://nodejs.org/api/http.html#http_class_http_incomingmessage\" rel=\"nofollow\">HTTP Incoming Message</a>\nobject, which is a readable stream that has \"ended\" and contains no more data to read.</li>\n<li>\n<code>payload</code> - The payload in the form of a Buffer or (optionally) parsed JavaScript object (JSON).</li>\n</ul>\n</li>\n</ul>\n<p>If a callback function is provided then an instance of the node.js <a href=\"http://nodejs.org/api/http.html#http_class_http_clientrequest\" rel=\"nofollow\">ClientRequest</a> object is returned.\nIf no callback function is provided then a Promise is returned that resolves an object with the following structure: <code>{ req, res, payload }</code>;</p>\n<h3>\n<a id=\"patchuri-options-callback\" class=\"anchor\" href=\"#patchuri-options-callback\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>patch(uri, [options, [callback]])</code>\n</h3>\n<p>Convenience method for PATCH operations.</p>\n<ul>\n<li>\n<code>uri</code> - The URI of the requested resource.</li>\n<li>\n<code>options</code> - Optional config object containing settings for both <code>request</code> and\n<code>read</code> operations.</li>\n<li>\n<code>callback</code> - Optional callback function using the signature <code>function (err, response, payload)</code> where:\n<ul>\n<li>\n<code>err</code> - Any error that may have occurred during handling of the request or a Boom error object if the response has an error status code (i.e. 4xx or 5xx). If the error is a boom error object it will have the following properties in addition to the standard boom properties.\n<ul>\n<li>\n<code>data.isResponseError</code> - boolean, indicates if the error is a result of an error response status code</li>\n<li>\n<code>data.headers</code> - object containing the response headers</li>\n<li>\n<code>data.payload</code> - the payload in the form of a Buffer or as a parsed object</li>\n<li>\n<code>data.response</code> - the <a href=\"https://nodejs.org/api/http.html#http_class_http_incomingmessage\" rel=\"nofollow\">HTTP Incoming Message</a> object</li>\n</ul>\n</li>\n<li>\n<code>response</code> - The <a href=\"https://nodejs.org/api/http.html#http_class_http_incomingmessage\" rel=\"nofollow\">HTTP Incoming Message</a>\nobject, which is a readable stream that has \"ended\" and contains no more data to read.</li>\n<li>\n<code>payload</code> - The payload in the form of a Buffer or (optionally) parsed JavaScript object (JSON).</li>\n</ul>\n</li>\n</ul>\n<p>If a callback function is provided then an instance of the node.js <a href=\"http://nodejs.org/api/http.html#http_class_http_clientrequest\" rel=\"nofollow\">ClientRequest</a> object is returned.\nIf no callback function is provided then a Promise is returned that resolves an object with the following structure: <code>{ req, res, payload }</code>;</p>\n<h3>\n<a id=\"puturi-options-callback\" class=\"anchor\" href=\"#puturi-options-callback\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>put(uri, [options, [callback]])</code>\n</h3>\n<p>Convenience method for PUT operations.</p>\n<ul>\n<li>\n<code>uri</code> - The URI of the requested resource.</li>\n<li>\n<code>options</code> - Optional config object containing settings for both <code>request</code> and\n<code>read</code> operations.</li>\n<li>\n<code>callback</code> - Optional callback function using the signature <code>function (err, response, payload)</code> where:\n<ul>\n<li>\n<code>err</code> - Any error that may have occurred during handling of the request or a Boom error object if the response has an error status code (i.e. 4xx or 5xx). If the error is a boom error object it will have the following properties in addition to the standard boom properties.\n<ul>\n<li>\n<code>data.isResponseError</code> - boolean, indicates if the error is a result of an error response status code</li>\n<li>\n<code>data.headers</code> - object containing the response headers</li>\n<li>\n<code>data.payload</code> - the payload in the form of a Buffer or as a parsed object</li>\n<li>\n<code>data.response</code> - the <a href=\"https://nodejs.org/api/http.html#http_class_http_incomingmessage\" rel=\"nofollow\">HTTP Incoming Message</a> object</li>\n</ul>\n</li>\n<li>\n<code>response</code> - The <a href=\"https://nodejs.org/api/http.html#http_class_http_incomingmessage\" rel=\"nofollow\">HTTP Incoming Message</a>\nobject, which is a readable stream that has \"ended\" and contains no more data to read.</li>\n<li>\n<code>payload</code> - The payload in the form of a Buffer or (optionally) parsed JavaScript object (JSON).</li>\n</ul>\n</li>\n</ul>\n<p>If a callback function is provided then an instance of the node.js <a href=\"http://nodejs.org/api/http.html#http_class_http_clientrequest\" rel=\"nofollow\">ClientRequest</a> object is returned.\nIf no callback function is provided then a Promise is returned that resolves an object with the following structure: <code>{ req, res, payload }</code>;</p>\n<h3>\n<a id=\"deleteuri-options-callback\" class=\"anchor\" href=\"#deleteuri-options-callback\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>delete(uri, [options, [callback]])</code>\n</h3>\n<p>Convenience method for DELETE operations.</p>\n<ul>\n<li>\n<code>uri</code> - The URI of the requested resource.</li>\n<li>\n<code>options</code> - Optional config object containing settings for both <code>request</code> and\n<code>read</code> operations.</li>\n<li>\n<code>callback</code> - Optional callback function using the signature <code>function (err, response, payload)</code> where:\n<ul>\n<li>\n<code>err</code> - Any error that may have occurred during handling of the request or a Boom error object if the response has an error status code (i.e. 4xx or 5xx). If the error is a boom error object it will have the following properties in addition to the standard boom properties.\n<ul>\n<li>\n<code>data.isResponseError</code> - boolean, indicates if the error is a result of an error response status code</li>\n<li>\n<code>data.headers</code> - object containing the response headers</li>\n<li>\n<code>data.payload</code> - the payload in the form of a Buffer or as a parsed object</li>\n<li>\n<code>data.response</code> - the <a href=\"https://nodejs.org/api/http.html#http_class_http_incomingmessage\" rel=\"nofollow\">HTTP Incoming Message</a> object</li>\n</ul>\n</li>\n<li>\n<code>response</code> - The <a href=\"https://nodejs.org/api/http.html#http_class_http_incomingmessage\" rel=\"nofollow\">HTTP Incoming Message</a>\nobject, which is a readable stream that has \"ended\" and contains no more data to read.</li>\n<li>\n<code>payload</code> - The payload in the form of a Buffer or (optionally) parsed JavaScript object (JSON).</li>\n</ul>\n</li>\n</ul>\n<p>If a callback function is provided then an instance of the node.js <a href=\"http://nodejs.org/api/http.html#http_class_http_clientrequest\" rel=\"nofollow\">ClientRequest</a> object is returned.\nIf no callback function is provided then a Promise is returned that resolves an object with the following structure: <code>{ req, res, payload }</code>;</p>\n<h3>\n<a id=\"toreadablestreampayload-encoding\" class=\"anchor\" href=\"#toreadablestreampayload-encoding\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>toReadableStream(payload, [encoding])</code>\n</h3>\n<p>Creates a <a href=\"http://nodejs.org/api/stream.html#stream_class_stream_readable\" rel=\"nofollow\">readable stream</a>\nfor the provided payload and encoding.</p>\n<ul>\n<li>\n<code>payload</code> - The Buffer or string to be wrapped in a readable stream.</li>\n<li>\n<code>encoding</code> - The encoding to use. Must be a valid Buffer encoding, such as 'utf8' or 'ascii'.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">stream</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Wreck</span>.<span class=\"pl-en\">toReadableStream</span>(<span class=\"pl-k\">new</span> <span class=\"pl-en\">Buffer</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hello<span class=\"pl-pds\">'</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ascii<span class=\"pl-pds\">'</span></span>), <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ascii<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">read</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">stream</span>.<span class=\"pl-en\">read</span>();\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> read -&gt; 'Hello'</span></pre></div>\n<h3>\n<a id=\"parsecachecontrolfield\" class=\"anchor\" href=\"#parsecachecontrolfield\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>parseCacheControl(field)</code>\n</h3>\n<p>Parses the provided <em>cache-control</em> request header value into an object containing\na property for each directive and it's value. Boolean directives, such as \"private\"\nor \"no-cache\" will be set to the boolean <code>true</code>.</p>\n<ul>\n<li>\n<code>field</code> - The header cache control value to be parsed.</li>\n</ul>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">result</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Wreck</span>.<span class=\"pl-en\">parseCacheControl</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>private, max-age=0, no-cache<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> result.private -&gt; true</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> result['max-age'] -&gt; 0</span>\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> result['no-cache'] -&gt; true</span></pre></div>\n<h3>\n<a id=\"agents\" class=\"anchor\" href=\"#agents\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>agents</code>\n</h3>\n<p>Object that contains the agents for pooling connections for <code>http</code> and <code>https</code>.\nThe properties are <code>http</code>, <code>https</code>, and <code>httpsAllowUnauthorized</code> which is an\n<code>https</code> agent with <code>rejectUnauthorized</code> set to false.  All agents have\n<code>maxSockets</code> configured to <code>Infinity</code>.  They are each instances of the Node.js\n<a href=\"http://nodejs.org/api/http.html#http_class_http_agent\" rel=\"nofollow\">Agent</a> and expose the\nstandard properties.</p>\n<p>For example, the following code demonstrates changing <code>maxSockets</code> on the <code>http</code>\nagent.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">Wreck</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>wreck<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Wreck</span>.<span class=\"pl-smi\">agents</span>.<span class=\"pl-smi\">http</span>.<span class=\"pl-smi\">maxSockets</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">20</span>;</pre></div>\n<p>Below is another example that sets the certificate details for all HTTPS requests.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">HTTPS</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>https<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">Wreck</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">require</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>wreck<span class=\"pl-pds\">'</span></span>);\n\n<span class=\"pl-smi\">Wreck</span>.<span class=\"pl-smi\">agents</span>.<span class=\"pl-smi\">https</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">HTTPS.Agent</span>({\n    cert,\n    key,\n    ca\n});</pre></div>\n<h3>\n<a id=\"events\" class=\"anchor\" href=\"#events\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Events</h3>\n<h4>\n<a id=\"request\" class=\"anchor\" href=\"#request\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>request</code>\n</h4>\n<p>The request event is emitted just before <em>wreck</em> makes a request.  The\nhandler should accept the following arguments <code>(uri, options)</code> where:</p>\n<ul>\n<li>\n<code>uri</code> - the result of <code>Url.parse(uri)</code>. This will provide information about\nthe resource requested.  Also includes the headers and method.</li>\n<li>\n<code>options</code> - the options passed into the request function.  This will include\na payload if there is one.</li>\n</ul>\n<p>Since the <code>request</code> event executes on a global event handler, you can intercept\nand decorate a request before its sent.</p>\n<h4>\n<a id=\"response\" class=\"anchor\" href=\"#response\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a><code>response</code>\n</h4>\n<p>The response event is always emitted for any request that <em>wreck</em> makes.  The\nhandler should accept the following arguments <code>(err, details)</code> where:</p>\n<ul>\n<li>\n<code>err</code> - a Boom error</li>\n<li>\n<code>details</code> - object with the following properties\n<ul>\n<li>\n<code>req</code> - the raw <code>ClientHttp</code> request object</li>\n<li>\n<code>res</code> - the raw <code>IncomingMessage</code> response object</li>\n<li>\n<code>start</code> - the time that the request was initiated</li>\n<li>\n<code>uri</code> - the result of <code>Url.parse(uri)</code>. This will provide information about\nthe resource requested.  Also includes the headers and method.</li>\n</ul>\n</li>\n</ul>\n<p>This event is useful for logging all requests that go through <em>wreck</em>. The <code>err</code>\nand <code>res</code> arguments can be undefined depending on if an error occurs.  Please\nbe aware that if multiple modules are depending on the same cached <em>wreck</em>\nmodule that this event can fire for each request made across all modules.  The\n<code>start</code> property is the timestamp when the request was started.  This can be\nuseful for determining how long it takes <em>wreck</em> to get a response back and\nprocessed.</p>\n<p>The <code>EventEmitter</code> is attached to the <code>process</code> object under a <code>Symbol</code> with the\nvalue of <code>'wreck'</code>.  Therefore, if you want to capture a wreck event, after\nwreck has been loaded, but in a module that doesn't require wreck, you can\nhandle events in the following way:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">symbol</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Symbol</span>.<span class=\"pl-en\">for</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>wreck<span class=\"pl-pds\">'</span></span>);\n<span class=\"pl-c1\">process</span>[symbol].<span class=\"pl-en\">on</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>response<span class=\"pl-pds\">'</span></span>, (<span class=\"pl-smi\">err</span>, <span class=\"pl-smi\">details</span>) <span class=\"pl-k\">=&gt;</span> {\n\n    <span class=\"pl-k\">if</span> (err) {\n      <span class=\"pl-en\">console</span>.<span class=\"pl-c1\">error</span>(err);\n    }\n});</pre></div>\n","intro":"","example":"","usage":"","faq":"","license":"Commercial"},"slogan":"HTTP client utilities.","forks":96,"stars":367,"date":"2019-10-25T13:34:26Z","updated":"Fri Oct 25 2019","link":"https://github.com/hapijs/wreck"},"yar":{"name":"yar","versions":[{"name":"9.2.1","branch":"master","license":"BSD","node":" 12, 10, 8"}],"versionsArray":["9.2.1"],"9.2.1":{"menu":"  - [Differences from @hapi/cookie](#differences-from-hapicookie)\n- [Password considerations](#password-considerations)\n- [Cookie Options](#cookie-options)\n  - [isSecure](#issecure)\n  - [ignoreErrors](#ignoreerrors)\n  - [clearInvalid](#clearinvalid)\n- [Options](#options)\n  - [Route Options](#route-options)\n  - [Methods](#methods)","api":"<h3>\n<a id=\"differences-from-hapicookie\" class=\"anchor\" href=\"#differences-from-hapicookie\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Differences from @hapi/cookie</h3>\n<p>The <strong>@hapi/cookie</strong> plugin provides similar facilities to <strong>yar</strong>. The approach of the two projects does differ in some regards, though.</p>\n<ol>\n<li>\n<strong>yar</strong> is focused on session support, and does not require that a user be logged in to have a session. <strong>@hapi/cookie</strong> only provides session storage for logged in users.  If you need session handling for non-authenticated users, use <strong>yar</strong>.</li>\n<li>\n<strong>yar</strong> is capable of handling larger data sizes without any additional setup.  If your session data gets larger than cookies can handle <strong>yar</strong> will push the data out to the server cache for you.  By default this is memory storage, but can be any <a href=\"https://github.com/hapijs/catbox\">catbox</a> supported cache storage, including mongo, redis, local disk, and more.  <strong>@hapi/cookie</strong> can support larger session size as well, but requires you to handle connecting the cookie based session with your external data storage.</li>\n</ol>\n<h2>\n<a id=\"password-considerations\" class=\"anchor\" href=\"#password-considerations\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Password considerations</h2>\n<p>Keep in mind some things in regard to your password:</p>\n<ol>\n<li>It should never be committed to the repository or hard coded in your code.  Instead pass the password via environment variables or some other server configuration management option.</li>\n<li>In some situations it is possible that your password could be attacked remotely.  So choose a password that is randomly generated.  Use a random password generator to create something rather than creating your own.  Make sure it is long and includes special characters.</li>\n<li>Consider rotating your cookie session password on a regular basis.</li>\n</ol>\n<h2>\n<a id=\"cookie-options\" class=\"anchor\" href=\"#cookie-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Cookie Options</h2>\n<p>You can read about more cookie options in the <a href=\"API.md\">Api</a>.</p>\n<h3>\n<a id=\"issecure\" class=\"anchor\" href=\"#issecure\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>isSecure</h3>\n<p>Set <code>isSecure</code> (default <code>true</code>) to <code>false</code> if you are using standard http. Take care to do this in development mode only though. You don't want to use cookies sent over insecure channels for session management.  One way to take care of this is to use the <code>NODE_ENV</code> environment variable like this:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">let</span> options <span class=\"pl-k\">=</span> {\n    cookieOptions<span class=\"pl-k\">:</span> {\n        isSecure<span class=\"pl-k\">:</span> <span class=\"pl-c1\">process</span>.<span class=\"pl-smi\">env</span>.<span class=\"pl-c1\">NODE_ENV</span> <span class=\"pl-k\">!==</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>development<span class=\"pl-pds\">'</span></span>,\n        <span class=\"pl-k\">...</span>\n    }\n};</pre></div>\n<h3>\n<a id=\"ignoreerrors\" class=\"anchor\" href=\"#ignoreerrors\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>ignoreErrors</h3>\n<p><code>ignoreErrors</code> (default <code>true</code>) tells hapi that it should not respond with a HTTP 400 error if the session cookie cannot decrypt.  This could happen if the cookie is changed on the client, or more likely, if you change the cookie password in your settings.  If you want to make this condition send an error like it did in prior versions, change this to <code>false</code>, but be aware that if you change your cookie password you will cause 400 errors to be returned to end users.  In that case you should probably change this back to true for a short time to allow session cookies to get reset for the best user experience.</p>\n<p>You may turn this off, <code>false</code>, and try to use the hapi route state config option of <code>failAction</code> to instead get an event whenever a bad session cookie is encountered.  This can allow more sophisticated handling strategies or even allow for mitigation of brute force attacks on your cookie password.  See <a href=\"http://hapi.dev/api#serverstatename-options\" rel=\"nofollow\">server.state</a> documentation for more details.</p>\n<h3>\n<a id=\"clearinvalid\" class=\"anchor\" href=\"#clearinvalid\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>clearInvalid</h3>\n<p><code>clearInvalid</code> (default <code>true</code>) tells hapi that if a session cookie is invalid for any reason, to clear it from the browser.  This prevents hapi from having to reprocess the bad cookie on future requests.  In general you'll probably want this on, but if you'd prefer that session cookies be dealt with in some other way you may set this to <code>false</code>.</p>\n<h2>\n<a id=\"options\" class=\"anchor\" href=\"#options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Options</h2>\n<ul>\n<li>\n<code>name</code> - determines the name of the cookie used to store session information. Defaults to <em>session</em>.</li>\n<li>\n<code>maxCookieSize</code> - maximum cookie size before using server-side storage. Defaults to 1K. Set to zero to always use server-side storage.</li>\n<li>\n<code>storeBlank</code> - determines whether to store empty session before they've been modified. Defaults to <em>true</em>.</li>\n<li>\n<code>errorOnCacheNotReady</code> - will cause yar to throw an exception if trying to persist to cache when the cache is unavailable. Setting this to false will allow applications using yar to run uninterrupted if the cache is not ready (however sessions will not be saving). Defaults to <em>true</em>.</li>\n<li>\n<code>cache</code> - <strong>hapi</strong> <a href=\"https://hapi.dev/api#servercacheoptions\" rel=\"nofollow\">cache options</a> which includes\n(among other options):\n<ul>\n<li>\n<code>expiresIn</code> - server-side storage expiration (defaults to 1 day).</li>\n</ul>\n</li>\n<li>\n<code>cookieOptions</code> - the configuration for cookie-specific features:\n<ul>\n<li>\n<code>password</code> - (Required) used to encrypt and sign the cookie data.</li>\n<li>\n<code>path</code> - determines the cookie path. Defaults to <em>'/'</em>.</li>\n<li>\n<code>isSameSite</code> - enables the <code>same-site</code> cookie parameter.  Default to 'Lax'.  Can be <code>'Strict'|'Lax'|false</code>.</li>\n<li>\n<code>isSecure</code> - determines whether or not to transfer using TLS/SSL. Defaults to <em>true</em>.</li>\n<li>\n<code>isHttpOnly</code> - determines whether or not to set HttpOnly option in cookie. Defaults to <em>false</em>.</li>\n<li>\n<code>ttl</code> - sets the time for the cookie to live in the browser, in milliseconds.  Defaults to null (session time-life - cookies are deleted when the browser is closed).</li>\n</ul>\n</li>\n<li>\n<code>customSessionIDGenerator</code> - an optional function to create custom session IDs. Must retun a string and have the signature <code>function (request)</code> where:\n<ul>\n<li>\n<code>request</code> - (optional) is the original <strong>request</strong> received from the client.</li>\n</ul>\n</li>\n</ul>\n<h3>\n<a id=\"route-options\" class=\"anchor\" href=\"#route-options\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Route Options</h3>\n<p>You can also add these options on a route per route basis at <code>config.plugins.yar</code>:\n- <code>skip</code> - a boolean value which, if true, means no session with be attached to the request (defaults to false).</p>\n<h3>\n<a id=\"methods\" class=\"anchor\" href=\"#methods\" aria-hidden=\"true\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>Methods</h3>\n<p><strong>yar</strong> adds the <code>yar</code> property to every request object and initializes the <code>yar.id</code> on the first request from each browser. The <code>request.yar</code> interface provides the following methods:</p>\n<ul>\n<li>\n<code>reset()</code> - clears the session and assigns a new session id.</li>\n<li>\n<code>set(key, value)</code> - assigns a value (string, object, etc) to a given key which will persist across requests.  Returns the value.</li>\n<li>\n<code>set(keysObject)</code> - assigns values to multiple keys using each 'keysObject' top-level property. Returns the keysObject.</li>\n<li>\n<code>get(key, clear)</code> - retrieve value using a key. If 'clear' is 'true', key is cleared on return.</li>\n<li>\n<code>clear(key)</code> - clears key.</li>\n<li>\n<code>touch()</code> - Manually notify the session of changes (when using <code>get()</code> and changing the content of the returned reference directly without calling <code>set()</code>).</li>\n<li>\n<code>flash(type, message, isOverride)</code> - stores volatile data - data that should be deleted once read. When given no arguments, it will return all of the flash messages and delete the originals. When given only a type, it will return all of the flash messages of that type and delete the originals. When given a type and a message, it will set or append that message to the given type. 'isOverride' used to indicate that the message provided should replace any existing value instead of being appended to it (defaults to false).</li>\n<li>\n<code>lazy(enabled)</code> - if set to 'true', enables lazy mode. In lazy mode, <code>request.yar</code> can be modified directly (e.g. setting <code>request.yar.myKey</code> to an object value), and those keys will be stored and loaded back. Lazy mode isn't as fast as the normal get/set because it has to store the session state on every responses regardless of any changes being made.</li>\n</ul>\n<p><strong>yar</strong> adds the <code>yar</code> property to the server instance. The <code>server.yar</code> interface provides the following methods:</p>\n<ul>\n<li>\n<code>revoke(id)</code> - revokes the specified session.</li>\n</ul>\n","intro":"## Introduction\n\n**yar** add session support to hapi - a persistent state across multiple browser requests using an [iron](https://github.com/hapijs/iron) encrypted cookie and server-side storage. **yar** tries to fit session data into a session cookie based  on a configured maximum size. If the content is too big to fit, it uses server storage via the [hapi plugin cache](http://hapi.dev/api#servercacheoptions) interface.\n","example":"## Example\n\nFor example, the first handler sets a session key and the second gets it:\n```js\nlet handler1 = (request, reply) => {\n\n    request.yar.set('example', { key: 'value' });\n\n    return null;\n};\n\nlet handler2 = (request, reply) => {\n\n    const example = request.yar.get('example');\n    return example.key;     // Will send back 'value'\n};\n```\n\nThe plugin requires a password for encryption that must be at least 32 characters long:\n```js\nlet options = {\n    storeBlank: false,\n    cookieOptions: {\n        password: 'the-password-must-be-at-least-32-characters-long',\n        isSecure: true\n    }\n};\n/*\nPlease note that there are other default cookie options that can impact your security.\nPlease look at the description of the cookie options below to make sure this is doing\nwhat you expect.\n*/\n\nconst server = new Hapi.Server();\n\ntry {\n  await server.register({\n      plugin: require('@hapi/yar'),\n      options: options\n  });\n} catch(err) {\n    console.error(err);\n}\n\nawait server.start();\n```\n","usage":"","faq":"","license":"BSD"},"slogan":"A hapi session manager.","forks":51,"stars":133,"date":"2019-10-08T07:15:18Z","updated":"Tue Oct 08 2019","link":"https://github.com/hapijs/yar"}}